const n={};let N=!1;function R(){N=!0,chrome.runtime.onMessage.addListener((t,e,r)=>{if(t.isSendMessageToBackgroundMessage&&n[t.type]){const a=n[t.type].map(o=>o(...t.args)).pop();return a.then?(a.then(o=>{r(o)}),!0):r(a)}})}const s={};let M=!1;function d(){M=!0,chrome.runtime.onMessageExternal.addListener((t,e,r)=>{var a,o;if((a=e==null?void 0:e.url)!=null&&a.startsWith("https://esuit.dev")&&s[t.type]){const c=s[t.type].map(i=>i(t.args,e)).pop();if(t.callbackFnName&&(o=e.tab)!=null&&o.id){const i=e.tab.id;c&&c.then?c.then(p=>{chrome.scripting.executeScript({target:{tabId:i},world:"MAIN",args:[p??!1,t.callbackFnName],func:(T,u)=>{try{window[u](T)}catch(l){console.error(l)}}})}):chrome.scripting.executeScript({target:{tabId:i},world:"MAIN",args:[c??!1,t.callbackFnName],func:(p,T)=>{try{window[T](p)}catch(u){console.error(u)}}})}return!0}})}async function S(t,...e){if(m()){if(n[t])return n[t].map(r=>r(...e)).pop();throw new Error(`no handler for ${t}`)}return await chrome.runtime.sendMessage({isSendMessageToBackgroundMessage:!0,type:t,args:e})}function P(t,e){return!N&&R(),n[t]=n[t]||[],n[t].push(e),()=>{const r=n.indexOf(e);n.splice(r,1)}}function w(t,e){return!M&&d(),s[t]=s[t]||[],s[t].push(e),()=>{const r=s.indexOf(e);s.splice(r,1)}}function m(){return!!~location.pathname.indexOf("service-worker-loader.js")}var A=(t=>(t[t.FREE=0]="FREE",t[t.BASIC=1]="BASIC",t[t.PREMIUM=2]="PREMIUM",t))(A||{}),I=(t=>(t[t.SUBSCRIPTION=0]="SUBSCRIPTION",t[t.ONETIME_PAYMENT=1]="ONETIME_PAYMENT",t))(I||{}),h=(t=>(t[t.ONE_MONTH=1]="ONE_MONTH",t[t.THREE_MONTH=3]="THREE_MONTH",t[t.SIX_MONTH=6]="SIX_MONTH",t[t.A_YEAR=12]="A_YEAR",t))(h||{}),O=(t=>(t[t.STRIPE=0]="STRIPE",t[t.PAYPAL=1]="PAYPAL",t))(O||{}),g=(t=>(t[t.FACEBOOK=0]="FACEBOOK",t[t.INSTAGRAM=1]="INSTAGRAM",t))(g||{}),_=(t=>(t.SUBSCRIPTION="paypal_subscription",t.PAYMENT="paypal_payment",t))(_||{}),f=(t=>(t.RETURN_PAGE="RETURN_PAGE",t.RETURN_EXT="RETURN_EXT",t.RETURN_EXT_LOCAL="RETURN_EXT_LOCAL",t))(f||{});const U=["https://www.instagram.com/*","https://*.esuit.dev/*"],x="ESUIT | Comments Exporter for Instagramâ„¢",y="comments-exporter-for-instagram";export{f as M,A as T,x as e,U as h,S as k,P as m,y as p,w};
