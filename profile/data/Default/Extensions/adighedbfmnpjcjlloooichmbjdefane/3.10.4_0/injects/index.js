/** @license ESUIT
 * COPYRIGHT (C) 2023 ESUIT. ALL RIGHTS RESERVED.
 *
 * This code is the intellectual property of ESUIT and is protected by
 * copyright law. Any unauthorized use, copying or reproduction of this
 * code without the expressed written permission of ESUIT is strictly
 * prohibited.
 *
 * For more information, please visit https://esuit.dev/.
 */(function(){function Le(wt,Et){function De(){wt()?Et():requestAnimationFrame(De)}De()}Le(()=>!!window.requireLazy,()=>{Le(()=>!!window.download_albums_for_instagram_vendors&&!!window["download-albums-for-instagram"]&&!!window.download_albums_for_instagram,()=>{window.requireLazy(["react","__debug"],yn)})});function yn(){const wt=vn();if(wt){const Et=window.require("react"),De=window.require(wt),Dn=bn();(function(q,_,k,h,bt,yt){"use strict";const ne="ESUIT | Photos Downloader for Instagram™",Nt="download-albums-for-instagram",Cn="adighedbfmnpjcjlloooichmbjdefane",Tn="https://chromewebstore.google.com/detail/esuit-photos-downloader-f/adighedbfmnpjcjlloooichmbjdefane",ze="https://www.facebook.com/permalink.php?story_fbid=pfbid032nZAD3skamswK5oaPjK6XLjjuvqvJYtvutAGUHnPopLWatbudo572UBjKfpwNu2Tl&id=61563089216213",Ce=Nt+"-select-mode-change",Te=Nt+"-image-select-state-chagne";function zt(t,e){const n=function(I,j){return I(j)},r=function(I,j){return I(j)},i=function(I,j,H,x){return I(j,H,x)},s=function(I,j,H,x){return I(j,H,x)},u="clip.media.pk",a="clipFragmentKey.media.id",o="queryReference.pk",c=function(I,j,H,x){return I(j,H,x)},l="mediaFragmentKey.pk",m="PolarisPost.react",w="PolarisMedia.next.react",d=function(I,j){return I!==j},f="feed",g=function(I,j,H,x){return I(j,H,x)},p="analyticsContext",y=function(I,j){return I(j)},D=function(I,j){return I(j)},b=function(I,j,H){return I(j,H)},v="udbfs/fnfiUHJtjsbmpQ",C="div",F="relative",O="100%",P=function(I,j,H){return I(j,H)},A="absolute",M=function(I,j,H){return I(j,H)},S="scale(1.5)",L=function(I,j){return I||j}(e,{checkboxOffsetTop:0});let K=i(q.get,t.payload,"id","");if(K=K||s(q.get,t.payload,u,""),K=K||s(q.get,t.payload,a,""),K=K||i(q.get,t.payload,o,""),K=K||c(q.get,t.payload,l,""),!K||t.lastCmp.displayName&&(~t.lastCmp.displayName.indexOf(m)||~t.lastCmp.displayName.indexOf(w))&&d(f,g(q.get,t.payload,p,"")))return t.lastCmp;const[Y,z]=y(_.useState,!1),[T,B]=D(_.useState,window.__selectedIds.includes(K));function G(I){n(B,!1),n(z,I.detail.isSelectMode)}b(_.useEffect,()=>(window.addEventListener(Ce,G),z(!!window.__isInSelectMode),()=>{window.removeEventListener(Ce,G)}),[]);const E=window.zKjQYvgSmF(v).isDarkMode();return b(h.jsx,k.ConfigProvider,{theme:{algorithm:E?k.theme.darkAlgorithm:k.theme.defaultAlgorithm,token:{motion:!1}},children:b(h.jsxs,C,{style:{position:F,width:O},children:[Y&&P(h.jsx,C,{style:{position:A,left:0,top:L.checkboxOffsetTop,zIndex:2},children:M(h.jsx,k.Checkbox,{style:{padding:8,transform:S},checked:T,onChange:function(I){r(B,I.target.checked),I.target.checked?window.__selectedIds.includes(K)||window.__selectedIds.push(K):~window.__selectedIds.indexOf(K)&&window.__selectedIds.splice(0,1),window.dispatchEvent(new CustomEvent(Te))}})}),P(h.jsx,h.Fragment,{children:t.lastCmp})]})})}var dt=(t=>(t[t.OPTIONS=0]="OPTIONS",t[t.SELECT_TO_DOWNLOAD=1]="SELECT_TO_DOWNLOAD",t[t.DOWNLOAD_ALBUM=2]="DOWNLOAD_ALBUM",t))(dt||{}),Ft=(t=>(t[t.OPTIONS=0]="OPTIONS",t[t.SELECTING=1]="SELECTING",t[t.DOWNLOADING=2]="DOWNLOADING",t[t.DONE=3]="DONE",t))(Ft||{}),Bt=(t=>(t.BOTH="both",t.VIDEOS_ONLY="VideosOnly",t.IMAGES_ONLY="ImagesOnly",t))(Bt||{}),St=(t=>(t.ORIGINAL="none",t.PNG="image/png",t.JPG="image/jpeg",t.WEBP="image/webp",t))(St||{});function Fe(t){const e=new URL(t).pathname.split(".");return e[n=e.length,r=1,n-r];var n,r}function Fn(){return!!~window.location.search.indexOf("debug")||!window[Nt]||!window[Nt].isProdMode}function xn(t){const e="png",n="jpg",r="webp";return{[St.PNG]:e,[St.JPG]:n,[St.WEBP]:r}[t]}async function An(t){const e={mIxoT:"Content-Type",ZxJgO:function(n,r){return n(r)},cgOCa:function(n,r){return n||r},SYMUJ:function(n,r,i){return n(r,i)},QTJNS:"HEAD"};return new Promise(n=>{const r={dzRXC:e.mIxoT,babAO:function(i,s){return e.ZxJgO(i,s)},JvSno:function(i,s){return e.cgOCa(i,s)}};e.SYMUJ(fetch,t,{method:e.QTJNS}).then(i=>{const s=i.headers.get(r.dzRXC);r.babAO(n,r.JvSno(s,""))}).catch(i=>{r.babAO(n,"")})})}function re(){const t="hjgopDtjsbmpQ";try{return!!window.zKjQYvgSmF(t).getViewerId()}catch{return!0}}function He(){var t={AEyzM:function(e,n,r){return e(n,r)},isCmr:"Have issues or 🐛Bug during Download?",DkDgG:"https://esuit.dev/RedirectingToFBPage.html",HiHSY:"_blank",OWjjU:"Give us feedback on Facebook",yanua:"and we'll help you fix it!"};return t.AEyzM(h.jsxs,"p",{style:{opacity:.6},children:[t.isCmr," ",t.AEyzM(h.jsx,"a",{href:t.DkDgG,target:t.HiHSY,style:{paddingRight:8},children:t.OWjjU}),t.yanua]})}function Zt(){var t={RXnsG:function(e){return e()},tbJOF:function(e,n,r){return e(n,r)},klRrO:"flex",lhnqz:"row",KIGRB:"wrap",mjift:"flex-start",kTNtI:"center",EmBMf:"It Seems",kAold:function(e,n,r){return e(n,r)},lVjSj:"img",iuXRp:"block",zCPmz:"0 8px",gqdIf:"#0a7cff",WChHG:" not working right now.",iMEBJ:function(e,n,r){return e(n,r)},DZhHX:"https://esuit.dev/RedirectingToFBPage.html",hyHSp:"_blank",liKwh:"Give us feedback on Facebook",WYbXS:"and we'll help you fix it!",AdDBr:function(e,n,r){return e(n,r)},JBzJZ:" You have to logged in!"};return t.RXnsG(re)?t.tbJOF(h.jsxs,"p",{style:{display:t.klRrO,flexDirection:t.lhnqz,flexWrap:t.KIGRB,justifyContent:t.mjift,alignItems:t.kTNtI},children:[t.EmBMf," ",t.kAold(h.jsx,t.lVjSj,{src:window.__DownloadAlbumsForInstagramIcon,style:{width:24,height:24,display:t.iuXRp,margin:t.zCPmz,color:t.gqdIf}}),ne,t.WChHG,t.iMEBJ(h.jsx,"a",{href:t.DZhHX,target:t.hyHSp,style:{paddingRight:8},children:t.liKwh}),t.WYbXS]}):t.iMEBJ(h.jsxs,"p",{style:{display:t.klRrO,flexDirection:t.lhnqz,flexWrap:t.KIGRB,justifyContent:t.mjift,alignItems:t.kTNtI},children:[t.AdDBr(h.jsx,t.lVjSj,{src:window.__DownloadAlbumsForInstagramIcon,style:{width:24,height:24,display:t.iuXRp,margin:t.zCPmz}}),ne,t.JBzJZ]})}const It=_.createContext(null);function Sn(t){const e=new URL(t).pathname,n=e.lastIndexOf("/");return e.substring(n+1)}function xe(t,e){const n=function(o,c){return o>=c},r=function(o,c){return o-c},i=function(o,c){return o<c},s=function(o,c){return o+c};let u=function(o,c){return o(c)}(String,e);if(n(u.length,t))return u;let a=r(t,u.length);for(let o=0;i(o,a);o++)u=s("0",u);return u}function ie(t){const e=function(i){return i()},n=function(i,s,u){return i(s,u)},r=function(i,s){return i*s};return new Promise(i=>{n(setTimeout,()=>{e(i)},r(1e3,t))})}function oe(t){let e=t.lastIndexOf(".");return e!==-1?t.slice(0,e):t}function Yt(){window.downloadedFilenameCountMap={}}const Dt=_.createContext(null);function In(t){const e=function(T){return T()},n=function(T,B){return T(B)},r=function(T){return T()},i=function(T){return T()},s=function(T,B){return T(B)},u=function(T){return T()},a=function(T){return T()},o=function(T){return T()},c=function(T){return T()},l=function(T,B){return T(B)},m=function(T,B){return T(B)},w=function(T,B){return T(B)},d=function(T,B){return T(B)},f=function(T,B){return T(B)},g=function(T,B,G){return T(B,G)},p=function(T,B,G){return T(B,G)},{open:y}=m(_.useContext,It),D=w(_.useRef,!0),b=l(_.useRef,[]),v=s(_.useRef,0),C=d(_.useRef,0),F=f(_.useRef,0),O=m(_.useRef,!1),P=w(_.useRef,null),[A,M]=l(_.useState,0),[S,L]=d(_.useState,Ft.OPTIONS);function K(){D.current=!0,C.current=0,F.current=0,O.current=!1,v.current=0,P.current=null,b.current=[],e(Yt),n(L,Ft.OPTIONS),r(Y)}g(_.useEffect,()=>{!y&&i(K)},[y]);const Y=()=>{s(M,Math.random)},z=T=>{b.current=T,u(Y)};return p(h.jsx,Dt.Provider,{value:{isStopManually:D,photosArrRef:b,downloadCountRef:v,avoidAccountRestrictMSRef:C,setAvoidAccountRestrictMSRef:function(T){C.current=T,a(Y)},requestDelayMsRef:F,setRequestDelayMsRef:function(T){F.current=T,a(Y)},increaseDownloadCount:function(){v.current+=1,i(Y)},isFetchingNextPageRef:O,setIsFetchingNextPageRef:function(T){O.current=T,o(Y)},resumeDownloadPayload:P,setPhotos:z,appendPhotos:T=>{b.current=b.current.concat(T),o(Y)},setPhotoStatus:(T,B)=>{const G=b.current.find(E=>E.id===T);G&&(G.status=B,c(Y))},clearPhotos:()=>{l(z,[])},setStep:L,step:S,resetStatus:K,updateUI:Y},children:t.children})}var _n=Object.defineProperty,Mn=(t,e,n)=>e in t?_n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ae=(t,e,n)=>(Mn(t,typeof e!="symbol"?e+"":e,n),n);class kn{constructor(e,n){const r=function(c,l,m){return c(l,m)},i=function(c,l,m,w){return c(l,m,w)},s="listeners",u="slug",a=function(c,l,m){return c(l,m)};r(ae,this,"id"),i(ae,this,s,{}),r(ae,this,u),a(ae,this,"isDebugger"),this.slug=e,this.isDebugger=!!n,this.id=window[e].id,this.bindEvent()}on(e,n){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(n),()=>{if(this.listeners[e].includes(n)){const r=this.listeners[e].indexOf(n);this.listeners[e].splice(r,1)}}}send(e,...n){const r={EmPsY:"received message from page send callback",PuCeg:function(i,s){return i(s)},OffTP:"send message from page"};return new Promise(async i=>{const s={LUBcu:r.EmPsY,MsUUO:function(a,o){return r.PuCeg(a,o)}};let u={action:e,payload:n};this.isDebugger&&console.log(r.OffTP,u),chrome.runtime.sendMessage(this.id,u,{},a=>{this.isDebugger&&console.log(s.LUBcu,a),s.MsUUO(i,a)})})}connect(){chrome.runtime.sendMessage(this.id,{action:"__connect"})}disconnect(){chrome.runtime.sendMessage(this.id,{action:"__disconnect"})}bindEvent(){window.addEventListener("message",this._handleReceivingMessage.bind(this))}destroy(){this.disconnect(),this.listeners={},window.removeEventListener("message",this._handleReceivingMessage.bind(this))}_handleReceivingMessage(e){const n=function(s,u){return s===u},r="received message from background",i=function(s,...u){return s(...u)};if(e.data&&n(e.data.from,this.slug)&&e.data.payload){const{action:s,payload:u}=e.data.payload;if(this.isDebugger&&console.log(r,e.data),this.listeners[s])for(let a of this.listeners[s])i(a,...u)}}}let On=new kn(Nt,Fn());function vt(){return On}let se=[];function En(){const t=function(c){return c()},e="appendDownloadedFilesId",n=function(c){return c()},r="getDownloadedFilesId",i=function(c,l,m){return c(l,m)},s=function(c,l,m){return c(l,m)},u=function(c,l){return c(l)}(_.useRef,[]),a=i(_.useMemo,()=>q.throttle(o,5e3),[]);function o(){t(vt).send(e,se),se=[]}return s(_.useEffect,()=>{n(vt).send(r).then(c=>{u.current=c})},[]),{isFileIdDownloaded:function(c){return u.current.includes(c)},appendDownloadedFile:function(c){u.current.includes(c)||se.includes(c)||(u.current.push(c),se.push(c),t(a))},downloadedFilesId:u}}const ue=_.createContext(null);function Nn(t){const e=function(m){return m()},n="clearDownloadedFilesId",r=function(m){return m()},i=function(m,w){return m(w)},s=function(m){return m()},u=function(m,w,d){return m(w,d)},{updateUI:a}=i(_.useContext,Dt),{isFileIdDownloaded:o,appendDownloadedFile:c,downloadedFilesId:l}=s(En);return u(h.jsx,ue.Provider,{value:{downloadedFilesId:l,isFileIdDownloaded:o,appendDownloadedFile:c,clearDownloadedFilesIdCache:function(){l.current=[],e(vt).send(n),r(a)}},children:t.children})}function Ve(t){const e={HelXP:function(r,i,s){return r(i,s)},MXFYu:"span",sYEKr:"#999",ehaCN:"3.10.4",lMpJA:function(r,i){return r>i},BCIjt:"_blank",xoTul:"#559bff",PJihf:"what's new?"},{isShowName:n=!0}=t;return e.HelXP(h.jsxs,e.MXFYu,{children:[n?ne:""," ",e.HelXP(h.jsxs,e.MXFYu,{style:{color:e.sYEKr,fontSize:12},children:["v",e.ehaCN]})," ",e.lMpJA(ze.length,0)?e.HelXP(h.jsx,"a",{href:ze,target:e.BCIjt,style:{fontSize:12,opacity:.8,color:e.xoTul},children:e.PJihf}):null]})}function Bn(){var t={XcaTj:function(e,n,r){return e(n,r)},JcRNR:"square",cwMnY:function(e,n,r){return e(n,r)},OHYGQ:function(e,n,r){return e(n,r)},wymFS:"div",IlKff:function(e,n,r){return e(n,r)},aMUgY:"javascript:;",WLHxr:"rgb(47, 129, 247)",RuUzs:"pricing",feyKT:function(e,n,r){return e(n,r)},kjVjz:"https://esuit.dev/faq",WYLOM:"_blank",JEXkx:"❓FAQ"};return t.XcaTj(h.jsxs,k.Space,{size:8,children:[t.XcaTj(h.jsx,k.Avatar,{style:{marginRight:8},src:window.__DownloadAlbumsForInstagramIcon,shape:t.JcRNR}),t.cwMnY(h.jsx,Ve,{}),t.OHYGQ(h.jsx,t.wymFS,{style:{marginLeft:24},children:t.IlKff(h.jsx,"a",{href:t.aMUgY,style:{fontSize:12,color:t.WLHxr},onClick:()=>vt().send("visitPricing"),children:t.RuUzs})}),t.OHYGQ(h.jsx,t.wymFS,{style:{marginLeft:24},children:t.feyKT(h.jsx,"a",{href:t.kjVjz,target:t.WYLOM,style:{fontSize:12,color:t.WLHxr},children:t.JEXkx})})]})}function Pn(t){return!!(t.toString().includes("1348007")||t.toString().includes("3252001")||t.toString().includes("1404006")||t.toString().includes("1404078")||t.toString().includes("Request is too frequent")||t.toString().includes("Rate limit")||t.toString().includes("Temporarily")||t.toString().includes("rate_limit_exceeded"))}function jn(t,e){const n=function(x){return x()},r=function(x,N,V){return x(N,V)},i=function(x,N){return x*N},s=function(x,N,V){return x(N,V)},u=function(x,N){return x(N)},a=function(x,N,V){return x(N,V)},o=function(x,N,V){return x(N,V)},c=function(x,N){return x==N},l=function(x,N){return x==N},m=function(x,N){return x(N)},w=function(x,N,V,W){return x(N,V,W)},d=function(x,N){return x+N},f=function(x,N){return x+N},g=function(x,N,V){return x(N,V)},p=function(x,N,V,W){return x(N,V,W)},y=function(x,N,V){return x(N,V)},D=function(x,N,V,W){return x(N,V,W)},b=function(x){return n(x)},v=function(x,N,V){return r(x,N,V)},C="application/json;charset=utf-8",F="ESUIT error message please send it to the developer.json",O="Downloaded",P="Api Request Error",A="div",M="code",S="flex",L="row",K="space-between",Y="small",z="text",T="Download errors message",B="primary",G="Concat ESUIT devloper",E="Close",I="default",j=function(x,N){return x(N)}(Hn,e),H=f("id",Math.ceil(g(function(x,N){return i(x,N)},9999,Math.random())));t.error({title:P,width:530,content:w(v,h.jsxs,A,{children:[p(function(x,N,V){return s(x,N,V)},h.jsx,M,{style:{fontSize:10},children:y(function(x,N){return u(x,N)},zn,j)}),D(function(x,N,V){return a(x,N,V)},h.jsxs,A,{style:{marginTop:24,display:S,flexDirection:L,justifyContent:K},children:[p(function(x,N,V){return o(x,N,V)},h.jsx,k.Button,{style:{marginBottom:8},size:Y,type:z,id:H,onClick:()=>{const x={message:{errorMsg:j,stack:(c(null,e)?void 0:e.stack)??"",description:l(null,e)?void 0:e.description},href:window.location.href,stacks:m(b,Ln)},N=new TextEncoder().encode(JSON.stringify(x));w(v,Vn,new Blob([N],{type:C}),F);const V=document.querySelector(d("#",H));V&&(V.innerHTML=O)},children:T}),w(function(x,N,V){return a(x,N,V)},h.jsx,k.Button,{size:Y,type:B,onClick:()=>window.open("https://www.facebook.com/esuitdev","_blank"),children:G})]})]}),okText:E,okButtonProps:{type:I}})}function Ln(){const t="ErrorPubSub";try{return window.require(t).history.slice(0,1).map(e=>{try{delete e.stackFrames,delete e.xFBDebug}catch{}return{message:e.message,messageFormat:e.messageFormat,messageParams:e.messageParams,name:e.name,project:e.project,script:e.script,stack:e,type:e.type,windowLocationURL:e.windowLocationURL,clientTime:e.clientTime,line:e.line,loggingSource:e.loggingSource}})}catch{return{}}}function zn(t){const e=function(o,c){return o(c)},n=function(o,c,l){return o(c,l)};return t.includes("it was read from disk")?"The disk where the folder for storing images is located is either full or disconnected. Please check your disk.":n(function(o,c){return e(o,c)},Pn,t)?"Due to excessive API requests, you have been temporarily restricted from using this feature. The restriction is typically lifted automatically within 4-8 hours. Please try again later.":t.includes("HTTP 500 HTTP_SERVER_ERROR")?"It seems the requested resource is missing, which typically occurs when trying to download data from a few years ago. This is a Facebook error, not an error of this extension. If you firmly believe this is an error with the extension, please contact us.":t}function Hn(t){const e=function(o,c){return o==c},n=function(o,c){return o!=c},r=function(o,c){return o!=c};var i,s,u;if(!t)return"unknown errors";if(function(o,c){return o!=c}(null,s=function(o,c){return o==c}(null,i=e(null,t)?void 0:t.errors)?void 0:i[0])&&s.message)return t.errors[0].message;if(n(null,u=e(null,t)?void 0:t[0])&&u.message)return t[0].message;if(r(null,t)&&t.message)return t.message;let a="";try{a=JSON.stringify(t)}catch{}return a.toString()}function Vn(t,e){const n=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=n,r.download=e,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n)}function ce(){const t=function(x,N){return x(N)},e=function(x,N){return x==N},n=function(x,N,V,W){return x(N,V,W)},r=function(x,N){return x===N},i=function(x,N){return x!==N},s=function(x,N){return x(N)},u=function(x,N,V){return x(N,V)},a=function(x,N){return x!==N},o=function(x,N,V){return x(N,V)},c=function(x,N,V){return x(N,V)},l=function(x,N,V){return x(N,V)},m=function(x,N,V,W,et){return x(N,V,W,et)},w=function(x,N){return x+N},d=".graphql",f=function(x,N){return x==N},g=function(x,N,V,W,et){return x(N,V,W,et)},p=function(x,N,V,W){return x(N,V,W)},y="complete/next stuck",D=function(x,N){return t(x,N)},b="LoadQuery Error:",v=function(x,N){return e(x,N)},C="string",F="LocalArgument",O="__relay_internal__pv__CometUFIReactionEnableShortNamerelayprovider",P="network-only",A=function(x,N){return e(x,N)},M=function(x,N,V,W){return n(x,N,V,W)},S="[0].errors.[0].message",L="[0].errors.[0].severity",K="field_exception",Y=function(x,N){return r(x,N)},z=function(x,N){return i(x,N)},T="WARNING",B=function(x,N){return s(x,N)},G=function(x,N,V){return u(x,N,V)},E=function(x,N,V,W){return n(x,N,V,W)},I=function(x,N){return a(x,N)},j=c(_.useMemo,()=>window.require("CometRelay").useRelayEnvironment(),[]),H=p(function(x,N,V){return o(x,N,V)},_.useMemo,()=>window.require("CometRelay"),[]);return{loadQuery:function(x,N,V){const W={DIoMc:function(R,$,pt){return c(R,$,pt)},KNmTU:function(R,$,pt,Mt,at){return m(R,$,pt,Mt,at)},OQNAR:function(R,$,pt,Mt){return n(R,$,pt,Mt)},kvESb:function(R,$){return w(R,$)},MCrWW:d,vGBUx:function(R,$){return e(R,$)},MEmwW:function(R,$){return f(R,$)},hvfLy:function(R,$){return e(R,$)}},et={YnOTM:function(R,$){return W.DIoMc(A,R,$)},fUOHr:C,gQPMl:function(R,$,pt,Mt){return W.KNmTU(M,R,$,pt,Mt)},EsmFN:S,ytANR:L,AeASE:K,RnIOj:function(R,$){return o(Y,R,$)},wJPqO:function(R,$){return W.DIoMc(z,R,$)},PwWgC:T,cRNMK:function(R,$){return l(B,R,$)},ywnJb:function(R,$){return o(B,R,$)},koazB:function(R,$,pt){return W.OQNAR(G,R,$,pt)},oOqRH:function(R,$){return c(D,R,$)}};let J=[],X=-1,ht=0,jt=!1;return new Promise((R,$)=>{const pt=function(rt,ot,At){return W.DIoMc(rt,ot,At)},Mt=function(rt,ot,At){return W.DIoMc(rt,ot,At)};var at,Lt,tt;const xt={yOhUg:y,rBsyk:function(rt,ot){return pt(D,rt,ot)},EkHxw:b,Uqesa:function(rt,ot){return Mt(D,rt,ot)}},Vt=W.DIoMc(v,C,typeof x)?window.require(W.kvESb(x,W.MCrWW)):x;W.vGBUx(null,tt=W.MEmwW(null,Lt=W.hvfLy(null,at=W.hvfLy(null,Vt)?void 0:Vt.operation)?void 0:at.argumentDefinitions)?void 0:Lt.push)||tt.call(Lt,{defaultValue:!1,kind:F,name:O});let ct=H.loadQuery(j,Vt,{...N,__relay_internal__pv__CometUFIReactionEnableShortNamerelayprovider:!0},{fetchPolicy:P});ct.source.subscribe({next(rt){Array.isArray(rt)?J.push(...rt):J.push(et.YnOTM(et.fUOHr,typeof rt)?JSON.parse(rt):rt),++X;const ot=et.gQPMl(q.get,rt,et.EsmFN,""),At=et.gQPMl(q.get,rt,et.ytANR,""),Ut=!!~ot.indexOf(et.AeASE);if(ot&&et.RnIOj(0,X)&&!Ut&&et.wJPqO(et.PwWgC,At))return console.error({vars:N,groupQLName:x}),void et.cRNMK($,ot);if(V){jt=!0;try{ct.dispose(),ct=null}catch{}et.ywnJb(R,J)}else window.clearTimeout(ht),ht=et.koazB(setTimeout,()=>{if(!jt){console.log(xt.yOhUg),jt=!0;try{ct.dispose(),ct=null}catch{}xt.rBsyk(R,J)}},15e3)},complete(){et.oOqRH(clearTimeout,ht),jt||(jt=!0,ct.dispose(),ct=null,et.cRNMK(R,J))},error(rt){console.error(xt.EkHxw,rt),xt.Uqesa($,rt)}})})},findValueFromLoadQueryData:function(x,N,V=!1){const W=V?[...x].reverse():[...x];for(let et of W){const J=g(E,q.get,et,N,void 0);if(l(I,void 0,J))return J}}}}let Un=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g,Yn=/[\?<>\\:\*\|":]/g,Kn=/[\x00-\x1f\x80-\x9f]/g,Gn=/^\.+$/,Qn=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,qn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function le(t){return t.trim().replace(qn,"").replace(Yn,"").replace(Un,"").replace(/[\\/]/g,"").replace(Kn,"").replace(Gn,"").replace(Qn,"").replaceAll(". ᴥ","").replace(/\s+/g," ").trim().split("").splice(0,255).join("").replaceAll("~","").replaceAll("  "," ").replaceAll("..","").trim()}function Ht(t){var e,n,r,i;return(r=le,i=t,e=r,n=i,e(n)).replaceAll(".","")}(function(){var t=function(s,u){return s<u},e="style",n='@charset "UTF-8";:root{--tagify-dd-color-primary: rgb(53,149,246);--tagify-dd-bg-color: white;--tagify-dd-item-pad: .3em .5em}.tagify{--tags-disabled-bg: #F1F1F1;--tags-border-color: #DDD;--tags-hover-border-color: #CCC;--tags-focus-border-color: #3595f6;--tag-border-radius: 3px;--tag-bg: #E5E5E5;--tag-hover: #D3E2E2;--tag-text-color: black;--tag-text-color--edit: black;--tag-pad: .3em .5em;--tag-inset-shadow-size: 1.1em;--tag-invalid-color: #D39494;--tag-invalid-bg: rgba(211, 148, 148, .5);--tag-remove-bg: rgba(211, 148, 148, .3);--tag-remove-btn-color: black;--tag-remove-btn-bg: none;--tag-remove-btn-bg--hover: #c77777;--input-color: inherit;--tag--min-width: 1ch;--tag--max-width: auto;--tag-hide-transition: .3s;--placeholder-color: rgba(0, 0, 0, .4);--placeholder-color-focus: rgba(0, 0, 0, .25);--loader-size: .8em;--readonly-striped: 1;display:inline-flex;align-items:flex-start;flex-wrap:wrap;border:1px solid var(--tags-border-color);padding:0;line-height:0;cursor:text;outline:none;position:relative;box-sizing:border-box;transition:.1s}@keyframes tags--bump{30%{transform:scale(1.2)}}@keyframes rotateLoader{to{transform:rotate(1turn)}}.tagify:hover:not(.tagify--focus):not(.tagify--invalid){--tags-border-color: var(--tags-hover-border-color)}.tagify[disabled]{background:var(--tags-disabled-bg);filter:saturate(0);opacity:.5;pointer-events:none}.tagify[readonly].tagify--select,.tagify[disabled].tagify--select{pointer-events:none}.tagify[readonly]:not(.tagify--mix):not(.tagify--select),.tagify[disabled]:not(.tagify--mix):not(.tagify--select){cursor:default}.tagify[readonly]:not(.tagify--mix):not(.tagify--select)>.tagify__input,.tagify[disabled]:not(.tagify--mix):not(.tagify--select)>.tagify__input{visibility:hidden;width:0;margin:5px 0}.tagify[readonly]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div,.tagify[disabled]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div{padding:var(--tag-pad)}.tagify[readonly]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div:before,.tagify[disabled]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div:before{animation:readonlyStyles 1s calc(-1s * (var(--readonly-striped) - 1)) paused}.tagify[readonly] .tagify__tag__removeBtn,.tagify[disabled] .tagify__tag__removeBtn{display:none}.tagify--loading .tagify__input>br:last-child{display:none}.tagify--loading .tagify__input:before{content:none}.tagify--loading .tagify__input:after{content:"";vertical-align:middle;opacity:1;width:.7em;height:.7em;width:var(--loader-size);height:var(--loader-size);min-width:0;border:3px solid;border-color:#EEE #BBB #888 transparent;border-radius:50%;animation:rotateLoader .4s infinite linear;content:""!important;margin:-2px 0 -2px .5em}.tagify--loading .tagify__input:empty:after{margin-left:0}.tagify+input,.tagify+textarea{position:absolute!important;left:-9999em!important;transform:scale(0)!important}.tagify__tag{display:inline-flex;align-items:center;margin:5px 0 5px 5px;position:relative;z-index:1;outline:none;line-height:normal;cursor:default;transition:.13s ease-out}.tagify__tag>div{vertical-align:top;box-sizing:border-box;max-width:100%;padding:var(--tag-pad);color:var(--tag-text-color);line-height:inherit;border-radius:var(--tag-border-radius);white-space:nowrap;transition:.13s ease-out}.tagify__tag>div>*{white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;vertical-align:top;min-width:var(--tag--min-width);max-width:var(--tag--max-width);transition:.8s ease,.1s color}.tagify__tag>div>*[contenteditable]{outline:none;user-select:text;cursor:text;margin:-2px;padding:2px;max-width:350px}.tagify__tag>div:before{content:"";position:absolute;border-radius:inherit;inset:var(--tag-bg-inset, 0);z-index:-1;pointer-events:none;transition:.12s ease;animation:tags--bump .3s ease-out 1;box-shadow:0 0 0 var(--tag-inset-shadow-size) var(--tag-bg) inset}.tagify__tag:hover:not([readonly]) div:before,.tagify__tag:focus div:before{--tag-bg-inset: -2.5px;--tag-bg: var(--tag-hover)}.tagify__tag--loading{pointer-events:none}.tagify__tag--loading .tagify__tag__removeBtn{display:none}.tagify__tag--loading:after{--loader-size: .4em;content:"";vertical-align:middle;opacity:1;width:.7em;height:.7em;width:var(--loader-size);height:var(--loader-size);min-width:0;border:3px solid;border-color:#EEE #BBB #888 transparent;border-radius:50%;animation:rotateLoader .4s infinite linear;margin:0 .5em 0 -.1em}.tagify__tag--flash div:before{animation:none}.tagify__tag--hide{width:0!important;padding-left:0;padding-right:0;margin-left:0;margin-right:0;opacity:0;transform:scale(0);transition:var(--tag-hide-transition);pointer-events:none}.tagify__tag--hide>div>*{white-space:nowrap}.tagify__tag.tagify--noAnim>div:before{animation:none}.tagify__tag.tagify--notAllowed:not(.tagify__tag--editable) div>span{opacity:.5}.tagify__tag.tagify--notAllowed:not(.tagify__tag--editable) div:before{--tag-bg: var(--tag-invalid-bg);transition:.2s}.tagify__tag[readonly] .tagify__tag__removeBtn{display:none}.tagify__tag[readonly]>div:before{animation:readonlyStyles 1s calc(-1s * (var(--readonly-striped) - 1)) paused}@keyframes readonlyStyles{0%{background:linear-gradient(45deg,var(--tag-bg) 25%,transparent 25%,transparent 50%,var(--tag-bg) 50%,var(--tag-bg) 75%,transparent 75%,transparent) 0/5px 5px;box-shadow:none;filter:brightness(.95)}}.tagify__tag--editable>div{color:var(--tag-text-color--edit)}.tagify__tag--editable>div:before{box-shadow:0 0 0 2px var(--tag-hover) inset!important}.tagify__tag--editable>.tagify__tag__removeBtn{pointer-events:none}.tagify__tag--editable>.tagify__tag__removeBtn:after{opacity:0;transform:translate(100%) translate(5px)}.tagify__tag--editable.tagify--invalid>div:before{box-shadow:0 0 0 2px var(--tag-invalid-color) inset!important}.tagify__tag__removeBtn{order:5;display:inline-flex;align-items:center;justify-content:center;border-radius:50px;cursor:pointer;font:14px/1 Arial;background:var(--tag-remove-btn-bg);color:var(--tag-remove-btn-color);width:14px;height:14px;margin-right:4.6666666667px;margin-left:auto;overflow:hidden;transition:.2s ease-out}.tagify__tag__removeBtn:after{content:"\\d7";transition:.3s,color 0s}.tagify__tag__removeBtn:hover{color:#fff;background:var(--tag-remove-btn-bg--hover)}.tagify__tag__removeBtn:hover+div>span{opacity:.5}.tagify__tag__removeBtn:hover+div:before{box-shadow:0 0 0 var(--tag-inset-shadow-size) var(--tag-remove-bg, rgba(211, 148, 148, .3)) inset!important;transition:box-shadow .2s}.tagify:not(.tagify--mix) .tagify__input br{display:none}.tagify:not(.tagify--mix) .tagify__input *{display:inline;white-space:nowrap}.tagify__input{flex-grow:1;display:inline-block;min-width:110px;margin:5px;padding:var(--tag-pad);line-height:normal;position:relative;white-space:pre-wrap;color:var(--input-color);box-sizing:inherit}.tagify__input:empty:before{position:static}.tagify__input:focus{outline:none}.tagify__input:focus:before{transition:.2s ease-out;opacity:0;transform:translate(6px)}@supports (-ms-ime-align: auto){.tagify__input:focus:before{display:none}}.tagify__input:focus:empty:before{transition:.2s ease-out;opacity:1;transform:none;color:#00000040;color:var(--placeholder-color-focus)}@-moz-document url-prefix(){.tagify__input:focus:empty:after{display:none}}.tagify__input:before{content:attr(data-placeholder);height:1em;line-height:1em;margin:auto 0;z-index:1;color:var(--placeholder-color);white-space:nowrap;pointer-events:none;opacity:0;position:absolute}.tagify__input:after{content:attr(data-suggest);display:inline-block;vertical-align:middle;position:absolute;min-width:calc(100% - 1.5em);text-overflow:ellipsis;overflow:hidden;white-space:pre;color:var(--tag-text-color);opacity:.3;pointer-events:none;max-width:100px}.tagify__input .tagify__tag{margin:0 1px}.tagify--mix{display:block}.tagify--mix .tagify__input{padding:5px;margin:0;width:100%;height:100%;line-height:1.5;display:block}.tagify--mix .tagify__input:before{height:auto;display:none;line-height:inherit}.tagify--mix .tagify__input:after{content:none}.tagify--select:after{content:">";opacity:.5;position:absolute;top:50%;right:0;bottom:0;font:16px monospace;line-height:8px;height:8px;pointer-events:none;transform:translate(-150%,-50%) scaleX(1.2) rotate(90deg);transition:.2s ease-in-out}.tagify--select[aria-expanded=true]:after{transform:translate(-150%,-50%) rotate(270deg) scaleY(1.2)}.tagify--select .tagify__tag{position:absolute;top:0;right:1.8em;bottom:0}.tagify--select .tagify__tag div{display:none}.tagify--select .tagify__input{width:100%}.tagify--empty .tagify__input:before{transition:.2s ease-out;opacity:1;transform:none;display:inline-block;width:auto}.tagify--mix .tagify--empty .tagify__input:before{display:inline-block}.tagify--focus{--tags-border-color: var(--tags-focus-border-color);transition:0s}.tagify--invalid{--tags-border-color: #D39494}.tagify__dropdown{position:absolute;z-index:9999;transform:translateY(1px);overflow:hidden}.tagify__dropdown[placement=top]{margin-top:0;transform:translateY(-100%)}.tagify__dropdown[placement=top] .tagify__dropdown__wrapper{border-top-width:1.1px;border-bottom-width:0}.tagify__dropdown[position=text]{box-shadow:0 0 0 3px rgba(var(--tagify-dd-color-primary),.1);font-size:.9em}.tagify__dropdown[position=text] .tagify__dropdown__wrapper{border-width:1px}.tagify__dropdown__wrapper{max-height:300px;overflow:auto;overflow-x:hidden;background:var(--tagify-dd-bg-color);border:1px solid;border-color:var(--tagify-dd-color-primary);border-bottom-width:1.5px;border-top-width:0;box-shadow:0 2px 4px -2px #0003;transition:.25s cubic-bezier(0,1,.5,1)}.tagify__dropdown__header:empty{display:none}.tagify__dropdown__footer{display:inline-block;margin-top:.5em;padding:var(--tagify-dd-item-pad);font-size:.7em;font-style:italic;opacity:.5}.tagify__dropdown__footer:empty{display:none}.tagify__dropdown--initial .tagify__dropdown__wrapper{max-height:20px;transform:translateY(-1em)}.tagify__dropdown--initial[placement=top] .tagify__dropdown__wrapper{transform:translateY(2em)}.tagify__dropdown__item{box-sizing:border-box;padding:var(--tagify-dd-item-pad);margin:1px;white-space:pre-wrap;cursor:pointer;border-radius:2px;position:relative;outline:none;max-height:60px;max-width:100%}.tagify__dropdown__item--active{background:var(--tagify-dd-color-primary);color:#fff}.tagify__dropdown__item:active{filter:brightness(105%)}.tagify__dropdown__item--hidden{padding-top:0;padding-bottom:0;margin:0 1px;pointer-events:none;overflow:hidden;max-height:0;transition:var(--tagify-dd-item--hidden-duration, .3s)!important}.tagify__dropdown__item--hidden>*{transform:translateY(-100%);opacity:0;transition:inherit}.tagify-wrapper{font-size:14px}.tagify-wrapper .eg-txt{display:inline-block;max-width:330px;white-space:pre-wrap;word-break:break-all;vertical-align:top}.tagify-wrapper .bottom-bar{display:flex;flex-direction:row;justify-content:space-between}.tagify-wrapper.dark .tagify{border-color:#424242}.tagify-wrapper.dark .tagify__input:before,.tagify-wrapper.dark .tagify__input,.tagify-wrapper.dark .tagify-example{color:#b0b3b8}.tagify{padding-left:4px;border-radius:6px;border-color:#d9d9d9;font-size:14px;min-width:384px;max-width:384px;overflow:hidden}.tagify.tagify--focus{border-color:#4096ff!important;box-shadow:0 0 0 2px #0591ff1a;outline:0}.tagify .tagify__tag-text,.tagify .tagify__input{white-space:nowrap!important}.tagify .tagify__tag-text br,.tagify .tagify__input br{display:none!important}.tagify .tagify__tag-text *,.tagify .tagify__input *{display:inline;white-space:nowrap}.tagify-dropdown .ant-dropdown-menu{overflow:auto;overflow-x:hidden;max-height:240px}.tagify-dropdown .tagify__tag,.tagify .tagify__tag{display:inline-flex;transition:none;margin:0 4px!important;transform:translateY(-1px)}.tagify-dropdown .tagify__tag x,.tagify .tagify__tag x{display:none}.tagify-dropdown .tagify__tag>div,.tagify .tagify__tag>div{background:#1677ff;color:#fff;font-size:12px;line-height:20px;border-radius:4px;padding:0 7px;font-family:-apple-system,sans-serif}.tagify-dropdown .tagify__tag>div:before,.tagify .tagify__tag>div:before{display:none}.tagify-example{width:100%;padding-top:4px;font-size:11px}.tagify-example .eg{padding-right:8px;opacity:.8}',r="vite-plugin-css-injected-by-js";try{if(t(typeof document,"u")){var i=document.createElement(e);i.appendChild(document.createTextNode(n)),document.head.appendChild(i)}}catch(s){console.error(r,s)}})();var Ae="​";const Rt=(t,e,n,r)=>(t=""+t,e=""+e,r&&(t=t.trim(),e=e.trim()),n?t==e:t.toLowerCase()==e.toLowerCase()),Ue=(t,e)=>t&&Array.isArray(t)&&t.map(n=>Se(n,e));function Se(t,e){var n,r=function(s,u){return s<u},i={};for(n in t)r(e.indexOf(n),0)&&(i[n]=t[n]);return i}function Ye(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,function(n){return e.innerHTML=n,e.innerText})}function Ie(t){return new DOMParser().parseFromString(t.trim(),"text/html").body.firstElementChild}function Jn(t){return t?t.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""}function Wn(t){for(var e,n=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=n.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}function Ke(t,e){var n=function(s,u){return s+u},r="Sibling",i=function(s,u){return s==u};for(e=function(s,u){return s||u}(e,"previous");t=t[n(e,r)];)if(i(3,t.nodeType))return t}function Kt(t){var e="&amp;",n="&lt;",r="&gt;",i="&quot;",s="&#039;";return function(u,a){return u==a}("string",typeof t)?t.replace(/&/g,e).replace(/</g,n).replace(/>/g,r).replace(/"/g,i).replace(/`|'/g,s):t}function Pt(t){var e=function(c,l){return c===l},n=function(c,l){return c(l)},r=function(c,l){return c!=l},i="Array",s="Function",u="RegExp",a="HTMLUnknownElement",o=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return e(t,n(Object,t))&&r(i,o)&&r(s,o)&&r(u,o)&&r(a,o)}function ut(t,e,n){var r=function(u,a){return u(a)},i=function(u,a,o){return u(a,o)};function s(u,a){for(var o in a)if(a.hasOwnProperty(o)){if(r(Pt,a[o])){r(Pt,u[o])?i(s,u[o],a[o]):u[o]=Object.assign({},a[o]);continue}if(Array.isArray(a[o])){u[o]=Object.assign([],a[o]);continue}u[o]=a[o]}}return function(u,a){return u instanceof a}(t,Object)||(t={}),i(s,t,e),n&&i(s,t,n),t}function Ge(){var t=function(r,i){return r(i)};const e=[],n={};for(let r of arguments)for(let i of r)t(Pt,i)?n[i.value]||(e.push(i),n[i.value]=1):e.includes(i)||e.push(i);return e}function de(t){var e=function(i,s){return i==s},n="string",r="NFD";return String.prototype.normalize?e(n,typeof t)?t.normalize(r).replace(/[\u0300-\u036f]/g,""):void 0:t}function Xn(t){var e,n=t.cloneNode(!0);return n.style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),e=n.clientHeight,n.parentNode.removeChild(n),e}var Qe=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function qe(){return function(t,e){return t+e}(function(t,e){return t+e}(function(t,e){return t+e}(function(t,e){return t+e}([1e7],-1e3),-4e3),-8e3),-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}function Jt(t){return t&&t.classList&&t.classList.contains(this.settings.classNames.tag)}function Zn(){var t=function(r,i){return r>i},e=function(r,i){return r-i};const n=document.getSelection();if(n.rangeCount){const r=n.getRangeAt(0),i=r.startContainer,s=r.startOffset;let u,a;if(t(s,0))return a=document.createRange(),a.setStart(i,e(s,1)),a.setEnd(i,s),u=a.getBoundingClientRect(),{left:u.right,top:u.top,bottom:u.bottom};if(i.getBoundingClientRect)return i.getBoundingClientRect()}return{left:-9999,top:-9999}}function Je(t,e){var n=function(s,u){return s==u},r="string",i=window.getSelection();return e=e||i.getRangeAt(0),n(r,typeof t)&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function nt(t,e,n){var r=function(s,u,a,o){return s(u,a,o)},i="tag element doesn't exist";return t?(e&&(t.__tagifyTagData=n?e:r(ut,{},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn(i,t,e),e)}function Gt(t){if(t&&t.parentNode){var e=t,n=window.getSelection(),r=n.getRangeAt(0);n.rangeCount&&(r.setStartAfter(e),r.collapse(!0),n.removeAllRanges(),n.addRange(r))}}function We(t,e){var n=function(r,i){return r(i)};t.forEach(r=>{if(n(nt,r.previousSibling)||!r.previousSibling){var i=document.createTextNode(Ae);r.before(i),e&&n(Gt,i)}})}const _e={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function Rn(){var t=function(n,r){return n==r},e="function";this.dropdown={};for(let n in this._dropdown)this.dropdown[n]=t(e,typeof this._dropdown[n])?this._dropdown[n].bind(this):this._dropdown[n];this.dropdown.refs()}const $n={refs(){var t="dropdown",e="[data-selector='tagify-suggestions-wrapper']";this.DOM.dropdown=this.parseTemplate(t,[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(e)},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(t){var e,n,r,i="dropdown:show",s=function(P,A){return P==A},u="mix",a=function(P,A){return P==A},o="manual",c=function(P,A){return P===A},l=function(P,A){return P&&A},m=function(P,A){return P(A)},w="dropdown:noMatch",d=function(P,A){return P&&A},f=function(P,A,M){return P(A,M)},g=function(P,A){return P||A},p=function(P,A){return P+A},y=function(P,A){return P(A)},D=function(P,A){return P==A},b=function(P,A){return P(A)},v=this.settings,C=s(u,v.mode)&&!v.enforceWhitelist,F=!v.whitelist||!v.whitelist.length,O=a(o,v.dropdown.position);if(t=c(void 0,t)?this.state.inputText:t,!(l(F,!C)&&!v.templates.dropdownItemNoMatch||c(!1,v.dropdown.enable)||this.state.isLoading||this.settings.readonly)){if(m(clearTimeout,this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger(w,t),v.templates.dropdownItemNoMatch&&(r=v.templates.dropdownItemNoMatch.call(this,{value:t}))),!r){if(this.suggestedListItems.length)d(t,C)&&!this.state.editing.scope&&!f(Rt,this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(g(!t,!C)||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}n=p("",y(Pt,e=this.suggestedListItems[0])?e.value:e),v.autoComplete&&n&&D(0,n.indexOf(t))&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(r),v.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(v.classNames.dropdownItemSelector)),this.state.dropdown.visible||y(setTimeout,this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=g(t,!0),this.state.dropdown.query=t,this.setStateSelection(),O||y(setTimeout,()=>{this.dropdown.position(),this.dropdown.render()}),b(setTimeout,()=>{this.trigger(i,this.DOM.dropdown)})}},hide(t){var e=function(l,m){return l==m},n="manual",r="resize",i="aria-expanded",s=function(l,m,w){return l(m,w)},u="dropdown:hide",{scope:a,dropdown:o}=this.DOM,c=e(n,this.settings.dropdown.position)&&!t;if(o&&document.body.contains(o)&&!c)return window.removeEventListener(r,this.dropdown.position),this.dropdown.events.binding.call(this,!1),a.setAttribute(i,!1),o.parentNode.removeChild(o),s(setTimeout,()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger(u,o),this},toggle(t){var e="hide",n="show";this.dropdown[this.state.dropdown.visible&&!t?e:n]()},render(){var t=function(a,o){return a==o},e="number",n=function(a,o){return a>=o},r="aria-expanded",i=function(a,o){return a(o)},s=function(a,o){return a(o)}(Xn,this.DOM.dropdown),u=this.settings;return t(e,typeof u.dropdown.enabled)&&n(u.dropdown.enabled,0)?(this.DOM.scope.setAttribute(r,!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(u.classNames.dropdownInital),this.dropdown.position(s),u.dropdown.appendTarget.appendChild(this.DOM.dropdown),i(setTimeout,()=>this.DOM.dropdown.classList.remove(u.classNames.dropdownInital))),this):this},fill(t){var e=function(r,i){return r(i)};t=function(r,i){return r==i}("string",typeof t)?t:this.dropdown.createListHTML(t||this.suggestedListItems);var n=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=e(Jn,n)},fillHeaderFooter(){var t="dropdownHeader",e="dropdownFooter",n=function(c,l){return c==l},r=function(c,l){return c==l},i=this.dropdown.filterListItems(this.state.dropdown.query),s=this.parseTemplate(t,[i]),u=this.parseTemplate(e,[i]),a=this.dropdown.getHeaderRef(),o=this.dropdown.getFooterRef();s&&(n(null,a)||a.parentNode.replaceChild(s,a)),u&&(r(null,o)||o.parentNode.replaceChild(u,o))},refilter(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(t){var e=function(J,X){return J!=X},n=function(J,X){return J!=X},r="manual",i=function(J,X){return J===X},s=function(J,X){return J>X},u="all",a=function(J,X){return J==X},o="input",c="scope",l="text",m=function(J){return J()},w="auto",d=function(J,X){return J-X},f=function(J,X){return J-X},g=function(J,X){return J+X},p=function(J,X){return J===X},y=function(J,X){return J<X},D=function(J,X){return J-X},b=function(J,X){return J+X},v="left:",C="px; width:",F="top: ",O=function(J,X){return J+X},P=function(J,X){return J+X},A="placement",M="top",S="bottom",L="position",K=this.settings.dropdown;if(n(r,K.position)){var Y,z,T,B,G,E,I=this.DOM.dropdown,j=K.placeAbove,H=i(K.appendTarget,document.body),x=H?window.pageYOffset:K.appendTarget.scrollTop,N=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,V=N.clientHeight,W=s(Math.max(N.clientWidth||0,window.innerWidth||0),480)?K.position:u,et=this.DOM[a(o,W)?o:c];if(t=t||I.clientHeight,this.state.dropdown.visible){if(a(l,W)?(T=(Y=m(Zn)).bottom,z=Y.top,B=Y.left,G=w):(E=function(J){for(var X=0,ht=0;J&&e(J,N);)X+=J.offsetLeft||0,ht+=J.offsetTop||0,J=J.parentNode;return{left:X,top:ht}}(K.appendTarget),z=d((Y=et.getBoundingClientRect()).top,E.top),T=d(f(Y.bottom,1),E.top),B=d(Y.left,E.left),G=g(Y.width,"px")),!H){let J=function(){for(var X=0,ht=K.appendTarget.parentNode;ht;)X+=ht.scrollTop||0,ht=ht.parentNode;return X}();z+=J,T+=J}z=Math.floor(z),T=Math.ceil(T),j=p(void 0,j)?y(D(V,Y.bottom),t):j,I.style.cssText=g(b(b(b(b(v,g(B,window.pageXOffset)),C),G),";"),j?b(g(F,O(z,x)),"px"):P(g(F,b(T,x)),"px")),I.setAttribute(A,j?M:S),I.setAttribute(L,W)}}},events:{binding(t=!0){var e={llYhJ:"addEventListener",GTisw:"removeEventListener",djXJo:function(s,u){return s!=u},eeyYa:"manual",fLcsp:"scroll",aNogb:"resize",FVMKY:"keydown",ctmGn:"mouseover",vzetl:"mouseleave",Mjsio:"mousedown"},n=this.dropdown.events.callbacks,r=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:n.onKeyDown.bind(this),onMouseOver:n.onMouseOver.bind(this),onMouseLeave:n.onMouseLeave.bind(this),onClick:n.onClick.bind(this),onScroll:n.onScroll.bind(this)},i=t?e.llYhJ:e.GTisw;e.djXJo(e.eeyYa,this.settings.dropdown.position)&&(document[i](e.fLcsp,r.position,!0),window[i](e.aNogb,r.position),window[i](e.FVMKY,r.onKeyDown)),this.DOM.dropdown[i](e.ctmGn,r.onMouseOver),this.DOM.dropdown[i](e.vzetl,r.onMouseLeave),this.DOM.dropdown[i](e.Mjsio,r.onClick),this.DOM.dropdown.content[i](e.fLcsp,r.onScroll)},callbacks:{onKeyDown(t){var e=function(A,M){return A!=M},n="mix",r="ArrowDown",i="ArrowUp",s="Down",u=function(A,M){return A==M},a=function(A,M){return A-M},o="Escape",c="Esc",l="ArrowRight",m="Tab",w="Enter",d="Backspace",f=function(A,M){return A==M},g=function(A,M){return A==M},p=function(A,M){return A===M},y=function(A,M){return A==M},D="edit",b=function(A,M,S){return A(M,S)};if(this.state.hasFocus&&!this.state.composing){var v=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),C=this.dropdown.getSuggestionDataByNode(v);switch(t.key){case r:case i:case s:case"Up":t.preventDefault();var F=this.dropdown.getAllSuggestionsRefs(),O=u(i,t.key)||u("Up",t.key);v&&(v=this.dropdown.getNextOrPrevOption(v,!O)),(!v||!v.matches(this.settings.classNames.dropdownItemSelector))&&(v=F[O?a(F.length,1):0]),this.dropdown.highlightOption(v,!0);break;case o:case c:this.dropdown.hide();break;case l:if(this.state.actions.ArrowLeft)return;case m:if(e(n,this.settings.mode)&&v&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var P=this.dropdown.getMappedValue(C);return this.input.autocomplete.set.call(this,P),!1}return!0;case w:t.preventDefault(),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:C,suggestionElm:v}).then(()=>{if(v)return this.dropdown.selectOption(v),v=this.dropdown.getNextOrPrevOption(v,!O),void this.dropdown.highlightOption(v);this.dropdown.hide(),e(n,this.settings.mode)&&this.addTags(this.state.inputText.trim(),!0)}).catch(A=>A);break;case d:{if(f(n,this.settings.mode)||this.state.editing.scope)return;const A=this.input.raw.call(this);(g("",A)||f(8203,A.charCodeAt(0)))&&(p(!0,this.settings.backspace)?this.removeTags():y(D,this.settings.backspace)&&b(setTimeout,this.editTag.bind(this),0))}}}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);e&&this.dropdown.highlightOption(e)},onMouseLeave(t){this.dropdown.highlightOption()},onClick(t){var e=function(s,u){return s!=u},n=function(s,u,a){return s(u,a)};if(function(s,u){return s==u}(0,t.button)&&e(t.target,this.DOM.dropdown)&&e(t.target,this.DOM.dropdown.content)){var r=t.target.closest(this.settings.classNames.dropdownItemSelector),i=this.dropdown.getSuggestionDataByNode(r);this.state.actions.selectOption=!0,n(setTimeout,()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:r}).then(()=>{r?this.dropdown.selectOption(r,t):this.dropdown.hide()}).catch(s=>console.warn(s))}},onScroll(t){var e=function(a,o){return a*o},n=function(a,o){return a/o},r=function(a,o){return a-o},i="dropdown:scroll",s=t.target,u=e(n(s.scrollTop,r(s.scrollHeight,s.parentNode.clientHeight)),100);this.trigger(i,{percentage:Math.round(u)})}}},getSuggestionDataByNode(t){var e=t&&t.getAttribute("value");return this.suggestedListItems.find(n=>n.value==e)||null},getNextOrPrevOption(t,e=!0){var n=function(u,a){return u+a},r=function(u,a){return u-a},i=this.dropdown.getAllSuggestionsRefs(),s=i.findIndex(u=>u===t);return e?i[n(s,1)]:i[r(s,1)]},highlightOption(t,e){var n,r="aria-selected",i=function(a,o){return a-o},s=function(a,o){return a+o},u=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(u),this.state.ddItemElm.removeAttribute(r)),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=n,this.state.ddItemElm=t,t.classList.add(u),t.setAttribute(r,!0),e&&(t.parentNode.scrollTop=i(s(t.clientHeight,t.offsetTop),t.parentNode.clientHeight)),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption(t,e){for(var n={ktffr:"0|2|1|4|3|5",jUQFF:function(m,w,d){return m(w,d)},tmOxL:"value",VgTOX:function(m,w){return m==w},PouKY:"noMatch",FnmaU:function(m,w){return m||w},fxqBL:"dropdown:select",Ejfzc:function(m,w,d){return m(w,d)},RwgPM:function(m,w){return m==w},IDpyV:"mix",gHyZo:"addMixTags",agssq:"addTags",QBpYy:function(m,w){return m(w)},qjIrX:function(m,w){return m(w)},FoKkn:"transitionend"},r=n.ktffr.split("|"),i=0;;){switch(r[i++]){case"0":var s={cJRUJ:function(m,w,d){return n.jUQFF(m,w,d)}};continue;case"1":if(!t)return this.addTags(this.state.inputText,!0),void(a&&this.dropdown.hide());continue;case"2":var{clearOnSelect:u,closeOnSelect:a}=this.settings.dropdown;continue;case"3":var o=t.getAttribute(n.tmOxL),c=n.VgTOX(n.PouKY,o),l=this.suggestedListItems.find(m=>(m.value??m)==o);continue;case"4":e=n.FnmaU(e,{});continue;case"5":this.trigger(n.fxqBL,{data:l,elm:t,event:e}),o&&n.FnmaU(l,c)?(this.state.editing?this.onEditTagDone(null,n.Ejfzc(ut,{__isValid:!0},this.normalizeTags([l])[0])):this[n.RwgPM(n.IDpyV,this.settings.mode)?n.gHyZo:n.agssq]([l||this.input.raw.call(this)],u),this.DOM.input.parentNode&&(n.QBpYy(setTimeout,()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)}),a&&n.qjIrX(setTimeout,this.dropdown.hide.bind(this)),t.addEventListener(n.FoKkn,()=>{this.dropdown.fillHeaderFooter(),s.cJRUJ(setTimeout,()=>t.remove(),100)},{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))):a&&n.QBpYy(setTimeout,this.dropdown.hide.bind(this));continue}break}},selectAll(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var e=this.dropdown.filterListItems("");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems(t,e){var n,r,i,s,u=function(E,I){return E+I},a=function(E,I){return E(I)},o=function(E,I){return E===I},c=function(E,I){return E==I},l=function(E,I){return E||I},m=function(E,I){return E>=I},w=function(E,I){return E/I},d="select",f=function(E,I){return E==I},g=function(E,I){return E+I},p=function(E,I){return E<I},y=function(E,I){return E instanceof I},D="value",b=function(E,I){return E==I},v=function(E,I){return E===I},C=function(E,I,j){return E(I,j)},F=function(E,I){return E&&I},O=function(E,I){return E&&I},P="startsWith",A="function",M=this.settings,S=M.dropdown,L=(e=l(e,{}),[]),K=[],Y=M.whitelist,z=m(S.maxItems,0)?S.maxItems:w(1,0),T=S.searchKeys,B=0;if(!(t=c(d,M.mode)&&this.value.length&&f(this.value[0][M.tagTextProp],t)?"":t)||!T.length)return L=S.includeSelectedTags?Y:Y.filter(E=>!this.isTagDuplicate(Pt(E)?E.value:E)),this.state.dropdown.suggestions=L,L.slice(0,z);function G(E,I){return I.toLowerCase().split(" ").every(j=>E.includes(j.toLowerCase()))}for(s=S.caseSensitive?g("",t):u("",t).toLowerCase();p(B,Y.length);B++){let E,I;n=y(Y[B],Object)?Y[B]:{value:Y[B]};let j=Object.keys(n).some(H=>T.includes(H))?T:[D];S.fuzzySearch&&!e.exact?(i=j.reduce((H,x)=>H+" "+(n[x]||""),"").toLowerCase().trim(),S.accentedSearch&&(i=a(de,i),s=a(de,s)),E=b(0,i.indexOf(s)),I=v(i,s),r=C(G,i,s)):(E=!0,r=j.some(H=>{var x=u("",n[H]||"");return S.accentedSearch&&(x=a(de,x),s=a(de,s)),S.caseSensitive||(x=x.toLowerCase()),I=o(x,s),e.exact?o(x,s):c(0,x.indexOf(s))})),F(r,!(!S.includeSelectedTags&&this.isTagDuplicate(a(Pt,n)?n.value:n)))&&(O(I,E)?K.push(n):f(P,S.sortby)&&E?L.unshift(n):L.push(n))}return this.state.dropdown.suggestions=K.concat(L),f(A,typeof S.sortby)?S.sortby(K.concat(L),s):K.concat(L).slice(0,z)},getMappedValue(t){var e=function(s,u){return s==u},n="function",r=function(s,u){return s(u)},i=this.settings.dropdown.mapValueTo;return i?e(n,typeof i)?r(i,t):t[i]||t.value:t.value},createListHTML(t){var e=function(s,u){return s==u},n="string",r="number",i=function(s,u){return s(u)};return function(s,u,a){return s(u,a)}(ut,[],t).map((s,u)=>{(e(n,typeof s)||e(r,typeof s))&&(s={value:s});var a=this.dropdown.getMappedValue(s);return a=e(n,typeof a)?i(Kt,a):a,this.settings.templates.dropdownItem.apply(this,[{...s,mappedValue:a},this])}).join("")}},$t="@yaireo/tagify/",tr=t=>e=>{var n=function(c,l){return c+l},r=function(c,l){return c==l},i=function(c,l){return c+l},s=function(c,l){return c+l},u=function(c,l){return c+l};let a,o=n("/",e);if(r(1,localStorage.getItem(i(s($t,t),"/v"),1)))try{a=JSON.parse(localStorage[u(n($t,t),o)])}catch{}return a},er=t=>t?(localStorage.setItem($t+t+"/v",1),(e,n)=>{var r=function(l,m){return l+m},i=function(l,m){return l&&m},s=function(l,m){return l+m},u=function(l,m){return l(m)},a="storage";let o=r("/",n),c=JSON.stringify(e);i(e,n)&&(localStorage.setItem(r(s($t,t),o),c),u(dispatchEvent,new Event(a)))}):()=>{},nr=t=>e=>{var n=function(s,u){return s+u},r=function(s,u){return s+u};const i=n(n(function(s,u){return s+u}($t,"/"),t),"/");if(e)localStorage.removeItem(r(i,e));else for(let s in localStorage)s.includes(i)&&localStorage.removeItem(s)},rr={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},ir={wrapper:(t,e)=>'<tags class="'+e.classNames.namespace+" "+(e.mode?""+e.classNames[e.mode+"Mode"]:"")+" "+t.className+`"
                    `+(e.readonly?"readonly":"")+`
                    `+(e.disabled?"disabled":"")+`
                    `+(e.required?"required":"")+`
                    `+(e.mode==="select"?"spellcheck='false'":"")+`
                    tabIndex="-1">
            <span `+(!e.readonly&&e.userInput?"contenteditable":"")+' tabIndex="0" data-placeholder="'+(e.placeholder||"&#8203;")+'" aria-placeholder="'+(e.placeholder||"")+`"
                class="`+e.classNames.input+`"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="`+(e.mode=="mix")+`"></span>
                &#8203;
        </tags>`,tag(t,{settings:e}){return'<tag title="'+(t.title||t.value)+`"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="`+(e.a11y.focusableTags?0:-1)+`"
                    class="`+e.classNames.tag+" "+(t.class||"")+`"
                    `+this.getAttributes(t)+`>
            <x title='' class="`+e.classNames.tagX+`" role='button' aria-label='remove tag'></x>
            <div>
                <span class="`+e.classNames.tagText+'">'+(t[e.tagTextProp]||t.value)+`</span>
            </div>
        </tag>`},dropdown(t){var e=function(u,a){return u==a},n="manual",r=t.dropdown,i=e(n,r.position),s=""+t.classNames.dropdown;return'<div class="'+(i?"":s)+" "+r.classname+`" role="listbox" aria-labelledby="dropdown">
                    <div data-selector='tagify-suggestions-wrapper' class="`+t.classNames.dropdownWrapper+`"></div>
                </div>`},dropdownContent(t){var e=this.settings,n=this.state.dropdown.suggestions;return`
            `+e.templates.dropdownHeader.call(this,n)+`
            `+t+`
            `+e.templates.dropdownFooter.call(this,n)+`
        `},dropdownItem(t){return"<div "+this.getAttributes(t)+`
                    class='`+this.settings.classNames.dropdownItem+" "+(t.class?t.class:"")+`'
                    tabindex="0"
                    role="option">`+(t.mappedValue||t.value)+"</div>"},dropdownHeader(t){return`<header data-selector='tagify-suggestions-header' class="`+this.settings.classNames.dropdownHeader+'"></header>'},dropdownFooter(t){var e=function(r,i){return r>i},n=function(r,i){return r-i}(t.length,this.settings.dropdown.maxItems);return e(n,0)?`<footer data-selector='tagify-suggestions-footer' class="`+this.settings.classNames.dropdownFooter+`">
                `+n+` more items. Refine your search.
            </footer>`:""},dropdownItemNoMatch:null};function or(t){var e=function(g,p,y,D){return g(p,y,D)},n="remove",r=function(g,p){return g==p},i="function",s="add",u=function(g,p){return g||p},a="removeTag",o=function(g,p){return g(p)},c="object",l=function(g,p,y){return g(p,y)},m=function(g,p){return g instanceof p},w=function(g,p){return g instanceof p},d=document.createTextNode("");function f(g,p,y){y&&p.split(/\s+/g).forEach(D=>d[g+"EventListener"].call(d,D,y))}return{off(g,p){return e(f,n,g,p),this},on(g,p){return p&&r(i,typeof p)&&e(f,s,g,p),this},trigger(g,p,y){var D;if(y=u(y,{cloneData:!0}),g)if(t.settings.isJQueryPlugin)r(n,g)&&(g=a),o(jQuery,t.DOM.originalInput).triggerHandler(g,[p]);else{try{var b=r(c,typeof p)?p:{value:p};if((b=y.cloneData?l(ut,{},b):b).tagify=this,p.event&&(b.event=this.cloneEvent(p.event)),m(p,Object))for(var v in p)w(p[v],HTMLElement)&&(b[v]=p[v]);D=new CustomEvent(g,{detail:b})}catch(C){console.warn(C)}d.dispatchEvent(D)}}}}var Xe;function ar(){var t=function(s,u){return s!==u},e="change";if(!this.settings.mixMode.integrated){var n=this.DOM.originalInput,r=t(this.state.lastOriginalValueReported,n.value),i=new CustomEvent(e,{bubbles:!0});r&&(this.state.lastOriginalValueReported=n.value,i.simulated=!0,n._valueTracker&&n._valueTracker.setValue(Math.random()),n.dispatchEvent(i),this.trigger(e,this.state.lastOriginalValueReported),n.value=this.state.lastOriginalValueReported)}}const sr={customBinding(){this.customEventsList.forEach(t=>{this.on(t,this.settings.callbacks[t])})},binding(t=!0){var e,n={fzCwG:"addEventListener",MSSNm:"removeEventListener",eHnIo:function(a,o){return a(o)},fUDxn:"tagify.removeAllTags",clMgD:"input",wsyXj:"scope",GpAKT:function(a,o){return a(o)},HHfoQ:function(a,o,c){return a(o,c)},lymks:function(a,o){return a==o},xzoHl:"mix"},r=this.events.callbacks,i=t?n.fzCwG:n.MSSNm;if(!this.state.mainEvents||!t){for(var s in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&n.eHnIo(jQuery,this.DOM.originalInput).on(n.fUDxn,this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:[n.clMgD,r.onFocusBlur.bind(this)],keydown:[n.clMgD,r.onKeydown.bind(this)],click:[n.wsyXj,r.onClickScope.bind(this)],dblclick:[n.wsyXj,r.onDoubleClickScope.bind(this)],paste:[n.clMgD,r.onPaste.bind(this)],drop:[n.clMgD,r.onDrop.bind(this)],compositionstart:[n.clMgD,r.onCompositionStart.bind(this)],compositionend:[n.clMgD,r.onCompositionEnd.bind(this)]})this.DOM[e[s][0]][i](s,e[s][1]);n.GpAKT(clearInterval,this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=n.HHfoQ(setInterval,r.observeOriginalInputValue.bind(this),500);var u=this.listeners.main.inputMutationObserver||new MutationObserver(r.onInputDOMChange.bind(this));u.disconnect(),n.lymks(n.xzoHl,this.settings.mode)&&u.observe(this.DOM.input,{childList:!0})}},bindGlobal(t){var e,n={NEBKw:"removeEventListener",vcfmq:"addEventListener",sGIwK:"keydown",OCihF:"input",znVcJ:"onInputIE",SmaBk:"onInput",UxBku:"blur",oKiSI:"click"},r=this.events.callbacks,i=t?n.NEBKw:n.vcfmq;if(this.listeners&&(t||!this.listeners.global))for(e of(this.listeners.global=this.listeners.global||[{type:this.isIE?n.sGIwK:n.OCihF,target:this.DOM.input,cb:r[this.isIE?n.znVcJ:n.SmaBk].bind(this)},{type:n.sGIwK,target:window,cb:r.onWindowKeyDown.bind(this)},{type:n.UxBku,target:this.DOM.input,cb:r.onFocusBlur.bind(this)},{type:n.oKiSI,target:document,cb:r.onClickAnywhere.bind(this)}],this.listeners.global))e.target[i](e.type,e.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(t){var e,n,r=function(S,L){return S==L},i=function(S,L){return S==L},s=function(S,L){return S>=L},u=function(S,L){return S==L},a="blur",o=function(S,L){return S===L},c=function(S,L){return S&&L},l="focus",m=function(S,L){return S==L},w="mix",d=function(S,L){return S==L},f=function(S,L){return S===L},g="select",p=function(S,L){return S===L},y="style",D=this.settings,b=t.target?this.trim(t.target.textContent):"",v=r(null,n=i(null,e=this.value)?void 0:e[0])?void 0:n[D.tagTextProp],C=t.type,F=s(D.dropdown.enabled,0),O={relatedTarget:t.relatedTarget},P=this.state.actions.selectOption&&(F||!D.dropdown.closeOnSelect),A=this.state.actions.addNew&&F,M=t.relatedTarget&&Jt.call(this,t.relatedTarget)&&this.DOM.scope.contains(t.relatedTarget);if(u(a,C)){if(o(t.relatedTarget,this.DOM.scope))return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),D.onChangeAfterBlur&&this.triggerChangeEvent()}if(c(!P,!A)){if(this.state.hasFocus=u(l,C)&&+new Date,this.toggleFocusClass(this.state.hasFocus),m(w,D.mode))return void(d(l,C)?this.trigger(l,O):i(a,t.type)&&(this.trigger(a,O),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection()));if(i(l,C))return this.trigger(l,O),void((f(0,D.dropdown.enabled)||!D.userInput)&&this.dropdown.show(this.value.length?"":void 0));r(a,C)&&(this.trigger(a,O),this.loading(!1),m(g,D.mode)&&(M&&(this.removeTags(),b=""),p(v,b)&&(b="")),b&&!this.state.actions.selectOption&&D.addTagOnBlur&&this.addTags(b,!0)),this.DOM.input.removeAttribute(y),this.dropdown.hide()}},onCompositionStart(t){this.state.composing=!0},onCompositionEnd(t){this.state.composing=!1},onWindowKeyDown(t){var e,n="readonly",r=function(c,l){return c&&l},i="Backspace",s="Enter",u=function(c,l,m,w){return c(l,m,w)},a=document.activeElement,o=Jt.call(this,a)&&this.DOM.scope.contains(document.activeElement);if(r(o,!(o&&a.hasAttribute(n))))switch(e=a.nextElementSibling,t.key){case i:this.settings.readonly||(this.removeTags(a),(e||this.DOM.input).focus());break;case s:u(setTimeout,this.editTag.bind(this),0,a)}},onKeydown(t){var e=function(U,Q){return U(Q)},n="remove",r=function(U,Q){return U(Q)},i=function(U,Q){return U==Q},s="select",u=function(U,Q){return U!=Q},a="Tab",o="keydown",c="mix",l="Left",m="ArrowLeft",w="Delete",d="Backspace",f=function(U,Q){return U==Q},g=function(U,Q){return U==Q},p=function(U,Q){return U==Q},y=function(U,Q){return U==Q},D=function(U,Q){return U===Q},b="edit",v=function(U,Q,mt,qt){return U(Q,mt,qt)},C=function(U){return U()},F=function(U,Q){return U instanceof Q},O=function(U,Q){return U(Q)},P="readonly",A=function(U,Q){return U||Q},M=function(U,Q){return U==Q},S=function(U,Q){return U-Q},L=function(U,Q){return U==Q},K=function(U,Q){return U||Q},Y="Range",z=function(U,Q){return U==Q},T=function(U,Q){return U!=Q},B=function(U,Q){return U(Q)},G=function(U,Q){return U(Q)},E=function(U,Q){return U(Q)},I=function(U,Q){return U(Q)},j=function(U,Q,mt){return U(Q,mt)},H=function(U,Q){return U==Q},x="manual",N=function(U,Q){return U===Q},V=function(U,Q){return U==Q},W=function(U,Q,mt){return U(Q,mt)},et="Esc",J="Escape",X="Down",ht="ArrowDown",jt="ArrowRight",R=function(U,Q){return U==Q},$=function(U,Q){return U||Q},pt="Enter",Mt=function(U,Q){return U!=Q},at=this.settings;if(!this.state.composing&&at.userInput){i(s,at.mode)&&at.enforceWhitelist&&this.value.length&&u(a,t.key)&&t.preventDefault();var Lt=this.trim(t.target.textContent);if(this.trigger(o,{event:t}),i(c,at.mode)){switch(t.key){case l:case m:this.state.actions.ArrowLeft=!0;break;case w:case d:if(this.state.editing)return;var tt=document.getSelection(),xt=f(w,t.key)&&g(tt.anchorOffset,tt.anchorNode.length||0),Vt=tt.anchorNode.previousSibling,ct=p(1,tt.anchorNode.nodeType)||!tt.anchorOffset&&Vt&&y(1,Vt.nodeType)&&tt.anchorNode.previousSibling;r(Ye,this.DOM.input.innerHTML);var rt,ot,At,Ut=this.getTagElms(),Pe=D(1,tt.anchorNode.length)&&p(tt.anchorNode.nodeValue,"​");if(y(b,at.backspace)&&ct)return rt=y(1,tt.anchorNode.nodeType)?null:tt.anchorNode.previousElementSibling,v(setTimeout,this.editTag.bind(this),0,rt),void t.preventDefault();if(C(Qe)&&F(ct,Element))return At=O(Ke,ct),ct.hasAttribute(P)||ct.remove(),this.DOM.input.focus(),void r(setTimeout,()=>{e(Gt,At),this.DOM.input.click()});if(i("BR",tt.anchorNode.nodeName))return;if(A(xt,ct)&&p(1,tt.anchorNode.nodeType)?ot=M(0,tt.anchorOffset)?xt?Ut[0]:null:Ut[S(Math.min(Ut.length,tt.anchorOffset),1)]:xt?ot=tt.anchorNode.nextElementSibling:F(ct,Element)&&(ot=ct),L(3,tt.anchorNode.nodeType)&&!tt.anchorNode.nodeValue&&tt.anchorNode.previousElementSibling&&t.preventDefault(),K(ct,xt)&&!at.backspace||u(Y,tt.type)&&!tt.anchorOffset&&z(tt.anchorNode,this.DOM.input)&&u(w,t.key))return void t.preventDefault();if(T(Y,tt.type)&&ot&&ot.hasAttribute(P))return void B(Gt,G(Ke,ot));p(w,t.key)&&Pe&&E(nt,tt.anchorNode.nextSibling)&&this.removeTags(tt.anchorNode.nextSibling),I(clearTimeout,Xe),Xe=j(setTimeout,()=>{var U={sXNIn:function(mt,qt){return e(mt,qt)},hfskN:n},Q=document.getSelection();r(Ye,this.DOM.input.innerHTML),!xt&&Q.anchorNode.previousSibling,this.value=[].map.call(Ut,(mt,qt)=>{var Xt=U.sXNIn(nt,mt);if(mt.parentNode||Xt.readonly)return Xt;this.trigger(U.hfskN,{tag:mt,index:qt,data:Xt})}).filter(mt=>mt)},20)}return!0}switch(t.key){case d:f(s,at.mode)&&at.enforceWhitelist&&this.value.length?this.removeTags():(!this.state.dropdown.visible||H(x,at.dropdown.position))&&(L("",t.target.textContent)||f(8203,Lt.charCodeAt(0)))&&(N(!0,at.backspace)?this.removeTags():V(b,at.backspace)&&W(setTimeout,this.editTag.bind(this),0));break;case et:case J:if(this.state.dropdown.visible)return;t.target.blur();break;case X:case ht:this.state.dropdown.visible||this.dropdown.show();break;case jt:{let U=this.state.inputSuggestion||this.state.ddItemData;if(U&&at.autoComplete.rightKey)return void this.addTags([U],!0);break}case a:{let U=R(s,at.mode);if($(!Lt,U))return!0;t.preventDefault()}case pt:if(this.state.dropdown.visible&&Mt(x,at.dropdown.position))return;t.preventDefault(),e(setTimeout,()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(Lt,!0)})}}},onInput(t){for(var e={nXESz:"1|2|4|0|3",oyDxn:function(c,l){return c>=l},XZQDY:function(c,l){return c==l},SrPKV:"select",kaJIs:function(c,l){return c!=l},kUDjR:function(c,l){return c!=l},BADiO:function(c,l){return c>=l},yNuCS:"show",JnthH:"hide",QOpru:"input",lDmmh:function(c,l){return c==l},FsXRH:"mix"},n=e.nXESz.split("|"),r=0;;){switch(n[r++]){case"0":var i=this.input.normalize.call(this),s=e.oyDxn(i.length,o.dropdown.enabled),u={value:i,inputElm:this.DOM.input},a=this.validateTag({value:i});continue;case"1":this.postUpdate();continue;case"2":var o=this.settings;continue;case"3":e.XZQDY(e.SrPKV,o.mode)&&this.toggleScopeValidation(a),u.isValid=a,e.kaJIs(this.state.inputText,i)&&(this.input.set.call(this,i,!1),e.kUDjR(-1,i.search(o.delimiters))?this.addTags(i)&&this.input.set.call(this):e.BADiO(o.dropdown.enabled,0)&&this.dropdown[s?e.yNuCS:e.JnthH](i),this.trigger(e.QOpru,u));continue;case"4":if(e.lDmmh(e.FsXRH,o.mode))return this.events.callbacks.onMixTagsInput.call(this,t);continue}break}},onMixTagsInput(t){for(var e={caIla:"3|1|2|5|0|4",AqpDT:function(b,v){return b>v},lWcnP:function(b,v){return b==v},fQEMR:function(b,v){return b-v},UYfum:function(b,v){return b-v},RQegc:function(b,v){return b>=v},PEOkE:function(b,v){return b==v},jBdFU:function(b,v){return b<v},KiEXH:function(b,v){return b==v},vJiNI:"deleteContentBackward",tZAAL:function(b){return b()},IXtyW:"Backspace",Hnetw:function(b,v){return b(v)},PwmjX:function(b,v){return b!=v},AwIEo:"input",qEzgi:function(b,v,C,F){return b(v,C,F)},JvTUb:"show",kZUCZ:"hide",OUiTk:function(b,v,C){return b(v,C)}},n=e.caIla.split("|"),r=0;;){switch(n[r++]){case"0":if(window.getSelection&&e.AqpDT((c=window.getSelection()).rangeCount,0)&&e.lWcnP(3,c.anchorNode.nodeType)){if((p=c.getRangeAt(0).cloneRange()).collapse(!0),p.setStart(c.focusNode,0),u=e.fQEMR((i=p.toString().slice(0,p.endOffset)).split(w.pattern).length,1),(s=i.match(w.pattern))&&(a=i.slice(i.lastIndexOf(s[e.UYfum(s.length,1)]))),a){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:a.match(w.pattern)[0],value:a.replace(w.pattern,"")},this.state.tag.baseOffset=e.UYfum(c.baseOffset,this.state.tag.value.length),m=this.state.tag.value.match(w.delimiters))return this.state.tag.value=this.state.tag.value.replace(w.delimiters,""),this.state.tag.delimiters=m[0],this.addTags(this.state.tag.value,w.dropdown.clearOnSelect),void this.dropdown.hide();o=e.RQegc(this.state.tag.value.length,w.dropdown.enabled);try{l=e.PEOkE((l=this.state.flaggedTags[this.state.tag.baseOffset]).prefix,this.state.tag.prefix)&&e.lWcnP(l.value[0],this.state.tag.value[0]),this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(l||e.jBdFU(u,this.state.mixMode.matchedPatternCount))&&(o=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=u}continue;case"1":var i,s,u,a,o,c,l,m,w=this.settings,d=this.value.length,f=this.getTagElms(),g=document.createDocumentFragment(),p=window.getSelection().getRangeAt(0),y=[].map.call(f,b=>nt(b).value);continue;case"2":if(e.KiEXH(e.vJiNI,t.inputType)&&e.tZAAL(Qe)&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:e.IXtyW}),e.Hnetw(We,this.getTagElms()),this.value.slice().forEach(b=>{b.readonly&&!y.includes(b.value)&&g.appendChild(this.createTagElem(b))}),g.childNodes.length&&(p.insertNode(g),this.setRangeAtStartEnd(!1,g.lastChild)),e.PwmjX(f.length,d))return this.value=[].map.call(this.getTagElms(),b=>nt(b)),void this.update({withoutChangeEvent:!0});continue;case"3":var D={lVlKE:e.AwIEo,gjyuM:function(b,v,C,F){return e.qEzgi(b,v,C,F)},LqmVI:e.JvTUb,qFsVb:e.kZUCZ};continue;case"4":e.OUiTk(setTimeout,()=>{this.update({withoutChangeEvent:!0}),this.trigger(D.lVlKE,D.gjyuM(ut,{},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[o?D.LqmVI:D.qFsVb](this.state.tag.value)},10);continue;case"5":if(this.hasMaxTags())return!0;continue}break}},onInputIE(t){var e=this;setTimeout(function(){e.events.callbacks.onInput.call(e,t)})},observeOriginalInputValue(){var t,e;this.DOM.originalInput.parentNode||this.destroy(),t=this.DOM.originalInput.value,e=this.DOM.originalInput.tagifyValue,t!=e&&this.loadOriginalValues()},onClickAnywhere(t){var e,n;e=t.target,n=this.DOM.scope,e!=n&&!this.DOM.scope.contains(t.target)&&(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(t){var e=function(y,D){return y+D},n=function(y,D){return y-D},r=function(y,D){return y!=D},i="click",s=function(y,D){return y(D)},u=function(y,D){return y===D},a=function(y,D){return y==D},o="mix",c=function(y,D){return y>D},l=function(y,D){return y===D},m=function(y,D){return y!=D},w=function(y,D){return y==D},d="select",f=this.settings,g=t.target.closest(e(".",f.classNames.tag)),p=n(+new Date,this.state.hasFocus);if(r(t.target,this.DOM.scope)){if(!t.target.classList.contains(f.classNames.tagX))return g?(this.trigger(i,{tag:g,index:this.getNodeIndex(g),data:s(nt,g),event:t}),void((u(1,f.editTags)||u(1,f.editTags.clicks))&&this.events.callbacks.onDoubleClickScope.call(this,t))):void(a(t.target,this.DOM.input)&&(a(o,f.mode)&&this.fixFirefoxLastTagNoCaret(),c(p,500))?this.state.dropdown.visible?this.dropdown.hide():l(0,f.dropdown.enabled)&&m(o,f.mode)&&this.dropdown.show(this.value.length?"":void 0):w(d,f.mode)&&l(0,f.dropdown.enabled)&&!this.state.dropdown.visible&&this.dropdown.show());this.removeTags(t.target.parentNode)}else this.DOM.input.focus()},onPaste(t){for(var e={JtUpV:"4|3|0|2|1",ggebt:"Text",RvTkK:function(o,c){return o==c},uUdjB:"select",shyOg:function(o,c){return o===c},iEoSc:function(o,c){return o==c},Vgpxw:"mix",MTyeX:function(o,c){return o+c}},n=e.JtUpV.split("|"),r=0;;){switch(n[r++]){case"0":var i,s,u=this.settings;continue;case"1":u.readonly||(i=t.clipboardData||window.clipboardData,s=i.getData(e.ggebt),u.hooks.beforePaste(t,{tagify:this,pastedText:s,clipboardData:i}).then(o=>{a.Ediwn(void 0,o)&&(o=s),o&&(this.injectAtCaret(o,window.getSelection().getRangeAt(0)),a.SfbPZ(a.yyHWc,this.settings.mode)?this.events.callbacks.onMixTagsInput.call(this,t):this.settings.pasteAsTags?this.addTags(a.NTesd(this.state.inputText,o),!0):this.state.inputText=o)}).catch(o=>o));continue;case"2":if(e.RvTkK(e.uUdjB,u.mode)&&u.enforceWhitelist||!u.userInput)return!1;continue;case"3":t.preventDefault();continue;case"4":var a={Ediwn:function(o,c){return e.shyOg(o,c)},SfbPZ:function(o,c){return e.iEoSc(o,c)},yyHWc:e.Vgpxw,NTesd:function(o,c){return e.MTyeX(o,c)}};continue}break}},onDrop(t){t.preventDefault()},onEditTagInput(t,e){var n=function(p,y){return p+y},r=function(p,y){return p(y)},i=function(p,y,D){return p(y,D)},s=function(p,y){return p===y},u=function(p,y){return p!==y},a=function(p,y){return p>=y},o="edit:input",c=function(p,y,D,b){return p(y,D,b)},l=t.closest(n(".",this.settings.classNames.tag)),m=this.getNodeIndex(l),w=r(nt,l),d=this.input.normalize.call(this,t),f={[this.settings.tagTextProp]:d,__tagId:w.__tagId},g=this.validateTag(f);!this.editTagChangeDetected(i(ut,w,f))&&s(!0,t.originalIsValid)&&(g=!0),l.classList.toggle(this.settings.classNames.tagInvalid,u(!0,g)),w.__isValid=g,l.title=s(!0,g)?w.title||w.value:g,a(d.length,this.settings.dropdown.enabled)&&(this.state.editing&&(this.state.editing.value=d),this.dropdown.show(d)),this.trigger(o,{tag:l,index:m,data:c(ut,{},this.value[m],{newValue:d}),event:e})},onEditTagPaste(t,e){var n="Text",r=function(u,a){return u(a)},i=(e.clipboardData||window.clipboardData).getData(n);e.preventDefault();var s=r(Je,i);this.setRangeAtStartEnd(!1,s)},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur(t){var e={ylMnN:"1|2|0|4|3",iIFep:function(f,g){return f+g},HqSSK:function(f,g){return f(g)},qGxeH:function(f,g,p){return f(g,p)},prYxf:function(f,g,p,y){return f(g,p,y)},jAJnY:function(f,g){return f!==g},ZcwKY:function(f,g){return f===g},ulgfl:"invalid",nveGL:"aria-invalid"};if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t))for(var n=e.ylMnN.split("|"),r=0;;){switch(n[r++]){case"0":if(!w)return void this.onEditTagDone(a,m);continue;case"1":var i,s,u=this.settings,a=t.closest(e.iIFep(".",u.classNames.tag)),o=e.HqSSK(nt,a),c=this.input.normalize.call(this,t),l={[u.tagTextProp]:c,__tagId:o.__tagId},m=o.__originalData,w=this.editTagChangeDetected(e.qGxeH(ut,o,l)),d=this.validateTag(l);continue;case"2":if(!c)return void this.onEditTagDone(a);continue;case"3":this.onEditTagDone(a,s);continue;case"4":if(i=this.hasMaxTags(),s=e.prYxf(ut,{},m,{[u.tagTextProp]:this.trim(c),__isValid:d}),u.transformTag.call(this,s,m),e.jAJnY(!0,d=(!i||e.ZcwKY(!0,m.__isValid))&&this.validateTag(s))){if(this.trigger(e.ulgfl,{data:s,tag:a,message:d}),u.editTags.keepInvalid)return;u.keepInvalidTags?s.__isValid=d:s=m}else u.keepInvalidTags&&(delete s.title,delete s[e.nveGL],delete s.class);continue}break}},onEditTagkeydown(t,e){var n="edit:keydown",r="Esc",i="Escape",s="Enter",u="Tab";if(!this.state.composing)switch(this.trigger(n,{event:t}),t.key){case r:case i:e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e),this.state.editing=!1;case s:case u:t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,n,r=function(d,f){return d+f},i=function(d,f){return d(f)},s=function(d,f){return d===f},u="readonly",a=function(d,f){return d!=f},o="select",c="dblclick",l=t.target.closest(r(".",this.settings.classNames.tag)),m=i(nt,l),w=this.settings;!l||!w.userInput||s(!1,m.editable)||(e=l.classList.contains(this.settings.classNames.tagEditing),n=l.hasAttribute(u),a(o,w.mode)&&!w.readonly&&!e&&!n&&this.settings.editTags&&this.editTag(l),this.toggleFocusClass(!0),this.trigger(c,{tag:l,index:this.getNodeIndex(l),data:i(nt,l)}))},onInputDOMChange(t){var e={NZmsw:function(r,i){return r==i},qDrxQ:"<div><br></div>",nvnBa:function(r,i){return r==i},yTfqv:function(r,i){return r!=i},scebu:function(r,i){return r(i)},CEFtg:function(r,i){return r==i},LiORl:function(r,i){return r+i},EoLyr:function(r,i){return r(i)},KUnwy:function(r,i){return r==i},PPpZP:function(r,i){return r!=i}};t.forEach(r=>{var i={PpfXC:function(s,u){return e.NZmsw(s,u)},RrGQR:e.qDrxQ,aLLPy:function(s,u){return e.NZmsw(s,u)},hwFhp:function(s,u){return e.nvnBa(s,u)},VKoYj:function(s,u){return e.yTfqv(s,u)},ImDRs:function(s,u){return e.scebu(s,u)},DiYHB:function(s,u){return e.CEFtg(s,u)},LPbIx:function(s,u){return e.LiORl(s,u)},NujJP:function(s,u){return e.EoLyr(s,u)},ZIWkY:function(s,u){return e.CEFtg(s,u)}};r.addedNodes.forEach(s=>{var u;if(i.PpfXC(i.RrGQR,s.outerHTML))s.replaceWith(document.createElement("br"));else if(i.aLLPy(1,s.nodeType)&&s.querySelector(this.settings.classNames.tagSelector)){let a=document.createTextNode("");i.hwFhp(3,s.childNodes[0].nodeType)&&i.VKoYj("BR",s.previousSibling.nodeName)&&(a=document.createTextNode(`
`)),s.replaceWith(a,...[...s.childNodes].slice(0,-1)),i.ImDRs(Gt,a)}else if(Jt.call(this,s))if(i.hwFhp(3,i.DiYHB(null,u=s.previousSibling)?void 0:u.nodeType)&&!s.previousSibling.textContent&&s.previousSibling.remove(),s.previousSibling&&i.DiYHB("BR",s.previousSibling.nodeName)){s.previousSibling.replaceWith(i.LPbIx(`
`,Ae));let a=s.nextSibling,o="";for(;a;)o+=a.textContent,a=a.nextSibling;o.trim()&&i.NujJP(Gt,s.previousSibling)}else(!s.previousSibling||i.ImDRs(nt,s.previousSibling))&&s.before(Ae)}),r.removedNodes.forEach(s=>{s&&i.ZIWkY("BR",s.nodeName)&&Jt.call(this,n)&&(this.removeTags(n),this.fixFirefoxLastTagNoCaret())})});var n=this.DOM.input.lastChild;n&&e.KUnwy("",n.nodeValue)&&n.remove(),(!n||e.PPpZP("BR",n.nodeName))&&this.DOM.input.appendChild(document.createElement("br"))}}};function fe(t,e){var n="Tagify:",r="input element not found",i="Tagify: ",s="input element is already Tagified - Same instance is returned.",u=function(l,m,w){return l(m,w)},a=function(l,m){return l(m)},o=function(l,m){return l||m},c=function(l,m){return l(m)};if(!t){console.warn(n,r,t);const l=new Proxy(this,{get:()=>()=>l});return l}if(t.__tagify)return console.warn(i,s,t),t.__tagify;u(ut,this,a(or,this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=o(e,{}),this.getPersistedData=a(tr,e.id),this.setPersistedData=a(er,e.id),this.clearPersistedData=c(nr,e.id),this.applySettings(t,e),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),Rn.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}fe.prototype={_dropdown:$n,getSetTagData:nt,helpers:{sameStr:Rt,removeCollectionProp:Ue,omit:Se,isObject:Pt,parseHTML:Ie,escapeHTML:Kt,extend:ut,concatWithoutDups:Ge,getUID:qe,isNodeTag:Jt},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(t){var e=function(r,i){return r==i},n="string";return this.settings.trim&&t&&e(n,typeof t)?t.trim():t},parseHTML:Ie,templates:ir,parseTemplate(t,e){var n,r;return n=Ie,r=(t=this.settings.templates[t]||t).apply(this,e),n(r)},set whitelist(t){const e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(t){var e=function(r,i){return r+i},n="Selector";for(let r in t){let i=r;Object.defineProperty(t,e(i,n),{get(){return e(".",this[i].split(" ")[0])}})}},applySettings(t,e){var n,r,i={tqiAi:function(o,c){return o+c},lnMwO:"data-",PMgPY:function(o,c){return o instanceof c},YzTKZ:function(o,c,l,m){return o(c,l,m)},OmjRr:function(o,c){return o==c},JangG:"mix",EoXKT:"text",afdOQ:"disabled",hNSWc:"readonly",CfBqa:function(o,c){return o(c)},pCfPZ:"placeholder",TElEv:"required",GfgDF:function(o,c){return o===c},FcOnJ:"whitelist",khsbt:"blacklist",qASaV:function(o,c){return o in c},DBHmV:"autoComplete",jbvle:function(o,c){return o(c)},OtibQ:function(o,c){return o==c},ovLZZ:"select",pQmlA:function(o,c){return o!=c},LNnrj:function(o,c){return o==c},UHDrX:function(o,c,l){return o(c,l)}};_e.templates=this.templates;var s=i.YzTKZ(ut,{},_e,i.OmjRr(i.JangG,e.mode)?{dropdown:{position:i.EoXKT}}:{}),u=this.settings=i.YzTKZ(ut,{},s,e);if(u.disabled=t.hasAttribute(i.afdOQ),u.readonly=u.readonly||t.hasAttribute(i.hNSWc),u.placeholder=i.CfBqa(Kt,t.getAttribute(i.pCfPZ)||u.placeholder||""),u.required=t.hasAttribute(i.TElEv),this.generateClassSelectors(u.classNames),i.GfgDF(void 0,u.dropdown.includeSelectedTags)&&(u.dropdown.includeSelectedTags=u.duplicates),this.isIE&&(u.autoComplete=!1),[i.FcOnJ,i.khsbt].forEach(o=>{var c=t.getAttribute(i.tqiAi(i.lnMwO,o));c&&i.PMgPY(c=c.split(u.delimiters),Array)&&(u[o]=c)}),i.qASaV(i.DBHmV,e)&&!i.jbvle(Pt,e.autoComplete)&&(u.autoComplete=_e.autoComplete,u.autoComplete.enabled=e.autoComplete),i.OmjRr(i.JangG,u.mode)&&(u.pattern=u.pattern||/@/,u.autoComplete.rightKey=!0,u.delimiters=e.delimiters||null,u.tagTextProp&&!u.dropdown.searchKeys.includes(u.tagTextProp)&&u.dropdown.searchKeys.push(u.tagTextProp)),t.pattern)try{u.pattern=new RegExp(t.pattern)}catch{}if(u.delimiters){u._delimiters=u.delimiters;try{u.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}u.disabled&&(u.userInput=!1),this.TEXTS={...rr,...u.texts||{}},(i.OtibQ(i.ovLZZ,u.mode)&&!(i.pQmlA(null,n=e.dropdown)&&n.enabled)||!u.userInput)&&(u.dropdown.enabled=0),u.dropdown.appendTarget=(i.LNnrj(null,r=e.dropdown)?void 0:r.appendTarget)||document.body;let a=this.getPersistedData(i.FcOnJ);Array.isArray(a)&&(this.whitelist=Array.isArray(u.whitelist)?i.UHDrX(Ge,u.whitelist,a):a)},getAttributes(t){var e,n=function(a,o){return a+o},r=function(a,o){return a+o},i=function(a,o){return a!==o},s=this.getCustomAttributes(t),u="";for(e in s)u+=n(r(" ",e),i(void 0,t[e])?'="'+s[e]+'"':"");return u},getCustomAttributes(t){var e=function(a,o){return a!=o},n="class",r=function(a,o){return a!==o},i=function(a,o){return a(o)};if(!function(a,o){return a(o)}(Pt,t))return"";var s,u={};for(s in t)e("__",s.slice(0,2))&&e(n,s)&&t.hasOwnProperty(s)&&r(void 0,t[s])&&(u[s]=i(Kt,t[s]));return u},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars(){var t,e="tag-hide-transition",n=function(i,s){return i+s},r=function(i,s,u){return i(s,u)}(getComputedStyle,this.DOM.scope,null);this.CSSVars={tagHideTransition:(({value:i,unit:s})=>s=="s"?1e3*i:i)(function(i){if(!i)return{};var s=(i=i.trim().split(" ")[0]).split(/\d+/g).filter(u=>u).pop().trim();return{value:+i.split(s).filter(u=>u)[0].trim(),unit:s}}((t=e,r.getPropertyValue(n("--",t)))))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1)},destroy(){var t=function(n,r){return n(r)},e=function(n,r){return n(r)};this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),t(clearTimeout,this.dropdownHide__bindEventsTimeout),e(clearInterval,this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(t){var e,n=function(m,w){return m===w},r="value",i=function(m,w){return m==w},s="mix",u=function(m,w){return m!=w},a="beforeend",o="<br>",c=function(m,w){return m instanceof w},l=this.settings;if(this.state.blockChangeEvent=!0,n(void 0,t)){const m=this.getPersistedData(r);t=m&&!this.DOM.originalInput.value?m:l.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if(i(s,l.mode))this.parseMixTags(t),(!(e=this.DOM.input.lastChild)||u("BR",e.tagName))&&this.DOM.input.insertAdjacentHTML(a,o);else{try{c(JSON.parse(t),Array)&&(t=JSON.parse(t))}catch{}this.addTags(t,!0).forEach(m=>m&&m.classList.add(l.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=l.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(t){var e=function(s,u){return s!=u},n="path",r={};for(var i in t)e(n,i)&&(r[i]=t[i]);return r},loading(t){var e="add",n="remove";return this.state.isLoading=t,this.DOM.scope.classList[t?e:n](this.settings.classNames.scopeLoading),this},tagLoading(t,e){var n="add",r="remove";return t&&t.classList[e?n:r](this.settings.classNames.tagLoading),this},toggleClass(t,e){(function(n,r){return n==r})("string",typeof t)&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation(t){var e=function(i,s){return i===s},n=function(i,s){return i===s},r=e(!0,t)||e(void 0,t);!this.settings.required&&t&&n(t,this.TEXTS.empty)&&(r=!0),this.toggleClass(this.settings.classNames.tagInvalid,!r),this.DOM.scope.title=r?"":t},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:ar,events:sr,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(t,e){var n={oybnf:function(i,s){return i==s},tacMe:"number",DBIpm:function(i,s){return i instanceof s},IiWIL:function(i,s){return i>=s},aICRT:"Start",rICaX:"End"};if(e){t=n.oybnf(n.tacMe,typeof t)?t:!!t,e=e.lastChild||e;var r=document.getSelection();if(n.DBIpm(r.focusNode,Element)&&!this.DOM.input.contains(r.focusNode))return!0;try{n.IiWIL(r.rangeCount,1)&&[n.aICRT,n.rICaX].forEach(i=>r.getRangeAt(0)["set"+i](e,t||e.length))}catch{}}},insertAfterTag(t,e){var n=function(i,s){return i==s},r="string";if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e=n(r,typeof e)?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected(t){var e=function(i,s){return i!=s},n=t.__originalData;for(var r in n)if(!this.dataProps.includes(r)&&e(t[r],n[r]))return!0;return!1},getTagTextNode(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(t,e){this.getTagTextNode(t).innerHTML=Kt(e)},editTag(t,e){for(var n={dMqZv:"0|4|1|3|2",zgDls:function(d,f){return d(f)},PCzNd:function(d,f){return d(f)},dpSRi:"Cannot find element in Tag template: .",HjERy:function(d,f){return d instanceof f},cANLe:function(d,f){return d in f},wpZuV:"editable",KvLYP:function(d,f,g){return d(f,g)},fQmqX:function(d,f,g){return d(f,g)},deKXZ:"contenteditable",KOTWY:"focus",ySbyl:"blur",yDgpE:"input",tgtte:"paste",vShVf:"keydown",BzZTX:"compositionstart",wBCYp:"compositionend",falQf:"edit:start",dMvdo:function(d,f){return d||f}},r=n.dMqZv.split("|"),i=0;;){switch(r[i++]){case"0":var s={ZVLyq:function(d,f){return n.zgDls(d,f)}};continue;case"1":var u=this.settings,a=this.getTagTextNode(t),o=this.getNodeIndex(t),c=n.PCzNd(nt,t),l=this.events.callbacks,m=this,w=!0;continue;case"2":console.warn(n.dpSRi,u.classNames.tagTextSelector);continue;case"3":if(a)return n.HjERy(c,Object)&&n.cANLe(n.wpZuV,c)&&!c.editable?void 0:(c=n.KvLYP(nt,t,{__originalData:n.fQmqX(ut,{},c),__originalHTML:t.cloneNode(!0)}),n.KvLYP(nt,c.__originalHTML,c.__originalData),a.setAttribute(n.deKXZ,!0),t.classList.add(u.classNames.tagEditing),a.addEventListener(n.KOTWY,l.onEditTagFocus.bind(this,t)),a.addEventListener(n.ySbyl,function(){s.ZVLyq(setTimeout,()=>l.onEditTagBlur.call(m,m.getTagTextNode(t)))}),a.addEventListener(n.yDgpE,l.onEditTagInput.bind(this,a)),a.addEventListener(n.tgtte,l.onEditTagPaste.bind(this,a)),a.addEventListener(n.vShVf,d=>l.onEditTagkeydown.call(this,d,t)),a.addEventListener(n.BzZTX,l.onCompositionStart.bind(this)),a.addEventListener(n.wBCYp,l.onCompositionEnd.bind(this)),e.skipValidation||(w=this.editTagToggleValidity(t)),a.originalIsValid=w,this.trigger(n.falQf,{tag:t,index:o,data:c,isValid:w}),a.focus(),this.setRangeAtStartEnd(!1,a),this);continue;case"4":t=t||this.getLastTag(),e=n.dMvdo(e,{}),this.dropdown.hide();continue}break}},editTagToggleValidity(t,e){var n,r=function(a,o){return a in o},i="__isValid",s=function(a,o){return a===o},u="tag has no data: ";if(e=e||function(a,o){return a(o)}(nt,t))return(n=!r(i,e)||s(!0,e.__isValid))||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!n),e.__isValid=n,e.__isValid;console.warn(u,t,e)},onEditTagDone(t,e){var n=function(u,a){return u(a)},r="edit:beforeUpdate",i="edit:updated";e=function(u,a){return u||a}(e,{});var s={tag:t=t||this.state.editing.scope,index:this.getNodeIndex(t),previousData:n(nt,t),data:e};this.trigger(r,s,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&e[this.settings.tagTextProp]?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),this.settings.a11y.focusableTags?t.focus():n(Gt,t)):t&&this.removeTags(t),this.trigger(i,s),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){var n=function(s,u){return s!=u},r=function(s,u,a){return s(u,a)};(!e||!e.value)&&(e=t.__tagifyTagData),e.__isValid&&n(1,e.__isValid)&&r(ut,e,this.getInvalidTagAttrs(e,e.__isValid));var i=this.createTagElem(e);return t.parentNode.replaceChild(i,t),this.updateValueByDOMTags(),i},updateValueByDOMTags(){var t=function(e,n){return e(n)};this.value.length=0,[].forEach.call(this.getTagElms(),e=>{e.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(t(nt,e))}),this.update()},injectAtCaret(t,e){var n,r=function(i,s,u){return i(s,u)};return!(e=e||(function(i,s){return i==s}(null,n=this.state.selection)?void 0:n.range))&&t?(this.appendMixTags(t),this):(r(Je,t,e),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this)},input:{set(t="",e=!0){var n=function(u,a){return u(a)},r=function(u,a){return u+a},i=function(u,a){return u&&a},s=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=n(Kt,r("",t))),i(!t,s)&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var t,e,n=!this.state.inputText||(t=!0,e=this.validateTag({value:this.state.inputText}),t===e);return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!n),n},normalize(t){var e=t||this.DOM.input,n=[];e.childNodes.forEach(r=>r.nodeType==3&&n.push(r.nodeValue)),n=n.join(`
`);try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return n=n.replace(/\s/g," "),this.trim(n)},autocomplete:{suggest(t){var e=function(m,w){return m==w},n="string",r=function(m,w){return m||w},i=function(m,w){return m!=w},s="number",u=function(m,w){return m==w},a="data-suggest";if(this.settings.autoComplete.enabled){e(n,typeof(t=r(t,{value:""})))&&(t={value:t});var o=this.dropdown.getMappedValue(t);if(i(s,typeof o)){var c=o.substr(0,this.state.inputText.length).toLowerCase(),l=o.substring(this.state.inputText.length);o&&this.state.inputText&&u(c,this.state.inputText.toLowerCase())?(this.DOM.input.setAttribute(a,l),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute(a),delete this.state.inputSuggestion)}}},set(t){var e="data-suggest",n=function(a,o){return a+o},r=function(a,o){return a==o},i="mix",s=this.DOM.input.getAttribute(e),u=t||(s?n(this.state.inputText,s):null);return!!u&&(r(i,this.settings.mode)?this.replaceTextWithNode(document.createTextNode(n(this.state.tag.prefix,u))):(this.input.set.call(this,u),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(t){return this.value.findIndex(e=>e.__tagId==(t||{}).__tagId)},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(...t){var e,n,r=(e=".",n=[...this.settings.classNames.tag.split(" "),...t].join("."),e+n);return[].slice.call(this.DOM.scope.querySelectorAll(r))},getLastTag(){var t,e,n=this.DOM.scope.querySelectorAll(this.settings.classNames.tagSelector+":not(."+this.settings.classNames.tagHide+"):not([readonly])");return n[t=n.length,e=1,t-e]},isTagDuplicate(t,e,n){var r=function(a,o,c,l){return a(o,c,l)},i=function(a,o){return a+o},s=function(a,o){return a!=o},u=0;if(function(a,o){return a==o}("select",this.settings.mode))return!1;for(let a of this.value)r(Rt,this.trim(i("",t)),a.value,e)&&s(n,a.__tagId)&&u++;return u},getTagIndexByValue(t){var e=function(i,s,u,a){return i(s,u,a)},n=[],r=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((i,s)=>{i.__tagifyTagData&&e(Rt,this.trim(i.__tagifyTagData.value),t,r)&&n.push(s)}),n},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{t.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter(e=>(""+e).toLowerCase()==t).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,n){var r=function(l,m){return l==m},i="string",s=function(l,m,w,d,f){return l(m,w,d,f)},u="value",a=function(l,m){return l!=m};e=function(l,m){return l||m}(e,u);var o,c=this.settings;return(n=n||c.whitelist).some(l=>{var m=r(i,typeof l)?l:l[e]||l.value;if(s(Rt,m,t,c.dropdown.caseSensitive,c.trim))return o=r(i,typeof l)?{value:l}:l,!0}),!o&&r(u,e)&&a(u,c.tagTextProp)&&(o=this.getWhitelistItem(t,c.tagTextProp,n)),o},validateTag(t){var e=function(m,w){return m in w},n="value",r=function(m,w){return m+w},i=function(m,w){return m+w},s=function(m,w){return m!=w},u="mix",a=function(m,w){return m instanceof w},o=this.settings,c=e(n,t)?n:o.tagTextProp,l=this.trim(r(t[c],""));return i(t[c],"").trim()?s(u,o.mode)&&o.pattern&&a(o.pattern,RegExp)&&!o.pattern.test(l)?this.TEXTS.pattern:!o.duplicates&&this.isTagDuplicate(l,o.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(l)||o.enforceWhitelist&&!this.isTagWhitelisted(l)?this.TEXTS.notAllowed:!o.validate||o.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{"aria-invalid":!0,class:((t.class||"")+" "+this.settings.classNames.tagNotAllowed).trim(),title:e}},hasMaxTags(){var t,e;return t=this.value.length,e=this.settings.maxTags,t>=e&&this.TEXTS.exceed},setReadonly(t,e){var n=function(l,m){return l||m},r="readonly",i=function(l,m){return l+m},s="set",u="remove",a="Attribute",o=function(l,m){return l||m},c=this.settings;document.activeElement.blur(),c[n(e,r)]=t,this.DOM.scope[i(t?s:u,a)](o(e,r),!0),this.settings.userInput=!0,this.setContentEditable(!t)},setContentEditable(t){this.settings.userInput&&(this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1)},setDisabled(t){this.setReadonly(t,"disabled")},normalizeTags(t){var e=function(F,O){return F>O},n=function(F,O){return F instanceof O},r=function(F,O){return F!=O},i="mix",s=function(F,O){return F==O},u=function(F,O){return F instanceof O},a=function(F,O){return F==O},o="number",c=function(F,O){return F==O},l="string",m=function(F,O){return F(O)},w=function(F,O){return F&&O},{whitelist:d,delimiters:f,mode:g,tagTextProp:p}=this.settings,y=[],D=!!d&&u(d[0],Object),b=Array.isArray(t),v=b&&t[0].value,C=F=>(F+"").split(f).filter(O=>O).map(O=>({[p]:this.trim(O),value:this.trim(O)}));if(a(o,typeof t)&&(t=t.toString()),c(l,typeof t)){if(!t.trim())return[];t=m(C,t)}else b&&(t=[].concat(...t.map(F=>F.value!=null?F:C(F))));return w(D,!v)&&(t.forEach(F=>{var O=y.map(M=>M.value),P=this.dropdown.filterListItems.call(this,F[p],{exact:!0});this.settings.duplicates||(P=P.filter(M=>!O.includes(M.value)));var A=e(P.length,1)?this.getWhitelistItem(F[p],p,P):P[0];A&&n(A,Object)?y.push(A):r(i,g)&&(s(null,F.value)&&(F.value=F[p]),y.push(F))}),y.length&&(t=y)),t},parseMixTags(t,e){for(var n={TZSdZ:"5|0|1|3|2|4",LaWWo:function(f,g,p){return f(g,p)},Clwrq:function(f,g){return f==g},PdnDL:function(f,g){return f>g},JKNEM:function(f,g){return f&&g},NIjQA:function(f,g){return f+g},gRwiE:"value"},r=n.TZSdZ.split("|"),i=0;;){switch(r[i++]){case"0":var{mixTagsInterpolator:s,duplicates:u,transformTag:a,enforceWhitelist:o,maxTags:c,tagTextProp:l}=this.settings,m=[];continue;case"1":if(t=t.split(s[0]).map((f,g)=>{var p,y,D,b=f.split(s[1]),v=b[0],C=d.BhzUR(m.length,c);try{if(d.BhzUR(v,+v))throw Error;y=JSON.parse(v)}catch{y=this.normalizeTags(v)[0]||{value:v}}if(a.call(this,y),C||!d.ZovAf(b.length,1)||o&&!this.isTagWhitelisted(y.value)||d.QKwAk(!u,!e)&&this.isTagDuplicate(y.value)){if(f)return g?d.hvEXT(s[0],f):f}else y[p=y[l]?l:d.XcBDC]=this.trim(y[p]),D=this.createTagElem(y),m.push(y),D.classList.add(this.settings.classNames.tagNoAnimation),b[0]=D.outerHTML,this.value.push(y);return b.join("")}).join(""),e)return t;continue;case"2":var w=this.getTagElms();continue;case"3":this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();continue;case"4":return w.forEach((f,g)=>nt(f,m[g])),this.update({withoutChangeEvent:!0}),n.LaWWo(We,w,this.state.hasFocus),t;case"5":var d={BhzUR:function(f,g){return n.Clwrq(f,g)},ZovAf:function(f,g){return n.PdnDL(f,g)},QKwAk:function(f,g){return n.JKNEM(f,g)},hvEXT:function(f,g){return n.NIjQA(f,g)},XcBDC:n.gRwiE};continue}break}},replaceTextWithNode(t,e){var n=function(l,m){return l+m},r=function(l,m){return l-m},i=function(l,m){return l==m};if(this.state.tag||e){e=e||n(this.state.tag.prefix,this.state.tag.value);var s,u,a=this.state.selection||window.getSelection(),o=a.anchorNode,c=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return o.splitText(r(a.anchorOffset,c)),i(-1,s=o.nodeValue.lastIndexOf(e))||(u=o.splitText(s),t&&o.parentNode.replaceChild(t,u)),!0}},selectTag(t,e){var n=function(u,a){return u(a)},r="add",i=this.settings;if(!i.enforceWhitelist||this.isTagWhitelisted(e.value)){this.input.set.call(this,e[i.tagTextProp]||e.value,!0),this.state.actions.selectOption&&n(setTimeout,()=>this.setRangeAtStartEnd(!1,this.DOM.input));var s=this.getLastTag();return s?this.replaceTag(s,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger(r,{tag:t,data:e}),[t]}},addEmptyTag(t){var e=function(i,s,u){return i(s,u)},n=e(ut,{value:""},function(i,s){return i||s}(t,{})),r=this.createTagElem(n);e(nt,r,n),this.appendTag(r),this.editTag(r,{skipValidation:!0})},addTags(t,e,n){for(var r={wGcWG:"3|2|0|1|4",KxvTb:function(m,w){return m==w},qpNtF:"mix",CAebI:"select",REXwm:function(m,w){return m+w},TTNAM:function(m,w){return m!==w},HyxkF:function(m,w,d,f){return m(w,d,f)},GEAVd:function(m,w){return m in w},vcTGd:"readonly",MOMqV:"aria-readonly",aIEcW:function(m,w){return m==w},jqcCg:function(m,w){return m===w},vDeqb:"add",ByWbu:function(m,w){return m-w},phRvK:"invalid",jTKWF:function(m,w,d){return m(w,d)},zNQFq:"style"},i=r.wGcWG.split("|"),s=0;;){switch(i[s++]){case"0":if(n=n||a.skipInvalid,!t||r.KxvTb(0,t.length))return u;continue;case"1":switch(t=this.normalizeTags(t),a.mode){case r.qpNtF:return this.addMixTags(t);case r.CAebI:e=!1,this.removeAllTags()}continue;case"2":var u=[],a=this.settings,o=[],c=document.createDocumentFragment();continue;case"3":var l={Umxzq:function(m,w){return r.REXwm(m,w)},crFye:function(m,w){return r.TTNAM(m,w)},LAxMp:function(m,w,d,f){return r.HyxkF(m,w,d,f)},YIiMR:function(m,w){return r.KxvTb(m,w)},QntkB:function(m,w){return r.GEAVd(m,w)},EDerx:r.vcTGd,AHoKE:r.MOMqV,mSWWU:function(m,w){return r.aIEcW(m,w)},bchVK:r.CAebI,DDqMF:function(m,w){return r.jqcCg(m,w)},ZYkNs:r.vDeqb,cbjvg:function(m,w){return r.ByWbu(m,w)},GzQYj:r.phRvK,PYCvW:function(m,w,d){return r.jTKWF(m,w,d)}};continue;case"4":return this.DOM.input.removeAttribute(r.zNQFq),t.forEach(m=>{var w,d={},f=Object.assign({},m,{value:l.Umxzq(m.value,"")});if(m=Object.assign({},f),a.transformTag.call(this,m),m.__isValid=this.hasMaxTags()||this.validateTag(m),l.crFye(!0,m.__isValid)){if(n)return;if(l.LAxMp(ut,d,this.getInvalidTagAttrs(m,m.__isValid),{__preInvalidData:f}),l.YIiMR(m.__isValid,this.TEXTS.duplicate)&&this.flashTag(this.getTagElmByValue(m.value)),!a.createInvalidTags)return void o.push(m.value)}if(l.QntkB(l.EDerx,m)&&(m.readonly?d[l.AHoKE]=!0:delete m.readonly),w=this.createTagElem(m,d),u.push(w),l.mSWWU(l.bchVK,a.mode))return this.selectTag(w,m);c.appendChild(w),m.__isValid&&l.DDqMF(!0,m.__isValid)?(this.value.push(m),this.trigger(l.ZYkNs,{tag:w,index:l.cbjvg(this.value.length,1),data:m})):(this.trigger(l.GzQYj,{data:m,index:this.value.length,tag:w,message:m.__isValid}),a.keepInvalidTags||l.PYCvW(setTimeout,()=>this.removeTags(w,!0),1e3)),this.dropdown.position()}),this.appendTag(c),this.update(),t.length&&e&&(this.input.set.call(this,a.createInvalidTags?"":o.join(a._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),a.dropdown.enabled&&this.dropdown.refilter(),u}break}},addMixTags(t){if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var e=document.createDocumentFragment();return t.forEach(n=>{var r=this.createTagElem(n);e.appendChild(r)}),this.appendMixTags(e),e},appendMixTags(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(t){var e,n=function(o,c,l){return o(c,l)},r=function(o,c,l,m){return o(c,l,m)},i="add",s=this.settings,u=this.state.tag.delimiters;if(s.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(s.pattern.source||s.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),n(setTimeout,()=>e.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(t),this.update(),!u){var a=this.insertAfterTag(e)||e;r(setTimeout,Gt,0,a)}return this.state.tag=null,this.trigger(i,r(ut,{},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,n=e.input;e.scope.insertBefore(t,n)},createTagElem(t,e){var n=function(m){return m()},r=function(m,w,d,f){return m(w,d,f)},i=function(m,w){return m(w)},s=function(m,w){return m+w},u=function(m,w){return m(w)},a="tag",o=function(m,w,d){return m(w,d)};t.__tagId=n(qe);var c,l=r(ut,{},t,{value:i(Kt,s(t.value,"")),...e});return u(Wn,c=this.parseTemplate(a,[l,this])),o(nt,c,t),c},reCheckInvalidTags(){var t=function(u,a){return u(a)},e=function(u,a){return u===a},n=function(u,a){return u==a},r="select",i=function(u,a){return u||a},s=this.settings;this.getTagElms(s.classNames.tagNotAllowed).forEach((u,a)=>{var o=t(nt,u),c=this.hasMaxTags(),l=this.validateTag(o),m=e(!0,l)&&!c;if(n(r,s.mode)&&this.toggleScopeValidation(l),m)return o=o.__preInvalidData?o.__preInvalidData:{value:o.value},this.replaceTag(u,o);u.title=i(c,l)})},removeTags(t,e,n){var r,i=function(v,C){return v==C},s="string",u=function(v,C){return v(C)},a=function(v,C){return v&&C},o=function(v,C,F){return v(C,F)},c=function(v,C){return v+C},l=function(v,C,F,O){return v(C,F,O)},m="remove",w=function(v,C){return v>C},d="select",f=function(v,C){return v instanceof C},g=function(v,C){return v instanceof C},p=function(v,C){return v==C},y="number",D=function(v,C){return v!=C},b=this.settings;if(t=t&&f(t,HTMLElement)?[t]:g(t,Array)?t:t?[t]:[this.getLastTag()],r=t.reduce((v,C)=>{C&&i(s,typeof C)&&(C=this.getTagElmByValue(C));var F=u(nt,C);return a(C,F)&&!F.readonly&&v.push({node:C,idx:this.getTagIdx(F),data:o(nt,C,{__removed:!0})}),v},[]),n=p(y,typeof n)?n:this.CSSVars.tagHideTransition,i(d,b.mode)&&(n=0,this.input.set.call(this)),i(1,r.length)&&D(d,b.mode)&&r[0].node.classList.contains(b.classNames.tagNotAllowed)&&(e=!0),r.length)return b.hooks.beforeRemoveTag(r,{tagify:this}).then(()=>{var v={hoKBj:m};function C(F){F.node.parentNode&&(F.node.parentNode.removeChild(F.node),e?b.keepInvalidTags&&this.trigger(v.hoKBj,{tag:F.node,index:F.idx}):(this.trigger(v.hoKBj,{tag:F.node,index:F.idx,data:F.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),b.keepInvalidTags&&this.reCheckInvalidTags()))}n&&w(n,10)&&i(1,r.length)?(function(F){F.node.style.width=c(u(parseFloat,window.getComputedStyle(F.node).width),"px"),document.body.clientTop,F.node.classList.add(b.classNames.tagHide),l(setTimeout,C.bind(this),n,F)}).call(this,r[0]):r.forEach(C.bind(this)),e||(this.removeTagsFromValue(r.map(F=>F.node)),this.update(),i(d,b.mode)&&this.setContentEditable(!0))}).catch(v=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(t=>t.parentNode.removeChild(t))},removeTagsFromValue(t){var e=function(r,i){return r(i)},n=function(r,i){return r>i};(t=Array.isArray(t)?t:[t]).forEach(r=>{var i=e(nt,r),s=this.getTagIdx(i);n(s,-1)&&this.value.splice(s,1)})},removeAllTags(t){var e=function(u,a){return u==a},n="mix",r=function(u,a){return u(a)},i=function(u,a){return u==a},s="select";t=function(u,a){return u||a}(t,{}),this.value=[],e(n,this.settings.mode)?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&r(setTimeout,()=>{this.DOM.input.focus()}),i(s,this.settings.mode)&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(t)},postUpdate(){var t,e,n=function(m,w){return m==w},r="mix",i=function(m,w){return m+w},s=function(m,w){return m>=w},u="select",a=function(m,w){return m==w};this.state.blockChangeEvent=!1;var o=this.settings,c=o.classNames,l=n(r,o.mode)?o.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():i(this.value.length,this.input.raw.call(this).length);this.toggleClass(c.hasMaxTags,s(this.value.length,o.maxTags)),this.toggleClass(c.hasNoTags,!this.value.length),this.toggleClass(c.empty,!l),n(u,o.mode)&&this.toggleScopeValidation(n(null,e=a(null,t=this.value)?void 0:t[0])?void 0:e.__isValid)},setOriginalInputValue(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,"value"))},update(t){var e=function(r,i){return r||i},n=function(r,i,s){return r(i,s)};(function(r,i){r(i)})(clearTimeout,this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=n(setTimeout,(function(){var r=this.getInputValue();this.setOriginalInputValue(r),(!this.settings.onChangeAfterBlur||!e(t,{}).withoutChangeEvent)&&!this.state.blockChangeEvent&&this.triggerChangeEvent(),this.postUpdate()}).bind(this),100)},getInputValue(){var t=function(r,i){return r==i},e="mix",n=this.getCleanValue();return t(e,this.settings.mode)?this.getMixedTagsAsString(n):n.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(n):JSON.stringify(n):""},getCleanValue(t){var e,n,r;return e=Ue,n=t||this.value,r=this.dataProps,e(n,r)},getMixedTagsAsString(){var t=function(f,g){return f==g},e=function(f,g){return f(g)},n=function(f,g){return f==g},r=function(f,g){return f+g},i=function(f,g){return f+g},s=function(f,g){return f(g)},u=function(f,g,p){return f(g,p)},a="style",o="DIV",c="",l=this,m=this.settings,w=m.originalInputValueFormat||JSON.stringify,d=m.mixTagsInterpolator;return function f(g){g.childNodes.forEach(p=>{if(t(1,p.nodeType)){const y=e(nt,p);if(n("BR",p.tagName)&&(c+=`\r
`),y&&Jt.call(l,p)){if(y.__removed)return;c+=r(i(d[0],s(w,u(Se,y,l.dataProps))),d[1])}else p.getAttribute(a)||["B","I","U"].includes(p.tagName)?c+=p.textContent:(t(o,p.tagName)||t("P",p.tagName))&&(c+=`\r
`,s(f,p))}else c+=p.textContent})}(this.DOM.input),c}},fe.prototype.removeTag=fe.prototype.removeTags;const st=t=>t,ur=(t,e)=>{var n=function(i,s){return i(s)};const r=i=>typeof i=="string"?i:JSON.stringify(i);return function(i,s){return i==s}(function(i,s){return i(s)}(r,t),n(r,e))},cr=({name:t,value:e,loading:n=!1,onInput:r=st,onAdd:i=st,onRemove:s=st,onEditInput:u=st,onEditBeforeUpdate:a=st,onEditUpdated:o=st,onEditStart:c=st,onEditKeydown:l=st,onInvalid:m=st,onClick:w=st,onKeydown:d=st,onFocus:f=st,onBlur:g=st,onChange:p=st,onDropdownShow:y=st,onDropdownHide:D=st,onDropdownSelect:b=st,onDropdownScroll:v=st,onDropdownNoMatch:C=st,onDropdownUpdated:F=st,readOnly:O,disabled:P,children:A,settings:M={},InputMode:S="input",autoFocus:L,className:K,whitelist:Y,tagifyRef:z,placeholder:T="",defaultValue:B,showDropdown:G})=>{var E=function(Z,it){return Z==it},I="textarea",j="mix",H="input",x="add",N="remove",V="invalid",W="keydown",et="focus",J="blur",X="click",ht="change",jt="edit:input",R="edit:beforeUpdate",$="edit:updated",pt="edit:start",Mt="edit:keydown",at="dropdown:show",Lt="dropdown:hide",tt="dropdown:select",xt="dropdown:scroll",Vt="dropdown:noMatch",ct="dropdown:updated",rt=function(Z){return Z()},ot=function(Z){return Z()},At=function(Z,it,lt){return Z(it,lt)},Ut=function(Z,it){return Z||it},Pe=function(Z,it,lt){return Z(it,lt)},U=function(Z,it,lt){return Z(it,lt)},Q=function(Z,it,lt){return Z(it,lt)},mt=function(Z,it,lt){return Z(it,lt)},qt=function(Z,it,lt){return Z(it,lt)},Xt=function(Z,it,lt){return Z(it,lt)},Hi=function(Z,it,lt){return Z(it,lt)},Vi=function(Z,it,lt){return Z(it,lt)},Ui="div",Yi="tags-input",Ki=function(Z,it,lt){return Z(it,lt)};const Tt=ot(_.useRef),mn=rt(_.useRef),kt=ot(_.useRef),je=Ut(B,e),Gi=At(_.useMemo,()=>({ref:mn,name:t,defaultValue:A||typeof je=="string"?je:JSON.stringify(je),className:K,readOnly:O,disabled:P,autoFocus:L,placeholder:T}),[]),wn=At(_.useCallback,()=>{L&&kt.current&&kt.current.DOM.input.focus()},[kt]);return Pe(_.useEffect,()=>{E(I,S)&&(M.mode=j),Y&&Y.length&&(M.whitelist=Y);var Z=new fe(mn.current,M);return Z.on(H,r).on(x,i).on(N,s).on(V,m).on(W,d).on(et,f).on(J,g).on(X,w).on(ht,p).on(jt,u).on(R,a).on($,o).on(pt,c).on(Mt,l).on(at,y).on(Lt,D).on(tt,b).on(xt,v).on(Vt,C).on(ct,F),z&&(z.current=Z),kt.current=Z,rt(wn),()=>{Z.destroy()}},[]),U(_.useEffect,()=>{ot(wn)},[L]),Q(_.useEffect,()=>{var Z=kt.current.getInputValue();Tt.current&&!At(ur,e,Z)&&kt.current.loadOriginalValues(e)},[e,Tt.current]),mt(_.useEffect,()=>{Tt.current&&kt.current.toggleClass(K)},[K,Tt.current]),qt(_.useEffect,()=>{Tt.current&&kt.current.loading(n)},[n,Tt.current]),U(_.useEffect,()=>{Tt.current&&kt.current.setReadonly(O)},[O,Tt.current]),Xt(_.useEffect,()=>{Tt.current&&kt.current.setDisabled(P)},[P,Tt.current]),Hi(_.useEffect,()=>{var Z=kt.current;Tt.current&&(G?(Z.dropdown.show.call(Z,G),Z.toggleFocusClass(!0)):Z.dropdown.hide.call(Z))},[G,Tt.current]),Xt(_.useEffect,()=>{Tt.current=!0},[]),Vi(h.jsx,Ui,{className:Yi,children:Ki(h.jsx,S,{...Gi})})},Ze=_.memo(cr);Ze.displayName="Tags";const lr=({...t})=>h.jsx(Ze,{InputMode:"textarea",...t}),ge="-**",he="**-";function dr(t,e){return e}function Re(t){var e=function(a,o){return a===o},n=function(a,o){return a(o)},r=function(a,o){return a+o},i=function(a,o){return a(o)};const s={};t.fields.map(a=>{s[a.value]=a.transformer??dr});const u=t.rule.trim().split(ge).map(a=>{let o=a.split(he),c=o[0];if(e(0,c.trim().length))return o.join("");let l=c.trim();try{const m=JSON.parse(l);m.value&&(l=m.value)}catch{}return t.fields.find(m=>m.value===l)&&(s[l]?o[0]=s[l](t.data,l):o[0]=l),o.join("")}).join("").trim();return n(pe,r(i(le,u),t.ext??""))}function fr(t){var e=function(n,r){return n===r};return function(n,r){return n(r)}(pe,t.trim().split(ge).map(n=>{var r=n.split(he),i=r[0];if(e(0,i.trim().length))return r.join("");var s=i.trim();try{(n=JSON.parse(s)).value&&(s=n.value)}catch{}return r[0]=s,r.join(he)}).join(ge).trim())}function pe(t){return t.replace(/[\n\t]/g,"").replace(new RegExp("\\p{C}","gu"),"")}function gr(t,e,n){var r,i=function(z,T){return z(T)},s=function(z,T){return z<T},u=function(z,T){return z-T},a=function(z,T){return z&&T},o=function(z){return z()},c=function(z,T){return z===T},l=function(z,T){return z>T},m=function(z,T,B){return z(T,B)},w=function(z,T){return z!==T},d=function(z,T,B){return z(T,B)},f=function(z,T){return z===T},g=function(z,T){return z-T},p=function(z,T){return z||T},y=function(z,T){return z!==T},D=function(z){return z()},b=function(z,T){return z!==T},v=function(z,T){return z||T}(n,{}),C=v.noTrailing,F=y(void 0,C)&&C,O=v.noLeading,P=b(void 0,O)&&O,A=v.debounceMode,M=c(void 0,A)?void 0:A,S=!1,L=0;function K(){r&&i(clearTimeout,r)}function Y(){for(var z=arguments.length,T=new Array(z),B=0;s(B,z);B++)T[B]=arguments[B];var G=this,E=u(Date.now(),L);function I(){L=Date.now(),e.apply(G,T)}function j(){r=void 0}S||(a(!P,M)&&!r&&o(I),o(K),c(void 0,M)&&l(E,t)?P?(L=Date.now(),F||(r=m(setTimeout,M?j:I,t))):o(I):w(!0,F)&&(r=d(setTimeout,M?j:I,f(void 0,M)?g(t,E):t)))}return Y.cancel=function(z){var T=p(z,{}).upcomingOnly,B=y(void 0,T)&&T;D(K),S=!B},Y}function hr(t,e,n){var r=function(a,o,c,l){return a(o,c,l)},i=function(a,o){return a!==o},s=function(a,o){return a!==o},u=function(a,o){return a||o}(n,{}).atBegin;return r(gr,t,e,{debounceMode:i(!1,s(void 0,u)&&u)})}let Me=!1,$e=0;function pr(t,e){var n={OjwhO:function(w,d){return w(d)},bMUsV:function(w,d){return w===d},hWhLT:function(w){return w()},rGKRg:function(w,d,f){return w(d,f)},lvoDm:function(w,d){return w(d)},hdKyr:function(w,d){return w(d)},tkpIh:function(w,d){return w(d)},tsDoO:function(w,d,f){return w(d,f)},QyrKC:function(w,d){return w(d)},QWEBK:function(w,d){return w(d)},fjkCq:function(w,d,f){return w(d,f)},zDgbY:function(w,d,f){return w(d,f)},MKZBF:function(w,d,f){return w(d,f)},ehhiP:function(w,d,f){return w(d,f)},NaGoe:function(w,d,f){return w(d,f)},xWSEg:"vertical",BVXkF:function(w,d,f){return w(d,f)},ONOFC:"div",Ddbil:function(w,d,f){return w(d,f)},gEWVf:"bottom-bar",NfwDD:"tagify-dropdown",JkBoa:function(w,d,f){return w(d,f)},Reohz:"small",wRtal:"Choose a preset",yoodI:function(w,d,f){return w(d,f)},aBYrD:function(w,d,f){return w(d,f)},qZktY:"Insert a Field",THPoC:"tagify-example",CsPTq:function(w,d,f){return w(d,f)},LOqxt:"span",VIyhx:"example:",wddJP:"eg-txt"};const r=n.hWhLT(_.useRef);n.tsDoO(_.useImperativeHandle,e,()=>r.current);const[i,s]=n.QyrKC(_.useState,""),[u,a]=n.QWEBK(_.useState,[]),o=n.rGKRg(_.useCallback,n.fjkCq(hr,600,function(w){var d=function(g,p){return n.OjwhO(g,p)},f=w.detail.value.trim();f=f.replace(/\n/g,""),console.log(f,11),n.bMUsV(0,f.length)&&(f=t.presets[0],r.current.parseMixTags(f)),n.hWhLT(wr),t.onUpdate(n.OjwhO(pe,f)),n.rGKRg(setTimeout,()=>{d(a,r.current.getTagElms().map(g=>g.__tagifyTagData.value))},300)}),[r.current,t.presets]),c=n.tsDoO(_.useMemo,()=>r.current?t.presets.map(w=>({key:w,label:h.jsx("div",{dangerouslySetInnerHTML:{__html:r.current.parseMixTags(w,!0)}}),onClick:d=>{n.lvoDm(s,d.key),n.hdKyr(o,{detail:{value:d.key}})}})):[],[t.presets,r.current,o]),l=n.rGKRg(_.useMemo,()=>r.current?t.fields.map(w=>{var d=w.value;return{key:d,label:d,disabled:u.includes(d),onClick:f=>{r.current.addTags([f.key])}}}):[],[t.fields,r.current,u]),m=n.zDgbY(_.useMemo,()=>({pattern:/@/,placeholder:"Input naming rule",editTags:!1,enforceWhitelist:!0,tagTextProp:"label",whitelist:t.fields,mixTagsInterpolator:[ge,he],duplicates:!1,autoComplete:{enable:!1},dropdown:{enabled:!1},userInput:!1,...t.tagifySettings??{}}),[t.tagifySettings,t.fields]);return n.MKZBF(_.useEffect,()=>{Me||n.tkpIh(s,n.tkpIh(pe,t.rule))},[t.rule]),n.ehhiP(_.useEffect,()=>{r.current&&n.hdKyr(a,r.current.getTagElms().map(w=>w.__tagifyTagData.value))},[r.current]),n.NaGoe(h.jsxs,k.Space,{direction:n.xWSEg,size:8,className:"tagify-wrapper "+t.theme,children:[n.BVXkF(h.jsx,lr,{tagifyRef:r,onChange:o,settings:m,readOnly:!0,value:i}),n.BVXkF(h.jsxs,n.ONOFC,{children:[n.Ddbil(h.jsxs,n.ONOFC,{className:n.gEWVf,children:[n.MKZBF(h.jsx,k.Space,{size:8,children:n.Ddbil(h.jsx,k.Dropdown,{menu:{items:c},overlayClassName:n.NfwDD,children:n.JkBoa(h.jsx,k.Button,{size:n.Reohz,children:n.wRtal})})}),n.rGKRg(h.jsx,k.Space,{children:n.yoodI(h.jsx,k.Dropdown,{menu:{items:l},overlayClassName:n.NfwDD,children:n.aBYrD(h.jsx,k.Button,{size:n.Reohz,children:n.qZktY})})})]}),t.exampleData&&n.aBYrD(h.jsxs,n.ONOFC,{className:n.THPoC,children:[n.CsPTq(h.jsx,n.LOqxt,{className:"eg",children:n.VIyhx}),n.yoodI(h.jsx,n.LOqxt,{className:n.wddJP,children:n.lvoDm(Re,{rule:t.rule,fields:t.fields,data:t.exampleData,ext:t.ext??""})})]})]})]})}const mr=_.forwardRef(pr);function wr(){var t;Me=!0,window.clearTimeout($e),t=setTimeout,$e=t(()=>{Me=!1},1e3)}var yr=(t=>(t.TOP="top",t.RECENT="recent",t))(yr||{}),gt=(t=>(t[t.ALL=0]="ALL",t[t.BY_PHOTOS_COUNT=1]="BY_PHOTOS_COUNT",t[t.BY_DAYS_COUNT=2]="BY_DAYS_COUNT",t))(gt||{}),Ot=(t=>(t.IMAGE_FORMATS="imageFormats",t.FILENAME_RULE="filenameRule",t.RESUME_DOWNLOADING="resumeDownloading",t.SKIP_DOWNLOADED_FILES="skipDownloadedFiles",t))(Ot||{}),vr=(t=>(t.INDEX="index",t.DATE="date",t.TIME="time",t.TIMESTAMP="timestamp",t.FILE_ID="file id",t.SHORT_CODE="short code",t.USERNAME="username code",t.USER_DISPLAY_NAME="user display name",t.ORIGINAL_NAME="original name",t._0Index="0index",t._00Index="00index",t._000Index="000index",t.DATE_US="date us",t.YEARS="years",t.MONTHs="months",t.DAYs="days",t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds",t))(vr||{});const tn=[{value:"user display name",transformer:t=>le(t.fullName?t.fullName:t.authorName)},{value:"index",transformer:t=>String(t.index)},{value:"date",transformer:t=>bt.unix(t.createdAt).format("YYYY_MM_DD__HH_mm_ss")},{value:"time",transformer:t=>bt.unix(t.createdAt).format("HH_mm_ss")},{value:"timestamp",transformer:t=>String(t.createdAt)},{value:"short code",transformer:t=>String(t.code)},{value:"file id",transformer:t=>String(t.id)},{value:"username code",transformer:t=>String(t.authorName)},{value:"original name",transformer:t=>oe(Sn(t.uri))},{value:"0index",transformer:t=>xe(2,t.index)},{value:"00index",transformer:t=>xe(3,t.index)},{value:"000index",transformer:t=>xe(4,t.index)},{value:"date us",transformer:t=>bt.unix(t.createdAt).format("MM/DD/YYYY")},{value:"years",transformer:t=>bt.unix(t.createdAt).format("YYYY")},{value:"months",transformer:t=>bt.unix(t.createdAt).format("MM")},{value:"days",transformer:t=>bt.unix(t.createdAt).format("DD")},{value:"hours",transformer:t=>bt.unix(t.createdAt).format("HH")},{value:"minutes",transformer:t=>bt.unix(t.createdAt).format("mm")},{value:"seconds",transformer:t=>bt.unix(t.createdAt).format("ss")}],en=["-**original name**-","-**index**-_-**date**-","-**date**-","-**short code**-_-**date**-","-**timestamp**-","-**user display name**-_-**date**-","-**file id**-_-**date**-","-**username code**-_-**timestamp**-"],ft={isFullSpeed:!1,isSkipDownloadedFile:!1,isDownloadVideoThumbnail:!1,isGenFolder:!1,isSplitFolder:!1,downloadType:Bt.BOTH,formatType:St.ORIGINAL,filenameFormats:en[0],requestDelay:0,fetchingCountType:gt.ALL,fetchingCountByPhotosCountValue:10,fetchingCountByPhotosDaysValue:3};var br=(t=>(t[t.FREE=0]="FREE",t[t.BASIC=1]="BASIC",t[t.PREMIUM=2]="PREMIUM",t))(br||{}),Dr=(t=>(t[t.SUBSCRIPTION=0]="SUBSCRIPTION",t[t.ONETIME_PAYMENT=1]="ONETIME_PAYMENT",t))(Dr||{}),Cr=(t=>(t[t.ONE_MONTH=1]="ONE_MONTH",t[t.THREE_MONTH=3]="THREE_MONTH",t[t.SIX_MONTH=6]="SIX_MONTH",t[t.A_YEAR=12]="A_YEAR",t))(Cr||{}),Tr=(t=>(t[t.STRIPE=0]="STRIPE",t[t.PAYPAL=1]="PAYPAL",t))(Tr||{}),Fr=(t=>(t[t.FACEBOOK=0]="FACEBOOK",t[t.INSTAGRAM=1]="INSTAGRAM",t))(Fr||{}),xr=(t=>(t.SUBSCRIPTION="paypal_subscription",t.PAYMENT="paypal_payment",t))(xr||{}),Ar=(t=>(t.RETURN_PAGE="RETURN_PAGE",t.RETURN_EXT="RETURN_EXT",t.RETURN_EXT_LOCAL="RETURN_EXT_LOCAL",t))(Ar||{});function Sr(t){const e={sEyvK:"visitPricingPage",oAHXl:function(d,f,g){return d(f,g)},HnZgc:"div",SkUOB:"var(--primary-text)",sbbVR:"1.4em",WOUdm:"This feature is designed for professional users.",HOyts:"12px 0 0 0",XxlpY:"left",psudx:function(d,f,g){return d(f,g)},FVado:"Upgrade to the",QPxTI:function(d,f){return d===f},DKvgM:"span",OpGyf:"inline-block",wiWEC:"0 7px",mLLjn:"1px solid #389e0d",GWPmD:"#389e0d",ScCdb:"Basic",tUZib:"1px solid #0958d9",bnmGX:"#0958d9",QMTxY:"Premium",JNupl:"plan to unlock the unlimited version.",XSKZJ:function(d,f,g){return d(f,g)},yFijN:"button",TLeYT:"#1677ff",SuAhp:"transparent",CIMsI:"none",WOlSn:"center",ulWud:"pointer",mBZQJ:"Upgrade Now!",ydCFU:function(d,f){return d(f)},JPdSA:"setPersistLocalStorage",LdrZW:function(d,f){return d(f)},UZRGI:"getPersistLocalStorage",lAbnY:"getUIMemoSettings",lPUjc:function(d,f){return d(f)},DGGZJ:function(d,f){return d(f)},UmLZU:function(d,f){return d(f)},RiZbA:function(d,f){return d(f)},mmwuA:function(d){return d()},deguS:function(d,f){return d(f)},mVIkb:"Free trial",aIGUw:function(d,f,g){return d(f,g)},eIYKV:" FREE try remaining.",OVExd:function(d,f,g){return d(f,g)},NgPFI:"flex",keGVV:"end",Utynh:"text",AAkyR:"Do not show me again!",ggZxv:function(d,f,g){return d(f,g)},ucOFS:"primary",zLWlC:"Continue",pwgbL:"Message",WZGKM:"No free try left.",DJlMh:"Upgrade Now",ltcxB:"close",vcJnr:function(d,f){return d>f},xiQPq:function(d,f){return d(f)},eotQe:"The first ",tzMKU:function(d,f){return d??f},HAcqb:"times",PRmPj:" are FREE.",nDLui:"not exist",jSVvi:function(d,f){return d!==f},gMwYs:"setUIMemoSettings",aTYXh:"feature._.memoKey not exist",BwBcf:function(d,f){return d>f},rZyHS:"freeTry",SDVDY:function(d,f){return d>f},enUWQ:"limitation",tFanS:function(d,f,g){return d(f,g)}},{messageInstance:n,defaultMemoConfig:r,onGetMemoSettings:i,modalApi:s,projectId:u,extId:a}=t,o=""+t.projectId.replaceAll("-","_");async function c(){n.send(e.sEyvK)}function l(d,f){return e.oAHXl(h.jsxs,e.HnZgc,{style:{color:e.SkUOB},children:[e.oAHXl(h.jsx,e.HnZgc,{style:{marginBottom:12,fontSize:14,lineHeight:e.sbbVR},children:e.WOUdm}),f?e.oAHXl(h.jsxs,h.Fragment,{children:[e.oAHXl(h.jsx,e.HnZgc,{style:{fontSize:18},children:f}),e.oAHXl(h.jsx,e.HnZgc,{style:{margin:e.HOyts,textAlign:e.XxlpY,fontSize:12,opacity:.4},children:"OR"})]}):null,e.psudx(h.jsxs,e.HnZgc,{style:{fontSize:14,lineHeight:e.sbbVR},children:[e.FVado," ",e.oAHXl(h.jsx,h.Fragment,{children:e.QPxTI(10,d.permission)?e.oAHXl(h.jsx,e.DKvgM,{style:{fontSize:12,display:e.OpGyf,padding:e.wiWEC,border:e.mLLjn,color:e.GWPmD,borderRadius:4},children:e.ScCdb}):e.psudx(h.jsx,e.DKvgM,{style:{fontSize:12,display:e.OpGyf,padding:e.wiWEC,border:e.tUZib,color:e.bnmGX,borderRadius:4},children:e.QMTxY})})," ",e.JNupl,e.XSKZJ(h.jsx,e.yFijN,{style:{color:e.TLeYT,backgroundColor:e.SuAhp,fontSize:14,padding:"0",outline:e.CIMsI,textAlign:e.WOlSn,cursor:e.ulWud,border:e.CIMsI,marginLeft:8},onClick:c,children:e.mBZQJ})]})]})}function m(d){const f="do-not-show-permission-check"+e.ydCFU(encodeURIComponent,d);n.send(e.JPdSA,f,1)}async function w(d){const f="do-not-show-permission-check"+e.LdrZW(encodeURIComponent,d);return await n.send(e.UZRGI,f,0)}return e.tFanS(_.useEffect,()=>{const d={jeOLA:e.lAbnY,IeWGr:function(f,g){return e.lPUjc(f,g)}};(async()=>{const f=await n.send(d.jeOLA);d.IeWGr(i,f)})()},[]),{checkIfCanUseWithModal:function(d,f,g){const p={KcRRS:function(D,b){return e.DGGZJ(D,b)},SvFDy:function(D,b){return e.UmLZU(D,b)},YBaYb:function(D,b){return e.RiZbA(D,b)},lNFQp:function(D,b){return e.RiZbA(D,b)},cqIkF:function(D){return e.mmwuA(D)},jqJbc:function(D,b){return e.deguS(D,b)},VruQp:e.mVIkb,lmbvf:function(D,b,v){return e.psudx(D,b,v)},ykkkL:function(D,b,v){return e.aIGUw(D,b,v)},CLkeQ:e.eIYKV,wZoAH:function(D,b,v){return e.OVExd(D,b,v)},HAFFm:e.HnZgc,GbZbZ:e.NgPFI,aCCvo:e.keGVV,PaShi:function(D,b,v){return e.XSKZJ(D,b,v)},oXVLl:e.Utynh,aBKUi:e.AAkyR,YYwRb:function(D,b,v){return e.ggZxv(D,b,v)},JDxZM:e.ucOFS,DKKCc:e.zLWlC,QAkLn:e.pwgbL,YBbhA:function(D,b,v){return e.ggZxv(D,b,v)},FMOkf:function(D,b,v){return e.oAHXl(D,b,v)},NAjci:e.WZGKM,tTqvJ:e.DJlMh,QBPKf:e.ltcxB,hnDGs:function(D,b){return e.vcJnr(D,b)},mJYoI:function(D,b){return e.xiQPq(D,b)},wHdIB:e.eotQe,iYdKU:function(D,b){return e.tzMKU(D,b)},fcHnF:e.HAcqb,Wpfjh:e.PRmPj,YBIcq:function(D,b,v){return e.OVExd(D,b,v)}};if(!window[o][d])return console.error(d,e.nDLui),Promise.resolve(!1);const y=window[o][d];return!y.needUpgrade||y._.memoKey&&e.jSVvi(void 0,r[y._.memoKey])&&e.QPxTI(f,r[y._.memoKey])?Promise.resolve(!0):new Promise(async D=>{const b=function(O,P){return p.lNFQp(O,P)},v=function(O){return p.cqIkF(O)},C=function(O,P){return p.YBaYb(O,P)},F=function(O,P){return p.YBaYb(O,P)};if(y.isCanFreeTry)if(y.freeTryLeft){if(await p.jqJbc(w,d))return p.lNFQp(D,!0);const O=s.confirm({title:p.VruQp,content:p.lmbvf(l,y,p.lmbvf(h.jsxs,h.Fragment,{children:[p.ykkkL(h.jsx,"b",{style:{fontSize:18},children:y.freeTryLeft}),p.CLkeQ]})),footer:p.wZoAH(h.jsx,p.HAFFm,{style:{display:p.GbZbZ,justifyContent:p.aCCvo,marginTop:24},children:p.PaShi(h.jsxs,k.Space,{size:12,children:[p.wZoAH(h.jsx,k.Button,{type:p.oXVLl,onClick:()=>{O.destroy(),p.KcRRS(m,d),p.SvFDy(D,!0)},children:p.aBKUi}),p.YYwRb(h.jsx,k.Button,{type:p.JDxZM,onClick:()=>{O.destroy(),b(D,!0)},children:p.DKKCc})]})})})}else s.confirm({title:p.QAkLn,content:p.YBbhA(l,y,p.FMOkf(h.jsx,h.Fragment,{children:p.NAjci})),okText:p.tTqvJ,cancelText:p.QBPKf,onOk(){v(c),C(D,!1)},onCancel(){p.YBaYb(D,!1)}});else if(y.limitation&&p.hnDGs(y.limitation,0)){if(await p.KcRRS(w,d))return p.mJYoI(D,!0);const O=s.confirm({content:p.YYwRb(l,y,p.YYwRb(h.jsxs,h.Fragment,{children:[p.wHdIB,p.PaShi(h.jsx,"b",{children:y.limitation})," ",p.iYdKU(g,p.fcHnF),p.Wpfjh]})),footer:p.ykkkL(h.jsx,p.HAFFm,{style:{display:p.GbZbZ,justifyContent:p.aCCvo,marginTop:24},children:p.YBIcq(h.jsxs,k.Space,{size:12,children:[p.YBIcq(h.jsx,k.Button,{type:p.oXVLl,onClick:()=>{O.destroy(),C(m,d),F(D,!0)},children:p.aBKUi}),p.PaShi(h.jsx,k.Button,{type:p.JDxZM,onClick:()=>{O.destroy(),p.lNFQp(D,!0)},children:p.DKKCc})]})})})}else s.confirm({title:p.QAkLn,content:p.mJYoI(l,y),okText:"ok",cancelText:p.QBPKf,onOk(){p.lNFQp(D,!1)},onCancel(){C(D,!1)}})})},setUIMemoSettings:async function(d){await n.send(e.gMwYs,d)},getFeatureLimitProcessTimeValue:function(d){const{featureKey:f,currentIndex:g,currentValue:p}=d;if(!window[o][f])throw console.error(f,e.nDLui),new Error(f+" not exist");const y=window[o][f];if(!y._.memoKey)throw console.error(f,e.aTYXh),new Error(f+" feature._.memoKey not exist");const D=r[y._.memoKey];return y.needUpgrade&&e.BwBcf(g,y.limitation)?D:p},checkIfCanUse:function(d){if(!window[o][d])return console.error(d,e.nDLui),!1;const f=window[o][d];return!f.needUpgrade||(f.isCanFreeTry&&f.freeTryLeft?e.rZyHS:!(!f.limitation||!e.SDVDY(f.limitation,0))&&e.enUWQ)},getUIMemoSettings:async function(){return await n.send(e.lAbnY)}}}const _t=_.createContext(null);function me(t){const[e,n]=k.message.useMessage(),[r,i]=k.Modal.useModal();return s=h.jsxs,u=_t.Provider,a={value:{messageApi:e,modalApi:r},children:[n,i,t.children]},s(u,a);var s,u,a}const Ct=_.createContext(null);function nn(t){const e={AMazx:function(T,B){return T(B)},HRhvr:function(T,B){return T(B)},sbeFt:function(T,B){return T(B)},hlTHn:function(T,B){return T(B)},kVWra:function(T,B){return T(B)},iYjot:function(T,B){return T(B)},kfbfD:function(T,B,G,E){return T(B,G,E)},ERyfZ:"photos",nPMyj:function(T,B){return T(B)},TjqPp:function(T,B){return T(B)},WvEOl:function(T){return T()},EJWcy:"setPersistLocalStorage",CMOzt:"getPersistLocalStorage",ehBVA:function(T,B){return T&&B},CaoMB:function(T,B,G){return T(B,G)},LTFPn:"div",xyaSs:"FullSpeed option will cause frequent API requests, you",panql:function(T,B,G){return T(B,G)},dXuli:"have to",BlzRm:" agree our",XBgJm:"_blank",MRFKD:"#385898",ymRvM:"https://esuit.dev/disclaimer",lusUo:"Disclaimer",RIGWY:"span",guNas:"disclaimer-level level1",njngZ:"0 4px",rNIQz:"inline-block",iJZTP:"50%",uzkXG:"1px solid rgba(0, 0, 0, 0.175)",KDHxC:"#52c41a",gHTVW:"#52c31a",HWAuO:"to turn on this option",rQYIg:"AGREE",rkiLI:function(T,B,G,E){return T(B,G,E)},xtgHm:function(T,B){return T===B},aHCjR:function(T,B){return T(B)},FdCgJ:function(T,B){return T(B)},BIORE:function(T,B){return T(B)},BhrTj:function(T,B){return T(B)},mzpxw:function(T,B){return T(B)},gdiCY:function(T,B){return T(B)},RNnHX:function(T,B){return T(B)},wvZlc:function(T,B){return T(B)},hkJXi:function(T,B){return T(B)},JpZSx:function(T,B){return T(B)},zjyBE:function(T,B,G){return T(B,G)}},{modalApi:n,messageApi:r}=e.iYjot(_.useContext,_t),[i,s]=e.BIORE(_.useState,ft.isFullSpeed),[u,a]=e.BhrTj(_.useState,ft.isSkipDownloadedFile),[o,c]=e.TjqPp(_.useState,ft.isGenFolder),[l,m]=e.mzpxw(_.useState,ft.isSplitFolder),[w,d]=e.gdiCY(_.useState,ft.isDownloadVideoThumbnail),[f,g]=e.kVWra(_.useState,ft.downloadType),[p,y]=e.RNnHX(_.useState,ft.formatType),[D,b]=e.wvZlc(_.useState,ft.filenameFormats),[v,C]=e.hkJXi(_.useState,ft.requestDelay),[F,O]=e.JpZSx(_.useState,gt.ALL),[P,A]=e.HRhvr(_.useState,ft.fetchingCountByPhotosCountValue),[M,S]=e.nPMyj(_.useState,ft.fetchingCountByPhotosDaysValue),{setUIMemoSettings:L,checkIfCanUseWithModal:K,getFeatureLimitProcessTimeValue:Y}=e.AMazx(Sr,{projectId:Nt,extId:Cn,modalApi:n,messageApi:r,messageInstance:e.WvEOl(vt),defaultMemoConfig:ft,onGetMemoSettings(T){e.AMazx(s,T.isFullSpeed),e.HRhvr(a,T.isSkipDownloadedFile),e.AMazx(c,T.isGenFolder),e.sbeFt(m,T.isSplitFolder),e.AMazx(g,T.downloadType),e.hlTHn(y,T.formatType),e.AMazx(b,T.filenameFormats),e.HRhvr(C,T.requestDelay),e.kVWra(d,T.isDownloadVideoThumbnail),e.AMazx(O,T.fetchingCountType),e.hlTHn(A,T.fetchingCountByPhotosCountValue),e.iYjot(S,T.fetchingCountByPhotosDaysValue)}}),z=e.zjyBE(_.useCallback,()=>{e.AMazx(L,{isSkipDownloadedFile:u,isFullSpeed:i,isGenFolder:o,isSplitFolder:l,isDownloadVideoThumbnail:w,downloadType:f,filenameFormats:D,requestDelay:v,formatType:p,fetchingCountType:F,fetchingCountByPhotosCountValue:P,fetchingCountByPhotosDaysValue:M})},[u,i,o,l,w,f,D,v,p,F,P,M]);return e.panql(h.jsx,Ct.Provider,{value:{isSkipDownloadedFile:u,isFullSpeed:i,isGenFolder:o,isSplitFolder:l,formatType:p,filenameFormats:D,requestDelay:v,downloadType:f,isDownloadVideoThumbnail:w,fetchingCountType:F,fetchingCountByPhotosCountValue:P,fetchingCountByPhotosDaysValue:M,setIsDownloadVideoThumbnail:d,setIsSkipDownloadedFile:async function(T){await e.kfbfD(K,Ot.SKIP_DOWNLOADED_FILES,T,e.ERyfZ)&&e.iYjot(a,T)},setIsSplitFolder:T=>{T&&e.nPMyj(c,!0),e.AMazx(m,T)},setIsGenFolder:T=>{!T&&e.AMazx(m,!1),e.TjqPp(c,T)},setIsFullSpeed:async function(T){const B={uagXV:function(I){return e.WvEOl(I)},awUpJ:e.EJWcy,uySJj:function(I,j){return e.TjqPp(I,j)}},G=Nt+"-disclaimer",E=await e.WvEOl(vt).send(e.CMOzt,G,0);e.ehBVA(T,!E)?n.confirm({content:e.CaoMB(h.jsxs,e.LTFPn,{children:[e.xyaSs," ",e.panql(h.jsx,"b",{children:e.dXuli}),e.BlzRm," ",e.CaoMB(h.jsx,"a",{target:e.XBgJm,style:{color:e.MRFKD},href:e.ymRvM,children:e.lusUo}),e.panql(h.jsx,e.RIGWY,{className:e.guNas,style:{margin:e.njngZ,display:e.rNIQz,width:12,height:12,borderRadius:e.iJZTP,border:e.uzkXG,background:e.KDHxC,backgroundColor:e.gHTVW}})," ",e.HWAuO]}),okText:e.rQYIg,onOk:()=>{B.uagXV(vt).send(B.awUpJ,G,1),B.uySJj(s,!0)}}):e.HRhvr(s,T)},setFormatType:async function(T){await e.rkiLI(K,Ot.IMAGE_FORMATS,T,e.ERyfZ)&&e.nPMyj(y,T)},setFilenameFormats:async function(T){await e.rkiLI(K,Ot.FILENAME_RULE,e.TjqPp(fr,T),e.ERyfZ)&&e.sbeFt(b,T)},setRequestDelay:C,setDownloadType:g,setFetchingCountType(T){e.xtgHm(T,gt.BY_DAYS_COUNT)&&e.AMazx(S,ft.fetchingCountByPhotosDaysValue),e.xtgHm(T,gt.BY_PHOTOS_COUNT)&&e.iYjot(A,ft.fetchingCountByPhotosCountValue),e.xtgHm(T,gt.ALL)&&(e.nPMyj(A,ft.fetchingCountByPhotosCountValue),e.aHCjR(S,ft.fetchingCountByPhotosDaysValue)),e.FdCgJ(O,T)},setFetchingCountByPhotosCountValue:A,setFetchingCountByPhotosDaysValue:S,saveMemoSettings:z,checkIfCanUseWithModal:K,getFeatureLimitProcessTimeValue:Y},children:t.children})}function Ir(){const t={VNBom:function(a,o){return a(o)},jhMMu:function(a,o,c){return a(o,c)},bVUbN:"div",zOnlM:"Photos fetch quantity control",EgiTc:function(a,o,c){return a(o,c)},idGZM:"small",mZpNh:"Fetch ALL",zmQJs:"By photos count",uqupY:"By days count",szxgh:function(a,o){return a!==o},UOMZm:function(a,o,c){return a(o,c)},KdgpI:"8px 0",Mwgcp:function(a,o){return a===o},XoTyF:"span",rrCBF:"Numbers of photos to fetch:",XDotW:function(a,o,c){return a(o,c)},BjmSj:"Days back to fetch:",uYRag:function(a,o,c){return a(o,c)}},{fetchingCountType:e,fetchingCountByPhotosCountValue:n,fetchingCountByPhotosDaysValue:r,setFetchingCountType:i,setFetchingCountByPhotosDaysValue:s,setFetchingCountByPhotosCountValue:u}=t.VNBom(_.useContext,Ct);return t.jhMMu(h.jsxs,t.bVUbN,{children:[t.jhMMu(h.jsx,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:12},children:t.zOnlM}),t.EgiTc(h.jsxs,k.Radio.Group,{onChange:a=>i(a.target.value),value:e,size:t.idGZM,children:[t.jhMMu(h.jsx,k.Radio,{value:gt.ALL,children:t.mZpNh}),t.jhMMu(h.jsx,k.Radio,{value:gt.BY_PHOTOS_COUNT,children:t.zmQJs}),t.jhMMu(h.jsx,k.Radio,{value:gt.BY_DAYS_COUNT,children:t.uqupY})]}),t.szxgh(e,gt.ALL)&&t.UOMZm(h.jsx,k.Divider,{style:{margin:t.KdgpI}}),t.Mwgcp(e,gt.BY_PHOTOS_COUNT)&&t.EgiTc(h.jsxs,k.Space,{children:[t.jhMMu(h.jsx,t.XoTyF,{children:t.rrCBF}),t.XDotW(h.jsx,k.Slider,{min:1,max:1e3,step:1,value:n,onChange:a=>u(a),style:{width:400}}),t.XDotW(h.jsx,t.XoTyF,{children:n})]}),t.Mwgcp(e,gt.BY_DAYS_COUNT)&&t.UOMZm(h.jsxs,k.Space,{children:[t.XDotW(h.jsx,t.XoTyF,{children:t.BjmSj}),t.jhMMu(h.jsx,k.Slider,{min:1,max:180,value:r,onChange:a=>s(a),style:{width:200}}),t.uYRag(h.jsx,t.XoTyF,{children:r})]})]})}function rn(){var O,P;const t={sFkQn:"show-more-settings",Ymajy:function(A,M){return A(M)},xZYir:function(A,M){return A(M)},DGCys:function(A,M){return A(M)},aubGp:function(A,M,S){return A(M,S)},OGKOh:function(A,M,S){return A(M,S)},Wecsr:"vertical",yldsj:"100%",VRCJk:"horizontal",kFVTs:"nowrap",uPtCe:function(A,M,S){return A(M,S)},kZSHA:"To prevent account restrictions, It will wait a random number of seconds during each download. If you want to skip it, please enable Full-Speed mode",FZWyl:"top",NlxDr:function(A,M,S){return A(M,S)},xhIjG:"span",jEGDJ:"⚡️Full Speed!",LMkJA:function(A,M,S){return A(M,S)},KfEMc:"If the file has already been downloaded before, it will be skipped to reduce network load.",IqrpK:"🔍Skip Downloaded files",vSAOf:function(A,M){return A!==M},WhABs:function(A,M,S){return A(M,S)},erWkt:"Download the thumbnail of the video while downloading the video.",xngxT:function(A,M,S){return A(M,S)},cdsOS:"🌄Download video Thumbnail",fMnXx:function(A,M,S){return A(M,S)},IjnrF:"div",ODJlg:function(A,M,S){return A(M,S)},drCTu:"📁Folder generation :",RtoAR:function(A,M,S){return A(M,S)},UnzLX:function(A,M,S){return A(M,S)},cQBWe:"Automatically download images into folders based on the author name.",cJwtT:"Gen-Folder",QRRZG:function(A,M,S){return A(M,S)},vmybQ:"Split the downloaded images into different folders as posts, reels, tagged, saved.",mtpiJ:"Split-Folder",nJKQe:function(A,M,S){return A(M,S)},UosEI:function(A,M,S){return A(M,S)},KigXK:"⏱️Request Delay",pCxMy:"If the FullSpeed option is disabled and you still find the requests too fast, you can set a delay time for each request.",qZEfT:"link",hKuzd:"small",eFVib:function(A,M,S){return A(M,S)},fLFev:function(A,M,S){return A(M,S)},lHKDZ:'This feature does not work when the "⚡️FullSpeed" is enabled.',yNxFW:"seconds",mzhdY:function(A,M,S){return A(M,S)},NudSS:"Downloads Type:",fWCLu:function(A,M,S){return A(M,S)},XOZNM:function(A,M){return A!==M},LvtEy:function(A,M,S){return A(M,S)},DwFJl:"Images Format as:",ZerjW:function(A,M){return A===M},eSqRK:function(A,M,S){return A(M,S)},lItiE:"This feature is available for the free version and can only process the first 50 images.",pfwES:"original",CdEkc:"jpg",PKBzK:"png",qncea:"webp",rtrBM:"⚠️ Notice: PNG format will result in larger file sizes.",BNBym:function(A,M,S){return A(M,S)},Ysqck:"File naming rules",CAAQk:function(A,M,S){return A(M,S)},MXmkn:function(A,M,S){return A(M,S)},BEpkj:function(A,M,S){return A(M,S)},HoaYY:".jpg",gwpno:"dark",Flyyi:"light",mUitu:"442315268221",tvEyu:"https://scontent-lga3-2.cdninstagram.com/v/t51.2885-15/345242088_283736111641893782_n.jpg",rQFpT:"esuit-dev",JnNQr:"ESUIT.DEV",xhlJg:"CsyUsrKAsnR",XbPGB:function(A,M,S){return A(M,S)},VAqYe:function(A,M,S){return A(M,S)},xiErF:"text",fGiuK:"Show advanced settings"},{isDark:e,isUseQuantityControl:n}=t.Ymajy(_.useContext,It),[r,i]=t.xZYir(_.useState,!1),{isFullSpeed:s,isGenFolder:u,isSkipDownloadedFile:a,isSplitFolder:o,downloadType:c,formatType:l,filenameFormats:m,requestDelay:w,isDownloadVideoThumbnail:d,setIsSplitFolder:f,setIsDownloadVideoThumbnail:g,setRequestDelay:p,setFilenameFormats:y,setFormatType:D,setDownloadType:b,setIsSkipDownloadedFile:v,setIsGenFolder:C,setIsFullSpeed:F}=t.DGCys(_.useContext,Ct);return t.aubGp(_.useEffect,()=>{window[t.sFkQn]&&t.Ymajy(i,!0)},[]),t.OGKOh(h.jsxs,k.Space,{direction:t.Wecsr,size:24,style:{width:t.yldsj},children:[t.aubGp(h.jsxs,k.Space,{direction:t.VRCJk,size:[12,12],wrap:!0,style:{whiteSpace:t.kFVTs},children:[t.uPtCe(h.jsx,k.Checkbox,{checked:s,onChange:A=>F(A.target.checked),children:t.uPtCe(h.jsx,k.Tooltip,{title:t.kZSHA,placement:t.FZWyl,children:t.NlxDr(h.jsx,t.xhIjG,{children:t.jEGDJ})})}),t.OGKOh(h.jsx,k.Checkbox,{checked:a,onChange:A=>v(A.target.checked),children:t.LMkJA(h.jsx,k.Tooltip,{title:t.KfEMc,placement:t.FZWyl,children:t.NlxDr(h.jsx,t.xhIjG,{children:t.IqrpK})})}),t.vSAOf(c,Bt.IMAGES_ONLY)&&t.WhABs(h.jsx,k.Checkbox,{checked:d,onChange:A=>g(A.target.checked),children:t.aubGp(h.jsx,k.Tooltip,{title:t.erWkt,placement:t.FZWyl,children:t.xngxT(h.jsx,t.xhIjG,{children:t.cdsOS})})})]}),r?t.NlxDr(h.jsxs,k.Row,{gutter:[32,12],style:{paddingTop:4,width:t.yldsj},children:[t.fMnXx(h.jsx,k.Col,{span:12,children:t.NlxDr(h.jsxs,t.IjnrF,{children:[t.ODJlg(h.jsx,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:0},children:t.drCTu}),t.RtoAR(h.jsxs,k.Space,{size:12,children:[t.NlxDr(h.jsx,k.Checkbox,{checked:u,onChange:A=>C(A.target.checked),children:t.UnzLX(h.jsx,k.Tooltip,{title:t.cQBWe,placement:t.FZWyl,children:t.OGKOh(h.jsx,t.xhIjG,{children:t.cJwtT})})}),t.NlxDr(h.jsx,k.Checkbox,{checked:o,onChange:A=>f(A.target.checked),children:t.QRRZG(h.jsx,k.Tooltip,{title:t.vmybQ,placement:t.FZWyl,children:t.NlxDr(h.jsx,t.xhIjG,{children:t.mtpiJ})})})]})]})}),t.nJKQe(h.jsx,k.Col,{span:12,children:t.UnzLX(h.jsxs,t.IjnrF,{children:[t.UosEI(h.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:0},children:[t.KigXK," ",t.WhABs(h.jsx,k.Tooltip,{title:t.pCxMy,children:t.QRRZG(h.jsx,k.Button,{type:t.qZEfT,size:t.hKuzd,icon:t.eFVib(h.jsx,yt.QuestionCircleOutlined,{})})})," ",":"]}),t.fLFev(h.jsx,k.Tooltip,{title:s?t.lHKDZ:"",children:t.ODJlg(h.jsx,k.InputNumber,{onChange:A=>p(A??0),value:w,max:30,min:0,step:.1,style:{width:150},addonAfter:t.yNxFW,disabled:s})})]})}),t.mzhdY(h.jsx,k.Col,{span:12,children:t.mzhdY(h.jsxs,t.IjnrF,{children:[t.fLFev(h.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:0},children:[t.NudSS," "]}),t.fWCLu(h.jsx,k.Segmented,{value:c,options:[Bt.BOTH,Bt.IMAGES_ONLY,Bt.VIDEOS_ONLY],onChange:A=>b(A)})]})}),t.XOZNM(c,Bt.VIDEOS_ONLY)&&t.LvtEy(h.jsx,k.Col,{span:12,children:t.eFVib(h.jsxs,t.IjnrF,{children:[t.UosEI(h.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:12},children:[t.DwFJl," ",t.ZerjW(!0,(O=window.download_albums_for_instagram[Ot.IMAGE_FORMATS])==null?void 0:O.needUpgrade)&&t.eSqRK(h.jsx,k.Tooltip,{title:t.lItiE,children:t.uPtCe(h.jsx,k.Button,{type:t.qZEfT,size:t.hKuzd,icon:t.ODJlg(h.jsx,yt.QuestionCircleOutlined,{})})})]}),t.RtoAR(h.jsx,k.Segmented,{value:l,options:[{label:t.pfwES,value:St.ORIGINAL},{label:t.CdEkc,value:St.JPG},{label:t.PKBzK,value:St.PNG},{label:t.qncea,value:St.WEBP}],onChange:A=>D(A)}),t.ZerjW(l,St.PNG)&&t.fLFev(h.jsx,t.IjnrF,{style:{paddingTop:4,fontSize:12},children:t.rtrBM})]})}),t.LMkJA(h.jsx,k.Col,{span:24,children:t.nJKQe(h.jsxs,t.IjnrF,{children:[t.BNBym(h.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:12},children:[t.Ysqck,t.ZerjW(!0,(P=window.download_albums_for_instagram[Ot.IMAGE_FORMATS])==null?void 0:P.needUpgrade)&&t.CAAQk(h.jsx,k.Tooltip,{title:t.lItiE,children:t.MXmkn(h.jsx,k.Button,{type:t.qZEfT,size:t.hKuzd,icon:t.NlxDr(h.jsx,yt.QuestionCircleOutlined,{})})}),":"," "]}),t.BEpkj(h.jsx,mr,{rule:m,ext:t.HoaYY,theme:e?t.gwpno:t.Flyyi,fields:tn,presets:en,exampleData:{id:t.mUitu,createdAt:1695526699,index:8,uri:t.tvEyu,authorName:t.rQFpT,fullName:t.JnNQr,code:t.xhlJg},onUpdate:A=>{t.Ymajy(y,A)}})]})}),n&&t.UnzLX(h.jsx,k.Col,{span:24,children:t.XbPGB(h.jsx,Ir,{})})]}):t.eSqRK(h.jsx,k.Button,{icon:t.VAqYe(h.jsx,yt.SettingOutlined,{}),type:t.xiErF,block:!0,onClick:function(){window[t.sFkQn]=1,t.Ymajy(i,!0)},children:t.fGiuK})]})}const _r={projectId:"a",chromeExtId:"b",name:"c",link:"d",description:"e",type:"f",ytb:"g",prices:"h",plan:"i",platform:"j",price:"k",id:"l",period:"m"};function on(t){const e=Object.fromEntries(Object.entries(_r).map(([n,r])=>[r,n]));return t.map(n=>{let r={};for(let i in n){const s=e[i]||i;Array.isArray(n[i])?r[s]=n[i].map(u=>on([u])[0]):r[s]=n[i]}return r})}const Mr="https://static-data.esuit.dev/index.json",kr="https://stats.esuit.dev/index.json",Or="https://esuit.dev/";let we=[];const ye="mHxGWIqCotRcnLgFbr4YcdaZWDMHJlWu";function Er(t){const e={dkADz:function(d,f){return d(f)},ORZZL:function(d){return d()},EHotZ:function(d){return d()},arRLY:function(d,f,g){return d(f,g)},xCbrk:`
      .esuit-exts{
        opacity: 0.6;
        transition: opacity 300ms;
      }
      
      .esuit-exts:hover,.esuit-ext:hover{
        opacity: 1 !important
      }
    `,iCdYP:"horizontal",ljcSp:"normal",gFBgF:function(d,f,g){return d(f,g)},AORqQ:"section",fwIUB:"inherit",EwgFB:function(d,f){return d+f},gwNkr:"24px",YHcbl:" auto 0 auto",vYXFJ:"esuit-exts",EssiV:"div",HsQKL:"flex",AMSnJ:function(d,f){return d===f},StsRK:"vertical",lDCJo:"column",YYlkP:"row",sazAX:"space-between",BLTPk:"center",IXKJh:function(d,f,g){return d(f,g)},cZijq:"Useful extensions for you",yMHst:"_blank",gOggR:"none",erMrt:"Find more extensions",Apqoc:function(d,f,g){return d(f,g)},bAaAF:"grid"},{extsProjectIdArr:n=[],perRow:r=3,direction:i=e.iCdYP,size:s=e.ljcSp,avtarSize:u=48,withTitleBar:a=!0}=t,[o,c]=e.dkADz(_.useState,{}),[l,m]=e.dkADz(_.useState,[]),w=e.arRLY(_.useMemo,()=>n.map(d=>{const f=l.find(g=>g.projectId===d);if(f){const g=o[d]??{};return{...f,...g}}return!1}).filter(d=>!!d),[n,o,l]);return e.gFBgF(_.useEffect,()=>{const d=function(g,p){return e.dkADz(g,p)},f=function(g,p){return e.dkADz(g,p)};Promise.all([e.ORZZL(Br),e.EHotZ(Nr)]).then(([g,p])=>{d(c,g),f(m,p)}),e.arRLY(Pr,ye,e.xCbrk)},[]),e.gFBgF(h.jsxs,e.AORqQ,{style:{color:e.fwIUB,margin:e.EwgFB(a?e.gwNkr:"0",e.YHcbl)},className:e.vYXFJ,children:[a&&e.gFBgF(h.jsxs,e.EssiV,{style:{fontSize:14,opacity:.8,marginBottom:8,display:e.HsQKL,flexDirection:e.AMSnJ(e.StsRK,i)?e.lDCJo:e.YYlkP,gap:e.AMSnJ(e.StsRK,i)?8:0,justifyContent:e.sazAX,alignItems:e.BLTPk},children:[e.IXKJh(h.jsx,e.EssiV,{children:e.cZijq}),e.gFBgF(h.jsx,"a",{href:Or,target:e.yMHst,style:{fontSize:12,textDecoration:e.gOggR},children:e.erMrt})]}),e.Apqoc(h.jsx,e.EssiV,{style:{display:e.bAaAF,gridTemplateColumns:"repeat("+r+", 1fr)",gap:12},children:w.map(d=>h.jsx(k.Tooltip,{title:h.jsxs("div",{children:[h.jsx("div",{children:d.description}),h.jsx("div",{style:{paddingTop:8,paddingBottom:4,textAlign:"center",fontSize:16},children:"Click it to install"})]}),children:h.jsxs("div",{className:"esuit-ext",style:{display:"flex",flexDirection:i==="vertical"?"column":"row",alignItems:"center",gap:8,cursor:"pointer",minWidth:s==="normal"?330:180,paddingRight:i==="vertical"?0:16,opacity:.6,lineHeight:1.4,textAlign:"center"},onClick:()=>window.open(d.link,"_blank"),children:[h.jsx("img",{style:{width:u,height:u,display:"block"},src:"https://esuit.dev/extensions/"+d.projectId+".png",alt:""}),h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:s==="normal"?16:14},children:d.name}),h.jsxs("div",{style:{fontSize:12,display:"flex",opacity:.6,justifyContent:i==="vertical"?"center":"flex-start"},children:[h.jsxs("div",{children:["Users: ",d.users]}),h.jsxs("div",{style:{marginLeft:12},children:["Rate: ",d.rating]})]})]})]})},d.projectId))})]})}async function Nr(){const t=function(r,i){return r(i)},e=function(r,i){return r(i)};if(function(r,i){return r>i}(we.length,0))return we;const n=await t(fetch,Mr).then(r=>r.json());return we=e(on,n),we}function Br(){const t=function(n,r){return n(r)},e=function(n,r){return n(r)};return window[ye]?Promise.resolve(window[ye]):new Promise(n=>{e(fetch,kr).then(r=>r.json()).then(r=>{window[ye]=r.exts,t(n,r.exts)})})}function Pr(t,e){const n="style",r=document.getElementById(t);if(r)r.innerText=e;else{const i=document.createElement(n);i.innerHTML=e,document.head.appendChild(i)}}function jr(t){const e={XQbTG:"_blank",wTKDq:function(r,i,s){return r(i,s)},bNMZA:"div",Wlnbo:"inherit",VmKJc:"24px auto 0 auto",FeSva:function(r,i,s){return r(i,s)},XsKsn:" 🙏We greatly appreciate your support! 🙏",cDdlR:function(r,i,s){return r(i,s)},wPRbV:function(r,i,s){return r(i,s)},QHgDA:function(r,i,s){return r(i,s)},ztLvZ:"Help us out with a review for our Chrome extension!",YJcEV:function(r,i,s){return r(i,s)},VRCOy:"Your feedback is essential.👍🏼👍🏼👍🏼"},n=t.extLink+"/reviews";return e.wTKDq(h.jsxs,e.bNMZA,{style:{color:e.Wlnbo,margin:e.VmKJc},children:[e.FeSva(h.jsx,e.bNMZA,{children:e.XsKsn}),e.cDdlR(h.jsx,k.Rate,{onChange:()=>{window.open(n,e.XQbTG)},defaultValue:5}),e.wPRbV(h.jsx,e.bNMZA,{children:e.QHgDA(h.jsx,"a",{href:n,target:e.XQbTG,children:e.ztLvZ})}),e.YJcEV(h.jsx,e.bNMZA,{children:e.VRCOy})]})}function Lr(){const t={xUxgG:function(n,r){return n(r)},XbHzO:function(n,r,i){return n(r,i)},qihDM:function(n,r,i){return n(r,i)},GCagp:"success",tjNbA:function(n,r,i){return n(r,i)},jooZj:"vertical",HuWQY:"center",vHBdH:"100%",YWfXd:function(n,r,i){return n(r,i)},wblHv:"8px 0px",XsjPW:"🎉🎉🎉 Download Successful",MIQYI:function(n,r,i){return n(r,i)},GBKwu:"div",mXrgr:" photos",lqlPl:function(n,r,i){return n(r,i)},DeViz:"download-albums-for-facebook",kSFVV:"download-videos-for-facebook",mXCut:function(n,r,i){return n(r,i)}},{downloadCountRef:e}=t.xUxgG(_.useContext,Dt);return t.XbHzO(h.jsx,h.Fragment,{children:t.qihDM(h.jsx,k.Alert,{type:t.GCagp,message:t.tjNbA(h.jsxs,k.Space,{direction:t.jooZj,size:12,style:{textAlign:t.HuWQY,width:t.vHBdH},children:[t.YWfXd(h.jsx,"p",{style:{fontSize:24,margin:t.wblHv},children:t.XsjPW}),t.MIQYI(h.jsxs,t.GBKwu,{children:[e.current,t.mXrgr]}),t.tjNbA(h.jsx,jr,{extLink:Tn}),t.lqlPl(h.jsx,Er,{perRow:2,extsProjectIdArr:[t.DeViz,t.kSFVV]}),t.mXCut(h.jsx,He,{})]})})})}function zr(){var t={XQlnN:function(e,n,r){return e(n,r)},LjORj:"error",ZIcpy:"vertical",KoYCz:"center",HfPMs:"100%",BlZXV:"Unable to download any files.",WAZxU:function(e,n,r){return e(n,r)}};return t.XQlnN(h.jsx,k.Alert,{type:t.LjORj,message:t.XQlnN(h.jsxs,k.Space,{direction:t.ZIcpy,size:12,style:{textAlign:t.KoYCz,width:t.HfPMs},children:[t.BlZXV,t.WAZxU(h.jsx,He,{})]})})}function an(t){const e={yigse:function(o,c){return o(c)},qGMuM:function(o){return o()},XekNy:function(o,c,l){return o(c,l)},JNhYC:function(o,c,l){return o(c,l)},WGFyc:"vertical",aWVpK:"100%",PpvNh:"relative",lNatk:"div",LRuZg:" images have already been downloaded.",bYKqG:"auto",WVNEe:"hidden",bXzju:function(o,c,l){return o(c,l)},PEzDa:"span",kmtiN:"small",EjHtd:"#3b82f6",JoJka:"fetching next page.",NuOJs:function(o,c,l){return o(c,l)},ZItRf:"Request delay, please wait for",esCnz:function(o,c){return o/c},OfDcd:" seconds.",UxUJh:function(o,c,l){return o(c,l)},tmIvk:function(o,c,l){return o(c,l)},RLiwT:"#DC2625",stony:"To avoid account restrictions, please wait for",ddZoy:function(o,c){return o/c}},{photosArrRef:n,downloadCountRef:r,isFetchingNextPageRef:i,avoidAccountRestrictMSRef:s,requestDelayMsRef:u}=e.yigse(_.useContext,Dt),a=e.qGMuM(_.useRef);return e.XekNy(_.useEffect,()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[n.current]),e.JNhYC(h.jsxs,k.Space,{direction:e.WGFyc,size:8,style:{width:e.aWVpK,position:e.PpvNh},children:[e.XekNy(h.jsxs,e.lNatk,{children:[r.current,e.LRuZg]}),e.XekNy(h.jsx,e.lNatk,{ref:a,style:{height:350,width:e.aWVpK,overflow:e.bYKqG,overflowX:e.WVNEe,position:e.PpvNh},children:n.current.slice(-320).map(o=>h.jsxs("div",{style:{position:"relative",display:"inline-block",width:50,height:50,marginRight:8,marginBottom:8,background:"rgba(0,0,0,.2)",borderRadius:4},children:[h.jsx("div",{style:{backgroundImage:"url("+o.thumbnail+")",width:50,height:50,backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",borderRadius:4}}),o.status!=="waiting"&&h.jsxs(Hr,{children:[o.status==="done"&&h.jsx(yt.CheckOutlined,{style:{color:"#A3E636",fontSize:24}}),o.status==="skip"&&h.jsx("span",{style:{fontSize:14,color:"#fff"},children:"skip"}),o.status==="error"&&h.jsx(yt.CloseOutlined,{style:{fontSize:24,color:"#f20"}})]})]},o.id))}),t.children?t.children:e.JNhYC(h.jsx,h.Fragment,{}),e.bXzju(h.jsxs,e.lNatk,{children:[i.current?e.bXzju(h.jsxs,e.PEzDa,{children:[e.bXzju(h.jsx,k.Spin,{size:e.kmtiN}),e.XekNy(h.jsx,e.PEzDa,{style:{paddingLeft:6,color:e.EjHtd},children:e.JoJka})]}):e.NuOJs(h.jsx,h.Fragment,{}),u.current?e.NuOJs(h.jsxs,e.PEzDa,{children:[e.JNhYC(h.jsx,k.Spin,{size:e.kmtiN}),e.NuOJs(h.jsxs,e.PEzDa,{style:{paddingLeft:6},children:[e.ZItRf," ",e.esCnz(u.current,1e3).toFixed(1),e.OfDcd]})]}):e.XekNy(h.jsx,h.Fragment,{}),s.current?e.UxUJh(h.jsxs,e.PEzDa,{children:[e.tmIvk(h.jsx,k.Spin,{size:e.kmtiN}),e.UxUJh(h.jsxs,e.PEzDa,{style:{paddingLeft:6,color:e.RLiwT},children:[e.stony," ",e.ddZoy(s.current,1e3).toFixed(1),e.OfDcd]})]}):e.NuOJs(h.jsx,h.Fragment,{})]})]})}function Hr(t){const e={cTGJT:function(n,r,i){return n(r,i)},SJZYG:"div",raSeM:"absolute",SedaH:"flex",RYerp:"center",Dlqlt:"rgba(0,0,0,0.4)"};return e.cTGJT(h.jsx,e.SJZYG,{style:{position:e.raSeM,left:0,right:0,top:0,bottom:0,display:e.SedaH,justifyContent:e.RYerp,alignItems:e.RYerp,backgroundColor:e.Dlqlt},children:t.children})}function Vr(t){var e=function(s,u){return s===u},n="Enter",r="keypress";function i(s){e(n,s.code)&&t.onEnter()}(function(s,u,a){s(u,a)})(_.useEffect,()=>(document.body.addEventListener("keypress",i),()=>{document.body.removeEventListener(r,i)}),[])}const Wt="photodownloderdirhandler",ve=Wt+"sub";window[ve]={};function ke(){const t={cCHBV:"readwrite",KlOSJ:function(r,i){return r(i)},UeElS:function(r,i){return r(i)},piUqw:function(r){return r()},DimvX:"NotAllowedError",NvwyD:function(r,i,s){return r(i,s)},wDIsq:"div",JmUsE:"It seems that the website has disabled the image download permission. Please follow the instructions in the video.",BaJLM:function(r,i,s){return r(i,s)},UnYBG:"https://youtu.be/131AOjjYHX0",WoPRv:"_blank",sJpOV:"The user aborted a request",FZCSq:"We need permission to download the image to the folder, but you have denied it.",LJCvQ:"showDirectoryPicker",AbStS:function(r,i,s){return r(i,s)},moHTQ:"Your browser has not enabled the fileSystemAPI, please follow the instructions in the document to enable it.",zkcqN:"https://github.com/brave/brave-browser/issues/18979#issuecomment-956513079",TwVZl:"Permission Denied",WmurZ:"Unknown error occurred"},{messageApi:e}=t.KlOSJ(_.useContext,_t);return{requestDirPicker:function(){const r=function(s,u){return t.KlOSJ(s,u)},i=function(s,u){return t.UeElS(s,u)};return t.piUqw(Yr),new Promise(s=>{try{window.showDirectoryPicker({mode:t.cCHBV}).then(async u=>{window[Wt]=u,await window[Wt].requestPermission({writable:!0}),r(s,!0)}).catch(u=>{console.error(u),r(n,u),i(s,!1)})}catch(u){console.error(u),t.KlOSJ(n,u),t.KlOSJ(s,!1)}})},getDirPickerHandler:sn,isDirPickerExisted:function(){return!!window[Wt]}};function n(r){try{console.log(r.toString());const i=r.toString();~i.indexOf(t.DimvX)?e.error(t.NvwyD(h.jsxs,t.wDIsq,{children:[t.JmUsE,t.BaJLM(h.jsx,"br",{}),t.BaJLM(h.jsx,"a",{href:t.UnYBG,target:t.WoPRv,children:t.UnYBG})]})):~i.indexOf(t.sJpOV)?e.error(t.FZCSq):~i.indexOf(t.LJCvQ)?e.error(t.AbStS(h.jsxs,t.wDIsq,{children:[t.moHTQ,t.AbStS(h.jsx,"br",{}),t.NvwyD(h.jsx,"a",{href:t.zkcqN,target:t.WoPRv,children:t.zkcqN})]})):e.error(t.TwVZl)}catch(i){e.error(t.WmurZ),console.log(i)}}}function sn(){if(!window[Wt])throw new Error("DirectoryPicker was undefined");return window[Wt]}async function Ur(t,e){const n=window[ve][e.join("_")];if(n)return n;let r=t;for(const i of e)r=await r.getDirectoryHandle(i,{create:!0});return window[ve][e.join("_")]=r,r}function Yr(){window[ve]={}}function Kr(t){const e={ECTnb:function(i){return i()},Hvvxu:function(i,s){return i(s)},qQbIe:function(i,s,u){return i(s,u)},PODsS:"div",XsCZO:"Hotkey: ",pdkXE:function(i,s,u){return i(s,u)},RiOZT:"Enter",EWOrg:"primary",NWeoy:"Select a Folder to Download"},{requestDirPicker:n}=e.ECTnb(ke);function r(){e.ECTnb(n).then(i=>{i&&t.onClick()})}return e.Hvvxu(Vr,{onEnter(){e.ECTnb(r)}}),e.qQbIe(h.jsx,k.Tooltip,{title:e.qQbIe(h.jsxs,e.PODsS,{children:[e.XsCZO,e.pdkXE(h.jsx,"b",{children:e.RiOZT})]}),children:e.pdkXE(h.jsx,k.Button,{type:e.EWOrg,onClick:r,children:e.NWeoy})})}const Oe=_.createContext(null);function Gr(t){const e=function(C,F){return C(F)},n=function(C,F){return C&&F},r="getResumeCursor",i=function(C,F){return C===F},s="setResumeCursor",u=function(C,F){return C+F},a="removeResumeCursor",o=function(C,F){return C(F)},c=function(C,F){return C(F)},l=function(C){return C()},m=function(C,F){return C(F)},w=function(C,F,O){return C(F,O)},d=function(C,F,O){return C(F,O)},{collectionId:f,open:g}=o(_.useContext,It),{downloadCountRef:p,resumeDownloadPayload:y}=c(_.useContext,Dt),D=l(vt),[b,v]=m(_.useState,null);return w(_.useEffect,()=>{const C=function(F,O){return e(F,O)};n(f,g)&&D.send(r,f).then(F=>{C(v,F)})},[f,g]),d(h.jsx,Oe.Provider,{value:{resumeCursor:b,updateResumeCursor:function(C){var O,P;if(!f||y.current&&i((O=y.current)==null?void 0:O.lastCursor,C))return;const F=((P=y.current)==null?void 0:P.lastIndex)??0;D.send(s,{collectionToken:f,lastCursor:C,lastIndex:u(p.current,F)})},removeResumeCursor:function(){f&&D.send(a,f)}},children:t.children})}function Qr(){const t=function(f,g){return f(g)},e=function(f){return f()},n=function(f,g){return f*g},r=function(f,g){return f+g},i=function(f,g){return f*g},s=function(f,g){return f<g},u=function(f,g){return f>g},a=function(f,g){return f(g)},o=function(f,g){return f(g)},c=function(f,g,p){return f(g,p)},{isFullSpeed:l}=t(_.useContext,Ct),{step:m,setAvoidAccountRestrictMSRef:w}=a(_.useContext,Dt),d=o(_.useRef,0);return c(_.useEffect,()=>{d.current=0},[m]),{AvoidAccountRestrict:async function(){if(l)return;d.current+=1;let f=n(10,d.current);return f=Math.ceil(r(i(Math.random(),f),500)),s(f,3e3)?t(w,0):u(f,5e3)?(d.current=0,void t(w,0)):(a(w,f),void await new Promise(g=>setTimeout(()=>{t(w,0),e(g)},f)))}}}function qr(){const t=function(d,f){return d===f},e=function(d,f){return d===f},n=function(d,f){return d>=f},r=function(d,f){return d+f},i=function(d,f){return d-f},s=function(d){return d()},u="day",a=function(d,f){return d(f)},{fetchingCountType:o,fetchingCountByPhotosCountValue:c,fetchingCountByPhotosDaysValue:l}=a(_.useContext,Ct),{isUseQuantityControl:m}=a(_.useContext,It),{photosArrRef:w}=a(_.useContext,Dt);return{quantityGuard:function(d){const f={BbUHs:function(y,D){return t(y,D)},lDiPr:function(y,D){return e(y,D)},CjpZY:function(y,D){return n(y,D)},xVjZx:function(y,D){return r(y,D)},IOdUF:function(y,D){return i(y,D)},dVSVv:function(y,D){return i(y,D)},ZAOeP:function(y,D){return r(y,D)},bLRlr:function(y){return s(y)},gazhb:u},[g,p]=function(y){if(f.BbUHs(0,y.length))return[!1,y];if(f.lDiPr(o,gt.ALL)||!m)return[!1,y];if(f.BbUHs(o,gt.BY_PHOTOS_COUNT)&&f.CjpZY(f.xVjZx(w.current.length,y.length),c)){const D=f.IOdUF(y.length,f.dVSVv(f.ZAOeP(w.current.length,y.length),c));return[!0,y=y.slice(0,D)]}if(f.BbUHs(o,gt.BY_DAYS_COUNT)){const D=f.bLRlr(bt).subtract(f.dVSVv(l,1),f.gazhb).startOf(f.gazhb).unix(),b=y.length,v=y.filter(C=>C.createdAt<D).length;if(y=y.filter(C=>C.createdAt>=D),f.lDiPr(b,v))return[!0,y]}return[!1,y]}(d.items);return{...d,items:p,ifHaveMore:d.ifHaveMore?!g:d.ifHaveMore}}}}async function Jr(t,e){const n=function(w,d){return w(d)},r="0.95",i="canvas";if(function(w,d){return w===d}(t.type,e))return t;let{width:s,height:u,type:a,img:o,objUrl:c}=await n(Wr,t),l=document.createElement(i),m=l.getContext("2d");return l.width=s,l.height=u,m.drawImage(o,0,0),new Promise(w=>{const d=function(f,g){return n(f,g)};l.toBlob(f=>{URL.revokeObjectURL(c),l.remove(),l=null,o.remove(),o=null,m=null,d(w,f)},e,r)})}async function Wr(t){const e=function(n,r){return n(r)};return new Promise(n=>{const r=function(u,a){return e(u,a)};let i=new Image,s=URL.createObjectURL(t);i.onload=function(){let u=i.width,a=i.height;r(n,{width:u,height:a,type:t.type,objUrl:s,img:i})},i.src=s})}function Xr(){const t=function(M,S){return M(S)},e=function(M,S,L){return M(S,L)},n="skip",r=function(M,S){return M===S},i=function(M,S,L){return M(S,L)},s=function(M,S){return M+S},u="done",a=function(M,S){return M(S)},o=function(M,S){return M(S)},c=function(M,S){return M/S},l=function(M,S){return M*S},m=function(M,S){return M(S)},{downloadCountRef:w,setPhotoStatus:d,resumeDownloadPayload:f}=o(_.useContext,Dt),{isGenFolder:g,formatType:p,isSplitFolder:y,filenameFormats:D,isSkipDownloadedFile:b,downloadType:v,isDownloadVideoThumbnail:C,getFeatureLimitProcessTimeValue:F}=a(_.useContext,Ct),{isFileIdDownloaded:O,appendDownloadedFile:P}=m(_.useContext,ue),{folderName:A}=o(_.useContext,It);return{download:async function(M){var L;if(b&&t(O,M.id))return e(d,M.id,n);if(r(v,Bt.IMAGES_ONLY)&&M.isVideo)return i(d,M.id,n);w.current++;let S=((L=f.current)==null?void 0:L.lastIndex)??0;await t(Ee,{filenameFormats:D,index:s(S,w.current),photo:M,isSplitFolder:y,formatType:p,isGenFolder:g,folderName:A,isDownloadVideoThumbnail:C,getFeatureLimitProcessTimeValue:F,isDirect:!1}),e(d,M.id,u),a(P,M.id),await o(ie,c(Math.ceil(s(l(200,Math.random()),50)),1e3))}}}async function Ee(t){const e=function(E,I){return E(I)},n=function(E,I){return E(I)},r=function(E,I){return E!==I},i=function(E,I){return E(I)},s=function(E,I){return E(I)},u=function(E,I,j){return E(I,j)},a=function(E,I,j){return E(I,j)},o=function(E,I){return E+I},c=function(E,I){return E(I)},l=function(E,I){return E(I)},m=function(E,I,j,H,x){return E(I,j,H,x)},w=function(E){return E()},d="downloadFileByUri",f=function(E,I){return E(I)},g=function(E,I){return E!==I},p=function(E,I){return E+I},y=function(E,I){return E>I},D=function(E,I,j,H){return E(I,j,H)},b=function(E,I){return E+I},v=function(E,I){return E(I)},{index:C,filenameFormats:F,photo:O,formatType:P,isGenFolder:A,isSplitFolder:M,isDirect:S,folderName:L,isDownloadVideoThumbnail:K,getFeatureLimitProcessTimeValue:Y}=t;let z=e(Re,{rule:Y?e(Y,{featureKey:Ot.FILENAME_RULE,currentIndex:C,currentValue:F}):F,fields:tn,data:{index:C,createdAt:O.createdAt,id:O.id,authorName:O.authorName,fullName:O.fullName,uri:O.uri,code:O.code}});z=z+"."+n(Fe,O.uri);let T=Y?n(Y,{featureKey:Ot.IMAGE_FORMATS,currentIndex:C,currentValue:P}):P;if(!O.isVideo&&r(T,St.ORIGINAL)){if(r(T,await i(An,O.uri))){let E=await(await s(fetch,O.uri)).blob();E=await u(Jr,E,T);const I=URL.createObjectURL(E);a(setTimeout,()=>{window.URL.revokeObjectURL(I)},2e3),O.uri=I}z=o(c(oe,z),"."+l(xn,T))}z=c(le,z);let B=m(Zr,O,A,M,L);if(B&&(B=B.map(E=>Ht(E))),S)return B&&(z=B.join("/")+"/"+z),O.isVideo&&K&&w(vt).send(d,O.thumbnail,o(e(oe,z),".thumbnail."+f(Fe,O.thumbnail))),void w(vt).send(d,O.uri,z);if(window.downloadedFilenameCountMap=window.downloadedFilenameCountMap||{},g(void 0,window.downloadedFilenameCountMap[z])){window.downloadedFilenameCountMap[z]=p(window.downloadedFilenameCountMap[z],1);const E=z.split(".");E.splice(-1,0,window.downloadedFilenameCountMap[z]),z=E.join(".")}else window.downloadedFilenameCountMap[z]=0;let G=w(sn);B&&y(B.length,0)&&(G=await a(Ur,G,B)),await D(un,O.uri,z,G),O.isVideo&&K&&await D(un,O.thumbnail,b(v(oe,z),".thumbnail."+c(Fe,O.thumbnail)),G)}async function un(t,e,n){let r=await(await(u=fetch,a=t,u(a))).blob(),i=await n.getFileHandle(e,{create:!0}),s=await i.createWritable();var u,a;await s.write(r),await s.close(),r=null,i=null,s=null}function Zr(t,e,n,r){const i=function(a,o){return a>o},s=function(a){return a()};let u=r;return e?u||(u=t.authorName):u="",t.saveFolderPath&&i(t.saveFolderPath.length,0)?t.saveFolderPath:i(u.length,0)&&(n?[u,...s(Rr)]:[u])}function Rr(){var o,c,l,m;const t="/highlights/",e=function(w,d){return w(d)},n=function(w,d){return w===d},r="highlight",i="highlights",s="/stories/",u="latest",a="posts";if(~window.location.href.indexOf(t)){let w=e(Ht,window.currentHighlight.name);return n(0,w.trim().length)&&(w=window.currentHighlight.id.replace(r,"")),[i,w]}return~window.location.href.indexOf(s)?[i,u]:window.igroute&&((c=(o=window.igroute)==null?void 0:o.params)!=null&&c.tab)?[(m=(l=window.igroute)==null?void 0:l.params)==null?void 0:m.tab]:[a]}function $r(){const t=function(l,m){return l(m)},e=function(l){return l()},n=function(l,m){return l===m},r=function(l,m){return l*m},i=function(l,m){return l>m},s=function(l,m){return l(m)},u=function(l,m){return l(m)},{requestDelay:a,isFullSpeed:o}=s(_.useContext,Ct),{setRequestDelayMsRef:c}=u(_.useContext,Dt);return{requestDelay:async function(){const l=function(d,f){return t(d,f)},m=function(d){return e(d)};if(n(0,a)||o)return;const w=r(1e3,a);i(a,1)&&t(c,w),await new Promise(d=>setTimeout(()=>{l(c,0),m(d)},w))}}}function ti(){const t=function(S,L){return S(L)},e=function(S,L){return S(L)},n=function(S,L){return S(L)},r=function(S){return S()},i=function(S,L){return S(L)},s=function(S,L){return S(L)},u=function(S,L){return S(L)},a=function(S,L){return S(L)},o=function(S,L){return S(L)},c=function(S){return S()},l=function(S){return S()},{fetchQueryRef:m,isUseQuantityControl:w,view:d}=n(_.useContext,It);s(_.useContext,_t);const{isStopManually:f,photosArrRef:g,setIsFetchingNextPageRef:p,appendPhotos:y}=u(_.useContext,Dt),{isSkipDownloadedFile:D}=a(_.useContext,Ct),{isFileIdDownloaded:b,appendDownloadedFile:v}=o(_.useContext,ue),{AvoidAccountRestrict:C}=c(Qr),{requestDelay:F}=r($r),{download:O}=r(Xr),{quantityGuard:P}=l(qr),{removeResumeCursor:A,updateResumeCursor:M}=n(_.useContext,Oe);return{startFetchAndDownload:async function S(L,K){const Y=function(T,B){return t(T,B)};if(f.current||!m.current)return;await t(p,!0);let z=await m.current({nextParams:L,resumeCursor:K,configs:{isSkipDownloadedFile:D},methods:{isFileIdDownloaded:b,appendDownloadedFile:v}});if(w&&(z=e(P,z)),await e(p,!1),await async function(T){T=T.filter(B=>!g.current.find(G=>G.id===B.id)),Y(y,T);for(let B of T)if(await Y(O,B),f.current)return}(z.items),z.needSavedCursor&&n(M,z.needSavedCursor),z.ifHaveMore){if(z.skipWaiting||(await r(C),await r(F)),f.current)return;await t(S,z.nextParams)}else await i(ie,2),r(A)}}}function ei(){const t={UVQyE:function(i){return i()},CdwFF:"Cleanup successful.",QpGRR:function(i,s){return i(s)},mKdfi:function(i,s){return i(s)},MLHrH:function(i,s){return i===s},uCVUM:function(i,s,u){return i(s,u)},AihEc:function(i,s,u){return i(s,u)},jZEpg:"It has saved ",AmCDG:`downloaded image's ID (stored in browser), which will be used for the "Skip Downloaded files" feature. Click to clean.`,kjQoC:function(i,s,u){return i(s,u)},dTtTl:"small",nCPzQ:"text",LIZMx:function(i,s,u){return i(s,u)},gRHRw:"span",OzDfw:"inline-block",jmkDk:"left"},{clearDownloadedFilesIdCache:e,downloadedFilesId:n}=t.QpGRR(_.useContext,ue),{messageApi:r}=t.mKdfi(_.useContext,_t);return t.MLHrH(0,n.current.length)?t.uCVUM(h.jsx,h.Fragment,{}):t.uCVUM(h.jsx,k.Tooltip,{title:t.AihEc(h.jsxs,h.Fragment,{children:[t.jZEpg,n.current.length.toLocaleString()," ",t.AmCDG]}),children:t.uCVUM(h.jsx,k.Button,{icon:t.kjQoC(h.jsx,yt.DatabaseOutlined,{}),size:t.dTtTl,type:t.nCPzQ,onClick:function(){t.UVQyE(e),r.success(t.CdwFF)},children:t.LIZMx(h.jsx,t.gRHRw,{style:{display:t.OzDfw,minWidth:50,textAlign:t.jmkDk,fontSize:12},children:n.current.length.toLocaleString()})})})}function ni(){var e;var t={KWlyY:function(n){return n()},hpdow:"visitPricing",uaSBv:function(n,r,i){return n(r,i)},yofjS:function(n,r,i){return n(r,i)},iwbnJ:"small",MHpaX:"link",HEqBX:"Report a Bug",bRXtm:"Upgrade Now"};return t.uaSBv(h.jsxs,k.Space,{size:0,children:[t.yofjS(h.jsx,k.Button,{size:t.iwbnJ,type:t.MHpaX,onClick:()=>window.open("https://www.facebook.com/esuitdev","_blank"),children:t.HEqBX}),((e=window.download_albums_for_instagram[Ot.FILENAME_RULE])==null?void 0:e.needUpgrade)&&t.yofjS(h.jsx,k.Button,{size:t.iwbnJ,type:t.MHpaX,onClick:()=>{t.KWlyY(vt).send(t.hpdow)},children:t.bRXtm})]})}function ri(){var t={ZEMek:function(e,n,r){return e(n,r)},sbKYa:function(e,n,r){return e(n,r)},UbbGC:"small",zppth:"link",CpdeA:"Find more extensions"};return t.ZEMek(h.jsx,k.Space,{size:8,children:t.sbKYa(h.jsx,k.Button,{size:t.UbbGC,type:t.zppth,onClick:()=>window.open("https://esuit.dev/","_blank"),children:t.CpdeA})})}function ii(){const t={bKEdk:function(n,r){return n(r)},htYPx:function(n,r){return n(r)},lvhPr:"Copy successful.",mGruv:function(n,r){return n(r)},eUZJR:function(n,r,i){return n(r,i)},ZuQDZ:"Encountering an issue? Click this icon to copy the Case ID and contact us on Facebook.",hyEoY:"text",HalQD:"small"},{messageApi:e}=t.mGruv(_.useContext,_t);return t.eUZJR(h.jsx,k.Tooltip,{title:t.ZuQDZ,children:t.eUZJR(h.jsx,k.Button,{type:t.hyEoY,size:t.HalQD,onClick:function(){navigator.clipboard.writeText(t.bKEdk(btoa,t.htYPx(encodeURIComponent,window.location.href))),e.success(t.lvhPr)},children:"🐛"})})}function Ne(t){var e={HImGu:function(n,r,i){return n(r,i)},EUyyu:"vertical",tSmyg:"100%",SaAZx:function(n,r,i){return n(r,i)},JHHAK:"div",KoXnJ:function(n,r,i){return n(r,i)},uttck:"space-between",hcwey:function(n,r,i){return n(r,i)},LxclU:function(n,r,i){return n(r,i)},oaGIP:function(n,r,i){return n(r,i)},txRNf:function(n,r,i){return n(r,i)}};return e.HImGu(h.jsxs,k.Space,{direction:e.EUyyu,size:24,style:{width:e.tSmyg},children:[e.SaAZx(h.jsxs,e.JHHAK,{children:[e.SaAZx(h.jsx,e.JHHAK,{children:t.title}),e.KoXnJ(h.jsx,e.JHHAK,{style:{minHeight:420},children:t.children})]}),e.SaAZx(h.jsxs,k.Row,{justify:e.uttck,style:{width:e.tSmyg},children:[e.hcwey(h.jsxs,k.Space,{size:4,children:[e.LxclU(h.jsx,ei,{}),e.oaGIP(h.jsx,ii,{}),e.txRNf(h.jsx,ni,{})]}),t.footer]})]})}function oi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cn={exports:{}};(function(t){var e,n={arUcF:"second",DGWNm:"minute",uaZQI:"hour",MTawh:"day",tZdlk:"month",gdUGd:"year",zALgT:function(r,i){return r<i},jLjYM:function(r,i){return r(i)},zScWe:function(r,i){return r>i},ZkuUL:function(r,i){return r<=i},CbBgn:function(r,i){return r-i},jBGuv:function(r,i){return r(i)},bXtPM:function(r,i){return r+i},OadCj:function(r,i){return r==i},REnRr:"string",MsWbk:function(r,i,s,u,a){return r(i,s,u,a)},fJvUK:"function",XtKbP:function(r,i){return r||i},VeaKc:"in %s",KNZee:"%s ago",FcFkO:"a few seconds",moaAB:"a minute",ziJdG:"%d minutes",AEOXs:"an hour",fhLOf:"%d hours",jBCMb:"a day",AJrei:"%d days",BjHgA:"a month",ArQZG:"%d months",wqxwt:"a year",SHtko:"%d years",kQvas:function(r,i,s,u){return r(i,s,u)},doWON:function(r){return r()},hXmMb:function(r,i){return r(i)}};e=function(){var r=function(a,o,c,l,m){return n.MsWbk(a,o,c,l,m)},i=function(a,o,c,l){return n.kQvas(a,o,c,l)},s=function(a){return n.doWON(a)},u=function(a,o){return n.hXmMb(a,o)};return function(a,o,c){var l={OscJd:n.arUcF,nWlLY:n.DGWNm,wnmzO:n.uaZQI,enlbq:n.MTawh,YIFJq:n.tZdlk,CocCS:n.gdUGd,aXlDg:function(g,p){return n.zALgT(g,p)},GLWmT:function(g,p){return n.jLjYM(g,p)},ApNQG:function(g,p){return n.zScWe(g,p)},kgfop:function(g,p){return n.ZkuUL(g,p)},YXgZn:function(g,p){return n.ZkuUL(g,p)},zwLtv:function(g,p){return n.CbBgn(g,p)},ZEBvx:function(g,p){return n.jBGuv(g,p)},yzzUt:function(g,p){return n.bXtPM(g,p)},jJysJ:function(g,p){return n.OadCj(g,p)},kWjGk:n.REnRr,sTrUi:function(g,p,y,D,b){return n.MsWbk(g,p,y,D,b)},vrsgp:function(g,p){return n.OadCj(g,p)},zEtHI:n.fJvUK};a=n.XtKbP(a,{});var m=o.prototype,w={future:n.VeaKc,past:n.KNZee,s:n.FcFkO,m:n.moaAB,mm:n.ziJdG,h:n.AEOXs,hh:n.fhLOf,d:n.jBCMb,dd:n.AJrei,M:n.BjHgA,MM:n.ArQZG,y:n.wqxwt,yy:n.SHtko};function d(g,p,y,D){return m.fromToBase(g,p,y,D)}c.en.relativeTime=w,m.fromToBase=function(g,p,y,D,b){for(var v,C,F,O=y.$locale().relativeTime||w,P=a.thresholds||[{l:"s",r:44,d:l.OscJd},{l:"m",r:89},{l:"mm",r:44,d:l.nWlLY},{l:"h",r:89},{l:"hh",r:21,d:l.wnmzO},{l:"d",r:35},{l:"dd",r:25,d:l.enlbq},{l:"M",r:45},{l:"MM",r:10,d:l.YIFJq},{l:"y",r:17},{l:"yy",d:l.CocCS}],A=P.length,M=0;l.aXlDg(M,A);M+=1){var S=P[M];S.d&&(v=D?l.GLWmT(c,g).diff(y,S.d,!0):y.diff(g,S.d,!0));var L=(a.rounding||Math.round)(Math.abs(v));if(F=l.ApNQG(v,0),l.kgfop(L,S.r)||!S.r){l.YXgZn(L,1)&&l.ApNQG(M,0)&&(S=P[l.zwLtv(M,1)]);var K=O[S.l];b&&(L=l.ZEBvx(b,l.yzzUt("",L))),C=l.jJysJ(l.kWjGk,typeof K)?K.replace("%d",L):l.sTrUi(K,L,p,S.l,F);break}}if(p)return C;var Y=F?O.future:O.past;return l.vrsgp(l.zEtHI,typeof Y)?l.ZEBvx(Y,C):Y.replace("%s",C)},m.to=function(g,p){return r(d,g,p,this,!0)},m.from=function(g,p){return i(d,g,p,this)};var f=function(g){return g.$u?c.utc():s(c)};m.toNow=function(g){return this.to(u(f,this),g)},m.fromNow=function(g){return this.from(u(f,this),g)}}},t.exports=n.doWON(e)})(cn);var ai=cn.exports;const si=oi(ai);bt.extend(si);function ui(t){const e={GUuHq:function(a){return a()},zhcAY:function(a,o,c,l){return a(o,c,l)},uKRZj:"photo",jLtwk:function(a,o){return a(o)},jkyjq:function(a,o){return a(o)},Axfbq:function(a,o){return a(o)},GhskF:function(a,o,c){return a(o,c)},ybNMD:"Resume downloading",caKPa:"vertical",VvlbJ:"nowrap",xYBxF:"div",BOLoE:"From: ",TagBR:"Date:",JMBGw:"MM/DD/YYYY hh:mm:ss",MGLeT:"Index: ",gZIsK:"primary",pUxRb:"Resume downloading?"},{resumeCursor:n}=e.jLtwk(_.useContext,Oe),{resumeDownloadPayload:r}=e.jkyjq(_.useContext,Dt),{checkIfCanUseWithModal:i}=e.Axfbq(_.useContext,Ct),{requestDirPicker:s,isDirPickerExisted:u}=e.GUuHq(ke);if(n)return e.GhskF(h.jsx,k.Popover,{title:e.ybNMD,content:e.GhskF(h.jsxs,k.Space,{direction:e.caKPa,size:8,style:{whiteSpace:e.VvlbJ,fontSize:14},children:[e.GhskF(h.jsxs,e.xYBxF,{children:[e.BOLoE,bt.unix(n.lastUpdateAt).fromNow()]}),e.GhskF(h.jsxs,e.xYBxF,{children:[e.TagBR," ",bt.unix(n.lastUpdateAt).format(e.JMBGw)]}),e.GhskF(h.jsxs,e.xYBxF,{children:[e.MGLeT,n.lastIndex]})]}),children:e.GhskF(h.jsx,k.Button,{type:e.gZIsK,ghost:!0,onClick:function(){e.zhcAY(i,Ot.RESUME_DOWNLOADING,null,e.uKRZj).then(a=>{a&&(e.GUuHq(u)?(r.current=n,r.current&&t.onClick(r.current.lastCursor)):e.GUuHq(s).then(o=>{o&&(r.current=n,r.current&&t.onClick(r.current.lastCursor))}))})},children:e.pUxRb})})}function ci(){const t={saGpR:function(d,f){return d(f)},QpMkJ:function(d,f,g){return d(f,g)},zYxLK:function(d){return d()},hmlOV:function(d,f){return d===f},tIkJe:function(d){return d()},gfzWq:"consumeFeaturesTreeTryByMemoUIConfigs",LOmGu:function(d,f,g){return d(f,g)},jvxPo:function(d,f){return d(f)},SEtkg:function(d,f){return d(f)},aTCDY:function(d,f){return d(f)},KxoTg:function(d,f,g){return d(f,g)},BAvrR:function(d,f){return d===f},XNPET:function(d,f,g){return d(f,g)},oJyXN:"text",qgPEg:"Close",fBisb:function(d,f,g){return d(f,g)},FBqzS:function(d,f,g){return d(f,g)},bkuwu:function(d,f,g){return d(f,g)},dEbSS:"primary",VIkDM:"Stop",xvbmG:function(d,f){return d===f},JAITq:function(d,f,g){return d(f,g)},DfoUj:function(d,f,g){return d(f,g)},VjPpu:"ReDownload",mIMQa:function(d,f,g){return d(f,g)},kEJMR:function(d,f,g){return d(f,g)},rKHCg:function(d,f){return d===f},UkwjE:function(d,f,g){return d(f,g)},IszvQ:function(d,f,g){return d(f,g)},EUzCX:"div",CdFaF:"absolute",cwLRv:"rgba(0,0,0,.4)"},{saveMemoSettings:e,isSkipDownloadedFile:n}=t.jvxPo(_.useContext,Ct),{setOpen:r,view:i}=t.SEtkg(_.useContext,It),{step:s,isStopManually:u,setStep:a,downloadCountRef:o,resetStatus:c}=t.SEtkg(_.useContext,Dt),{modalApi:l}=t.aTCDY(_.useContext,_t),{startFetchAndDownload:m}=t.tIkJe(ti);function w(d){const f=function(p,y){return t.saGpR(p,y)},g=function(p,y,D){return t.QpMkJ(p,y,D)};t.zYxLK(e),u.current=!1,t.hmlOV(i,dt.DOWNLOAD_ALBUM)&&t.tIkJe(vt).send(t.gfzWq,{isSkipDownloadedFile:n}),t.saGpR(a,Ft.DOWNLOADING),t.LOmGu(m,null,d).then(()=>{f(a,Ft.DONE)}).catch(p=>{console.error(p),u.current=!0,g(jn,l,p)})}return t.KxoTg(h.jsxs,Ne,{title:"",footer:t.QpMkJ(h.jsxs,k.Space,{size:12,children:[t.BAvrR(s,Ft.OPTIONS)&&t.XNPET(h.jsxs,h.Fragment,{children:[t.KxoTg(h.jsx,k.Button,{type:t.oJyXN,onClick:()=>r(!1),children:t.qgPEg}),t.fBisb(h.jsx,Kr,{onClick:()=>w()}),t.KxoTg(h.jsx,ui,{onClick:w})]}),t.BAvrR(s,Ft.DOWNLOADING)&&t.FBqzS(h.jsx,h.Fragment,{children:t.bkuwu(h.jsx,k.Button,{type:t.dEbSS,danger:!0,onClick:()=>{u.current=!0,t.saGpR(a,Ft.DONE)},children:t.VIkDM})}),t.xvbmG(s,Ft.DONE)&&t.JAITq(h.jsxs,h.Fragment,{children:[t.DfoUj(h.jsx,k.Button,{type:t.oJyXN,onClick:()=>r(!1),children:t.qgPEg}),t.LOmGu(h.jsx,k.Button,{onClick:()=>c(),children:t.VjPpu})]})]}),children:[t.xvbmG(s,Ft.OPTIONS)&&t.XNPET(h.jsx,rn,{}),t.BAvrR(s,Ft.DOWNLOADING)&&t.mIMQa(h.jsx,an,{}),t.hmlOV(s,Ft.DONE)&&t.kEJMR(h.jsx,h.Fragment,{children:t.rKHCg(0,o.current)?t.UkwjE(h.jsx,zr,{}):t.IszvQ(h.jsx,an,{children:t.UkwjE(h.jsx,t.EUzCX,{style:{position:t.CdFaF,left:0,right:0,top:0,bottom:0,padding:16,backgroundColor:t.cwLRv},children:t.JAITq(h.jsx,Lr,{})})})})]})}function li(){const t=function(g){return g()},e="Saved successfully.",n=function(g,p){return g(p)},r=function(g,p){return g(p)},i=function(g,p,y){return g(p,y)},s="Options",u=function(g,p,y){return g(p,y)},a="text",o="Close",c="primary",l="Save",m=function(g,p,y){return g(p,y)},{saveMemoSettings:w}=n(_.useContext,Ct),{messageApi:d}=r(_.useContext,_t),{setOpen:f}=n(_.useContext,It);return i(h.jsx,Ne,{title:s,footer:u(h.jsxs,k.Space,{size:12,children:[u(h.jsx,k.Button,{type:a,onClick:()=>f(!1),children:o}),i(h.jsx,k.Button,{type:c,onClick:function(){t(w),d.success(e)},children:l})]}),children:m(h.jsx,rn,{})})}function di(){const t={OeGKb:function(v,C){return v(C)},vhcfG:function(v,C){return v(C)},pNTqs:function(v,C){return v(C)},FAxkT:function(v){return v()},VeNPY:function(v,C){return v<C},YPsvi:function(v,C){return v+C},uByLd:"Download Successful",rVXZr:function(v){return v()},MuHeW:function(v,C){return v(C)},ADIXR:function(v,C){return v(C)},wACRM:function(v,C){return v(C)},jjKvd:function(v,C){return v(C)},qoDOB:function(v){return v()},wjIeh:function(v,C){return v(C)},VKuMF:function(v,C){return v(C)},sBJcP:function(v,C,F){return v(C,F)},wTjWb:function(v,C,F){return v(C,F)},OFpJO:function(v,C,F){return v(C,F)},hhpWT:"Select to Download",bieDr:function(v,C,F){return v(C,F)},titlc:function(v,C){return v===C},WBXvu:"primary",wdvJh:"Select a Folder to Download",pirYx:"div",ynUPH:"flex",pxtAx:"row",wYyIj:"center",ENbxa:"auto",KgVjL:"hidden",oePRF:function(v,C,F){return v(C,F)},GXFWk:function(v,C,F){return v(C,F)},cprGW:"Select All"},{messageApi:e}=t.wACRM(_.useContext,_t),{fetchQueryRef:n}=t.ADIXR(_.useContext,It),{filenameFormats:r,formatType:i,isGenFolder:s,isSplitFolder:u,isDownloadVideoThumbnail:a}=t.jjKvd(_.useContext,Ct),{requestDirPicker:o}=t.qoDOB(ke),[c,l]=t.jjKvd(_.useState,!0),[m,w]=t.ADIXR(_.useState,[]),[d,f]=t.pNTqs(_.useState,[]),g=t.wjIeh(_.useRef,[]),[p,y]=t.VKuMF(_.useState,0),D=t.sBJcP(_.useMemo,()=>d.length>0&&d.length<m.length,[d,m]),b=t.sBJcP(_.useMemo,()=>d.length===m.length,[d,m]);return t.wTjWb(_.useEffect,()=>{c||t.OeGKb(f,m.map(v=>v.id))},[c]),t.sBJcP(_.useEffect,()=>{(async()=>{if(t.OeGKb(l,!0),n.current){const{items:v}=await n.current({nextParams:null});t.vhcfG(w,v),t.pNTqs(l,!1)}})()},[n.current]),t.OFpJO(h.jsx,Ne,{title:t.hhpWT,footer:t.bieDr(h.jsx,k.Button,{disabled:t.titlc(0,d.length),type:t.WBXvu,onClick:()=>async function(){const v={WeLka:function(C){return t.FAxkT(C)},XsdkZ:function(C,F){return t.VeNPY(C,F)},WFqOH:function(C,F){return t.vhcfG(C,F)},izmiW:function(C,F){return t.YPsvi(C,F)},ZnFJm:function(C,F){return t.OeGKb(C,F)},ceKBa:t.uByLd};t.rVXZr(o).then(async C=>{if(C){v.WeLka(Yt);const F=m.filter(O=>d.includes(O.id));for(let O=0;v.XsdkZ(O,F.length);O++){const P=F[O];await v.WFqOH(Ee,{index:v.izmiW(O,1),photo:P,filenameFormats:r,formatType:i,isGenFolder:s,isSplitFolder:u,folderName:void 0,isDirect:!1,isDownloadVideoThumbnail:a}),g.current=[...g.current,P.id],v.ZnFJm(y,Math.random())}e.success(v.ceKBa)}})}(),children:t.wdvJh}),children:c?t.OFpJO(h.jsx,t.pirYx,{style:{paddingTop:120,display:t.ynUPH,flexDirection:t.pxtAx,justifyContent:t.wYyIj},children:t.sBJcP(h.jsx,k.Spin,{})}):t.sBJcP(h.jsxs,k.Row,{gutter:[12,12],style:{maxHeight:400,overflow:t.ENbxa,overflowX:t.KgVjL},children:[t.oePRF(h.jsx,k.Col,{span:24,children:t.GXFWk(h.jsx,k.Checkbox,{indeterminate:D,checked:b,onChange:function(v){t.MuHeW(f,v.target.checked?m.map(C=>C.id):[])},children:t.cprGW})}),m.map(v=>h.jsx(k.Col,{span:4,children:h.jsxs("div",{style:{paddingBottom:"100%",position:"relative",background:"rgba(0,0,0,.2)",borderRadius:4},children:[h.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,right:0,backgroundImage:"url("+v.thumbnail+")",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",borderRadius:4,zIndex:1}}),h.jsx("div",{style:{position:"absolute",left:8,top:8,transform:"scale(1.4)",zIndex:2},children:h.jsx(k.Checkbox,{checked:d.includes(v.id),onChange:C=>function(F,O){if(O)d.push(F);else{const P=d.indexOf(F);d.splice(P,1)}t.ADIXR(f,[...d])}(v.id,C.target.checked)})}),g.current.includes(v.id)&&h.jsx("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.4)",zIndex:3},children:h.jsx(yt.CheckOutlined,{style:{color:"#A3E636",fontSize:24}})})]})},v.id))]})})}function fi(){const t=function(l){return l()},e=function(l,m){return l(m)},n=function(l,m,w){return l(m,w)},r="#333",i=function(l,m){return l===m},s=function(l,m){return l===m},{open:u,setOpen:a,view:o}=e(_.useContext,It),{resetStatus:c}=e(_.useContext,Dt);return n(h.jsxs,k.Modal,{destroyOnClose:!0,title:n(h.jsx,Bn,{}),width:900,open:u,onCancel:()=>{t(c),e(a,!1)},footer:null,bodyStyle:{"--secondary-text":r},children:[i(o,dt.OPTIONS)&&n(h.jsx,li,{}),s(o,dt.SELECT_TO_DOWNLOAD)&&n(h.jsx,di,{}),i(o,dt.DOWNLOAD_ALBUM)&&n(h.jsx,ci,{})]})}function gi(t,e){const n=function(I,j){return I(j)},r=function(I,j){return I===j},i=function(I,j){return I(j)},s=function(I,j){return I(j)},u=function(I,j){return I(j)},a=function(I,j){return I(j)},o=function(I,j){return I(j)},c=function(I,j){return I(j)},l=function(I,j){return I(j)},m=function(I,j){return I(j)},w=function(I,j){return I(j)},d=function(I,j){return I(j)},f=function(I,j){return I(j)},g=function(I,j,H){return I(j,H)},p=function(I,j,H){return I(j,H)},y=function(I,j,H){return I(j,H)},D=function(I,j,H){return I(j,H)},b=function(I,j,H){return I(j,H)},v=function(I,j,H){return I(j,H)},[C,F]=w(_.useState,dt.OPTIONS),[O,P]=u(_.useState,!1),[A,M]=n(_.useState,void 0),[S,L]=d(_.useState,void 0),K=f(_.useRef,void 0),[Y,z]=n(_.useState,!1),T=g(_.useMemo,()=>window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD"),[]),B=g(_.useMemo,()=>window.zKjQYvgSmF("udbfs/fnfiUHJtjsbmpQ").isDarkMode(),[]);function G(I){if(I){const{view:j}=I;n(F,j||dt.OPTIONS),r(j,dt.DOWNLOAD_ALBUM)?(I.collectionId?i(M,I.collectionId):s(M,void 0),I.folderName?u(L,I.folderName):n(L,void 0),a(z,!!I.isUseQuantityControl)):(o(M,void 0),c(L,void 0),c(z,!1)),r(j,dt.DOWNLOAD_ALBUM)||r(j,dt.SELECT_TO_DOWNLOAD)?K.current=I.fetchQuery:K.current=void 0}l(P,!0)}function E(){m(P,!1)}return p(_.useImperativeHandle,e,()=>({show:G,hide:E})),O?y(h.jsx,T,{fallback:hi,children:g(h.jsx,k.ConfigProvider,{theme:{algorithm:B?k.theme.darkAlgorithm:k.theme.defaultAlgorithm,token:{motion:!1}},children:p(h.jsx,It.Provider,{value:{view:C,open:O,setOpen:P,collectionId:A,folderName:S,isDark:B,fetchQueryRef:K,isUseQuantityControl:Y,...t},children:y(h.jsx,me,{children:y(h.jsx,In,{children:p(h.jsx,nn,{children:D(h.jsx,Gr,{children:b(h.jsx,Nn,{children:p(h.jsx,fi,{})})})})})})})})}):v(h.jsx,h.Fragment,{})}const be=_.forwardRef(gi);function hi(t){return console.error(t),h.jsx(Zt,{})}async function te(t){const e="jqbutoJtjsbmpQ",n=function(u,a){return u(a)},r=function(u,a,o,c){return u(a,o,c)},i="data.items",s=await window.zKjQYvgSmF(e).apiGet("/api/v1/media/"+t+"/info/");return n(Qt,r(q.get,s,i,[]).map(u=>({...u,authorName:q.get(u,"user.username"),fullName:q.get(u,"user.full_name")})))}function Qt(t){const e=function(r,i){return r(i)},n=[];return t.map(r=>{const i=e(ln,r);Array.isArray(i)?i.map(s=>{n.push(s)}):n.push(i)}),n}function ln(t){const e="tuobutopDbjefNtjsbmpQ",n=function(g,p,y,D){return g(p,y,D)},r="carousel_media",i="image_versions2.candidates",s=function(g,p){return g===p},u=function(g,p){return g(p)},a=function(g,p,y,D){return g(p,y,D)},o="video_versions",c="waiting",l=function(g,p,y,D){return g(p,y,D)},m=function(g,p){return g(p)};window.itemMediaTypes||(window.itemMediaTypes=window.zKjQYvgSmF(e).MediaTypes);const w=window.itemMediaTypes,d=t.media_type,f=n(q.get,t,r,[]);if([w.VIDEO].includes(d)){const g=n(q.get,t,i,[]);if(s(0,g.length))return;const p=u(Be,g)??"",y=u(Be,a(q.get,t,o,[]));return{id:t.pk,thumbnail:p,uri:y,authorName:t.authorName,fullName:t.fullName,code:t.code,isVideo:!0,createdAt:t.taken_at,status:c}}if([w.CAROUSEL_V2].includes(d))return f?f.map((g,p)=>ln({...g,...q.pick(t,["taken_at","code"]),authorName:t.authorName,fullName:t.fullName})):void 0;if([w.IMAGE].includes(d)){const g=l(q.get,t,i,[]);if(s(0,g.length))return;const p=m(Be,g),y=m(dn,g);return{id:t.pk,thumbnail:y,uri:p,code:t.code,authorName:t.authorName,fullName:t.fullName,isVideo:!1,createdAt:t.taken_at,status:c}}}function dn(t){const e=function(a,o){return a*o},n=function(a,o){return a===o},r=function(a,o){return a===o},i=function(a,o){return a-o},s=function(a,o){return a===o},u=function(a,o){return a-o};return t.sort((a,o)=>{let c=e(a.width,a.height),l=e(o.width,o.height);return n(a.width,a.height)&&r(o.width,o.height)?i(c,l):s(a.width,a.height)?-1:r(o.width,o.height)?1:u(c,l)})[0].url}function Be(t){const e=function(o,c){return o*c},n=function(o,c){return o*c},r=function(o,c){return o===c},i=function(o,c){return o-c},s=function(o,c){return o===c},u=function(o,c){return o===c},a=function(o,c){return o-c};return t.sort((o,c)=>{let l=e(o.width,o.height),m=n(c.width,c.height);return r(o.width,o.height)&&r(c.width,c.height)?i(m,l):s(o.width,o.height)?1:u(c.width,c.height)?-1:a(m,l)})[0].url}function pi(t){const e={fqgiG:function(r,i){return r(i)},kqHJC:"empty highlightsArr",Gleqx:"PolarisInstapi",siHGF:"/api/v1/feed/reels_media/",utLsg:function(r,i,s){return r(i,s)},onsIB:function(r,i){return r>i},XlJaZ:function(r,i){return r(i)},KWEMa:function(r,i,s){return r(i,s)},SEYZf:"Download all Highlights of users",VzsJE:function(r,i,s){return r(i,s)},CVXXW:"primary",lJiPL:"fixed",BnImF:"square",jyyfa:"Download Highlights",KKOSf:function(r,i,s){return r(i,s)}},n=e.XlJaZ(_.useRef,null);return e.KWEMa(h.jsxs,h.Fragment,{children:[e.KWEMa(h.jsx,k.Tooltip,{title:e.SEYZf,children:e.VzsJE(h.jsxs,k.Button,{type:e.CVXXW,style:{position:e.lJiPL,top:12,left:147,zIndex:9},onClick:function(){n.current&&n.current.show({view:dt.DOWNLOAD_ALBUM,collectionId:"",folderName:"",fetchQuery:async r=>{const i=function(w,d){return e.fqgiG(w,d)},{nextParams:s}=r;let u=[];u=s?s.highlights:t.highlightsId.map(w=>({id:w}));const a=u.shift();if(!a)throw new Error(e.kqHJC);const o=await window.require(e.Gleqx).apiGet(e.siHGF,{query:{reel_ids:[a==null?void 0:a.id]}}),c=e.utLsg(q.get,o,'data.reels["'+(a==null?void 0:a.id)+'"].title');window.currentHighlight={...a,name:c};const l=Object.values(o.data.reels);let m=[];return l.map(w=>{m.push(...i(Qt,w.items.map(d=>({...d,authorName:q.get(w,"user.username"),fullName:q.get(w,"user.full_name")}))))}),m=m.flat(),{ifHaveMore:e.onsIB(u.length,0),items:m,nextParams:{highlights:u}}}})},children:[e.utLsg(h.jsx,k.Avatar,{src:window.__DownloadAlbumsForInstagramIcon,size:24,shape:e.BnImF,style:{marginRight:8}}),e.jyyfa]})}),e.KKOSf(h.jsx,be,{ref:n})]})}function mi(t){const e=function(u,a,o){return u(a,o)},n=function(u,a,o){return u(a,o)},r=function(u,a,o){return u(a,o)};if(!function(u){return u()}(re))return null;const i=e(_.useMemo,()=>window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD"),[]),s=e(_.useMemo,()=>window.zKjQYvgSmF("udbfs/fnfiUHJtjsbmpQ").isDarkMode(),[]);return e(h.jsx,i,{fallback:yi,children:e(h.jsx,k.ConfigProvider,{theme:{algorithm:s?k.theme.darkAlgorithm:k.theme.defaultAlgorithm,token:{motion:!1}},children:n(h.jsx,me,{children:r(h.jsx,pi,{highlightsId:t.highlightsId})})})})}const wi=_.memo(mi,(t,e)=>t.highlightsId===e.highlightsId);function yi(t){return console.error(t),h.jsx(Zt,{})}function vi(){const t=function(c,l,m){return c(l,m)},e="jqbutoJtjsbmpQ",n="/api/v1/fbsearch/web/top_serp",r=function(c,l,m,w){return c(l,m,w)},i="data.media_grid.has_more",s=function(c,l,m,w){return c(l,m,w)},u="data.media_grid.next_max_id",a="data.media_grid.rank_token",o=function(c,l){return c(l)};return{downloadHashTagPost:async c=>{const{nextParams:l,resumeCursor:m,extractData:w}=c,{tag:d}=w,f={query:d};l!=null&&l.next_max_id?f.next_max_id=l.next_max_id:m&&(f.next_max_id=m),l!=null&&l.rank_token&&(f.rank_token=l.rank_token);let g=await window.zKjQYvgSmF(e).apiGet(n,{query:f});const p=function(v){var F,O;const C=[];return(O=(F=v==null?void 0:v.data)==null?void 0:F.media_grid)==null||O.sections.forEach(P=>{var M,S;const A=P.layout_content;A.medias&&A.medias.forEach(L=>{L.media&&C.push(L.media)}),A.media&&C.push(...A.media),(S=(M=A.two_by_two_item)==null?void 0:M.channel)!=null&&S.media&&C.push(A.two_by_two_item.channel.media)}),t(q.uniqBy,C,"id")}(g),y=r(q.get,g,i,!1),D=s(q.get,g,u,""),b=s(q.get,g,a,"");return{ifHaveMore:y,items:o(Qt,p.map(v=>({...v,authorName:v.user.username,fullName:v.user.full_name}))),nextParams:{next_max_id:D,rank_token:b},needSavedCursor:l==null?void 0:l.next_max_id}}}}function bi(){const t=function(l,m,w){return l(m,w)},e="PolarisProfilePostsTabContentQuery_connection",n="full_name",r=function(l,m,w,d){return l(m,w,d)},i="data.xdt_api__v1__feed__user_timeline_graphql_connection.edges",s="data.xdt_api__v1__feed__user_timeline_graphql_connection.page_info.has_next_page",u="data.xdt_api__v1__feed__user_timeline_graphql_connection.page_info.end_cursor",a=function(l,m){return l(m)},o=function(l){return l()},{loadQuery:c}=o(ce);return{downloadProfilePostsQuery:async l=>{const{nextParams:m,resumeCursor:w,extractData:d}=l,{username:f,id:g}=d,p={after:null,before:null,data:{count:12,include_relationship_info:!0,latest_besties_reel_media:!0,latest_reel_media:!0},first:12,last:null,username:f,__relay_internal__pv__PolarisShareMenurelayprovider:!1};if(m){const{endCursor:O}=m;p.after=O}w&&(p.after=w);const[y]=await t(c,e,p),D=f,b=window.zKjqYvcSmF("XDTUserDict:"+g,n)??D,v=r(q.get,y,i,[]).map(O=>({...O.node,authorName:D,fullName:b})),C=r(q.get,y,s,!1),F=r(q.get,y,u,"");return{ifHaveMore:C,items:a(Qt,v),nextParams:{endCursor:F},needSavedCursor:p==null?void 0:p.after}}}}function Di(){const t=function(w,d){return w>d},e=function(w,d){return w(d)},n=function(w,d){return w>d},r=function(w,d,f){return w(d,f)},i="PolarisProfileReelsTabContentQuery_connection",s="full_name",u=function(w,d,f,g){return w(d,f,g)},a="data.xdt_api__v1__clips__user__connection_v2.edges",o="data.xdt_api__v1__clips__user__connection_v2.page_info.has_next_page",c="data.xdt_api__v1__clips__user__connection_v2.page_info.end_cursor",l=function(w){return w()},{loadQuery:m}=l(ce);return{downloadProfileReelsQuery:async w=>{var O,P;if(t((P=(O=w==null?void 0:w.nextParams)==null?void 0:O.needFetchInfoIds)==null?void 0:P.length,0)){const A=w.nextParams.needFetchInfoIds.pop(),M=await e(te,A);return{ifHaveMore:!(!n(w.nextParams.needFetchInfoIds.length,0)&&!w.nextParams.endCursor),items:M,nextParams:{endCursor:w.nextParams.endCursor,needFetchInfoIds:w.nextParams.needFetchInfoIds},needSavedCursor:w.nextParams.endCursor}}const{nextParams:d,resumeCursor:f,extractData:g}=w,{username:p,id:y}=g,D={after:null,before:null,data:{include_feed_video:!0,page_size:12,target_user_id:y},first:4,last:null};if(d){const{endCursor:A}=d;D.after=A}f&&(D.after=f);const[b]=await r(m,i,D),v=p,C=window.zKjqYvcSmF("XDTUserDict:"+y,s)??v,F=u(q.get,b,a,[]).map(A=>({...A.node.media,authorName:v,fullName:C}));return{ifHaveMore:u(q.get,b,o,!1),items:[],nextParams:{endCursor:u(q.get,b,c,""),needFetchInfoIds:F.map(A=>A.pk)},needSavedCursor:D==null?void 0:D.after}}}}const ee="ALL_MEDIA_AUTO_COLLECTION";function Ci(){const t=function(p,y){return p===y},e=function(p,y){return p(y)},n=function(p,y){return p(y)},r=function(p,y){return p+y},i=function(p){return p()},s='Skip "All Posts". If you want to download it, please manually download it.',u="jqbutoJtjsbmpQ",a="/api/v1/feed/saved/posts/",o=function(p,y,D){return p(y,D)},c="more_available",l=function(p,y,D){return p(y,D)},m="next_max_id",w="/api/v1/feed/collection/{id}/posts/",d=async p=>{const{nextParams:y}=p;if(y){if(t(y.collectionId,ee)){const F=await e(f,{nextParams:y.nextParams});return{...F,nextParams:{collectionId:ee,nextParams:F.nextParams,collections:[]}}}const D=y.collections.find(F=>F.collection_id===y.collectionId).collection_name,b=await n(g,{nextParams:y.nextParams,extractData:{id:y.collectionId,collectionName:D}});if(b.ifHaveMore)return{ifHaveMore:!0,items:b.items.map(F=>(F.saveFolderPath=["Saved",Ht(D)],F)),nextParams:{...y,nextParams:b.nextParams}};const v=y.collections.findIndex(F=>F.collection_id===y.collectionId),C=y.collections[r(v,1)];return C?{ifHaveMore:!0,items:b.items.map(F=>(F.saveFolderPath=["Saved",Ht(D)],F)),nextParams:{collectionId:C.collection_id,nextParams:!1,collections:y.collections}}:b}{const D=await i(fn);return t(1,D.length)&&t(D[0].collection_id,ee)?n(d,{nextParams:{collectionId:ee,nextParams:!1,collections:[]}}):(k.message.info(s),n(d,{nextParams:{collectionId:D[1].collection_id,nextParams:!1,collections:D.filter(b=>b.collection_id!==ee&&b.collection_media_count>0)}}))}},f=async p=>{const{nextParams:y,resumeCursor:D}=p,b={};if(y){const{maxId:P}=y;b.max_id=P}D&&(b.max_id=D);let v=await window.zKjQYvgSmF(u).apiGet(a,{query:b});v=v.data;const C=v.items.map(P=>({...P.media,authorName:q.get(P.media,"user.username"),fullName:q.get(P.media,"user.full_name")})),F=o(q.get,v,c),O=l(q.get,v,m);return{ifHaveMore:F,items:n(Qt,C).map(P=>(P.saveFolderPath=["Saved","All Posts"],P)),nextParams:{maxId:O},needSavedCursor:b.max_id}},g=async p=>{const{nextParams:y,resumeCursor:D,extractData:b}=p,{id:v,collectionName:C}=b,F={};if(y){const{maxId:S}=y;F.max_id=S}D&&(F.max_id=D);let O=await window.zKjQYvgSmF(u).apiGet(w,{query:F,path:{id:v}});O=O.data;const P=O.items.map(S=>({...S.media,authorName:q.get(S.media,"user.username"),fullName:q.get(S.media,"user.full_name")})),A=o(q.get,O,c),M=o(q.get,O,m);return{ifHaveMore:A,items:e(Qt,P).map(S=>{var L,K;return{...S,saveFolderPath:["Saved",Ht(C??((K=(L=window.igroute)==null?void 0:L.params)==null?void 0:K.slug))]}}),nextParams:{maxId:M},needSavedCursor:F.max_id}};return{downloadProfileAllCollection:d,downloadUsersOwnSavedQuery:f,downloadUsersOwnCollectionQuery:g}}async function fn(t,e){const n={eNEJP:"jqbutoJtjsbmpQ",xVnwb:"/api/v1/collections/list/",xOTPV:'["ALL_MEDIA_AUTO_COLLECTION","MEDIA","AUDIO_AUTO_COLLECTION"]',PCzjC:function(a,o,c){return a(o,c)}};e=e||[];const{data:r}=await window.zKjQYvgSmF(n.eNEJP).apiGet(n.xVnwb,{query:{collection_types:n.xOTPV,include_public_only:0,get_cover_media_lists:!0,max_id:t}}),{items:i,more_available:s,next_max_id:u}=r;return e.push(...i),s?n.PCzjC(fn,u,e):e}function Ti(){const t=function(b,v){return b(v)},e=function(b,v){return b===v},n="waiting",r=function(b,v){return b>v},i="skip",s=function(b,v){return b(v)},u="error",a=function(b,v){return b>v},o=function(b,v,C,F){return b(v,C,F)},c="PolarisProfileTaggedTabContentQuery_connection",l="data.xdt_api__v1__usertags__user_id__feed_connection.edges",m="data.xdt_api__v1__usertags__user_id__feed_connection.page_info.has_next_page",w=function(b,v,C,F){return b(v,C,F)},d="data.xdt_api__v1__usertags__user_id__feed_connection.page_info.end_cursor",f=function(b,v){return b>v},g=function(b,v){return b!==v},p="None",y=function(b){return b()},{loadQuery:D}=y(ce);return{downloadProfileTaggedQuery:async b=>{var T,B;const v={VkSGw:function(G,E){return t(G,E)},WwsDC:function(G,E){return e(G,E)},wgdKx:n},{nextParams:C,resumeCursor:F,extractData:O}=b,{id:P,username:A}=O;if(C){const{needFetchPost:G}=C;if(G&&r(G.length,0)){const E=G.shift();if((T=b==null?void 0:b.configs)!=null&&T.isSkipDownloadedFile&&((B=b==null?void 0:b.methods)!=null&&B.isFileIdDownloaded(E.id)))return E.status=i,{ifHaveMore:!!C.endCursor||r(G.length,0),items:[E],nextParams:{endCursor:C.endCursor,needFetchPost:G,ifHaveMore:C.ifHaveMore},skipWaiting:!0};let I=[E];try{I=await s(te,E.id)}catch(H){console.error(H,E),E.status=u}const j={items:I,nextParams:{endCursor:C.endCursor,needFetchPost:G,ifHaveMore:C.ifHaveMore}};return e(0,G.length)?{...j,ifHaveMore:C.ifHaveMore}:{...j,ifHaveMore:!!j.nextParams.endCursor||a(G.length,0)}}}const M={after:null,before:null,count:12,first:12,last:null,user_id:P};if(C){const{endCursor:G}=C;M.after=G}F&&(M.after=F);const[S]=await o(D,c,M,!0),L=o(q.get,S,l,[]),K=o(q.get,S,m,!1),Y=w(q.get,S,d,""),z=L.map(G=>{var j,H,x;const E=G.node,I=v.VkSGw(dn,((j=E==null?void 0:E.image_versions2)==null?void 0:j.candidates)??[]);return{id:E.id,thumbnail:I,uri:I,authorName:((H=E==null?void 0:E.owner)==null?void 0:H.username)??"",fullName:((x=E==null?void 0:E.owner)==null?void 0:x.full_name)??"",isVideo:v.WwsDC(2,E.media_type),createdAt:E.taken_at_timestamp,status:v.wgdKx}});return{ifHaveMore:a(z.length,0)||f(Y.length,0)&&g(p,Y),items:[],nextParams:{endCursor:Y,needFetchPost:z,ifHaveMore:K},needSavedCursor:M.after}}}}function Fi(){const t=function(H,x,N){return H(x,N)},e="rootView.props.page_logging.name",n=function(H,x,N,V){return H(x,N,V)},r="params",i=function(H,x){return H===x},s="KeywordSearchExplorePage",u=function(H,x){return H(x)},a=function(H,x){return H===x},o="SavedCollectionPage",c="all-posts",l=function(H,x){return H(x)},m="profilePage",w="rootView.props.id",d="params.username",f="tagged",g=function(H,x){return H(x)},p="reels",y=function(H,x){return H(x)},D=function(H,x){return H===x},b="saved",v="no router handle found",C=function(H,x,N){return H(x,N)},F=function(H,x){return H(x)},O=function(H,x){return H===x},P=function(H,x){return H+x},A=function(H,x){return H===x},M="posts",S="uyfuopDfuvpSsfuvpSufnpD",L=function(H){return H()},K=function(H){return H()},Y=F(_.useContext,window.zKjQYvgSmF(S)),{downloadProfileTaggedQuery:z}=L(Ti),{downloadProfileReelsQuery:T}=L(Di),{downloadProfileAllCollection:B,downloadUsersOwnSavedQuery:G,downloadUsersOwnCollectionQuery:E}=K(Ci),{downloadProfilePostsQuery:I}=L(bi),{downloadHashTagPost:j}=K(vi);return{fetchQueryForDownloadWholeAlbum:async function(H){const x=t(q.get,Y,e),N=n(q.get,Y,r,{});if(i(s,x))return u(j,{...H,extractData:{tag:N.q}});if(a(o,x)){if(!N.collection_id&&i(c,N.slug))return l(G,H);if(N.collection_id)return u(E,{...H,extractData:{id:N.collection_id}})}if(i(m,x)){const V=n(q.get,Y,w,""),W=n(q.get,Y,d,"");if(V){if(i(f,N.tab))return g(z,{...H,extractData:{username:W,id:V}});if(a(p,N.tab))return y(T,{...H,extractData:{username:W,id:V}});if(D(b,N.tab))return l(B,H);if(!N.tab)return g(I,{...H,extractData:{username:W,id:V}})}}return console.error(v,{routeName:x,params:N}),{ifHaveMore:!1,items:[],nextParams:!1}},getCollectionIdAndFolderNameByRoute:function(){const H=C(q.get,Y,e),x=n(q.get,Y,r,{});if(D(s,H))return{collectionId:F(Ht,x.q),folderName:y(Ht,x.q)};if(O(o,H)){if(!x.collection_id&&D(c,x.slug))return{collectionId:"",folderName:""};if(x.collection_id)return{collectionId:P(x.collection_id,"_"+x.slug),folderName:""}}if(a(m,H)){const N=n(q.get,Y,d,""),V=n(q.get,Y,w,"");if(V)return A(b,x.tab)?{collectionId:"",folderName:""}:{collectionId:P(V,"_"+(x.tab??M)),folderName:N}}return{collectionId:"",folderName:""}}}}function xi(){const t=function(r,i){return r===i},e=function(r,i){return r(i)},n=function(r,i){return r>i};return{fetchQueryForSelectToDownload:async r=>{const{nextParams:i}=r;if(i||(window.__tmpSelectedIds=[...window.__selectedIds]),t(0,window.__tmpSelectedIds.length))return{ifHaveMore:!1,items:[],nextParams:!1};const s=window.__tmpSelectedIds.shift(),u=await e(te,s);return{ifHaveMore:n(window.__tmpSelectedIds.length,0),items:u,nextParams:!0}}}}function Ai(t,e){const n={RatmJ:function(o,c){return o(c)},QRyHB:function(o,c){return o(c)},XYyZS:function(o,c){return o(c)},vwwxk:function(o,c){return o(c)},jxeGc:function(o,c,l){return o(c,l)},kzAbB:function(o,c,l){return o(c,l)},CLgVi:function(o,c,l){return o(c,l)},FUAmD:"small",fmnZs:"Download selected posts",LrACf:"100%",cCnuW:"Select the posts you would like to download",GcgFL:function(o,c,l){return o(c,l)},TDapj:"end",qVyTz:function(o,c,l){return o(c,l)},MYFLB:"text",WDYKR:"Cancel",KJNha:"primary",FAmqv:function(o,c){return o===c},xztbB:"Start Download ",kDtim:"Start Select"},[r,i]=n.QRyHB(_.useState,0);function s(){n.RatmJ(i,window.__selectedIds.length)}function u(){t.setIsInSelectMode(!1),n.RatmJ(a,!1),n.QRyHB(i,0),window.__selectedIds=[]}function a(o){window.__isInSelectMode=o,window.dispatchEvent(new CustomEvent(Ce,{detail:{isSelectMode:o}}))}return n.jxeGc(_.useImperativeHandle,e,()=>({setDefault:u})),n.kzAbB(_.useEffect,()=>(window.addEventListener(Te,s),()=>{n.XYyZS(a,!1),window.removeEventListener(Te,s)}),[]),n.CLgVi(h.jsxs,k.Card,{size:n.FUAmD,title:n.fmnZs,style:{width:n.LrACf},bordered:!0,children:[n.jxeGc(h.jsx,"p",{style:{marginTop:0},children:n.cCnuW}),n.GcgFL(h.jsx,k.Row,{style:{width:n.LrACf},justify:n.TDapj,children:t.isInSelectMode?n.GcgFL(h.jsxs,k.Space,{children:[n.qVyTz(h.jsx,k.Button,{type:n.MYFLB,onClick:u,children:n.WDYKR}),n.GcgFL(h.jsxs,k.Button,{type:n.KJNha,disabled:n.FAmqv(0,r),onClick:t.onShowModal,children:[n.xztbB,r]})]}):n.GcgFL(h.jsx,k.Button,{onClick:function(){t.setIsInSelectMode(!0),n.vwwxk(a,!0)},children:n.kDtim})})]})}const Si=_.forwardRef(Ai);function Ii(){const t={jQeyw:function(g){return g()},HgXaK:"select",vDjwA:function(g){return g()},pjRxs:"albums",zmSbN:function(g,p){return g(p)},rQujf:function(g,p,y){return g(p,y)},xAeom:function(g,p){return g(p)},dENtj:"uyfuopDfuvpSsfuvpSufnpD",nBkVs:function(g,p){return g(p)},QPVnk:function(g,p){return g(p)},kodIP:function(g,p){return g(p)},pPKao:function(g){return g()},eYvWS:function(g){return g()},zfhOE:function(g,p,y){return g(p,y)},mFulC:function(g,p,y){return g(p,y)},iqxiE:function(g,p,y){return g(p,y)},ucqXz:"div",rEENR:function(g,p,y){return g(p,y)},dRLTD:"vertical",RhDlP:function(g,p,y){return g(p,y)},VUIwf:"primary",bZxku:"Download Whole Albums",pTujJ:"space-between",xvPVx:function(g,p,y){return g(p,y)},wsJxe:function(g,p,y){return g(p,y)},acOgo:"small",sJhhU:"Options",bwYoM:function(g,p,y){return g(p,y)},GesQG:"middle",cXJMN:"start",zGLWs:function(g,p,y){return g(p,y)},CIPKI:"square",Vcdbw:function(g,p,y){return g(p,y)},jCIGF:"text",CWvkG:"Close",jZTLP:"bottomLeft",Vxcdp:function(g,p,y){return g(p,y)}},e=t.rQujf(_.useMemo,()=>window.zKjQYvgSmF("udbfs/nfuJopjubhjwbOtjsbmpQ"),[]),n=t.xAeom(_.useContext,window.zKjQYvgSmF(t.dENtj));window.igroute=n;const r=t.nBkVs(_.useRef,null),[i,s]=t.zmSbN(_.useState,!1),[u,a]=t.xAeom(_.useState,!1),o=t.QPVnk(_.useRef,""),c=t.kodIP(_.useRef,null),l=t.jQeyw(_.useRef),{fetchQueryForSelectToDownload:m}=t.pPKao(xi),{fetchQueryForDownloadWholeAlbum:w,getCollectionIdAndFolderNameByRoute:d}=t.eYvWS(Fi),f=t.zfhOE(_.useMemo,()=>q.get(n,"rootView.props.page_logging.name")==="profilePage",[n]);return t.mFulC(h.jsxs,h.Fragment,{children:[t.iqxiE(h.jsx,t.ucqXz,{ref:r,children:t.rQujf(h.jsx,k.Popover,{autoAdjustOverflow:!1,content:t.rEENR(h.jsxs,k.Space,{direction:t.dRLTD,style:{width:320},children:[t.RhDlP(h.jsx,Si,{isInSelectMode:u,setIsInSelectMode:a,onShowModal:function(){const{folderName:g}=t.jQeyw(d);c.current&&(o.current=t.HgXaK,c.current.show({view:dt.DOWNLOAD_ALBUM,collectionId:"",folderName:g,fetchQuery:m}))},ref:l}),t.RhDlP(h.jsx,k.Divider,{children:"OR"}),t.rEENR(h.jsx,k.Button,{type:t.VUIwf,block:!0,disabled:u,onClick:function(){const{collectionId:g,folderName:p}=t.vDjwA(d);c.current&&(o.current=t.pjRxs,c.current.show({view:dt.DOWNLOAD_ALBUM,collectionId:g,isUseQuantityControl:f,folderName:p,fetchQuery:w}))},children:t.bZxku}),t.zfhOE(h.jsxs,k.Row,{justify:t.pTujJ,style:{marginTop:24},children:[t.xvPVx(h.jsx,ri,{}),t.wsJxe(h.jsx,k.Button,{size:t.acOgo,onClick:function(){c.current&&c.current.show({view:dt.OPTIONS})},children:t.sJhhU})]})]}),title:t.bwYoM(h.jsxs,k.Row,{align:t.GesQG,justify:t.pTujJ,children:[t.iqxiE(h.jsxs,k.Row,{align:t.GesQG,justify:t.cXJMN,children:[t.zGLWs(h.jsx,k.Avatar,{src:window.__DownloadAlbumsForInstagramIcon,size:24,shape:t.CIPKI,style:{marginRight:8}}),t.wsJxe(h.jsx,Ve,{isShowName:!1})]}),t.Vcdbw(h.jsx,k.Button,{type:t.jCIGF,size:t.acOgo,onClick:function(){t.zmSbN(s,!1),l.current.setDefault()},children:t.CWvkG})]}),placement:t.jZTLP,open:i,getPopupContainer:()=>r.current,children:t.iqxiE(h.jsx,e,{icon:t.RhDlP(h.jsx,k.Avatar,{src:window.__DownloadAlbumsForInstagramIcon,size:26,shape:t.CIPKI}),label:ne,onClick:()=>s(!0)})})}),t.Vxcdp(h.jsx,be,{ref:c})]})}function _i(t){return console.error(t),h.jsx(Zt,{})}function Mi(){const t=function(r,i,s){return r(i,s)},e=t(_.useMemo,()=>window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD"),[]),n=t(_.useMemo,()=>window.zKjQYvgSmF("udbfs/fnfiUHJtjsbmpQ").isDarkMode(),[]);return t(h.jsx,e,{fallback:_i,children:t(h.jsx,k.ConfigProvider,{theme:{algorithm:n?k.theme.darkAlgorithm:k.theme.defaultAlgorithm,token:{motion:!1}},children:t(h.jsx,Ii,{})})})}const ki=_.memo(Mi,()=>!0);function Oi(t){const e={QfyFe:function(a,o){return a(o)},zpuzn:function(a,o,c,l){return a(o,c,l)},rxsBv:"PolarisProfilePageContentQuery",nbdCs:"PROFILE",NsyhV:function(a,o,c){return a(o,c)},VEugC:"[0].data.user.hd_profile_pic_url_info.url",odwGy:"[0].data.user.profile_pic_url",VxtRR:"[0].data.user.full_name",PRbQE:"Unable to find user avatar.",BKAbs:function(a,o){return a(o)},OObYE:function(a){return a()},yasxc:"downloadFileByUri",bbsOl:function(a,o){return a(o)},QWgHP:function(a){return a()},Dxrns:function(a,o){return a(o)},teola:"div",cacIa:"relative",dKqay:function(a,o,c){return a(o,c)},rQGVj:"absolute",ejAIQ:function(a,o,c){return a(o,c)},ypzhb:"Download this HD avatar",pTPGx:function(a,o,c){return a(o,c)},HkKpq:"pointer",dadRm:"square"},{loadQuery:n}=e.QWgHP(ce),[r,i]=e.BKAbs(_.useState,!1),[s,u]=e.Dxrns(_.useState,!1);return e.NsyhV(h.jsxs,e.teola,{style:{position:e.cacIa},children:[e.NsyhV(h.jsx,h.Fragment,{children:t.children}),e.dKqay(h.jsx,e.teola,{style:{position:e.rQGVj,top:0,left:0},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:s?e.dKqay(h.jsx,k.Spin,{}):e.ejAIQ(h.jsx,k.Tooltip,{title:e.ypzhb,children:e.pTPGx(h.jsx,k.Avatar,{style:{cursor:e.HkKpq,opacity:r?1:.6},src:window.__DownloadAlbumsForInstagramIcon,shape:e.dadRm,onClick:async function(){e.QfyFe(u,!0);const a=await e.zpuzn(n,e.rxsBv,{id:t.userId,render_surface:e.nbdCs},!0),o=e.NsyhV(q.get,a,e.VEugC)??e.NsyhV(q.get,a,e.odwGy)??"",c=e.zpuzn(q.get,a,e.VxtRR,"");o||(k.message.error(e.PRbQE),e.BKAbs(u,!1)),e.OObYE(vt).send(e.yasxc,o,e.bbsOl(Ht,c)+"/avatar.jpg"),e.QfyFe(u,!1)},size:24})})})]})}function gn(t){const e=function(p,y){return p(y)},n=function(p,y){return p(y)},r=function(p){return p()},i="getUIMemoSettings",s=function(p,y){return p!==y},u=function(p,y){return p<y},a=function(p,y){return p(y)},o=function(p,y){return p+y},c=function(p,y){return p(y)},l=function(p,y){return p/y},m=function(p,y){return p*y},w="Download Successful",d=function(p,y){return p(y)},{messageApi:f}=d(_.useContext,_t);async function g(p){await e(Ee,{index:p.index,photo:p.photo,filenameFormats:p.filenameFormats,formatType:p.formatType,isGenFolder:p.isGenFolder,isSplitFolder:p.isSplitFolder,folderName:void 0,isDirect:!0,isDownloadVideoThumbnail:p.isDownloadVideoThumbnail})}return{directDownload:async function(p,y){t.setIsDownloading(!0);let D=await n(te,p);const b=await r(vt).send(i);s(void 0,y)&&(D=[D[y]]);for(let v=0;u(v,D.length);v++){const C=D[v];await a(g,{photo:C,index:o(v,1),filenameFormats:b.filenameFormats,formatType:b.formatType,isGenFolder:b.isGenFolder,isSplitFolder:b.isSplitFolder,isDownloadVideoThumbnail:b.isDownloadVideoThumbnail}),await c(ie,l(m(250,Math.random()),1e3))}f.success(w),t.setIsDownloading(!1)},downloadPhoto:g}}function Ei(t){const e={mEbmN:function(g,p){return g(p)},tzVnS:"jqbutoJtjsbmpQ",pqJod:"/api/v1/feed/reels_media/",TallH:function(g){return g()},tMuFY:function(g,p){return g(p)},EcwPs:"Unable to find current highlight ID.",cFSAw:function(g){return g()},bsxKi:function(g,p){return g<p},goCBc:function(g,p){return g===p},kFNQa:function(g,p){return g+p},gPBqo:function(g,p){return g(p)},gcakF:function(g,p){return g/p},ljcgG:function(g,p){return g*p},AVlzY:"Download Successful",PUkQd:function(g,p){return g(p)},uiHaF:function(g,p){return g(p)},uLPuo:function(g,p){return g(p)},vsyBJ:function(g,p,y){return g(p,y)},vTGby:"div",rOCPS:"absolute",Bdfbh:function(g,p,y){return g(p,y)},XhNMq:"span",cLRUs:"ESUIT | Downloader",iXUtV:function(g,p,y){return g(p,y)},tOpDZ:"vertical",KCsGF:function(g,p,y){return g(p,y)},RLWCz:"Download Current Highlight",KJIqu:"primary",PyYQv:function(g,p,y){return g(p,y)},VbTPI:"Select to Download",tUQjE:function(g,p,y){return g(p,y)},CrDTp:"Options",ZhpYv:"top",GZMjH:"flex",YIAiL:"row",rJMJj:"center",CGgSy:"Click it to download directly",gYWsF:"left",saUmX:function(g,p,y){return g(p,y)},hNyXe:"img",fDdPh:"block",ySdwb:"0 8px",ddtQn:"pointer",wUAhA:function(g,p,y){return g(p,y)}},n=e.tMuFY(_.useRef,null),{filenameFormats:r,formatType:i,isGenFolder:s,isSplitFolder:u,downloadType:a,isDownloadVideoThumbnail:o}=e.PUkQd(_.useContext,Ct),{messageApi:c}=e.uiHaF(_.useContext,_t),[l,m]=e.tMuFY(_.useState,!1),{directDownload:w,downloadPhoto:d}=e.uLPuo(gn,{setIsDownloading:m});async function f(){const g=function(b,v){return e.mEbmN(b,v)},p=await window.zKjQYvgSmF(e.tzVnS).apiGet(e.pqJod,{query:{reel_ids:[t.reelId]}}),y=Object.values(p.data.reels);let D=[];return y.map(b=>{D.push(...g(Qt,b.items.map(v=>({...v,authorName:q.get(b,"user.username"),fullName:q.get(b,"user.full_name")}))))}),D=D.flat(),D}return e.vsyBJ(h.jsxs,e.vTGby,{style:{position:e.rOCPS,zIndex:99999,right:13,bottom:72},children:[e.Bdfbh(h.jsx,k.Popover,{destroyTooltipOnHide:!0,title:e.vsyBJ(h.jsx,e.XhNMq,{style:{fontSize:12},children:e.cLRUs}),content:e.iXUtV(h.jsx,k.Spin,{spinning:l,children:e.iXUtV(h.jsxs,k.Space,{direction:e.tOpDZ,size:8,children:[e.KCsGF(h.jsx,k.Button,{block:!0,icon:e.iXUtV(h.jsx,yt.DownloadOutlined,{}),onClick:function(){window.__currentHighlightItemId?(e.TallH(Yt),e.tMuFY(w,window.__currentHighlightItemId)):c.error(e.EcwPs)},children:e.RLWCz}),e.KCsGF(h.jsx,k.Button,{block:!0,type:e.KJIqu,icon:e.PyYQv(h.jsx,yt.SelectOutlined,{}),onClick:function(){n.current&&n.current.show({view:dt.SELECT_TO_DOWNLOAD,fetchQuery:async()=>({ifHaveMore:!1,items:await f(),nextParams:!0})})},children:e.VbTPI}),e.tUQjE(h.jsx,k.Button,{block:!0,icon:e.iXUtV(h.jsx,yt.SettingOutlined,{}),onClick:function(){n.current&&n.current.show({view:dt.OPTIONS})},children:e.CrDTp})]})}),placement:e.ZhpYv,children:l?e.vsyBJ(h.jsx,e.vTGby,{style:{width:40,display:e.GZMjH,flexDirection:e.YIAiL,justifyContent:e.rJMJj,alignItems:e.rJMJj},children:e.KCsGF(h.jsx,k.Spin,{})}):e.Bdfbh(h.jsx,k.Tooltip,{title:e.CGgSy,placement:e.gYWsF,children:e.saUmX(h.jsx,e.hNyXe,{src:window.__DownloadAlbumsForInstagramIcon,style:{width:24,height:24,display:e.fDdPh,margin:e.ySdwb,cursor:e.ddtQn},onClick:async function(){e.cFSAw(Yt);const g=await e.TallH(f);for(let p=0;e.bsxKi(p,g.length);p++){const y=g[p];e.goCBc(a,Bt.IMAGES_ONLY)&&y.isVideo||(await e.mEbmN(d,{photo:y,index:e.kFNQa(p,1),filenameFormats:r,isSplitFolder:u,formatType:i,isGenFolder:s,isDownloadVideoThumbnail:o}),await e.gPBqo(ie,e.gcakF(e.ljcgG(250,Math.random()),1e3)))}c.success(e.AVlzY)}})})}),e.wUAhA(h.jsx,be,{ref:n})]})}function Ni(t){const e=function(a,o,c){return a(o,c)},n=function(a,o,c){return a(o,c)},r=function(a,o,c){return a(o,c)},i=function(a,o,c){return a(o,c)};if(!function(a){return a()}(re))return"";const s=e(_.useMemo,()=>window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD"),[]),u=n(_.useMemo,()=>window.zKjQYvgSmF("udbfs/fnfiUHJtjsbmpQ").isDarkMode(),[]);return r(h.jsx,s,{fallback:Bi,children:r(h.jsx,k.ConfigProvider,{theme:{algorithm:u?k.theme.darkAlgorithm:k.theme.defaultAlgorithm,token:{motion:!1}},children:r(h.jsx,me,{children:i(h.jsx,nn,{children:i(h.jsx,Ei,{reelId:t.reelId})})})})})}const hn=_.memo(Ni,(t,e)=>t.reelId===e.reelId);function Bi(t){return console.error(t),h.jsx(Zt,{})}function Pi(t){const e="article,main",n=".PolarisStepIndicator",r=function(o,c){return o<c},i=function(o,c){return o===c},s=t.closest(e);if(!s)return 0;const u=s.querySelector(n);if(!u)return 0;const a=[...u.childNodes[0].childNodes??[]];for(let o=0;r(o,a.length);o++){let c=a[o];if(i("1",window.getComputedStyle(c).opacity))return o}return 0}function ji(t){const e={zIyjF:function(a){return a()},cebOf:function(a,o,c){return a(o,c)},kZsth:function(a,o){return a(o)},TyfEN:function(a){return a()},BzhFi:function(a,o){return a(o)},Wbpqd:function(a,o){return a(o)},wnUKc:function(a,o){return a(o)},kkZyg:function(a,o){return a(o)},uZiMQ:"div",kyIQH:"download-single-button",XLPVf:function(a,o,c){return a(o,c)},YMpwg:"span",moEzM:"ESUIT | Downloader",xgNsC:function(a,o,c){return a(o,c)},MpmGm:"vertical",Bxbef:function(a,o,c){return a(o,c)},DdzjY:"Download Current Reel",MfLjl:"Download Current Image",AXVoD:"primary",jJowO:"Select to Download",AmHnT:"Options",BnNwe:"top",oxcMK:"flex",dTElP:"row",qTnWy:"center",lvZVH:function(a,o,c){return a(o,c)},jpjTB:"Click it to download directly",mNSUA:"bottom",dqMSi:"img",Svjxa:"block",Douof:"0 8px",YaUGv:"pointer"},n=e.Wbpqd(_.useRef,null),r=e.wnUKc(_.useRef,null),[i,s]=e.kkZyg(_.useState,!1),{directDownload:u}=e.BzhFi(gn,{setIsDownloading:s});return e.cebOf(h.jsxs,e.uZiMQ,{ref:r,className:e.kyIQH,children:[e.cebOf(h.jsx,k.Popover,{destroyTooltipOnHide:!0,title:e.XLPVf(h.jsx,e.YMpwg,{style:{fontSize:12},children:e.moEzM}),content:e.cebOf(h.jsx,k.Spin,{spinning:i,children:e.xgNsC(h.jsxs,k.Space,{direction:e.MpmGm,size:8,children:[e.XLPVf(h.jsx,k.Button,{block:!0,icon:e.Bxbef(h.jsx,yt.DownloadOutlined,{}),onClick:function(){e.zIyjF(Yt),r.current&&e.cebOf(u,t.postId,e.kZsth(Pi,r.current))},children:t.isReel?e.DdzjY:e.MfLjl}),!t.isReel&&e.xgNsC(h.jsx,k.Button,{block:!0,type:e.AXVoD,icon:e.cebOf(h.jsx,yt.SelectOutlined,{}),onClick:function(){n.current&&n.current.show({view:dt.SELECT_TO_DOWNLOAD,fetchQuery:async()=>({ifHaveMore:!1,items:await te(t.postId),nextParams:!0})})},children:e.jJowO}),e.XLPVf(h.jsx,k.Button,{block:!0,icon:e.xgNsC(h.jsx,yt.SettingOutlined,{}),onClick:function(){e.zIyjF(Yt),n.current&&n.current.show({view:dt.OPTIONS})},children:e.AmHnT})]})}),autoAdjustOverflow:!1,placement:e.BnNwe,children:i?e.Bxbef(h.jsx,e.uZiMQ,{style:{width:40,display:e.oxcMK,flexDirection:e.dTElP,justifyContent:e.qTnWy,alignItems:e.qTnWy},children:e.Bxbef(h.jsx,k.Spin,{})}):e.lvZVH(h.jsx,k.Tooltip,{autoAdjustOverflow:!1,title:e.jpjTB,placement:e.mNSUA,children:e.cebOf(h.jsx,e.dqMSi,{src:window.__DownloadAlbumsForInstagramIcon,style:{width:24,height:24,display:e.Svjxa,margin:e.Douof,cursor:e.YaUGv},onClick:async function(){e.TyfEN(Yt),e.BzhFi(u,t.postId)}})})}),e.XLPVf(h.jsx,be,{ref:n})]})}function Li(t){const e=function(a,o,c){return a(o,c)},n=function(a,o,c){return a(o,c)},r=function(a,o,c){return a(o,c)},i=function(a,o,c){return a(o,c)};if(!function(a){return a()}(re))return null;const s=e(_.useMemo,()=>window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD"),[]),u=e(_.useMemo,()=>window.zKjQYvgSmF("udbfs/fnfiUHJtjsbmpQ").isDarkMode(),[]);return e(h.jsx,s,{fallback:zi,children:n(h.jsx,k.ConfigProvider,{theme:{algorithm:u?k.theme.darkAlgorithm:k.theme.defaultAlgorithm,token:{motion:!1}},children:r(h.jsx,me,{children:i(h.jsx,ji,{postId:t.postId,isReel:t.isReel})})})})}const pn=_.memo(Li,(t,e)=>t.postId===e.postId);function zi(t){return console.error(t),h.jsx(Zt,{})}window.__selectedIds=[],window.__DownloadAlbumsForInstagramIcon=window[Nt].extensionFolderUri+window[Nt].icons[128],window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/sfojbuopDsfzbmQmffS4WtfjspuTtjsbmpQ",t=>{const e="reel.__id",n="XDTReelDict:",r=function(l,m,w){return l(m,w)},i="div",s="100%",u="relative",a=function(l,m,w){return l(m,w)},o=function(l,m,w){return l(m,w)},c=function(l,m,w,d){return l(m,w,d)}(q.get,t.payload,e,"").replace(n,"");return c?r(h.jsxs,i,{style:{width:s,height:s,position:u},children:[a(h.jsx,hn,{reelId:c}),o(h.jsx,h.Fragment,{children:t.lastCmp})]}):t.lastCmp},{}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/bjefN4WtfjspuTtjsbmpQ",t=>{var e,n,r;return window.__currentHighlightItemId=(r=(n=(e=t==null?void 0:t.payload)==null?void 0:e.media)==null?void 0:n.__id)==null?void 0:r.replace("XDTMediaDict:",""),t.lastCmp}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/fhbQmffS4WtfjspuTtjsbmpQ",t=>{const e=function(u,a,o){return u(a,o)},n="userId",r="div",i="relative",s=e(q.get,t.payload,n);return s?e(h.jsxs,r,{style:{position:i},children:[e(h.jsx,hn,{reelId:s}),e(h.jsx,h.Fragment,{children:t.lastCmp})]}):t.lastCmp}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/uppStuihjmihjI4WtfjspuTtjsbmpQ",t=>{const e=function(i,s,u){return i(s,u)},n="queries.query.variables.reel_ids",r=e(q.get,t.payload,n);return r?[e(h.jsx,wi,{highlightsId:r}),t.lastCmp]:t.lastCmp}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/opuuvCfwbTbjefNtjsbmpQ",t=>{const e="mediaFragmentKey.pk",n="/reels/",r=function(m,w,d){return m(w,d)},i="div",s="flex",u="column",a="row",o="center",c=function(m,w,d){return m(w,d)}(q.get,t.payload,e);if(!c)return t.lastCmp;const l=!!~window.location.href.indexOf(n);return r(h.jsxs,i,{style:{display:s,flexDirection:l?u:a,alignItems:o},children:[r(h.jsx,h.Fragment,{children:t.lastCmp}),r(h.jsx,i,{style:{marginTop:l?24:0},children:r(h.jsx,pn,{isReel:l,postId:c})})]})}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/opuuvCfwbTtjsbmpQ",t=>{const e="postId",n=function(o,c,l){return o(c,l)},r="div",i="flex",s="row",u="center",a=function(o,c,l){return o(c,l)}(q.get,t.payload,e);return a?n(h.jsxs,r,{style:{display:i,flexDirection:s,alignItems:u},children:[n(h.jsx,h.Fragment,{children:t.lastCmp}),n(h.jsx,pn,{postId:a})]}):t.lastCmp}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/nfuJwbOeffGtjsbmpQ",t=>[h.jsx(ki,{}),t.lastCmp]),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/spubdjeoJqfuTtjsbmpQ",t=>h.jsx("div",{className:"PolarisStepIndicator",children:h.jsx(h.Fragment,{children:t.lastCmp})})),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/uyfo/sbubwBfmjgpsQtjsbmpQ",t=>{const e="user.pk",n=function(s,u,a){return s(u,a)},r=function(s,u,a){return s(u,a)},i=function(s,u,a,o){return s(u,a,o)}(q.get,t.payload,e,"");return i?n(h.jsx,Oi,{userId:i,children:r(h.jsx,h.Fragment,{children:t.lastCmp})}):t.lastCmp}),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/nfuJejsHfspmqyFdjnbozEtjsbmpQ",t=>zt(t)),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/nfuJejsHtutpQtjsbmpQ",t=>zt(t)),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/uyfo/nfuJejsHtutpQtjsbmpQ",t=>zt(t)),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/utpQtjsbmpQ",t=>zt(t,{checkboxOffsetTop:60})),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/uyfo/bjefNtjsbmpQ",t=>zt(t)),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/nfuJejsHtqjmDtjsbmpQ",t=>zt(t)),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/uyfo/nfuJejsHtqjmDtjsbmpQ",t=>zt(t)),window.zKjQYvcSmF("nbshbutoj.spg.tnvcmb.ebpmoxpe}udbfs/sfzbmQpfejWqpultfEtqjmDtjsbmpQ",t=>zt(t))})(window.download_albums_for_instagram_vendors._["lodash-es"],Et,window.download_albums_for_instagram_vendors._.antd,Dn,window.download_albums_for_instagram_vendors._.dayjs,window.download_albums_for_instagram_vendors._["@ant-design/icons"])}else console.error(`${wt} Not Found`)}function vn(){return Object.keys(window.require("__debug").modulesMap).filter(wt=>wt.indexOf("ReactDOM")===0).find(wt=>{const Et=window.require("__debug").modulesMap[wt];return!!(Et.exports&&Et.exports.version&&Et.depPosition>3&&wt.includes("classic"))})}function bn(){function wt(...Et){return window.require("react").jsx(...Et)}return{Fragment:Symbol.for("react.fragment"),jsx:wt,jsxs:wt,jsxDEV:wt}}})();
