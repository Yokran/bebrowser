var content=function(e){"use strict";function t(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const n=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google espaÃ±ol",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],o=[{langCode:"EN",langCodeForIta:"en"},{langCode:"PT",langCodeForIta:"pt"}],i=["EN-GB","EN-US","EN","DE","FR","ES","PT-PT","PT-BR","PT","IT"],s=["pt-BR","pt-PT","en-GB","en-US","de","fr","it","es"],r=["ES","FR","IT","PT","PT-BR","PT-PT"],a=1,l=2,c={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},d="",u="ONGOING_WRITE",p=1,m=2,g="inline",h="automatic",f="manual",_="input",v=1,w=2,T=3,b=1500,y=5e3,E=2e3,$=2e3,x=1,S=3,C=4,L=1,k=2,A=3,I=1,M=2,O=1,N=2,R={deepl_inline_ui:{z_index:2147483650}},D="HINT_KEYBOARD_SHORTCUT",P="INPUT_TRANSLATION",U="INLINE_TRANSLATION",G="FULL_PAGE_TRANSLATION",B="ACCOUNT_SUCCESSFULLY_CREATED",W="SUCCESSFULLY_LOGGED_IN",z="GSLIDES_WARNING_TO_AVOID_ASSET_LOSS",H="SHOW_ADS_FOR_MS_ADDINS",j="NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY",F={green_theme:"green_theme",warning_theme:"warning_theme",ads_theme:"ads_theme"},q="INLINE_TRANSLATION_TRIGGER_ICON",V="INLINE_TRANSLATION_SETTINGS_ICON",Z="INLINE_TRANSLATION_SETTING_POPUP",Y="INPUT_TRANSLATION_SETTING_USE_ADVANCED_WINDOW",X="INPUT_TRANSLATION_TRIGGER_ICON",K="INPUT_IMPROVE_TRIGGER_ICON",Q="INPUT_TRANSLATION_SETTINGS_ICON",J="INPUT_TRANSLATION_SETTING_POPUP",ee="SETTINGS_PAGE_FPT",te="SETTINGS_PAGE_READING",ne="SETTINGS_PAGE_WRITING",oe="SETTINGS_PAGE_INTEGRATIONS",ie="FPT_HIDE_MODAL",se="INPUT_TRANSLATION_READ_MORE_LINK",re="INLINE_TRANSLATION_READ_MORE_LINK",ae="FPT_TRANSLATION_READ_MORE_LINK",le="EXTENSION_HUB_TOGGLE_SWITCH",ce="HUB_CUSTOMIZE_SHORTCUT",de="HUB_LOGIN_BUTTON",ue="HUB_UPGRADE_TO_PRO_LINK",pe="HUB_TRY_PRO_LINK",me="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",ge="HUB_FPT_ENABLE_CHECKBOX",he="HUB_FPT_DISABLE_CHECKBOX",fe="DEEPL_WRITE_ICON",_e="gmailOnboardingPopup",ve="gmailOnboardingIcon",we="gmailCharLimitLogin",Te="gmailFeedbackSurvey",be="HUB_VIEW_INTEGRATIONS",ye="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",Ee="GSLIDES_FEEDBACK_SURVEY",$e="GSLIDES_CHAR_LIMIT_LOGIN",xe="ZENDESK_TRY_PRO_LINK",Se="ONBOARDING_SIGN_UP",Ce="ONBOARDING_SKIP_SIGN_UP",Le="ONBOARDING_LOGIN_LINK",ke="ONBOARDING_SEE_ALL_INTEGRATIONS",Ae="ICON_TOGGLE_IN_HUB_TRANSLATOR",Ie="ICON_TOGGLE_IN_HUB_WRITE",Me="MANAGE_ICON_SETTINGS",Oe="WRITE_LANGUAGE_SWITCHED_IN_HUB",Ne="WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",Re="SIDE_PANEL_ICON_ON_WEBSITE",De="HUB_ONBOARDING_LINK",Pe="INLINE_SELECTION_TRANSLATE_ICON",Ue="INLINE_SELECTION__WRITE_ICON",Ge="INPUT_SELECTION_TRANSLATE_ICON",Be="INPUT_SELECTION__WRITE_ICON",We="INLINE_SELECTION_TRIGGER_OFF_ICON",ze="INPUT_SELECTION_TRIGGER_OFF_ICON",He="SIDE_PANEL_LOGIN_BUTTON",je="SIDE_PANEL_SETTINGS_BUTTON",Fe="SIDE_PANEL_LOGOUT_BUTTON",qe="SIDE_PANEL_UPGRADE_BUTTON",Ve="SIDE_PANEL_TRANSLATOR_TAB",Ze="SIDE_PANEL_TRANSLATOR_TARGET_LANG",Ye="SIDE_PANEL_TRANSLATOR_SOURCE_LANG",Xe="SIDE_PANEL_TRANSLATION_DIR_INDICATOR",Ke="SIDE_PANEL_SOURCE_TEXT_FIELD",Qe="SIDE_PANEL_TARGET_TEXT_FIELD",Je="REVIEW_WINDOW_CLOSE_ICON",et="REVIEW_WINDOW_TRANSLATE_ALTERNATIVES",tt="REVIEW_WINDOW_WRITE_ALTERNATIVES",nt="trigger-translation",ot="CLICK_ON_SHORTCUT_NOTIFICATION",it="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",st="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",rt="CLICK_ON_LOGOUT_MENU_ENTRY",at="DISABLE_PER_SITE",lt="DISABLE_EVERYWHERE",ct="INPUT_TRANSLATION",dt="INLINE_TRANSLATION",ut=1,pt=2,mt=0,gt=1,ht=2,ft=3,_t=4,vt="cofdbpoegempjloogbagkncekinflcnj",wt="fancfknaplihpclbhbpclnmmjcjanbaf",Tt="ocpdpnakdghopjcifldjidbdmfobmmoi",bt="firefox-extension@deepl.com",yt={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},Et={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},$t={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},xt={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW",gmail:"GMAIL",gslides:"GSLIDES",customer_segmentation:"CUSTOMER_SEGMENTATION",arabic_survey:"ARABIC_SURVEY"},St=1,Ct=2,Lt=3,kt={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER",gmail:"GMAIL",gslides:"GSLIDES",linkedIn:"LINKEDIN",youtube:"YOUTUBE"},At="source",It="target",Mt={translate:"translate",write:"write"},Ot=["script","style"],Nt=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],Rt="OPEN_TICKET",Dt="DETECT_TICKET_LANGUAGE",Pt="SWITCH_TICKET_LANGUAGE",Ut="ENABLE_AUTOTRANSLATE",Gt="DISABLE_AUTOTRANSLATE",Bt="TRANSLATE_MESSAGE",Wt="TRANSLATE_INPUT",zt="ERROR",Ht="TICKET",jt="LIVE_CHAT",Ft=50,qt={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},Vt="free",Zt="pro",Yt="none",Xt="TEXT_REFINEMENT_REQUEST",Kt="GDOCS_INSERT_COPY",Qt="GDOCS_DISCARD_COPY",Jt="GDOCS_CHAR_LIMIT_REACHED",en="RESULT_ACCEPTED",tn="RESULT_REVERTED",nn="ERROR",on="RESULT_ACCEPTED",sn="RESULT_REVERTED",rn="ALTERNATIVES_OPENED",an="SEGMENTATION_SELECTED",ln="ALTERNATIVE_SELECTED",cn="SHOWN",dn="CLICKED",un="READING_VIEW_TRANSLATE",pn="COMPOSE_VIEW_TRANSLATE",mn="COMPOSE_VIEW_IMPROVE",gn="ANONYMOUS_USER_LIMIT_EXCEEDED",hn="FREE_ACCOUNT_LIMIT_EXCEEDED",fn="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",_n="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",vn="PRO_TRIAL",wn="LOGIN",Tn="SIGNUP",bn="ANONYMOUS",yn="FREE",En={WORD:"word",SENTENCE:"sentence"},$n=["JA","ZH","ZH-HANT"],xn="None",Sn="Pro",Cn="Free",Ln="formal",kn="informal",An="undefined",In=["simple","business","academic","casual"],Mn=["enthusiastic","friendly","confident","diplomatic"],On="inline",Nn="input",Rn="customization",Dn="translation",Pn="improvement",Un={dlRequestLogin:"dlRequestLogin",dlRequestLogout:"dlRequestLogout",dlGetUserState:"dlGetUserState",dlGetClientState:"dlGetClientState",dlManipulateGetClientState:"dlManipulateGetClientState",dlGetUsersCharacterLimit:"dlGetUsersCharacterLimit"},Gn={dlTextToSpeech:"dlTextToSpeech",dlGetSupportedVoices:"dlGetSupportedVoices",dlStopSpeech:"dlStopSpeech"},Bn={dlSendNotification:"dlSendNotification"},Wn={dlTriggerImproveInline:"dlTriggerImproveInline",dlTriggerImproveInput:"dlTriggerImproveInput",dlRequestGDocsSentenceAlternatives:"dlRequestGDocsSentenceAlternatives",dlRequestGDocsWordAlternatives:"dlRequestGDocsWordAlternatives",dlRequestGDocsSentenceFromPartialTranslation:"dlRequestGDocsSentenceFromPartialTranslation",dlRequestAlternatives:"dlRequestAlternatives",dlRequestImproveWriting:"dlRequestImproveWriting"},zn={dlRequestGDocsSplitText:"dlRequestGDocsSplitText",dlSplitTextRequest:"dlSplitTextRequest"},Hn={dlCheckCommandShortcuts:"dlCheckCommandShortcuts",dlGetAppSettings:"dlGetAppSettings",dlUpdateAppSettings:"dlUpdateAppSettings"},jn={dlRequestHtmlTranslation:"dlRequestHtmlTranslation",dlRequestInlineTranslation:"dlRequestInlineTranslation",dlTriggerTranslateInline:"dlTriggerTranslateInline",dlTriggerTranslateInput:"dlTriggerTranslateInput",dlRequestInputTranslation:"dlRequestInputTranslation",dlRequestZendeskInputTranslation:"dlRequestZendeskInputTranslation",dlRequestGmailReceivedEmailTranslation:"dlRequestGmailReceivedEmailTranslation",dlRequestWhatsAppMessageTranslation:"dlRequestWhatsAppMessageTranslation",dlRequestTwitterTweetTranslation:"dlRequestTwitterTweetTranslation",dlRequestYouTubeTranslation:"dlRequestYouTubeTranslation",dlRequestLinkedInPostTranslation:"dlRequestLinkedInPostTranslation",dlRequestZendeskMessageTranslation:"dlRequestZendeskMessageTranslation",dlRequestWhatsAppMessagesTranslation:"dlRequestWhatsAppMessagesTranslation",dlRequestGDocsProcessContent:"dlRequestGDocsProcessContent",dlTranslatedInputTextNotSet:"dlTranslatedInputTextNotSet"},Fn={dlRequestTermbases:"dlRequestTermbases",dlGetDictionary:"dlGetDictionary"},qn={dlTrackInlineSettingOpened:"dlTrackInlineSettingOpened",dlTrackPolicyLoginRequiredNotification:"dlTrackPolicyLoginRequiredNotification",dlTrackUpgradeNotificationAction:"dlTrackUpgradeNotificationAction",dlTrackLogoClickedEvent:"dlTrackLogoClickedEvent",dlTrackDetectLanguage:"dlTrackDetectLanguage",dlTrackSidePanelOpened:"dlTrackSidePanelOpened",dlTrackFormalitySelected:"dlTrackFormalitySelected",dlTrackWriteTextTonesChanged:"dlTrackWriteTextTonesChanged",dlTrackWriteTextStylesApplied:"dlTrackWriteTextStylesApplied",dlTrackWriteTextStylesChanged:"dlTrackWriteTextStylesChanged",dlTrackAdsShown:"dlTrackAdsShown",dlTrackClicksOnAdsButton:"dlTrackClicksOnAdsButton",dlTrackIframeTranslationFailed:"dlTrackIframeTranslationFailed",dlTrackSeeAlternativesClicked:"dlTrackSeeAlternativesClicked",dlTrackAlternativeSelected:"dlTrackAlternativeSelected",dlTrackLanguageDetectionForTextProcessing:"dlTrackLanguageDetectionForTextProcessing",dlTrackUpgradeNotificationClosed:"dlTrackUpgradeNotificationClosed",dlTrackUpgradeNotificationIsDisplayed:"dlTrackUpgradeNotificationIsDisplayed",dlOnSuccessfulZendeskTranslation:"dlOnSuccessfulZendeskTranslation",dlTrackAlternativesEvent:"dlTrackAlternativesEvent",dlTrackGmailCharLimitReached:"dlTrackGmailCharLimitReached",dlTrackCustomizationEnabledEvent:"dlTrackCustomizationEnabledEvent",dlTrackTranslateAcceptOrRevertEvent:"dlTrackTranslateAcceptOrRevertEvent",dlTrackGDocsReplaceText:"dlTrackGDocsReplaceText",dlTrackLandingOnWebsite:"dlTrackLandingOnWebsite",dlTrackReadMore:"dlTrackReadMore",dlTrackOnboardingOpenExternalLink:"dlTrackOnboardingOpenExternalLink",dlTrackOnboardingStepChange:"dlTrackOnboardingStepChange",dlTrackIconHover:"dlTrackIconHover",dlTrackVoiceOverStops:"dlTrackVoiceOverStops",dlTrackInlineListen:"dlTrackInlineListen",dlTrackInlineCopy:"dlTrackInlineCopy",dlTrackFptHide:"dlTrackFptHide",dlTrackInlineDragStart:"dlTrackInlineDragStart",dlTrackInlinePositionChange:"dlTrackInlinePositionChange",dlTrackRightClick:"dlTrackRightClick",dlTrackRecommendToAFriendClick:"dlTrackRecommendToAFriendClick",dlTrackDocTransClick:"dlTrackDocTransClick",dlTrackExtensionOpenedEvent:"dlTrackExtensionOpenedEvent",dlTrackInputTranslationInjection:"dlTrackInputTranslationInjection",dlTrackUseOfShortcut:"dlTrackUseOfShortcut",dlTrackUiAction:"dlTrackUiAction",dlTrackSettingChanged:"dlTrackSettingChanged",dlTrackOpenInputHighlighter:"dlTrackOpenInputHighlighter",dlTrackOpenInlineHighlighter:"dlTrackOpenInlineHighlighter",dlTrackCloseInputHighlighter:"dlTrackCloseInputHighlighter",dlTrackCloseInlineHighlighter:"dlTrackCloseInlineHighlighter",dlTrackDictionaryStatus:"dlTrackDictionaryStatus",dlTrackOpenDictionarySection:"dlTrackOpenDictionarySection",dlTrackDisabledDictionaryHover:"dlTrackDisabledDictionaryHover",dlTrackZendeskCustomizationEvent:"dlTrackZendeskCustomizationEvent",dlTrackZendeskGlossaryOpened:"dlTrackZendeskGlossaryOpened",dlTrackGlossaryEnabled:"dlTrackGlossaryEnabled",dlTrackGlossaryDisabled:"dlTrackGlossaryDisabled",dlTrackDeeplWriteEvent:"dlTrackDeeplWriteEvent",dlTrackLingueeErrorData:"dlTrackLingueeErrorData",dlTrackGdocsMaxCharExceededShown:"dlTrackGdocsMaxCharExceededShown",dlTrackGDocsMaxCharExceededTryProClicked:"dlTrackGDocsMaxCharExceededTryProClicked",dlTrackOnboardingModalShown:"dlTrackOnboardingModalShown",dlTrackUILocationClicked:"dlTrackUILocationClicked",dlTrackIframeTranslationSuccessful:"dlTrackIframeTranslationSuccessful",dlTrackReplaceInField:"dlTrackReplaceInField"},Vn={dlGetExperiments:"dlGetExperiments"},Zn={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",dlExternalURLRedirect:"dlExternalURLRedirect"};function Yn(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}function Xn(e){return Yn(e)}function Kn(e,t){return Yn({action:Bn.dlSendNotification,payload:{type:e,options:t}})}function Qn(e){return t(this,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}))}const Jn="Unidentified service name supplied to getServiceType",eo=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(qt).includes(t))throw new Error(Jn);if(!e.isLoggedIn)return Vt;switch(t){case qt.TRANSLATOR:return e.translatorServiceType;case qt.WRITE:return e.writeServiceType;case qt.API:return e.apiServiceType;case qt.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(Jn)},to=(e,t)=>eo(e,t)===Zt,no=(e,t)=>eo(e,t)===Vt,oo=(e,t)=>eo(e,t)===Yt,io=e=>!!e.isLoggedIn&&no(e,qt.WRITE),so=(e,t)=>e.isLoggedIn&&no(e,t),ro={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function ao(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function lo(e,t){let n;try{switch(e){case ro.chrome:case ro.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case ro.edge:n=t.split("Edg/")[1].split(" ")[0];break;case ro.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case ro.opera:n=t.split("OPR/")[1].split(" ")[0];break;case ro.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===ro.chrome||e===ro.edge||e===ro.brave||e===ro.opera}(e)&&(n=co(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function co(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const uo="unknown_user_agent",po="unknown_platform",mo="unknown_browser",go="unknown_browser_version",ho="unknown_browser_language";function fo(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||uo,o=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||po;let i=mo,s=go,r=(null===navigator||void 0===navigator?void 0:navigator.language)||ho;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(r=chrome.i18n.getUILanguage());try{i=_o(n),s=lo(i,n)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:n,platform:o,browser:i,browserVersion:s,browserLang:r}}const _o=e=>{let t=mo;try{const n=e.match(/chrome|chromium|crios/i),o=e.match(/edg/i)||co(ro.edge),i=e.match(/firefox|fxios/i),s=e.match(/opr\//i)||co(ro.opera),r=e.match(/safari/i),a=co(ro.brave);n?(t=ro.chrome,o&&(t=ro.edge),s&&(t=ro.opera),a&&(t=ro.brave)):o?t=ro.edge:i?t=ro.firefox:s?t=ro.opera:r&&(t=ro.safari)}catch(e){console.error("Could not get the name of the brower",e)}return t};function vo(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild.toLowerCase()===ro.firefox.toLowerCase();const e=chrome.runtime.getURL("");return fo().browser===ro.firefox||/moz-extension:\/\//gm.test(e)}const wo=()=>{const e=/(outlook\.office\.com|sharepoint\.com|microsoft|office)/,t=new URL(window.location.href);if(!e.test(t.origin))return!1;const n=t.origin.match(e);return!!n&&n[0]},{entries:To,setPrototypeOf:bo,isFrozen:yo,getPrototypeOf:Eo,getOwnPropertyDescriptor:$o}=Object;
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:xo,seal:So,create:Co}=Object,{apply:Lo,construct:ko}="undefined"!=typeof Reflect&&Reflect;xo||(xo=function(e){return e}),So||(So=function(e){return e}),Lo||(Lo=function(e,t,n){return e.apply(t,n)}),ko||(ko=function(e,t){return new e(...t)});const Ao=Fo(Array.prototype.forEach),Io=Fo(Array.prototype.lastIndexOf),Mo=Fo(Array.prototype.pop),Oo=Fo(Array.prototype.push),No=Fo(Array.prototype.splice),Ro=Fo(String.prototype.toLowerCase),Do=Fo(String.prototype.toString),Po=Fo(String.prototype.match),Uo=Fo(String.prototype.replace),Go=Fo(String.prototype.indexOf),Bo=Fo(String.prototype.trim),Wo=Fo(Object.prototype.hasOwnProperty),zo=Fo(RegExp.prototype.test),Ho=(jo=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ko(jo,t)});var jo;function Fo(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return Lo(e,t,o)}}function qo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ro;bo&&bo(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(yo(t)||(t[o]=e),i=e)}e[i]=!0}return e}function Vo(e){for(let t=0;t<e.length;t++){Wo(e,t)||(e[t]=null)}return e}function Zo(e){const t=Co(null);for(const[n,o]of To(e)){Wo(e,n)&&(Array.isArray(o)?t[n]=Vo(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=Zo(o):t[n]=o)}return t}function Yo(e,t){for(;null!==e;){const n=$o(e,t);if(n){if(n.get)return Fo(n.get);if("function"==typeof n.value)return Fo(n.value)}e=Eo(e)}return function(){return null}}const Xo=xo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ko=xo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qo=xo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Jo=xo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ei=xo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ti=xo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ni=xo(["#text"]),oi=xo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ii=xo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),si=xo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ri=xo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ai=So(/\{\{[\w\W]*|[\w\W]*\}\}/gm),li=So(/<%[\w\W]*|[\w\W]*%>/gm),ci=So(/\$\{[\w\W]*/gm),di=So(/^data-[\-\w.\u00B7-\uFFFF]+$/),ui=So(/^aria-[\-\w]+$/),pi=So(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mi=So(/^(?:\w+script|data):/i),gi=So(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hi=So(/^html$/i),fi=So(/^[a-z][.\w]*(-[.\w]+)+$/i);var _i=Object.freeze({__proto__:null,ARIA_ATTR:ui,ATTR_WHITESPACE:gi,CUSTOM_ELEMENT:fi,DATA_ATTR:di,DOCTYPE_NAME:hi,ERB_EXPR:li,IS_ALLOWED_URI:pi,IS_SCRIPT_OR_DATA:mi,MUSTACHE_EXPR:ai,TMPLIT_EXPR:ci});const vi=1,wi=3,Ti=7,bi=8,yi=9,Ei=function(){return"undefined"==typeof window?null:window};var $i=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==yi||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const i=o,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:g}=t,h=c.prototype,f=Yo(h,"cloneNode"),_=Yo(h,"remove"),v=Yo(h,"nextSibling"),w=Yo(h,"childNodes"),T=Yo(h,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let b,y="";const{implementation:E,createNodeIterator:$,createDocumentFragment:x,getElementsByTagName:S}=o,{importNode:C}=i;let L={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof To&&"function"==typeof T&&E&&void 0!==E.createHTMLDocument;const{MUSTACHE_EXPR:k,ERB_EXPR:A,TMPLIT_EXPR:I,DATA_ATTR:M,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:D}=_i;let{IS_ALLOWED_URI:P}=_i,U=null;const G=qo({},[...Xo,...Ko,...Qo,...ei,...ni]);let B=null;const W=qo({},[...oi,...ii,...si,...ri]);let z=Object.seal(Co(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,j=null,F=!0,q=!0,V=!1,Z=!0,Y=!1,X=!0,K=!1,Q=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,se=!0,re=!1,ae={},le=null;const ce=qo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=qo({},["audio","video","img","source","image","track"]);let pe=null;const me=qo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml";let _e=fe,ve=!1,we=null;const Te=qo({},[ge,he,fe],Do);let be=qo({},["mi","mo","mn","ms","mtext"]),ye=qo({},["annotation-xml"]);const Ee=qo({},["title","style","font","a","script"]);let $e=null;const xe=["application/xhtml+xml","text/html"];let Se=null,Ce=null;const Le=o.createElement("form"),ke=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=Zo(e),$e=-1===xe.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Se="application/xhtml+xml"===$e?Do:Ro,U=Wo(e,"ALLOWED_TAGS")?qo({},e.ALLOWED_TAGS,Se):G,B=Wo(e,"ALLOWED_ATTR")?qo({},e.ALLOWED_ATTR,Se):W,we=Wo(e,"ALLOWED_NAMESPACES")?qo({},e.ALLOWED_NAMESPACES,Do):Te,pe=Wo(e,"ADD_URI_SAFE_ATTR")?qo(Zo(me),e.ADD_URI_SAFE_ATTR,Se):me,de=Wo(e,"ADD_DATA_URI_TAGS")?qo(Zo(ue),e.ADD_DATA_URI_TAGS,Se):ue,le=Wo(e,"FORBID_CONTENTS")?qo({},e.FORBID_CONTENTS,Se):ce,H=Wo(e,"FORBID_TAGS")?qo({},e.FORBID_TAGS,Se):{},j=Wo(e,"FORBID_ATTR")?qo({},e.FORBID_ATTR,Se):{},ae=!!Wo(e,"USE_PROFILES")&&e.USE_PROFILES,F=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,se=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||pi,_e=e.NAMESPACE||fe,be=e.MATHML_TEXT_INTEGRATION_POINTS||be,ye=e.HTML_INTEGRATION_POINTS||ye,z=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ke(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ke(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(q=!1),te&&(ee=!0),ae&&(U=qo({},ni),B=[],!0===ae.html&&(qo(U,Xo),qo(B,oi)),!0===ae.svg&&(qo(U,Ko),qo(B,ii),qo(B,ri)),!0===ae.svgFilters&&(qo(U,Qo),qo(B,ii),qo(B,ri)),!0===ae.mathMl&&(qo(U,ei),qo(B,si),qo(B,ri))),e.ADD_TAGS&&(U===G&&(U=Zo(U)),qo(U,e.ADD_TAGS,Se)),e.ADD_ATTR&&(B===W&&(B=Zo(B)),qo(B,e.ADD_ATTR,Se)),e.ADD_URI_SAFE_ATTR&&qo(pe,e.ADD_URI_SAFE_ATTR,Se),e.FORBID_CONTENTS&&(le===ce&&(le=Zo(le)),qo(le,e.FORBID_CONTENTS,Se)),se&&(U["#text"]=!0),K&&qo(U,["html","head","body"]),U.table&&(qo(U,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ho('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ho('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,y=b.createHTML("")}else void 0===b&&(b=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(g,s)),null!==b&&"string"==typeof y&&(y=b.createHTML(""));xo&&xo(e),Ce=e}},Ie=qo({},[...Ko,...Qo,...Jo]),Me=qo({},[...ei,...ti]),Oe=function(e){Oo(n.removed,{element:e});try{T(e).removeChild(e)}catch(t){_(e)}},Ne=function(e,t){try{Oo(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Oo(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Re=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=Po(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===$e&&_e===fe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=b?b.createHTML(e):e;if(_e===fe)try{t=(new m).parseFromString(i,$e)}catch(e){}if(!t||!t.documentElement){t=E.createDocument(_e,"template",null);try{t.documentElement.innerHTML=ve?y:i}catch(e){}}const s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),_e===fe?S.call(t,K?"html":"body")[0]:K?t.documentElement:s},De=function(e){return $.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Pe=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ue=function(e){return"function"==typeof l&&e instanceof l};function Ge(e,t,o){Ao(e,(e=>{e.call(n,t,o,Ce)}))}const Be=function(e){let t=null;if(Ge(L.beforeSanitizeElements,e,null),Pe(e))return Oe(e),!0;const o=Se(e.nodeName);if(Ge(L.uponSanitizeElement,e,{tagName:o,allowedTags:U}),e.hasChildNodes()&&!Ue(e.firstElementChild)&&zo(/<[/\w]/g,e.innerHTML)&&zo(/<[/\w]/g,e.textContent))return Oe(e),!0;if(e.nodeType===Ti)return Oe(e),!0;if(X&&e.nodeType===bi&&zo(/<[/\w]/g,e.data))return Oe(e),!0;if(!U[o]||H[o]){if(!H[o]&&ze(o)){if(z.tagNameCheck instanceof RegExp&&zo(z.tagNameCheck,o))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(o))return!1}if(se&&!le[o]){const t=T(e)||e.parentNode,n=w(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=f(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,v(e))}}}return Oe(e),!0}return e instanceof c&&!function(e){let t=T(e);t&&t.tagName||(t={namespaceURI:_e,tagName:"template"});const n=Ro(e.tagName),o=Ro(t.tagName);return!!we[e.namespaceURI]&&(e.namespaceURI===he?t.namespaceURI===fe?"svg"===n:t.namespaceURI===ge?"svg"===n&&("annotation-xml"===o||be[o]):Boolean(Ie[n]):e.namespaceURI===ge?t.namespaceURI===fe?"math"===n:t.namespaceURI===he?"math"===n&&ye[o]:Boolean(Me[n]):e.namespaceURI===fe?!(t.namespaceURI===he&&!ye[o])&&!(t.namespaceURI===ge&&!be[o])&&!Me[n]&&(Ee[n]||!Ie[n]):!("application/xhtml+xml"!==$e||!we[e.namespaceURI]))}(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!zo(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&e.nodeType===wi&&(t=e.textContent,Ao([k,A,I],(e=>{t=Uo(t,e," ")})),e.textContent!==t&&(Oo(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ge(L.afterSanitizeElements,e,null),!1):(Oe(e),!0)},We=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in Le))return!1;if(q&&!j[t]&&zo(M,t));else if(F&&zo(O,t));else if(!B[t]||j[t]){if(!(ze(e)&&(z.tagNameCheck instanceof RegExp&&zo(z.tagNameCheck,e)||z.tagNameCheck instanceof Function&&z.tagNameCheck(e))&&(z.attributeNameCheck instanceof RegExp&&zo(z.attributeNameCheck,t)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(t))||"is"===t&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&zo(z.tagNameCheck,n)||z.tagNameCheck instanceof Function&&z.tagNameCheck(n))))return!1}else if(pe[t]);else if(zo(P,Uo(n,R,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Go(n,"data:")||!de[e]){if(V&&!zo(N,Uo(n,R,"")));else if(n)return!1}else;return!0},ze=function(e){return"annotation-xml"!==e&&Po(e,D)},He=function(e){Ge(L.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Pe(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B,forceKeepAttr:void 0};let i=t.length;for(;i--;){const s=t[i],{name:r,namespaceURI:a,value:l}=s,c=Se(r);let d="value"===r?l:Bo(l);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,Ge(L.uponSanitizeAttribute,e,o),d=o.attrValue,!ie||"id"!==c&&"name"!==c||(Ne(r,e),d="user-content-"+d),X&&zo(/((--!?|])>)|<\/(style|title)/i,d)){Ne(r,e);continue}if(o.forceKeepAttr)continue;if(Ne(r,e),!o.keepAttr)continue;if(!Z&&zo(/\/>/i,d)){Ne(r,e);continue}Y&&Ao([k,A,I],(e=>{d=Uo(d,e," ")}));const u=Se(e.nodeName);if(We(u,c,d)){if(b&&"object"==typeof g&&"function"==typeof g.getAttributeType)if(a);else switch(g.getAttributeType(u,c)){case"TrustedHTML":d=b.createHTML(d);break;case"TrustedScriptURL":d=b.createScriptURL(d)}try{a?e.setAttributeNS(a,r,d):e.setAttribute(r,d),Pe(e)?Oe(e):Mo(n.removed)}catch(e){}}}Ge(L.afterSanitizeAttributes,e,null)},je=function e(t){let n=null;const o=De(t);for(Ge(L.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Ge(L.uponSanitizeShadowNode,n,null),Be(n),He(n),n.content instanceof r&&e(n.content);Ge(L.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,s=null,a=null,c=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ue(e)){if("function"!=typeof e.toString)throw Ho("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ho("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ae(t),n.removed=[],"string"==typeof e&&(re=!1),re){if(e.nodeName){const t=Se(e.nodeName);if(!U[t]||H[t])throw Ho("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=Re("\x3c!----\x3e"),s=o.ownerDocument.importNode(e,!0),s.nodeType===vi&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!ee&&!Y&&!K&&-1===e.indexOf("<"))return b&&ne?b.createHTML(e):e;if(o=Re(e),!o)return ee?null:ne?y:""}o&&J&&Oe(o.firstChild);const d=De(re?e:o);for(;a=d.nextNode();)Be(a),He(a),a.content instanceof r&&je(a.content);if(re)return e;if(ee){if(te)for(c=x.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(B.shadowroot||B.shadowrootmode)&&(c=C.call(i,c,!0)),c}let u=K?o.outerHTML:o.innerHTML;return K&&U["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&zo(hi,o.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+u),Y&&Ao([k,A,I],(e=>{u=Uo(u,e," ")})),b&&ne?b.createHTML(u):u},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Ce=null,Q=!1},n.isValidAttribute=function(e,t,n){Ce||Ae({});const o=Se(e),i=Se(t);return We(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&Oo(L[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Io(L[e],t);return-1===n?void 0:No(L[e],n,1)[0]}return Mo(L[e])},n.removeHooks=function(e){L[e]=[]},n.removeAllHooks=function(){L={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const xi=(e,t={})=>$i.sanitize(e,{USE_PROFILES:{html:!0},...t}),Si=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"docs.google.com"===e.hostname&&"/document/"===e.pathname.slice(0,10)},Ci=()=>{const e=document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;return{iFrame:e,editable:e&&e.document.querySelector("[contenteditable=true]")}},Li=()=>{const{iFrame:e,editable:t}=Ci();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},ki=()=>{const{iFrame:e,editable:t}=Ci();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":xi(t.innerHTML),text:o?"":t.innerText}},Ai=()=>{const e=document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");if(!e)return void console.error("GDocs Icon was not present while trying to get the coordinates");const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=t;return{x:i-n.left,y:r-n.top,selectedTop:o,selectedBottom:r,selectedRight:n.width-s,selectedLeft:i+window.scrollX,selectedWidth:l,height:a}},Ii=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=120,i=40,s=t.getBoundingClientRect();let r=!1;const a={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);a.left=t.left,a.top=n?n+20:0,a.top+o/2<s.top+10&&(a.top=s.top+10),a.top-o/2>s.bottom&&(r=!0)}catch(e){if(n){const e=n.getBoundingClientRect();a.left=e.right-i/2,a.top=s.top+30}}return a.left+i/2>s.right&&(r=!0),{shouldBeOutOfViewport:r,newPosition:a}},Mi=()=>!!document.querySelector("#docs-toolbar-wrapper"),Oi=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,i=[];let s="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${i.length+1}`;i.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),s+=`<${n}>`}})),s+=t}const r=[],a=s.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:i}=Ni(e);return r.push(i),{isTranslatable:t,index:r.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:r,entities:i,contentReference:a,originalObject:n,originalText:o.dsl_spacers}},Ni=e=>{const{leadingEntities:t,processedLine:n}=Ri(e),{trailingEntities:o,processedLine:i}=Di(n);return{leading:t,trailing:o,processedLine:i}},Ri=e=>{let t="",n="",o="",i=!0;for(const s of e){if(i){const e=o[o.length-1];if("<"===s&&0===o.length){o="<";continue}if(">"===s&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===s&&o.length>0&&"<"===e){o+="a";continue}if(s.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=s;continue}if(Pi(s)&&0===o.length){t+=s;continue}i=!1,o=""}n+=s}return{processedLine:n,leadingEntities:t}},Di=e=>{let t="",n="",o="",i=!0;for(const s of e.split("").reverse()){if(i){if(">"===s&&0===o.length){o=">";continue}if("<"===s&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===s&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(s.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=s+o;continue}if(Pi(s)&&0===o.length){t=s+t;continue}i=!1,o=""}n=s+n}return{processedLine:n,trailingEntities:t}},Pi=e=>[16,17,18,28].includes(e.charCodeAt(0)),Ui=({textLines:e,entities:t,contentReference:n})=>{let o=n.map((t=>t.isTranslatable?`${t.leading}${Array.isArray(e[t.index])?e[t.index].join(""):e[t.index]}${t.trailing}`:t.line)).join("\n");o=o.replace(/<\/a(\d+)>/g,"<a$1>");let i="",s=[],r=0,a=0;for(;r+a<o.length;){const e=r+a;if("<"===o[e]&&"a"===o[e+1]){let n="<a",i=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(i=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(i=!1,c=!1)}if(i){a+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));s.push({...e,new_position:r});continue}}i+=o[e],r++}return{processedText:i,processedEntities:s}},Gi=e=>e.replace(/<(\/)?a(\d+)>/g,""),Bi=e=>{const{characterMappings:t,cleanSentence:n}=zi(e),o=/[^\s.,:;!?"()*ï½ï½ ï½¡ï½¢ï½£ï½¤ï½¥ããããããããããããããããããããããã ãª ã« ã¬ ã­]/,i=[];let s="",r=0,a=!1;for(let e=0;e<n.length;e++){const l=n[e],c=o.test(l);c!==a&&s.length>0&&(i.push({text:s,isWord:a,offsetStart:r,offsetLength:s.length,offsetStartRaw:t[r],offsetLengthRaw:t[r+s.length]}),s=""),a=c,s+=l,1===s.length&&(r=e)}return s&&i.push({text:s,isWord:a,offsetStart:r,offsetLength:s.length,offsetStartRaw:t[r],offsetLengthRaw:t[r+s.length]}),i},Wi=({entities:e,text:t,originalObject:n})=>{const o=Hi({entities:e,text:t,originalObject:n});ji(o)},zi=e=>{const t=[];let n="";const o=e.split(/(<a\d+>)/g);let i=0;for(let e=0;e<o.length;e++){const s=o[e];if(!/^<a\d+>$/.test(s)){n+=s;for(let e=0;e<s.length;e++)t.push(i+e)}i+=s.length}return{characterMappings:t,cleanSentence:n}},Hi=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),i=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let i=0;n.forEach((e=>{i=e.new_position>i?e.new_position:i,o[`${e.new_position}`]=e.entity}));const s=[];for(let e=0;e<=i;e++)s.push(o[`${e}`]||null);return{...t,stsl_styles:s}})),s={...o.resolved,dsl_spacers:t,dsl_styleslices:i},r={...n,data:JSON.stringify({...o,resolved:s})};return JSON.stringify(r)},ji=e=>{const{editable:t}=Ci();let n;const o="application/x-vnd.google-docs-document-slice-clip+wrapped";if(vo())n=new ClipboardEvent("paste",{dataType:o,data:e});else{const t=new DataTransfer;t.setData(o,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};function Fi(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),n.map((e=>e.langCode)).includes(e))}const qi=e=>e.substring(0,2).toUpperCase();async function Vi(e,t=!1){let n="";const o=await chrome.i18n.detectLanguage(e);return o&&o.languages?.length>0&&(n=o.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase()),t?{langCode:n,isReliable:o.isReliable,detectedLanguages:o.languages.sort(((e,t)=>t.percentage-e.percentage)).map((e=>({langCode:e.language.substr(0,2).toUpperCase(),percentage:e.percentage})))}:n}const Zi=()=>{let e,t,o=!1;return n.map((n=>{let i;return o=["EN-US","EN-GB","PT-PT","PT-BR","ZH-HANT"].includes(n.langCode),o&&(({optionLabel:e,selectedLabel:t}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(n)),i=n.langCode.slice(0,2).toLowerCase()+n.langCode.slice(2)),{value:n.langCode,label:o?e:chrome.i18n.getMessage(`supported_languages_${n.langCode}`),selectedOptionLabel:o?t:chrome.i18n.getMessage(`supported_languages_${n.langCode}`),regionalVariant:i}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))},Yi=()=>n.filter((e=>!["PT-BR","EN-US","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?{...e,langCode:"EN"}:"PT-PT"===e.langCode?{...e,langCode:"PT"}:e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())));function Xi(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}function Ki(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}const Qi=e=>i.includes(e?.substr(0,2).toUpperCase()),Ji=e=>{const t=n.find((t=>t.langCode===e));return t&&t.supportsFormality},es=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"};function ts(e){if("rtl"===e.dir)return!0;return"rtl"===window.getComputedStyle(e).direction}const ns=()=>{const e="https://docs.google.com";return window.location.href.substr(0,23)===e&&!!document.querySelector("#sketchy-hidden-iframe")},os=async()=>{const e=[],t=n=>{const o=[],i=[];for(let e=0;e<n.children.length;e++){const t=n.children[e];"text"===t.tagName.toLowerCase()?o.push(t):"g"===t.tagName.toLowerCase()&&i.push(t)}o.length>0&&e.push(o.map((e=>e.textContent)).join(" "));for(const e of i)t(e)},n=as();if(n){t(n);const o=e.join("\n");return await Vi(o)}},is=async()=>{const e=as(),t=document.querySelector("#canvas-container").getBoundingClientRect();if(e){const n=t.left-2,o=t.top-2,i=t.right+2,s=t.bottom+2,r=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:n,clientY:o});e.dispatchEvent(r);for(let t=1;t<=10;t++){const r=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:n+t/10*(i-n),clientY:o+t/10*(s-o)});e.dispatchEvent(r),await new Promise((e=>setTimeout(e,25)))}const a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:i,clientY:s});e.dispatchEvent(a)}},ss=e=>{const t=[],n=[];for(const n of e){const e=n[0],o=n[1];if(15===e){const e=n[4];if(""===e.trim())continue;if(t.find((e=>e.id===o)))continue;const i={id:o,originalContent:e,translatedContent:"",sentencesIndexes:[],originalSentences:[],translatedSentences:[],modifiers:[],secondaryModifiers:[],entity:n,orphanModifiers:[],orphanModifiersIntegrityCheck:[]};t.push(i)}else if(17===e){const e=t.find((e=>e.id===o));if(!e)continue;e.modifiers.push(n)}else if(41===e){const e=t.find((e=>e.id===o));if(!e)continue;e.secondaryModifiers.push(n)}}for(let e=0;e<t.length;e++){const o=t[e];o.orphanModifiers=ls(o);const{originalSentences:i,orphanModifiersIntegrityCheck:s}=us(o);o.originalSentences=i,o.orphanModifiersIntegrityCheck=s;for(const e of o.originalSentences)o.sentencesIndexes.push(n.length),n.push(e)}return{entities:t,sentencesToTranslate:n}},rs=({entity:e,translatedSentences:t,modifiersToDelete:n})=>{e.translatedSentences=e.sentencesIndexes.map((e=>t[e]));const{translatedContent:o,orphanModifiersMappingEquivalences:i}=ps(e);if(e.translatedContent=o,!e.translatedContent||e.translatedContent===e.originalContent)return;e.entity[4]=e.translatedContent;const s=ms(i,e);for(let t=0;t<e.modifiers.length;t++){const o=e.modifiers[t];let i=!1;if(gs(o,s)){const{start:e,end:t}=hs(o,s);t<=e?i=!0:(o[3]=e,o[4]=t)}else i=!0;i&&n.push(o)}},as=()=>Array.from(document.querySelectorAll("#pages svg")).find((e=>"none"!==getComputedStyle(e).display)),ls=({originalContent:e,modifiers:t})=>{const n=ds(e);return cs(t).filter((e=>!n.includes(e)))},cs=e=>{const t=[];for(const n of e)t.includes(n[3])||t.push(n[3]),t.includes(n[4])||t.push(n[4]);return t},ds=e=>{const t=e.split("\n"),n=[0];let o=0;for(const e of t){const t=o+e.length;n.includes(t)||n.push(t),n.includes(t+1)||n.push(t+1),o=t+1}return n},us=({originalContent:e,orphanModifiers:t})=>{let n=0;const o={},i=e.split("\n").map((e=>{let i="";for(let s=0;s<e.length;s++){const r=n+s;if(t.includes(r)){const n=t.indexOf(r);/\s/.test(e[s])&&(o[`${n}`]=e[s]),i+=`<a${n}>`}i+=e[s]}return n+=e.length+1,i}));return{orphanModifiersIntegrityCheck:o,originalSentences:i}},ps=e=>{let t={},n=0;return{translatedContent:e.translatedSentences.map((o=>{const i={};let s=0;const r=o.replace(/<a\d+>/g,((t,r)=>{const a=t.match(/<a(\d+)>/);if(a){const l=a[1],c=t.length,d=e.orphanModifiers[Number(l)];void 0!==d&&(i[`${d}`]=s+n+r-c*Object.keys(i).length);const u=o.charAt(r+c);if(u&&void 0!==e.orphanModifiersIntegrityCheck[`${l}`]&&e.orphanModifiersIntegrityCheck[`${l}`]!==u)return s++,e.orphanModifiersIntegrityCheck[`${l}`]}return""}));return t={...t,...i},n+=r.length+1,r})).join("\n"),orphanModifiersMappingEquivalences:t}},ms=(e={},{originalContent:t,translatedContent:n})=>{const o=ds(t),i=ds(n),s={};for(let e=0;e<o.length;e++)s[`${o[e]}`]=i[e];return{...e,...s}},gs=(e,t)=>{const n=e[3],o=e[4];return void 0!==t[`${n}`]&&void 0!==t[`${o}`]},hs=(e,t)=>{const n=e[3],o=e[4];return{start:t[`${n}`],end:t[`${o}`]}},fs=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));function _s(){return crypto.randomUUID()}const vs="production",ws="development";function Ts(){return vs}function bs(){return Ts()===ws}function ys(){return Ts()===vs}const Es=Object.prototype.toString;function $s(e){switch(Es.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ns(e,Error)}}function xs(e,t){return Es.call(e)===`[object ${t}]`}function Ss(e){return xs(e,"ErrorEvent")}function Cs(e){return xs(e,"DOMError")}function Ls(e){return xs(e,"String")}function ks(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function As(e){return null===e||ks(e)||"object"!=typeof e&&"function"!=typeof e}function Is(e){return xs(e,"Object")}function Ms(e){return"undefined"!=typeof Event&&Ns(e,Event)}function Os(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Ns(e,t){try{return e instanceof t}catch(e){return!1}}function Rs(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function Ds(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Ps(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{Rs(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Us(e,t,n=!1){return!!Ls(e)&&(xs(t,"RegExp")?t.test(e):!!Ls(t)&&(n?e===t:e.includes(t)))}function Gs(e,t=[],n=!1){return t.some((t=>Us(e,t,n)))}function Bs(e,t,n=250,o,i,s,r){if(!(s.exception&&s.exception.values&&r&&Ns(r.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var l,c;a&&(s.exception.values=(l=Ws(e,t,i,r.originalException,o,s.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=Ds(e.value,c)),e)))))}function Ws(e,t,n,o,i,s,r,a){if(s.length>=n+1)return s;let l=[...s];if(Ns(o[i],Error)){zs(r,a);const s=e(t,o[i]),c=l.length;Hs(s,i,c,a),l=Ws(e,t,n,o[i],i,[s,...l],s,c)}return Array.isArray(o.errors)&&o.errors.forEach(((o,s)=>{if(Ns(o,Error)){zs(r,a);const c=e(t,o),d=l.length;Hs(c,`errors[${s}]`,d,a),l=Ws(e,t,n,o,i,[c,...l],c,d)}})),l}function zs(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Hs(e,t,n,o){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:o}}function js(e){return e&&e.Math==Math?e:void 0}const Fs="object"==typeof globalThis&&js(globalThis)||"object"==typeof window&&js(window)||"object"==typeof self&&js(self)||"object"==typeof global&&js(global)||function(){return this}()||{};function qs(){return Fs}function Vs(e,t,n){const o=n||Fs,i=o.__SENTRY__=o.__SENTRY__||{};return i[e]||(i[e]=t())}const Zs=qs();function Ys(e,t={}){if(!e)return"<unknown>";try{let n=e;const o=5,i=[];let s=0,r=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<o&&(c=Xs(n,d),!("html"===c||s>1&&r+i.length*l+c.length>=u));)i.push(c),r+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function Xs(e,t){const n=e,o=[];let i,s,r,a,l;if(!n||!n.tagName)return"";if(Zs.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;o.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),i=n.className,i&&Ls(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)o.push(`.${s[l]}`);const d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)r=d[l],a=n.getAttribute(r),a&&o.push(`[${r}="${a}"]`);return o.join("")}const Ks="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Qs=["debug","info","warn","error","log","assert","trace"],Js={};function er(e){if(!("console"in Fs))return e();const t=Fs.console,n={},o=Object.keys(Js);o.forEach((e=>{const o=Js[e];n[e]=t[e],t[e]=o}));try{return e()}finally{o.forEach((e=>{t[e]=n[e]}))}}const tr=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ks?Qs.forEach((n=>{t[n]=(...t)=>{e&&er((()=>{Fs.console[n](`Sentry Logger [${n}]:`,...t)}))}})):Qs.forEach((e=>{t[e]=()=>{}})),t}(),nr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function or(e,t=!1){const{host:n,path:o,pass:i,port:s,projectId:r,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${o?`${o}/`:o}${r}`}function ir(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function sr(e){const t="string"==typeof e?function(e){const t=nr.exec(e);if(!t)return void er((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,o,i="",s,r="",a]=t.slice(1);let l="",c=a;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return ir({host:s,pass:i,path:l,projectId:c,port:r,protocol:n,publicKey:o})}(e):ir(e);if(t&&function(e){if(!Ks)return!0;const{port:t,projectId:n,protocol:o}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(tr.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(o)?t&&isNaN(parseInt(t,10))&&(tr.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(tr.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(tr.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class rr extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function ar(e,t,n){if(!(t in e))return;const o=e[t],i=n(o);"function"==typeof i&&cr(i,o),e[t]=i}function lr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){Ks&&tr.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function cr(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,lr(e,"__sentry_original__",t)}catch(e){}}function dr(e){return e.__sentry_original__}function ur(e){if($s(e))return{message:e.message,name:e.name,stack:e.stack,...mr(e)};if(Ms(e)){const t={type:e.type,target:pr(e.target),currentTarget:pr(e.currentTarget),...mr(e)};return"undefined"!=typeof CustomEvent&&Ns(e,CustomEvent)&&(t.detail=e.detail),t}return e}function pr(e){try{return t=e,"undefined"!=typeof Element&&Ns(t,Element)?Ys(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function mr(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function gr(e){return hr(e,new Map)}function hr(e,t){if(function(e){if(!Is(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const o={};t.set(e,o);for(const n of Object.keys(e))void 0!==e[n]&&(o[n]=hr(e[n],t));return o}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const o=[];return t.set(e,o),e.forEach((e=>{o.push(hr(e,t))})),o}return e}const fr=/\(error: (.*)\)/,_r=/captureMessage|captureException/;const vr="<anonymous>";function wr(e){try{return e&&"function"==typeof e&&e.name||vr}catch(e){return vr}}const Tr={},br={};function yr(e,t){Tr[e]=Tr[e]||[],Tr[e].push(t)}function Er(e,t){br[e]||(t(),br[e]=!0)}function $r(e,t){const n=e&&Tr[e];if(n)for(const o of n)try{o(t)}catch(t){Ks&&tr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${wr(o)}\nError:`,t)}}function xr(){"console"in Fs&&Qs.forEach((function(e){e in Fs.console&&ar(Fs.console,e,(function(t){return Js[e]=t,function(...t){$r("console",{args:t,level:e});const n=Js[e];n&&n.apply(Fs.console,t)}}))}))}function Sr(){const e=Fs,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Cr(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Lr(e){const{message:t,event_id:n}=e;if(t)return t;const o=Cr(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function kr(e,t,n){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Ar(e,t){const n=Cr(e);if(!n)return;const o=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...o,...t},t&&"data"in t){const e={...o&&o.data,...t.data};n.mechanism.data=e}}function Ir(e){if(e&&e.__sentry_captured__)return!0;try{lr(e,"__sentry_captured__",!0)}catch(e){}return!1}const Mr=Fs;let Or,Nr,Rr;function Dr(){if(!Mr.document)return;const e=$r.bind(null,"dom"),t=Pr(e,!0);Mr.document.addEventListener("click",t,!1),Mr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Mr[t]&&Mr[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ar(n,"addEventListener",(function(t){return function(n,o,i){if("click"===n||"keypress"==n)try{const o=this,s=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},r=s[n]=s[n]||{refCount:0};if(!r.handler){const o=Pr(e);r.handler=o,t.call(this,n,o,i)}r.refCount++}catch(e){}return t.call(this,n,o,i)}})),ar(n,"removeEventListener",(function(e){return function(t,n,o){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,o),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,o)}})))}))}function Pr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const o=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,o))return;lr(n,"_sentryCaptured",!0),o&&!o._sentryId&&lr(o,"_sentryId",Sr());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Nr)return!1;try{if(!e.target||e.target._sentryId!==Rr)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),Nr=n.type,Rr=o?o._sentryId:void 0}clearTimeout(Or),Or=Mr.setTimeout((()=>{Rr=void 0,Nr=void 0}),1e3)}}const Ur=qs();function Gr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Br(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Ur))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(Gr(Ur.fetch))return!0;let e=!1;const t=Ur.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Gr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Ks&&tr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Wr(){Br()&&ar(Fs,"fetch",(function(e){return function(...t){const{method:n,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Hr(t),method:zr(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Hr(t),method:zr(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:o},startTimestamp:Date.now()};return $r("fetch",{...i}),e.apply(Fs,t).then((e=>($r("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw $r("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}function zr(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Hr(e){return"string"==typeof e?e:e?zr(e,"url")?e.url:e.toString?e.toString():"":""}let jr=null;function Fr(){jr=Fs.onerror,Fs.onerror=function(e,t,n,o,i){return $r("error",{column:o,error:i,line:n,msg:e,url:t}),!(!jr||jr.__SENTRY_LOADER__)&&jr.apply(this,arguments)},Fs.onerror.__SENTRY_INSTRUMENTED__=!0}let qr=null;function Vr(){qr=Fs.onunhandledrejection,Fs.onunhandledrejection=function(e){return $r("unhandledrejection",e),!(qr&&!qr.__SENTRY_LOADER__)||qr.apply(this,arguments)},Fs.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Zr=qs();const Yr=Fs;let Xr;function Kr(){if(!function(){const e=Zr.chrome,t=e&&e.app&&e.app.runtime,n="history"in Zr&&!!Zr.history.pushState&&!!Zr.history.replaceState;return!t&&n}())return;const e=Yr.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Xr,t=String(n);Xr=t;$r("history",{from:e,to:t})}return e.apply(this,t)}}Yr.onpopstate=function(...t){const n=Yr.location.href,o=Xr;Xr=n;if($r("history",{from:o,to:n}),e)try{return e.apply(this,t)}catch(e){}},ar(Yr.history,"pushState",t),ar(Yr.history,"replaceState",t)}const Qr=Fs,Jr="__sentry_xhr_v3__";function ea(){if(!Qr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ar(e,"open",(function(e){return function(...t){const n=Date.now(),o=Ls(t[0])?t[0].toUpperCase():void 0,i=function(e){if(Ls(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!o||!i)return e.apply(this,t);this[Jr]={method:o,url:i,request_headers:{}},"POST"===o&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this[Jr];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}$r("xhr",{args:[o,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ar(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),ar(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,i=this[Jr];return i&&Ls(n)&&Ls(o)&&(i.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),ar(e,"send",(function(e){return function(...t){const n=this[Jr];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return $r("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function ta(e,t=100,n=1/0){try{return oa("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function na(e,t=3,n=102400){const o=ta(e,t);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?na(e,t-1,n):o;var i}function oa(e,t,n=1/0,o=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[s,r]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(a=t)||a==a))return t;var a;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Rs(t))return"[VueViewModel]";if(function(e){return Is(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${wr(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return l.replace("object ","");if(s(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return oa("",d.toJSON(),c-1,o,i)}catch(e){}const u=Array.isArray(t)?[]:{};let p=0;const m=ur(t);for(const e in m){if(!Object.prototype.hasOwnProperty.call(m,e))continue;if(p>=o){u[e]="[MaxProperties ~]";break}const t=m[e];u[e]=oa(e,t,c-1,o,i),p++}return r(t),u}var ia;function sa(e){return new aa((t=>{t(e)}))}function ra(e){return new aa(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(ia||(ia={}));class aa{constructor(e){aa.prototype.__init.call(this),aa.prototype.__init2.call(this),aa.prototype.__init3.call(this),aa.prototype.__init4.call(this),this._state=ia.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new aa(((n,o)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){o(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){o(e)}else o(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new aa(((t,n)=>{let o,i;return this.then((t=>{i=!1,o=t,e&&e()}),(t=>{i=!0,o=t,e&&e()})).then((()=>{i?n(o):t(o)}))}))}__init(){this._resolve=e=>{this._setResult(ia.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ia.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===ia.PENDING&&(Os(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ia.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===ia.RESOLVED&&e[1](this._value),this._state===ia.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function la(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return ra(new rr("Not adding Promise because buffer limit was reached."));const i=o();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new aa(((n,o)=>{let i=t.length;if(!i)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{sa(e).then((()=>{--i||(clearTimeout(s),n(!0))}),o)}))}))}}}function ca(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",o=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:o,relative:t[5]+n+o}}const da=["fatal","error","warning","log","info","debug"];function ua(e){return"warn"===e?"warning":da.includes(e)?e:"log"}function pa(){return Date.now()/1e3}const ma=function(){const{performance:e}=Fs;if(!e||!e.now)return pa;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ga(e,t=[]){return[e,t]}function ha(e,t){const[n,o]=e;return[n,[...o,t]]}function fa(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function _a(e,t){return(t||new TextEncoder).encode(e)}function va(e,t){const[n,o]=e;let i=JSON.stringify(n);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[_a(i,t),e]:i.push("string"==typeof e?_a(e,t):e)}for(const e of o){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(ta(n))}s(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let o=0;for(const t of e)n.set(t,o),o+=t.length;return n}(i)}function wa(e,t){const n="string"==typeof e.data?_a(e.data,t):e.data;return[gr({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(()=>{const{performance:e}=Fs;if(!e||!e.now)return;const t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=i<t,r=e.timing&&e.timing.navigationStart,a="number"==typeof r?Math.abs(r+n-o):t;(s||a<t)&&(i<=a&&e.timeOrigin)})();const Ta={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ba(e){return Ta[e]}function ya(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ea(e,{statusCode:t,headers:n},o=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],r=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n,,,s]=e.split(":",5),r=parseInt(t,10),a=1e3*(isNaN(r)?60:r);if(n)for(const e of n.split(";"))"metric_bucket"===e&&s&&!s.split(";").includes("custom")||(i[e]=o+a);else i.all=o+a}else r?i.all=o+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${e}`);return isNaN(o)?6e4:o-t}(r,o):429===t&&(i.all=o+6e4);return i}const $a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xa="production";function Sa(){return Vs("globalEventProcessors",(()=>[]))}function Ca(e){Sa().push(e)}function La(e,t,n,o=0){return new aa(((i,s)=>{const r=e[o];if(null===t||"function"!=typeof r)i(t);else{const a=r({...t},n);$a&&r.id&&null===a&&tr.log(`Event processor "${r.id}" dropped event`),Os(a)?a.then((t=>La(e,t,n,o+1).then(i))).then(null,s):La(e,a,n,o+1).then(i).then(null,s)}}))}function ka(e){const t=ma(),n={sid:Sr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return gr({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return Aa(n,e),n}function Aa(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ma(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Sr()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ia(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:i,parent_span_id:s,status:r,tags:a,origin:l}=Ma(e);return gr({data:o,op:i,parent_span_id:s,span_id:t,status:r,tags:a,trace_id:n,origin:l})}function Ma(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function Oa(e,t,n,o,i,s){const{normalizeDepth:r=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Sr(),timestamp:t.timestamp||pa()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:xa);void 0===e.release&&void 0!==o&&(e.release=o);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=Ds(e.message,s));const r=e.exception&&e.exception.values&&e.exception.values[0];r&&r.value&&(r.value=Ds(r.value,s));const a=e.request;a&&a.url&&(a.url=Ds(a.url,s))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=Fs._sentryDebugIds;if(!n)return;let o;const i=Na.get(t);i?o=i:(o=new Map,Na.set(t,o));const s=Object.keys(n).reduce(((e,i)=>{let s;const r=o.get(i);r?s=r:(s=t(i),o.set(i,s));for(let t=s.length-1;t>=0;t--){const o=s[t];if(o.filename){e[o.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=s[e.filename])}))}))}catch(e){}}(l,e.stackParser);const d=function(e,t){if(!t)return e;const n=e?e.clone():new Fa;return n.update(t),n}(o,n.captureContext);n.mechanism&&Ar(l,n.mechanism);const u=i&&i.getEventProcessors?i.getEventProcessors():[],p=function(){ja||(ja=new Fa);return ja}().getScopeData();if(s){za(p,s.getScopeData())}if(d){za(p,d.getScopeData())}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),Wa(l,p);return La([...u,...Sa(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof r&&r>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:ta(e.data,t,n)}})))},...e.user&&{user:ta(e.user,t,n)},...e.contexts&&{contexts:ta(e.contexts,t,n)},...e.extra&&{extra:ta(e.extra,t,n)}};e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=ta(e.contexts.trace.data,t,n)));e.spans&&(o.spans=e.spans.map((e=>{const o=Ma(e).data;return o&&(e.data=ta(o,t,n)),e})));return o}(e,r,a):e)))}const Na=new WeakMap;function Ra(e,t){return Ja().captureEvent(e,t)}function Da(e,t){Ja().addBreadcrumb(e,t)}function Pa(){return Ja().getClient()}function Ua(e){return e.transaction}function Ga(e,t,n){const o=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},r=gr({environment:o.environment||xa,release:o.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",r),r}function Ba(e){const t=Pa();if(!t)return{};const n=Ga(Ma(e).trace_id||"",t,Ja().getScope()),o=Ua(e);if(!o)return n;const i=o&&o._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:r}=o.metadata;null!=s&&(n.sample_rate=`${s}`);const a=Ma(o);return r&&"url"!==r&&(n.transaction=a.description),n.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}(o)),t.emit&&t.emit("createDsc",n),n}function Wa(e,t){const{fingerprint:n,span:o,breadcrumbs:i,sdkProcessingMetadata:s}=t;!function(e,t){const{extra:n,tags:o,user:i,contexts:s,level:r,transactionName:a}=t,l=gr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=gr(o);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=gr(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const u=gr(s);u&&Object.keys(u).length&&(e.contexts={...u,...e.contexts});r&&(e.level=r);a&&(e.transaction=a)}(e,t),o&&function(e,t){e.contexts={trace:Ia(t),...e.contexts};const n=Ua(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ba(t),...e.sdkProcessingMetadata};const o=Ma(n).description;o&&(e.tags={transaction:o,...e.tags})}}(e,o),function(e,t){e.fingerprint=e.fingerprint?function(e){return Array.isArray(e)?e:[e]}(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,s)}function za(e,t){const{extra:n,tags:o,user:i,contexts:s,level:r,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:m,span:g}=t;Ha(e,"extra",n),Ha(e,"tags",o),Ha(e,"user",i),Ha(e,"contexts",s),Ha(e,"sdkProcessingMetadata",a),r&&(e.level=r),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext={...e.propagationContext,...p}}function Ha(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[t][o]=n[o])}}let ja;class Fa{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=qa()}static clone(e){return e?e.clone():new Fa}clone(){const e=new Fa;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Aa(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Fa){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Is(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=qa(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:pa(),...e},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:o,_extra:i,_user:s,_level:r,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:d,_transactionName:u,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:o,extra:i,user:s,level:r,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:d,transactionName:u,span:p}}applyToEvent(e,t={},n=[]){Wa(e,this.getScopeData());return La([...n,...Sa(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Sr();if(!this._client)return tr.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:Sr();if(!this._client)return tr.warn("No client configured on scope - will not capture message!"),o;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Sr();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(tr.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function qa(){return{traceId:Sr(),spanId:Sr().substring(16)}}const Va="7.120.3",Za=parseFloat(Va),Ya=100;class Xa{constructor(e,t,n,o=Za){let i,s;this._version=o,t?i=t:(i=new Fa,i.setClient(e)),n?s=n:(s=new Fa,s.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return Os(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Sr(),o=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:o,...t,event_id:n}),n}captureMessage(e,t,n){const o=this._lastEventId=n&&n.event_id?n.event_id:Sr(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o}),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Sr();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Ya}=o.getOptions&&o.getOptions()||{};if(s<=0)return;const r={timestamp:pa(),...e},a=i?er((()=>i(r,t))):r;null!==a&&(o.emit&&o.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Qa(this);try{e(this)}finally{Qa(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return $a&&tr.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if($a&&!n){this.getClient()?tr.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):tr.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),Aa(e,t)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:o,environment:i=xa}=n&&n.getOptions()||{},{userAgent:s}=Fs.navigator||{},r=ka({release:o,environment:i,user:t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&Aa(a,{status:"exited"}),this.endSession(),t.setSession(r),r}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Ka().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);$a&&tr.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ka(){return Fs.__SENTRY__=Fs.__SENTRY__||{extensions:{},hub:void 0},Fs}function Qa(e){const t=Ka(),n=el(t);return tl(t,e),n}function Ja(){const e=Ka();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Ka()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!el(e).isOlderThan(Za)||tl(e,new Xa);var t;return el(e)}(e)}function el(e){return Vs("hub",(()=>new Xa),e)}function tl(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function nl(e,t,n,o){const i=ya(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const r=function(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:or(o)},...i&&{trace:gr({...i})}}}(e,i,o,t);delete e.sdkProcessingMetadata;return ga(r,[[{type:s},e]])}function ol(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}const il=[];function sl(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function rl(e,t,n){if(n[t.name])$a&&tr.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===il.indexOf(t.name)&&(t.setupOnce(Ca,Ja),il.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,o)=>n(t,o,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),o=Object.assign(((t,o)=>n(t,o,e)),{id:t.name});e.addEventProcessor(o)}$a&&tr.log(`Integration installed: ${t.name}`)}}function al(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function ll(e,t,n,o){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(i.dsn=or(t));const s=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),o=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return ga(i,[s])}const cl="Not capturing exception because it's already been captured.";class dl{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=sr(e.dsn):$a&&tr.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,o="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${ol(e,o)}`}(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Ir(e))return void($a&&tr.log(cl));let o=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{o=e}))),o}captureMessage(e,t,n,o){let i=n&&n.event_id;const s=ks(e)?e:String(e),r=As(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(r.then((e=>this._captureEvent(e,n,o))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&Ir(t.originalException))return void($a&&tr.log(cl));let o=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{o=e}))),o}captureSession(e){"string"!=typeof e.release?$a&&tr.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Aa(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):sa(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return $a&&tr.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];rl(this,e,this._integrations),t||sl(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=nl(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=ha(n,wa(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const i=ya(n);return ga({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!o&&t&&{dsn:or(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const o="number"==typeof n?n:1,i=`${e}:${t}`;$a&&tr.log(`Recording outcome: "${i}"${o>1?` (${o} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+o}}captureAggregateMetrics(e){$a&&tr.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=ll(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&rl(e,t,n)})),n}(this,e),sl(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,o=!1;const i=t.exception&&t.exception.values;if(i){o=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(Aa(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new aa((t=>{let n=0;const o=setInterval((()=>{0==this._numProcessing?(clearInterval(o),t(!0)):(n+=1,e&&n>=e&&(clearInterval(o),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=function(){return Ja().getIsolationScope()}()){const i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),Oa(i,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:o,spanId:i,parentSpanId:s,dsc:r}=t;e.contexts={trace:{trace_id:o,span_id:i,parent_span_id:s},...e.contexts};const a=r||Ga(o,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if($a){const t=e;"log"===t.logLevel?tr.log(t.message):tr.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:i}=o,s=pl(e),r=ul(e),a=e.type||"error",l=`before send for type \`${a}\``;if(r&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ra(new rr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===a?"replay":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new rr("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:o,beforeSendTransaction:i}=e;if(ul(t)&&o)return o(t,n);if(pl(t)&&i){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(t,n)}return t}(o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Os(e))return e.then((e=>{if(!Is(e)&&null!==e)throw new rr(n);return e}),(e=>{throw new rr(`${t} rejected with ${e}`)}));if(!Is(e)&&null!==e)throw new rr(n);return e}(i,l)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",c,e),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new rr(`${l} returned \`null\`, will not send event.`,"log")}const i=n&&n.getSession();if(!s&&i&&this._updateSessionFromEvent(i,o),s){const e=(o.sdkProcessingMetadata&&o.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const r=o.transaction_info;if(s&&r&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...r,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof rr)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new rr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{$a&&tr.error("Error while sending event:",e)}));$a&&tr.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,o]=t.split(":");return{reason:n,category:o,quantity:e[t]}}))}}function ul(e){return void 0===e.type}function pl(e){return"transaction"===e.type}function ml(e,t,n=la(e.bufferSize||30)){let o={};function i(i){const s=[];if(fa(i,((t,n)=>{const i=ba(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(o,i)){const o=gl(t,n);e.recordDroppedEvent("ratelimit_backoff",i,o)}else s.push(t)})),0===s.length)return sa();const r=ga(i[0],s),a=t=>{fa(r,((n,o)=>{const i=gl(n,o);e.recordDroppedEvent(t,ba(o),i)}))};return n.add((()=>t({body:va(r,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&$a&&tr.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),o=Ea(o,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof rr)return $a&&tr.error("Skipped sending event because buffer is full."),a("queue_overflow"),sa();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function gl(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const hl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],fl=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],_l="InboundFilters",vl=(e={})=>({name:_l,setupOnce(){},processEvent(t,n,o){const i=o.getOptions(),s=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:hl],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:fl],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return $a&&tr.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Lr(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));$a&&0===t.length&&tr.error(`Could not extract message for event ${Lr(e)}`);return t}(e).some((e=>Gs(e,t)))}(e,t.ignoreErrors))return $a&&tr.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Lr(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Gs(n,t)}(e,t.ignoreTransactions))return $a&&tr.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Lr(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=wl(e);return!!n&&Gs(n,t)}(e,t.denyUrls))return $a&&tr.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Lr(e)}.\nUrl: ${wl(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=wl(e);return!n||Gs(n,t)}(e,t.allowUrls))return $a&&tr.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Lr(e)}.\nUrl: ${wl(e)}`),!0;return!1}(t,s)?null:t}});function wl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return $a&&tr.error(`Cannot extract url for event ${Lr(e)}`),null}}let Tl;al(_l,vl);const bl="FunctionToString",yl=new WeakMap,El=()=>({name:bl,setupOnce(){Tl=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=dr(this),n=yl.has(Pa())&&void 0!==t?t:this;return Tl.apply(n,e)}}catch(e){}},setup(e){yl.set(e,!0)}});al(bl,El);const $l=Fs;let xl=0;function Sl(){return xl>0}function Cl(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(dr(e))return e}catch(t){return e}const o=function(){const n=Array.prototype.slice.call(arguments);try{const o=n.map((e=>Cl(e,t)));return e.apply(this,o)}catch(e){throw xl++,setTimeout((()=>{xl--})),function(...e){const t=Ja();if(2===e.length){const[n,o]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,o(n)))):t.withScope(o)}t.withScope(e[0])}((o=>{var i;o.addEventProcessor((e=>(t.mechanism&&(kr(e,void 0),Ar(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,Ja().captureException(i,void 0)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(e){}cr(o,e),lr(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}const Ll="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function kl(e,t){const n=Il(e,t),o={type:t&&t.name,value:Ol(t)};return n.length&&(o.stacktrace={frames:n}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function Al(e,t){return{exception:{values:[kl(e,t)]}}}function Il(e,t){const n=t.stacktrace||t.stack||"",o=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Ml.test(e.message))return 1}return 0}(t);try{return e(n,o)}catch(e){}return[]}const Ml=/Minified React error #\d+;/i;function Ol(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Nl(e,t,n,o,i){let s;if(Ss(t)&&t.error){return Al(e,t.error)}if(Cs(t)||xs(t,"DOMException")){const i=t;if("stack"in t)s=Al(e,t);else{const t=i.name||(Cs(i)?"DOMError":"DOMException"),r=i.message?`${t}: ${i.message}`:t;s=Rl(e,r,n,o),kr(s,r)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}if($s(t))return Al(e,t);if(Is(t)||Ms(t)){return s=function(e,t,n,o){const i=Pa(),s=i&&i.getOptions().normalizeDepth,r={exception:{values:[{type:Ms(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:Dl(t,{isUnhandledRejection:o})}]},extra:{__serialized__:na(t,s)}};if(n){const t=Il(e,n);t.length&&(r.exception.values[0].stacktrace={frames:t})}return r}(e,t,n,i),Ar(s,{synthetic:!0}),s}return s=Rl(e,t,n,o),kr(s,`${t}`),Ar(s,{synthetic:!0}),s}function Rl(e,t,n,o){const i={};if(o&&n){const o=Il(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(ks(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Dl(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(ur(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ds(n[0],t);for(let e=n.length;e>0;e--){const o=n.slice(0,e).join(", ");if(!(o.length>t))return e===n.length?o:Ds(o,t)}return""}(e),o=t?"promise rejection":"exception";if(Ss(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(Ms(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${n}`}class Pl extends dl{constructor(e){!function(e,t,n=[t],o="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:Va}))),version:Va}),e._metadata=i}(e,"browser",["browser"],$l.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&$l.document&&$l.document.addEventListener("visibilitychange",(()=>{"hidden"===$l.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,o){const i=Nl(e,t,n&&n.syntheticException||void 0,o);return Ar(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),sa(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",o,i){const s=Rl(e,t,o&&o.syntheticException||void 0,i);return s.level=n,o&&o.event_id&&(s.event_id=o.event_id),sa(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Ll&&tr.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:o}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:or(o)}},s=function(e){return[{type:"user_report"},e]}(e);return ga(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(Ll&&tr.log("No outcomes to send"));if(!this._dsn)return void(Ll&&tr.log("No dsn provided, will not send outcomes"));Ll&&tr.log("Sending outcomes:",e);const t=(n=e,ga((o=this._options.tunnel&&or(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:pa(),discarded_events:n}]]));var n,o;this._sendEnvelope(t)}}let Ul;function Gl(e,t=function(){if(Ul)return Ul;if(Gr($l.fetch))return Ul=$l.fetch.bind($l);const e=$l.document;let t=$l.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const o=n.contentWindow;o&&o.fetch&&(t=o.fetch),e.head.removeChild(n)}catch(e){Ll&&tr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Ul=t.bind($l)}()){let n=0,o=0;return ml(e,(function(i){const s=i.body.length;n+=s,o++;const r={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};try{return t(e.url,r).then((e=>(n-=s,o--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Ul=void 0,n-=s,o--,ra(e)}}))}const Bl="?";function Wl(e,t,n,o){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==o&&(i.colno=o),i}const zl=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hl=/\((\S*)(?::(\d+))(?::(\d+))\)/,jl=[30,e=>{const t=zl.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Hl.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Xl(t[1]||Bl,t[2]);return Wl(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Fl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ql=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Vl=[50,e=>{const t=Fl.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=ql.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Bl;return[n,e]=Xl(n,e),Wl(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Zl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Yl=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[],i=e.split("\n");for(let e=n;e<i.length;e++){const n=i[e];if(n.length>1024)continue;const s=fr.test(n)?n.replace(fr,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){o.push(t);break}}if(o.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),_r.test(t[t.length-1].function||"")&&(t.pop(),_r.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(o)}}(...[jl,Vl,[40,e=>{const t=Zl.exec(e);return t?Wl(t[2],t[1]||Bl,+t[3],t[4]?+t[4]:void 0):void 0}]]),Xl=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:Bl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Kl=1024,Ql="Breadcrumbs",Jl=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ql,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";yr(t,e),Er(t,xr)}(function(e){return function(t){if(Pa()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:ua(t.level),message:Ps(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Ps(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Da(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(Pa()!==e)return;let o,i,s="object"==typeof t?t.serializeAttribute:void 0,r="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;r&&r>Kl&&(Ll&&tr.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${r} was configured. Sentry will use 1024 instead.`),r=Kl),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;o=Ys(t,{keyAttrs:s,maxStringLength:r}),i=function(e){if(!Zs.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(t)}catch(e){o="<unknown>"}if(0===o.length)return;const a={category:`ui.${n.name}`,message:o};i&&(a.data={"ui.component_name":i}),Da(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),yr("dom",n),Er("dom",Dr)),t.xhr&&function(e){yr("xhr",e),Er("xhr",ea)}(function(e){return function(t){if(Pa()!==e)return;const{startTimestamp:n,endTimestamp:o}=t,i=t.xhr[Jr];if(!n||!o||!i)return;const{method:s,url:r,status_code:a,body:l}=i;Da({category:"xhr",data:{method:s,url:r,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:o})}}(e)),t.fetch&&function(e){const t="fetch";yr(t,e),Er(t,Wr)}(function(e){return function(t){if(Pa()!==e)return;const{startTimestamp:n,endTimestamp:o}=t;if(o&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Da({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:o})}else{const e=t.response;Da({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:o})}}}(e)),t.history&&function(e){const t="history";yr(t,e),Er(t,Kr)}(function(e){return function(t){if(Pa()!==e)return;let n=t.from,o=t.to;const i=ca($l.location.href);let s=n?ca(n):void 0;const r=ca(o);s&&s.path||(s=i),i.protocol===r.protocol&&i.host===r.host&&(o=r.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),Da({category:"navigation",data:{from:n,to:o}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Pa()===e&&Da({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Lr(t)},{event:t})}}(e))}}};al(Ql,Jl);const ec="Dedupe",tc=()=>{let e;return{name:ec,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,o=t.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!oc(e,t))return!1;if(!nc(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=ic(t),o=ic(e);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!oc(e,t))return!1;if(!nc(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Ll&&tr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function nc(e,t){let n=sc(e),o=sc(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function oc(e,t){let n=e.fingerprint,o=t.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(e){return!1}}function ic(e){return e.exception&&e.exception.values&&e.exception.values[0]}function sc(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}al(ec,tc);const rc="GlobalHandlers",ac=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:rc,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";yr(t,e),Er(t,Fr)}((t=>{const{stackParser:n,attachStacktrace:o}=dc();if(Pa()!==e||Sl())return;const{msg:i,url:s,line:r,column:a,error:l}=t,c=void 0===l&&Ls(i)?function(e,t,n,o){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Ss(e)?e.message:e,r="Error";const a=s.match(i);a&&(r=a[1],s=a[2]);const l={exception:{values:[{type:r,value:s}]}};return lc(l,t,n,o)}(i,s,r,a):lc(Nl(n,l||i,void 0,o,!1),s,r,a);c.level="error",Ra(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),cc("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";yr(t,e),Er(t,Vr)}((t=>{const{stackParser:n,attachStacktrace:o}=dc();if(Pa()!==e||Sl())return;const i=function(e){if(As(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),s=As(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Nl(n,i,void 0,o,!0);s.level="error",Ra(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),cc("onunhandledrejection"))}}};function lc(e,t,n,o){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{},a=r.stacktrace=r.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(o,10))?void 0:o,d=isNaN(parseInt(n,10))?void 0:n,u=Ls(t)&&t.length>0?t:function(){try{return Zs.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:u,function:"?",in_app:!0,lineno:d}),e}function cc(e){Ll&&tr.log(`Global Handler attached: ${e}`)}function dc(){const e=Pa();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}al(rc,ac);const uc="HttpContext",pc=()=>({name:uc,setupOnce(){},preprocessEvent(e){if(!$l.navigator&&!$l.location&&!$l.document)return;const t=e.request&&e.request.url||$l.location&&$l.location.href,{referrer:n}=$l.document||{},{userAgent:o}=$l.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},s={...e.request,...t&&{url:t},headers:i};e.request=s}});al(uc,pc);const mc="LinkedErrors",gc=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:mc,setupOnce(){},preprocessEvent(e,o,i){const s=i.getOptions();Bs(kl,s.stackParser,s.maxValueLength,n,t,e,o)}}};al(mc,gc);const hc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fc="TryCatch",_c=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:fc,setupOnce(){t.setTimeout&&ar($l,"setTimeout",vc),t.setInterval&&ar($l,"setInterval",vc),t.requestAnimationFrame&&ar($l,"requestAnimationFrame",wc),t.XMLHttpRequest&&"XMLHttpRequest"in $l&&ar(XMLHttpRequest.prototype,"send",Tc);const e=t.eventTarget;if(e){(Array.isArray(e)?e:hc).forEach(bc)}}}};function vc(e){return function(...t){const n=t[0];return t[0]=Cl(n,{mechanism:{data:{function:wr(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function wc(e){return function(t){return e.apply(this,[Cl(t,{mechanism:{data:{function:"requestAnimationFrame",handler:wr(e)},handled:!1,type:"instrument"}})])}}function Tc(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&ar(n,e,(function(t){const n={mechanism:{data:{function:e,handler:wr(t)},handled:!1,type:"instrument"}},o=dr(t);return o&&(n.mechanism.data.handler=wr(o)),Cl(t,n)}))})),e.apply(this,t)}}function bc(e){const t=$l,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ar(n,"addEventListener",(function(t){return function(n,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=Cl(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:wr(o),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Cl(o,{mechanism:{data:{function:"addEventListener",handler:wr(o),target:e},handled:!1,type:"instrument"}}),i])}})),ar(n,"removeEventListener",(function(e){return function(t,n,o){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,o)}catch(e){}return e.call(this,t,i,o)}})))}al(fc,_c);const yc=[vl(),El(),_c(),Jl(),ac(),gc(),tc(),pc()];function Ec(){}const $c=e=>e;function xc(e){return e()}function Sc(){return Object.create(null)}function Cc(e){e.forEach(xc)}function Lc(e){return"function"==typeof e}function kc(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function Ac(e,...t){if(null==e){for(const e of t)e(void 0);return Ec}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ic(e,t,n){e.$$.on_destroy.push(Ac(t,n))}function Mc(e,t,n,o){if(e){const i=Oc(e,t,n,o);return e[0](i)}}function Oc(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function Nc(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function Rc(e,t,n,o,i,s){if(i){const r=Oc(t,n,o,s);e.p(r,i)}}function Dc(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Pc(e){return null==e?"":e}function Uc(e,t,n){return e.set(n),t}function Gc(e){return e&&Lc(e.destroy)?e.destroy:Ec}function Bc(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Wc="undefined"!=typeof window;let zc=Wc?()=>window.performance.now():()=>Date.now(),Hc=Wc?e=>requestAnimationFrame(e):Ec;const jc=new Set;function Fc(e){jc.forEach((t=>{t.c(e)||(jc.delete(t),t.f())})),0!==jc.size&&Hc(Fc)}function qc(e){let t;return 0===jc.size&&Hc(Fc),{promise:new Promise((n=>{jc.add(t={c:e,f:n})})),abort(){jc.delete(t)}}}function Vc(e,t){e.appendChild(t)}function Zc(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Yc(e){const t=Jc("style");return t.textContent="/* empty */",function(e,t){Vc(e.head||e,t),t.sheet}(Zc(e),t),t.sheet}function Xc(e,t,n){e.insertBefore(t,n||null)}function Kc(e){e.parentNode&&e.parentNode.removeChild(e)}function Qc(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Jc(e){return document.createElement(e)}function ed(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function td(e){return document.createTextNode(e)}function nd(){return td(" ")}function od(){return td("")}function id(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function sd(e){return function(t){return t.preventDefault(),e.call(this,t)}}function rd(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ad(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ld(e,t){t=""+t,e.data!==t&&(e.data=t)}function cd(e,t){e.value=null==t?"":t}function dd(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function ud(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}let pd;function md(){if(void 0===pd){pd=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){pd=!0}}return pd}function gd(e,t,n){e.classList.toggle(t,!!n)}function hd(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}class fd{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=ed(t.nodeName):this.e=Jc(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)Xc(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Kc)}}function _d(e,t){return new e(t)}const vd=new Map;let wd,Td=0;function bd(e,t,n,o,i,s,r,a=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*s(e);c+=100*e+`%{${r(o,1-o)}}\n`}const d=c+`100% {${r(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`,p=Zc(e),{stylesheet:m,rules:g}=vd.get(p)||function(e,t){const n={stylesheet:Yc(t),rules:{}};return vd.set(e,n),n}(p,e);g[u]||(g[u]=!0,m.insertRule(`@keyframes ${u} ${d}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,Td+=1,u}function yd(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),Td-=i,Td||Hc((()=>{Td||(vd.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&Kc(t)})),vd.clear())})))}function Ed(e){wd=e}function $d(){if(!wd)throw new Error("Function called outside component initialization");return wd}function xd(e){$d().$$.on_mount.push(e)}function Sd(e){$d().$$.on_destroy.push(e)}function Cd(){const e=$d();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=hd(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function Ld(e,t){return $d().$$.context.set(e,t),t}function kd(e){return $d().$$.context.get(e)}function Ad(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Id=[],Md=[];let Od=[];const Nd=[],Rd=Promise.resolve();let Dd=!1;function Pd(){Dd||(Dd=!0,Rd.then(Hd))}function Ud(e){Od.push(e)}function Gd(e){Nd.push(e)}const Bd=new Set;let Wd,zd=0;function Hd(){if(0!==zd)return;const e=wd;do{try{for(;zd<Id.length;){const e=Id[zd];zd++,Ed(e),jd(e.$$)}}catch(e){throw Id.length=0,zd=0,e}for(Ed(null),Id.length=0,zd=0;Md.length;)Md.pop()();for(let e=0;e<Od.length;e+=1){const t=Od[e];Bd.has(t)||(Bd.add(t),t())}Od.length=0}while(Id.length);for(;Nd.length;)Nd.pop()();Dd=!1,Bd.clear(),Ed(e)}function jd(e){if(null!==e.fragment){e.update(),Cc(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ud)}}function Fd(){return Wd||(Wd=Promise.resolve(),Wd.then((()=>{Wd=null}))),Wd}function qd(e,t,n){e.dispatchEvent(hd(`${t?"intro":"outro"}${n}`))}const Vd=new Set;let Zd;function Yd(){Zd={r:0,c:[],p:Zd}}function Xd(){Zd.r||Cc(Zd.c),Zd=Zd.p}function Kd(e,t){e&&e.i&&(Vd.delete(e),e.i(t))}function Qd(e,t,n,o){if(e&&e.o){if(Vd.has(e))return;Vd.add(e),Zd.c.push((()=>{Vd.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const Jd={duration:0};function eu(e,t,n){const o={direction:"in"};let i,s,r=t(e,n,o),a=!1,l=0;function c(){i&&yd(e,i)}function d(){const{delay:t=0,duration:n=300,easing:o=$c,tick:d=Ec,css:u}=r||Jd;u&&(i=bd(e,0,1,n,t,o,u,l++)),d(0,1);const p=zc()+t,m=p+n;s&&s.abort(),a=!0,Ud((()=>qd(e,!0,"start"))),s=qc((t=>{if(a){if(t>=m)return d(1,0),qd(e,!0,"end"),c(),a=!1;if(t>=p){const e=o((t-p)/n);d(e,1-e)}}return a}))}let u=!1;return{start(){u||(u=!0,yd(e),Lc(r)?(r=r(o),Fd().then(d)):d())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function tu(e,t,n){const o={direction:"out"};let i,s=t(e,n,o),r=!0;const a=Zd;let l;function c(){const{delay:t=0,duration:n=300,easing:o=$c,tick:c=Ec,css:d}=s||Jd;d&&(i=bd(e,1,0,n,t,o,d));const u=zc()+t,p=u+n;Ud((()=>qd(e,!1,"start"))),"inert"in e&&(l=e.inert,e.inert=!0),qc((t=>{if(r){if(t>=p)return c(0,1),qd(e,!1,"end"),--a.r||Cc(a.c),!1;if(t>=u){const e=o((t-u)/n);c(1-e,e)}}return r}))}return a.r+=1,Lc(s)?Fd().then((()=>{s=s(o),c()})):c(),{end(t){t&&"inert"in e&&(e.inert=l),t&&s.tick&&s.tick(1,0),r&&(i&&yd(e,i),r=!1)}}}function nu(e,t,n,o){let i,s=t(e,n,{direction:"both"}),r=o?0:1,a=null,l=null,c=null;function d(){c&&yd(e,c)}function u(e,t){const n=e.b-r;return t*=Math.abs(n),{a:r,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(t){const{delay:n=0,duration:o=300,easing:p=$c,tick:m=Ec,css:g}=s||Jd,h={start:zc()+n,b:t};t||(h.group=Zd,Zd.r+=1),"inert"in e&&(t?void 0!==i&&(e.inert=i):(i=e.inert,e.inert=!0)),a||l?l=h:(g&&(d(),c=bd(e,r,t,o,n,p,g)),t&&m(0,1),a=u(h,o),Ud((()=>qd(e,t,"start"))),qc((t=>{if(l&&t>l.start&&(a=u(l,o),l=null,qd(e,a.b,"start"),g&&(d(),c=bd(e,r,a.b,a.duration,0,p,s.css))),a)if(t>=a.end)m(r=a.b,1-r),qd(e,a.b,"end"),l||(a.b?d():--a.group.r||Cc(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;r=a.a+a.d*p(e/a.duration),m(r,1-r)}return!(!a&&!l)})))}return{run(e){Lc(s)?Fd().then((()=>{s=s({direction:e?"in":"out"}),p(e)})):p(e)},end(){d(),a=l=null}}}function ou(e){return void 0!==e?.length?e:Array.from(e)}function iu(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function su(e){e&&e.c()}function ru(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),Ud((()=>{const t=e.$$.on_mount.map(xc).filter(Lc);e.$$.on_destroy?e.$$.on_destroy.push(...t):Cc(t),e.$$.on_mount=[]})),i.forEach(Ud)}function au(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Od.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),Od=t}(n.after_update),Cc(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function lu(e,t,n,o,i,s,r=null,a=[-1]){const l=wd;Ed(e);const c=e.$$={fragment:null,ctx:[],props:s,update:Ec,not_equal:i,bound:Sc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Sc(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&(Id.push(e),Pd(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,Cc(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(Kc)}else c.fragment&&c.fragment.c();t.intro&&Kd(e.$$.fragment),ru(e,t.target,t.anchor),Hd()}Ed(l)}class cu{$$=void 0;$$set=void 0;$destroy(){au(this,1),this.$destroy=Ec}$on(e,t){if(!Lc(t))return Ec;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const du=[];function uu(e,t=Ec){let n;const o=new Set;function i(t){if(kc(e,t)&&(e=t,n)){const t=!du.length;for(const t of o)t[1](),du.push(t,e);if(t){for(let e=0;e<du.length;e+=2)du[e][0](du[e+1]);du.length=0}}}function s(t){i(t(e))}return{set:i,update:s,subscribe:function(r,a=Ec){const l=[r,a];return o.add(l),1===o.size&&(n=t(i,s)||Ec),r(e),()=>{o.delete(l),0===o.size&&n&&(n(),n=null)}}}}const pu={idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger"},mu={activeTermbaseId:"activeTermbaseId",isGlossaryEnabled:"isGlossaryEnabled",hasTermbaseService:"hasTermbaseService"};const gu=function(){const{subscribe:e,set:t,update:n}=uu({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",pu.translatorServiceType,pu.writeServiceType,pu.apiServiceType,pu.docTranslatorServiceType,"browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t",pu.accountId];let o={};for(const[n,i]of Object.entries(e))!1===t.includes(n)&&(o[n]=i.newValue);if(bs()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}return n((e=>Object.assign(Object.assign({},e),o))),!0})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),hu=function(){const{subscribe:e,update:t}=uu({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})})));break;case"resetWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)})))}return!0})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}();!function(e,t,n){const o=!Array.isArray(e),i=o?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return r=(e,n)=>{let r=!1;const a=[];let l=0,c=Ec;const d=()=>{if(l)return;c();const i=t(o?a[0]:a,e,n);s?e(i):c=Lc(i)?i:Ec},u=i.map(((e,t)=>Ac(e,(e=>{a[t]=e,l&=~(1<<t),r&&d()}),(()=>{l|=1<<t}))));return r=!0,d(),function(){Cc(u),c(),r=!1}},{subscribe:uu(n,r).subscribe};var r}(hu,((e,n)=>t(void 0,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});n(e[t[0].id])})))),function(){const{subscribe:e,set:t}=uu([]);Xn({action:Vn.dlGetExperiments,payload:{forceFetch:!1}}),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments);return!0}))}();const fu=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((t=>t.test(e))),_u={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.42.0",environment:Ts(),tracesSampleRate:ys()?.1:1,sampleRate:ys()?.1:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return fu(t)?null:(bs()&&console.error(e),e)}};function vu(e,t){t.captureException(e)}const wu="NETWORK_ERROR",Tu="PROTOCOL_ERROR",bu="NETWORK_ERROR",yu="FULL_PAGE_SERVER_ERROR",Eu="-32003",$u="429",xu="403",Su="1045601",Cu="1042902",Lu="ENTRY_NOT_FOUND",ku="TRANSLATED_INPUT_NOT_SET",Au="HTML_NODE_CHAR_LENGTH_TOO_LONG",Iu="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",Mu="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",Ou="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",Nu="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",Ru="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED",Du="LOGIN_REQUIRED";class Pu extends Error{constructor(e,t){super(t),this.name=Iu,this.limit=e,this.message=t}}class Uu extends Error{constructor(e,t){super(t),this.name=Mu,this.limit=e,this.message=t}}class Gu extends Error{constructor(e,t){super(t),this.name=Nu,this.limit=e,this.message=t}}class Bu extends Error{constructor(e,t){super(t),this.name=Ru,this.limit=e,this.message=t}}function Wu(e){let t;return{c(){t=Jc("div"),ad(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");function zu(e,t,n){let o,i,s,r;Ic(e,gu,(e=>n(1,o=e))),Ld("text_direction",es());const a=()=>{const e=window.location.pathname,t=C_(e);if(t){const e=L_();if(!e)return;const n=k_(e)||A_(e,t);let o=!1;if(r?.id!==t){const i=n.getTicketLanguageInformation();o=e.id===r?.paneId||!i?.hasAttemptedLanguageDetection,r={id:t,paneId:e.id}}n&&n.processRefreshUI(o)}},l=async e=>{if("dlChangeActiveTabStatus"===e.action)if(e.payload.isActive)c();else{if(!document.hidden)return;d()}return!0},c=()=>{i&&clearInterval(i),i=setInterval(a,800)},d=()=>{clearInterval(i)};xd((()=>{const e=o.zendeskSuccessfulTranslations>=Ft;n(0,s=o?.featureSet?.customizations?.includes("zendesk")),e&&!s&&Uc(gu,o.isZendeskEnabled=!1,o),u()}));const u=()=>{c(),chrome.runtime.onMessage.addListener(l)};return Sd((()=>{i&&d(),chrome.runtime.onMessage.removeListener(l),M_()})),e.$$.update=()=>{2&e.$$.dirty&&!o?.featureSet?.customizations?.includes("zendesk")&&o.zendeskSuccessfulTranslations>=Ft&&(Uc(gu,o.isZendeskEnabled=!1,o),O_()),3&e.$$.dirty&&!1===s&&o?.featureSet?.customizations?.includes("zendesk")&&(n(0,s=!0),Uc(gu,o.isZendeskEnabled=!0,o),c()),2&e.$$.dirty&&(o.isZendeskEnabled?c():O_())},[s,o]}class Hu extends cu{constructor(e){super(),lu(this,e,zu,Wu,kc,{})}}class ju{static HTML_TAG_NAME="deepl-zendesk-controller";static createElement=(e=document)=>{const t=e.createElement(ju.HTML_TAG_NAME),n=new ju(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t.getActiveTermbases=n.getActiveTermbases,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new Hu({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()};getActiveTermbases=()=>this.domElement.mainComponent.getActiveTermbases()}function Fu(e){const t=e-1;return t*t*t+1}function qu(e,{delay:t=0,duration:n=400,easing:o=$c}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function Vu(e,{delay:t=0,duration:n=400,easing:o=Fu,x:i=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-r),[u,p]=Bc(i),[m,g]=Bc(s);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*u}${p}, ${(1-e)*m}${g});\n\t\t\topacity: ${l-d*t}`}}function Zu(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)}function Yu(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function Xu(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,r]=Yu(e,t,o);if("end"===s&&(i=!0),o<r&&n.push({block:"main",text:e.substring(o,r)}),i)break;const a=e.indexOf(`</${s}>`,r);-1===a?(n.push({block:s,text:e.substring(r+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(r+`<${s}>`.length,a)}),o=a+`</${s}>`.length)}return n}function Ku(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function Qu(e,t){const n=Ku(e),o=Ku(t),i=function(e,t){const n=(e,t)=>e===t,o=(()=>{let o=0;for(;n(e[o],t[o])&&o<e.length;)++o;return o})();if(o===e.length&&e.length===t.length)return[o];const i=(()=>{let i=e.length-1,s=t.length-1;for(;n(e[i],t[s])&&i>o&&s>o;)--i,--s;return e.length-i-1})(),s=e.length-o-i+1,r=t.length-o-i+1,a=s+r,l=new Map,c=new Map;l.set(1,0),c.set(1,null);for(let d=0;d<=a;++d)for(let a=-d;a<=d;a+=2){let u,p,m;for(a==-d||a!=d&&l.get(a-1)<l.get(a+1)?(u=l.get(a+1),m=[c.get(a+1),void 0,void 0]):(u=l.get(a-1)+1,m=[c.get(a-1),void 0,void 0]),p=u-a;u<s&&p<r&&n(e[u+o],t[p+o]);)++u,++p;if(u>=s&&p>=r){m[1]=s+i-1,m[2]=r+i-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let a=[],l=null;for(;n.length;){const o=n.pop(),i=o[0],s=o[1],r=i-e,c=s-t,d=Math.min(r,c);r>d&&(l?l[0]+=r-d:(l=[r-d,0],a.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],a.push(l))),d>0&&(a.push(d),l=null),e=i,t=s}return a[0]=a[0]-1+o,a}l.set(a,u),m[1]=u,m[2]=p,c.set(a,m)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let r=0,a=0,l=0;for(;r<i.length;){const e=i[r];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),r+=1,r<i.length){const[e,t]=i[r];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),r+=1,a+=e,l+=t}}return[s,n,o,i]}function Ju(e,t){let n=0;const o=function(e,t){const n=Qu(t,e),o=[];let i=0,s=0,r=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=r,c.originalLength=l.length,c.originalOffset=a,r+=t.length,a+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),r+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,s+=e}})),o}(e,t),i=[];for(let t of o){t.changeOffset>n&&i.push({isHighlighted:!1,text:e.substring(n,t.changeOffset)});const o=t.changeOffset+t.changeLength;i.push({isHighlighted:!0,text:e.substring(t.changeOffset,o)}),n=o}return n<e.length&&i.push({isHighlighted:!1,text:e.substring(n,e.length)}),i}const ep=e=>{let t="";for(const n of e.childNodes)n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&"none"!==n.style.display&&(t+=ep(n));return t};function tp(e){return"IFRAME"===e.nodeName.toUpperCase()?ip(e):e.ownerDocument===document?window:e.ownerDocument}function np(e){return e.ownerDocument===document?document:e.ownerDocument}function op(e){return"IFRAME"!==e.nodeName.toUpperCase()?e:ip(e).body}function ip(e){return e.contentDocument||e.contentWindow.document}function sp(e){if("IFRAME"===e.nodeName.toUpperCase())return window;if(e.ownerDocument!==document){const t=e?.ownerDocument?.defaultView?.frameElement?.contentWindow;if(t)return t}return window}function rp(e){return"IFRAME"===e.nodeName.toUpperCase()?ip(e):e.ownerDocument===document?document:e.ownerDocument}function ap(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{const n=np(e).createRange();n.selectNodeContents(op(e));const o=tp(e).getSelection();o.removeAllRanges(),o.addRange(n),t(o)}))}))}const lp=async(e,t)=>{await fs(10);const n=new ClipboardEvent("paste");n.clipboardData.setData("text/html",t.html),n.clipboardData.setData("text/plain",t.text),e.dispatchEvent(n),await fs(10)},cp=async(e,t)=>{await fs(10);const n=new ClipboardEvent("paste",{dataType:"text/html",data:t.html});e.dispatchEvent(n),await fs(10)},dp=async(e,t)=>{await fs(10);const n=new ClipboardEvent("paste",{dataType:"text/plain",data:t.text});e.dispatchEvent(n),await fs(10)},up=async(e,t)=>{await fs(10),document.execCommand("insertText",!1,t.text),await fs(10)},pp=async(e,t)=>{await fs(10),document.execCommand("insertHTML",!1,t.html),await fs(10)},mp=async(e,t)=>{const n=sp(e);await fs(10);const o=new DataTransfer;o.setData("text/html",t.html),o.setData("text/plain",t.text),e.dispatchEvent(new n.ClipboardEvent("paste",{clipboardData:o,bubbles:!0,cancelable:!0})),o.clearData(),await fs(10)},gp=async(e,t)=>{const n=rp(e),o=sp(e),i=n.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,o,t.text),e.dispatchEvent(i),await fs(10)},hp=async(e,t)=>{const n=rp(e);e.value&&e.select(),n.execCommand("insertHTML",!1,t.html),await fs(20),(e.value||""===e.value)&&(e.value=t.text)},fp=async(e,t,n)=>{const o=vo();n||e.focus();const i=op(e).innerText,s=op(e).value,r=[...o?[{method:lp,isSuccessful:()=>_p(i,e.innerText,t.text)},{method:cp,isSuccessful:()=>_p(i,e.innerText,t.text)},{method:dp,isSuccessful:()=>_p(i,e.innerText,t.text)},{method:up,isSuccessful:()=>_p(i,e.innerText,t.text)},{method:pp,isSuccessful:()=>_p(i,e.innerText,t.text)||_p(s,e.value,t.text)}]:[],{method:mp,isSuccessful:()=>_p(i,op(e).innerText,t.text)},{method:gp,isSuccessful:()=>_p(i,op(e).innerText,t.text)},{method:hp,isSuccessful:()=>_p(i,op(e).innerText,t.text)||_p(s,op(e).value,t.text)}];for(const n of r)if(o&&bs()&&console.log(`trying paste event: ${n.method.name}`),await n.method(e,t),n.isSuccessful())return void(o&&bs()&&console.log("attempt was successful: ",n.method.name));throw await fs(1e3),Xn({action:jn.dlTranslatedInputTextNotSet,payload:window.location.hostname}),new Error({error:ku})},_p=(e,t,n)=>{let o=!0;return(e&&!t||!Zu(e,n)&&e===t||!Zu(t,n))&&(o=!1),o},vp=(e,t)=>{const n=new(sp(t).KeyboardEvent)(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},wp=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)};function Tp(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const i=t?o.composedPath()[0]:o.target;!e||e.contains(i)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(i,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function bp(e){document.addEventListener("deepl-reset-event",e)}function yp(e){let t,n;const o=e[12].default,i=Mc(o,e,e[11],null);return{c(){t=Jc("div"),i&&i.c()},m(e,o){Xc(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||2048&t)&&Rc(i,o,e,e[11],n?Nc(o,e[11],t,null):Dc(e[11]),null)},i(e){n||(Kd(i,e),n=!0)},o(e){Qd(i,e),n=!1},d(e){e&&Kc(t),i&&i.d(e)}}}function Ep(e){let t,n,o;const i=e[12].default,s=Mc(i,e,e[11],null);return{c(){t=Jc("div"),s&&s.c(),ad(t,"data-tooltip",e[0]),ad(t,"style",n=`z-index: ${e[2]}; ${e[6]}`),ad(t,"class","svelte-1a71ske"),gd(t,"multiline",e[1]),gd(t,"isFlexItem",e[4]),gd(t,"isRTL",e[7]),gd(t,"showProShield",e[5])},m(e,n){Xc(e,t,n),s&&s.m(t,null),o=!0},p(e,r){s&&s.p&&(!o||2048&r)&&Rc(s,i,e,e[11],o?Nc(i,e[11],r,null):Dc(e[11]),null),(!o||1&r)&&ad(t,"data-tooltip",e[0]),(!o||68&r&&n!==(n=`z-index: ${e[2]}; ${e[6]}`))&&ad(t,"style",n),(!o||2&r)&&gd(t,"multiline",e[1]),(!o||16&r)&&gd(t,"isFlexItem",e[4]),(!o||128&r)&&gd(t,"isRTL",e[7]),(!o||32&r)&&gd(t,"showProShield",e[5])},i(e){o||(Kd(s,e),o=!0)},o(e){Qd(s,e),o=!1},d(e){e&&Kc(t),s&&s.d(e)}}}function $p(e){let t,n,o,i;const s=[Ep,yp],r=[];function a(e,t){return e[3]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=od()},m(e,n){r[t].m(e,n),Xc(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?r[t].p(e,i):(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Kd(n,1),n.m(o.parentNode,o))},i(e){i||(Kd(n),i=!0)},o(e){Qd(n),i=!1},d(e){e&&Kc(o),r[t].d(e)}}}function xp(e,t,n){let o,i,{$$slots:s={},$$scope:r}=t;const{deepl_inline_ui:a}=R;let{tooltip:l=!1}=t,{multiline:c=!1}=t,{zIndex:d=a.z_index}=t,{isEnabled:u=!0}=t,{isFlexItem:p=!1}=t,{width:m=null}=t,{parentIsRTL:g=!1}=t,{ignoreTextDirection:h=!1}=t,{showProShield:f=!1}=t;return e.$$set=e=>{"tooltip"in e&&n(0,l=e.tooltip),"multiline"in e&&n(1,c=e.multiline),"zIndex"in e&&n(2,d=e.zIndex),"isEnabled"in e&&n(3,u=e.isEnabled),"isFlexItem"in e&&n(4,p=e.isFlexItem),"width"in e&&n(8,m=e.width),"parentIsRTL"in e&&n(9,g=e.parentIsRTL),"ignoreTextDirection"in e&&n(10,h=e.ignoreTextDirection),"showProShield"in e&&n(5,f=e.showProShield),"$$scope"in e&&n(11,r=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(7,o=g||!h&&"rtl"===es()),256&e.$$.dirty&&n(6,i=m?`width: ${m}px`:"")},[l,c,d,u,p,f,i,o,m,g,h,r,s]}class Sp extends cu{constructor(e){super(),lu(this,e,xp,$p,kc,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:8,parentIsRTL:9,ignoreTextDirection:10,showProShield:5})}}const Cp=(e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}};function Lp(e,t,n){const o=e.slice();return o[46]=t[n],o[48]=n,o}function kp(e){let t,n,o,i=ou(e[3]),s=[];for(let t=0;t<i.length;t+=1)s[t]=Mp(Lp(e,i,t));return{c(){t=Jc("ul");for(let e=0;e<s.length;e+=1)s[e].c();ad(t,"id","dropdown_list"),ad(t,"role","listbox"),ad(t,"aria-labelledby","dropdown_option"),ad(t,"tabindex","-1"),ad(t,"style",n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`),ad(t,"data-qa",e[6]),ad(t,"class","svelte-1tk603q"),gd(t,"alternate-dropdown-list","sm"===e[8]),gd(t,"align-right",e[9])},m(n,o){Xc(n,t,o);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);e[37](t)},p(e,o){if(4726795&o[0]){let n;for(i=ou(e[3]),n=0;n<i.length;n+=1){const r=Lp(e,i,n);s[n]?s[n].p(r,o):(s[n]=Mp(r),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}69632&o[0]&&n!==(n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`)&&ad(t,"style",n),64&o[0]&&ad(t,"data-qa",e[6]),256&o[0]&&gd(t,"alternate-dropdown-list","sm"===e[8]),512&o[0]&&gd(t,"align-right",e[9])},i(e){o||Ud((()=>{o=eu(t,Vu,{y:-5,duration:500}),o.start()}))},o:Ec,d(n){n&&Kc(t),Qc(s,n),e[37](null)}}}function Ap(e){let t,n=e[46].label+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){8&o[0]&&n!==(n=e[46].label+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function Ip(e){let t,n,o=xi(e[46].label)+"";return{c(){t=new fd(!1),n=od(),t.a=n},m(e,i){t.m(o,e,i),Xc(e,n,i)},p(e,n){8&n[0]&&o!==(o=xi(e[46].label)+"")&&t.p(o)},d(e){e&&(Kc(n),t.d())}}}function Mp(e){let t,n,o,i,s,r,a;function l(e,t){return e[13]?Ip:Ap}let c=l(e),d=c(e);function u(){return e[36](e[46])}return{c(){t=Jc("li"),d.c(),n=nd(),ad(t,"role","option"),ad(t,"data-option-value",o=e[46].value),ad(t,"data-option-regionalvariant",i=e[46].regionalVariant),ad(t,"aria-selected",s=e[0]===e[46]),ad(t,"class","svelte-1tk603q"),gd(t,"selected",e[0]===e[46]),gd(t,"keyboardSelected",e[48]===e[19])},m(o,i){Xc(o,t,i),d.m(t,null),Vc(t,n),r||(a=[id(t,"click",u),id(t,"mousedown",rd(sd(e[33])))],r=!0)},p(r,a){c===(c=l(e=r))&&d?d.p(e,a):(d.d(1),d=c(e),d&&(d.c(),d.m(t,n))),8&a[0]&&o!==(o=e[46].value)&&ad(t,"data-option-value",o),8&a[0]&&i!==(i=e[46].regionalVariant)&&ad(t,"data-option-regionalvariant",i),9&a[0]&&s!==(s=e[0]===e[46])&&ad(t,"aria-selected",s),9&a[0]&&gd(t,"selected",e[0]===e[46]),524288&a[0]&&gd(t,"keyboardSelected",e[48]===e[19])},d(e){e&&Kc(t),d.d(),r=!1,Cc(a)}}}function Op(e){let t,n,o,i,s,r,a,l=e[1]&&kp(e);return{c(){t=Jc("div"),n=Jc("button"),o=td(e[17]),i=nd(),l&&l.c(),ad(n,"aria-haspopup","listbox"),ad(n,"id","dropdown_button"),ad(n,"aria-labelledby","dropdown_option dropdown_button"),ad(n,"aria-expanded",e[1]),ad(n,"data-qa",e[5]),ad(n,"data-testid",e[5]),ad(n,"class","svelte-1tk603q"),gd(n,"dropdown-label","original"===e[7]),gd(n,"dropdown-label-alternate","alternate"===e[7]),gd(n,"dropdown-label-zendesk","zendesk"===e[7]),gd(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),gd(n,"dropdown-label-full-width",e[10]),gd(n,"dropdown-label-borderless",e[11]),gd(n,"dropup","up"===e[12]),gd(n,"extra-padding",e[14]),ad(t,"class",s=Pc(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q"),ad(t,"style",e[21]),gd(t,"disabled",e[2])},m(s,c){Xc(s,t,c),Vc(t,n),Vc(n,o),e[35](n),Vc(t,i),l&&l.m(t,null),e[39](t),r||(a=[id(n,"click",e[23]),id(n,"mousedown",rd(sd(e[34]))),id(n,"keydown",e[24]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[38])],r=!0)},p(e,i){131072&i[0]&&ld(o,e[17]),2&i[0]&&ad(n,"aria-expanded",e[1]),32&i[0]&&ad(n,"data-qa",e[5]),32&i[0]&&ad(n,"data-testid",e[5]),128&i[0]&&gd(n,"dropdown-label","original"===e[7]),128&i[0]&&gd(n,"dropdown-label-alternate","alternate"===e[7]),128&i[0]&&gd(n,"dropdown-label-zendesk","zendesk"===e[7]),128&i[0]&&gd(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),1024&i[0]&&gd(n,"dropdown-label-full-width",e[10]),2048&i[0]&&gd(n,"dropdown-label-borderless",e[11]),4096&i[0]&&gd(n,"dropup","up"===e[12]),16384&i[0]&&gd(n,"extra-padding",e[14]),e[1]?l?(l.p(e,i),2&i[0]&&Kd(l,1)):(l=kp(e),l.c(),Kd(l,1),l.m(t,null)):l&&(l.d(1),l=null),16&i[0]&&s!==(s=Pc(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q")&&ad(t,"class",s),2097152&i[0]&&ad(t,"style",e[21]),20&i[0]&&gd(t,"disabled",e[2])},i(e){Kd(l)},o:Ec,d(n){n&&Kc(t),e[35](null),l&&l.d(),e[39](null),r=!1,Cc(a)}}}function Np(e,t,n){let{isOpen:o=!1}=t,{disabled:i=!1}=t,{items:s=[]}=t,{placeholder:r=""}=t,{customClass:a=""}=t,{selectedOption:l}=t,{defaultOption:c}=t,{dataQaButton:d="dl-dropdown-button"}=t,{dataQaList:u="dl-dropdown-list"}=t,{variant:p="original"}=t,{fontSize:m="default"}=t,{alignRight:g=!0}=t,{extraText:h=""}=t,{isFullWidth:f=!1}=t,{isBorderless:_=!1}=t,{direction:v="down"}=t,{allowLabelHtml:w=!1}=t,{showSortCode:T=!1}=t,{extraPadding:b=!1}=t,{dropdownMaxHeight:y=300}=t,{autoHeight:E=!1}=t;const $=kd("deepl_settings");let x,S,C,L,k,A=0,I={},M={},O={},N=-1,R="visibility: hidden; opacity:0; height:0;";const D=Cd();function P(){I.spaceAbove=Math.abs(x.getBoundingClientRect().top),I.spaceBelow=Math.abs(window.innerHeight-x.getBoundingClientRect().bottom)}xd((()=>{setTimeout((()=>{n(21,R="")}),100),L=Cp(C,(({clientWidth:e})=>{n(31,A=e)}))})),Sd((()=>{L&&L()}));return e.$$set=e=>{"isOpen"in e&&n(1,o=e.isOpen),"disabled"in e&&n(2,i=e.disabled),"items"in e&&n(3,s=e.items),"placeholder"in e&&n(25,r=e.placeholder),"customClass"in e&&n(4,a=e.customClass),"selectedOption"in e&&n(0,l=e.selectedOption),"defaultOption"in e&&n(26,c=e.defaultOption),"dataQaButton"in e&&n(5,d=e.dataQaButton),"dataQaList"in e&&n(6,u=e.dataQaList),"variant"in e&&n(7,p=e.variant),"fontSize"in e&&n(8,m=e.fontSize),"alignRight"in e&&n(9,g=e.alignRight),"extraText"in e&&n(27,h=e.extraText),"isFullWidth"in e&&n(10,f=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,v=e.direction),"allowLabelHtml"in e&&n(13,w=e.allowLabelHtml),"showSortCode"in e&&n(28,T=e.showSortCode),"extraPadding"in e&&n(14,b=e.extraPadding),"dropdownMaxHeight"in e&&n(29,y=e.dropdownMaxHeight),"autoHeight"in e&&n(30,E=e.autoHeight)},e.$$.update=()=>{67108864&e.$$.dirty[0]&&c&&n(0,l=c),1&e.$$.dirty[0]|3&e.$$.dirty[1]&&(l&&((null==O?void 0:O.value)===(null==l?void 0:l.value)&&(null==O?void 0:O.regionalVariant)===(null==l?void 0:l.regionalVariant)||(n(32,O=l),D("valueselected",{selectedOption:l}))),A&&P()),436207617&e.$$.dirty[0]&&n(17,S=l?`${T?l.value:l.selectedOptionLabel}${h?` ${h}`:""}`:`${r}${h?` ${h}`:""}`)},[l,o,i,s,a,d,u,p,m,g,f,_,v,w,b,x,M,S,C,N,k,R,$,function(){"down"===v&&function(){if(E)return;if(P(),n(16,M.top="auto",M),n(16,M.height=`${y}px`,M),I.spaceBelow>I.spaceAbove)I.spaceBelow<=y&&n(16,M.height=Math.ceil(.8*I.spaceBelow)+"px",M);else{let e=y;I.spaceAbove<=y&&(e=Math.ceil(.8*I.spaceAbove)),n(16,M.height=`${e}px`,M),n(16,M.top="-"+(e+2)+"px",M)}}(),n(1,o=!o),function(){let e=x.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{null==e||e.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!o)return;if("ArrowUp"===e.key&&N>0)n(19,N-=1);else if("ArrowDown"===e.key&&N<s.length-1)n(19,N+=1);else if("Enter"===e.key&&-1!==N){const t=s[N];n(1,o=!1),n(0,l=t),n(19,N=-1),$.set({regionalVariant:t.regionalVariant||""}),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(1,o=!1),n(19,N=-1)}const t=s[N];var i=k.querySelector(`[data-option-value="${t.value}"]`).offsetTop-k.offsetTop;k.scrollTo({top:i,behavior:"smooth"})},r,c,h,T,y,E,A,O,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(e){Md[e?"unshift":"push"]((()=>{x=e,n(15,x)}))},e=>{n(1,o=!1),n(0,l=e),n(19,N=-1),$.set({regionalVariant:e.regionalVariant||""})},function(e){Md[e?"unshift":"push"]((()=>{k=e,n(20,k)}))},()=>{n(1,o=!1)},function(e){Md[e?"unshift":"push"]((()=>{C=e,n(18,C)}))}]}class Rp extends cu{constructor(e){super(),lu(this,e,Np,Op,kc,{isOpen:1,disabled:2,items:3,placeholder:25,customClass:4,selectedOption:0,defaultOption:26,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:27,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:28,extraPadding:14,dropdownMaxHeight:29,autoHeight:30},null,[-1,-1])}}function Dp(e){let t,n,o,i,s;return n=new Rp({props:{items:e[1],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:"zendesk",isFullWidth:e[0],direction:"up"}}),n.$on("valueselected",e[3]),{c(){t=Jc("div"),su(n.$$.fragment)},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=id(t,"mousedown",rd(sd(e[5]))),i=!0)},p(e,[t]){const o={};2&t&&(o.items=e[1]),4&t&&(o.selectedOption=e[2]),1&t&&(o.isFullWidth=e[0]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,s()}}}function Pp(e,t,n){let o,i;const s=Cd();let{value:r}=t,{isFullWidth:a=!1}=t;return e.$$set=e=>{"value"in e&&n(4,r=e.value),"isFullWidth"in e&&n(0,a=e.isFullWidth)},e.$$.update=()=>{18&e.$$.dirty&&n(2,i=r?o.find((e=>e.value===r)):o.find((e=>"auto"===e.value)))},n(1,o=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}]),[a,o,i,function(e){e.detail.selectedOption.value!==r&&s("selection",e.detail)},r,function(t){Ad.call(this,e,t)}]}class Up extends cu{constructor(e){super(),lu(this,e,Pp,Dp,kc,{value:4,isFullWidth:0})}}const Gp="ACCESS_DENIED",Bp="INVALID_REQUEST",Wp="INVALID_GRANT",zp="INVALID_NONCE",Hp="ITA_RATE_LIMITED",jp="ITA_RATE_LIMITED_RESTRICTED",Fp="ITA_WRITE_LANGUAGE_NOT_SUPPORTED",qp="ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",Vp="ITA_WRITE_GENERIC_ERROR",Zp="ITA_TRANSLATE_GENERIC_ERROR",Yp="ITA_TOKEN_EXPIRED",Xp="PROTOCOL_ERROR",Kp="NETWORK_ERROR",Qp="FULL_PAGE_SERVER_ERROR",Jp="-32003",em="429",tm="403",nm="401",om="1045601",im="1042902";function sm(){return!!chrome&&!!chrome.tabs}const rm=uu(!1);function am(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',ad(t,"class","dl-close-icon svelte-nsrzuc")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Kc(t),n=!1,o()}}}function lm(e){let t,n,o,i,s,r;const a=e[2].default,l=Mc(a,e,e[1],null);let c=e[0]&&am(e);return{c(){t=Jc("div"),n=Jc("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=nd(),i=Jc("div"),l&&l.c(),s=nd(),c&&c.c(),ad(n,"class","icon-container svelte-nsrzuc"),ad(i,"class","message svelte-nsrzuc"),ad(t,"class","error-msg svelte-nsrzuc")},m(e,a){Xc(e,t,a),Vc(t,n),Vc(t,o),Vc(t,i),l&&l.m(i,null),Vc(t,s),c&&c.m(t,null),r=!0},p(e,[n]){l&&l.p&&(!r||2&n)&&Rc(l,a,e,e[1],r?Nc(a,e[1],n,null):Dc(e[1]),null),e[0]?c?c.p(e,n):(c=am(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){r||(Kd(l,e),r=!0)},o(e){Qd(l,e),r=!1},d(e){e&&Kc(t),l&&l.d(e),c&&c.d()}}}function cm(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class dm extends cu{constructor(e){super(),lu(this,e,cm,lm,kc,{close:0})}}function um(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',ad(t,"class","dl-close-icon svelte-kyufep")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Kc(t),n=!1,o()}}}function pm(e){let t,n,o,i,s,r;const a=e[2].default,l=Mc(a,e,e[1],null);let c=e[0]&&um(e);return{c(){t=Jc("div"),n=Jc("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=nd(),i=Jc("div"),l&&l.c(),s=nd(),c&&c.c(),ad(n,"class","icon-container svelte-kyufep"),ad(i,"class","message svelte-kyufep"),ad(t,"class","warn-msg svelte-kyufep")},m(e,a){Xc(e,t,a),Vc(t,n),Vc(t,o),Vc(t,i),l&&l.m(i,null),Vc(t,s),c&&c.m(t,null),r=!0},p(e,[n]){l&&l.p&&(!r||2&n)&&Rc(l,a,e,e[1],r?Nc(a,e[1],n,null):Dc(e[1]),null),e[0]?c?c.p(e,n):(c=um(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){r||(Kd(l,e),r=!0)},o(e){Qd(l,e),r=!1},d(e){e&&Kc(t),l&&l.d(e),c&&c.d()}}}function mm(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class gm extends cu{constructor(e){super(),lu(this,e,mm,pm,kc,{close:0})}}function hm(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,ad(t,"data-qa","error-message-generic")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class fm extends cu{constructor(e){super(),lu(this,e,null,hm,kc,{})}}function _m(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_write_error")}`,ad(t,"data-qa","error-message-generic")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class vm extends cu{constructor(e){super(),lu(this,e,null,_m,kc,{})}}function wm(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class Tm extends cu{constructor(e){super(),lu(this,e,null,wm,kc,{})}}function bm(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class ym extends cu{constructor(e){super(),lu(this,e,null,bm,kc,{})}}const Em="DOCS_GOOGLE_COM_FEEDBACK_FORM",$m="NEW_FEEDBACK_FORM",xm="DEEPL_COM_PRO",Sm="DEEPL_COM_PRO_WRITE",Cm="DEEPL_COM_TRANSLATOR",Lm="DEEPL_COM_HOMEPAGE",km="DEEPL_COM_WRITE",Am="SHORTCUT_SETTINGS",Im="CHROME_WRITE_A_REVIEW",Mm="EDGE_WRITE_A_REVIEW",Om="GMAIL_FEEDBACK_SURVEY",Nm="GSLIDES_FEEDBACK_SURVEY",Rm="FIREFOX_WRITE_A_REVIEW",Dm="DEEPL_SUPPORT",Pm="FIREFOX_FEEDBACK_SURVEY",Um="CUSTOMER_SEGMENTATION_SURVEY_FREE",Gm="CUSTOMER_SEGMENTATION_SURVEY_PRO",Bm="ARABIC_SURVEY",Wm="ADDINS_ADS";function zm(e){let t,n,o,i,s,r;return{c(){t=Jc("div"),n=Jc("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=nd(),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,ad(i,"class","link svelte-1mpkjv7"),ad(t,"class","container svelte-1mpkjv7")},m(a,l){Xc(a,t,l),Vc(t,n),Vc(t,o),Vc(t,i),s||(r=id(i,"click",e[0]),s=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),s=!1,r()}}}function Hm(e){return[function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"warning_user_unauthorised"}})}]}class jm extends cu{constructor(e){super(),lu(this,e,Hm,zm,kc,{})}}function Fm(e){let t,n,o,i,s,r;return{c(){t=Jc("div"),n=Jc("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=nd(),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,ad(i,"class","link svelte-1mpkjv7"),ad(t,"class","container svelte-1mpkjv7")},m(a,l){Xc(a,t,l),Vc(t,n),Vc(t,o),Vc(t,i),s||(r=id(i,"click",e[0]),s=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),s=!1,r()}}}function qm(e){return[function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"warning_user_blocked"}})}]}class Vm extends cu{constructor(e){super(),lu(this,e,qm,Fm,kc,{})}}function Zm(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class Ym extends cu{constructor(e){super(),lu(this,e,null,Zm,kc,{})}}function Xm(e,t,n){const o=e.slice();return o[1]=t[n],o}function Km(e){let t,n=e[1].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Qm(e){let t,n,o;return{c(){t=Jc("span"),t.textContent=`${e[1].text} `,ad(t,"class","link svelte-1mpkjv7")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[0]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function Jm(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?Qm:Km}(e),o=n(e);return{c(){o.c(),t=od()},m(e,n){o.m(e,n),Xc(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Kc(t),o.d(e)}}}function eg(e){let t,n=ou(Xu(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Jm(Xm(e,n,t));return{c(){t=Jc("div");for(let e=0;e<o.length;e+=1)o[e].c();ad(t,"class","container svelte-1mpkjv7")},m(e,n){Xc(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,[i]){if(1&i){let s;for(n=ou(Xu(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),s=0;s<n.length;s+=1){const r=Xm(e,n,s);o[s]?o[s].p(r,i):(o[s]=Jm(r),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},i:Ec,o:Ec,d(e){e&&Kc(t),Qc(o,e)}}}function tg(e){return[function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Dm}})}]}class ng extends cu{constructor(e){super(),lu(this,e,tg,eg,kc,{})}}function og(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class ig extends cu{constructor(e){super(),lu(this,e,null,og,kc,{})}}function sg(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class rg extends cu{constructor(e){super(),lu(this,e,null,sg,kc,{})}}function ag(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class lg extends cu{constructor(e){super(),lu(this,e,null,ag,kc,{})}}function cg(e,t,n){const o=e.slice();return o[5]=t[n],o}function dg(e){let t,n=e[5].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){4&o&&n!==(n=e[5].text+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function ug(e){let t,n,o=e[5].text+"";return{c(){t=Jc("strong"),n=td(o)},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){4&t&&o!==(o=e[5].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function pg(e){let t;function n(e,t){return"strong"===e[5].block?ug:dg}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function mg(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M4 12L12 4M4 4L12 12"),ad(n,"stroke","white"),ad(n,"stroke-width","1.5"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(t,"width","16"),ad(t,"height","16"),ad(t,"viewBox","0 0 16 16"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"class","svelte-1mvy8b2")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function gg(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g=ou(Xu(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),h=[];for(let t=0;t<g.length;t+=1)h[t]=pg(cg(e,g,t));let f=e[1]&&mg(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("h1"),o.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,i=nd(),s=Jc("p");for(let e=0;e<h.length;e+=1)h[e].c();r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,c=nd(),d=Jc("button"),d.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,u=nd(),f&&f.c(),ad(o,"class","svelte-1mvy8b2"),ad(s,"class","description svelte-1mvy8b2"),ad(n,"class","messages svelte-1mvy8b2"),gd(n,"small",e[0].small),ad(l,"class","log-in svelte-1mvy8b2"),ad(d,"class","sign-up svelte-1mvy8b2"),ad(a,"class","actions svelte-1mvy8b2"),gd(a,"small",e[0].small),ad(t,"class","container svelte-1mvy8b2"),ad(t,"data-testid","error-message-anonymous-limit-exceeded"),gd(t,"small",e[0].small)},m(g,_){Xc(g,t,_),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(s,null);Vc(t,r),Vc(t,a),Vc(a,l),Vc(a,c),Vc(a,d),Vc(t,u),f&&f.m(t,null),p||(m=[id(l,"click",e[3]),id(d,"click",e[4])],p=!0)},p(e,[o]){if(4&o){let t;for(g=ou(Xu(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),t=0;t<g.length;t+=1){const n=cg(e,g,t);h[t]?h[t].p(n,o):(h[t]=pg(n),h[t].c(),h[t].m(s,null))}for(;t<h.length;t+=1)h[t].d(1);h.length=g.length}1&o&&gd(n,"small",e[0].small),1&o&&gd(a,"small",e[0].small),e[1]?f?f.p(e,o):(f=mg(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),1&o&&gd(t,"small",e[0].small)},i:Ec,o:Ec,d(e){e&&Kc(t),Qc(h,e),f&&f.d(),p=!1,Cc(m)}}}function hg(e,t,n){let{config:o}=t,{close:i}=t,s="";return xd((()=>{Xn({action:Un.dlGetUsersCharacterLimit}).then((e=>n(2,s=e.toString()))),Xn({action:qn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:gn}})})),Sd((()=>{Xn({action:qn.dlTrackUpgradeNotificationClosed,payload:{type:gn}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,s,function(){Xn({action:Un.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:gn,cta:wn}})},function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"notification_anonymous_user_limit_exceeded"}}),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:gn,cta:Tn}})}]}class fg extends cu{constructor(e){super(),lu(this,e,hg,gg,kc,{config:0,close:1})}}function _g(e,t,n){const o=e.slice();return o[4]=t[n],o}function vg(e){let t,n=e[4].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){4&o&&n!==(n=e[4].text+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function wg(e){let t,n,o=e[4].text+"";return{c(){t=Jc("strong"),n=td(o)},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){4&t&&o!==(o=e[4].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function Tg(e){let t;function n(e,t){return"strong"===e[4].block?wg:vg}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function bg(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M4 12L12 4M4 4L12 12"),ad(n,"stroke","white"),ad(n,"stroke-width","1.5"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(t,"width","16"),ad(t,"height","16"),ad(t,"viewBox","0 0 16 16"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"class","svelte-1i5r4eu")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function yg(e){let t,n,o,i,s,r,a,l,c,d,u,p=ou(Xu(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),m=[];for(let t=0;t<p.length;t+=1)m[t]=Tg(_g(e,p,t));let g=e[1]&&bg(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=nd(),s=Jc("p");for(let e=0;e<m.length;e+=1)m[e].c();r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,c=nd(),g&&g.c(),ad(o,"class","svelte-1i5r4eu"),ad(s,"class","description svelte-1i5r4eu"),ad(n,"class","messages svelte-1i5r4eu"),gd(n,"small",e[0].small),ad(l,"class","sign-up svelte-1i5r4eu"),ad(a,"class","actions svelte-1i5r4eu"),gd(a,"small",e[0].small),ad(t,"class","container svelte-1i5r4eu"),ad(t,"data-testid","error-message-limit-exceeded-free-account"),gd(t,"small",e[0].small)},m(p,h){Xc(p,t,h),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(s,null);Vc(t,r),Vc(t,a),Vc(a,l),Vc(t,c),g&&g.m(t,null),d||(u=id(l,"click",e[3]),d=!0)},p(e,[o]){if(4&o){let t;for(p=ou(Xu(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),t=0;t<p.length;t+=1){const n=_g(e,p,t);m[t]?m[t].p(n,o):(m[t]=Tg(n),m[t].c(),m[t].m(s,null))}for(;t<m.length;t+=1)m[t].d(1);m.length=p.length}1&o&&gd(n,"small",e[0].small),1&o&&gd(a,"small",e[0].small),e[1]?g?g.p(e,o):(g=bg(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),1&o&&gd(t,"small",e[0].small)},i:Ec,o:Ec,d(e){e&&Kc(t),Qc(m,e),g&&g.d(),d=!1,u()}}}function Eg(e,t,n){let{config:o}=t,{close:i}=t,s="";return xd((()=>{Xn({action:Un.dlGetUsersCharacterLimit}).then((e=>n(2,s=e.toString()))),Xn({action:qn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:hn}})})),Sd((()=>{Xn({action:qn.dlTrackUpgradeNotificationClosed,payload:{type:hn}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,s,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"notification_free_account_limit_exceeded"}}),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:hn,cta:vn}})}]}class $g extends cu{constructor(e){super(),lu(this,e,Eg,yg,kc,{config:0,close:1})}}function xg(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M4 12L12 4M4 4L12 12"),ad(n,"stroke","white"),ad(n,"stroke-width","1.5"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(t,"width","16"),ad(t,"height","16"),ad(t,"viewBox","0 0 16 16"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"class","svelte-1uko7yn")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function Sg(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",m=e[1]&&xg(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=nd(),s=Jc("p"),r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,c=nd(),m&&m.c(),ad(o,"class","svelte-1uko7yn"),ad(s,"class","description svelte-1uko7yn"),ad(n,"class","messages small svelte-1uko7yn"),gd(n,"small",e[0].small),ad(l,"class","sign-up svelte-1uko7yn"),ad(a,"class","actions svelte-1uko7yn"),gd(a,"small",e[0].small),ad(t,"class","container svelte-1uko7yn"),ad(t,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),gd(t,"small",e[0].small)},m(g,h){Xc(g,t,h),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),s.innerHTML=p,Vc(t,r),Vc(t,a),Vc(a,l),Vc(t,c),m&&m.m(t,null),d||(u=id(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&gd(n,"small",e[0].small),1&o&&gd(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=xg(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&gd(t,"small",e[0].small)},i:Ec,o:Ec,d(e){e&&Kc(t),m&&m.d(),d=!1,u()}}}function Cg(e,t,n){let{config:o}=t,{close:i}=t;return xd((()=>{Xn({action:qn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:hn}})})),Sd((()=>{Xn({action:qn.dlTrackUpgradeNotificationClosed,payload:{type:hn}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:hn,cta:vn}})}]}class Lg extends cu{constructor(e){super(),lu(this,e,Cg,Sg,kc,{config:0,close:1})}}function kg(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,ad(t,"class","log-in svelte-1tmoo4x")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[4]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function Ag(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M4 12L12 4M4 4L12 12"),ad(n,"stroke","white"),ad(n,"stroke-width","1.5"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(t,"width","16"),ad(t,"height","16"),ad(t,"viewBox","0 0 16 16"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"class","svelte-1tmoo4x")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function Ig(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!e[2]&&kg(e),h=e[1]&&Ag(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=nd(),s=Jc("p"),r=nd(),a=Jc("div"),g&&g.c(),l=nd(),c=Jc("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=nd(),h&&h.c(),ad(o,"class","svelte-1tmoo4x"),ad(s,"class","description svelte-1tmoo4x"),ad(n,"class","messages svelte-1tmoo4x"),gd(n,"small",e[0].small),ad(c,"class","sign-up svelte-1tmoo4x"),ad(a,"class","actions svelte-1tmoo4x"),gd(a,"small",e[0].small),ad(t,"class","container svelte-1tmoo4x"),ad(t,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),gd(t,"small",e[0].small)},m(f,_){Xc(f,t,_),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),s.innerHTML=m,Vc(t,r),Vc(t,a),g&&g.m(a,null),Vc(a,l),Vc(a,c),Vc(t,d),h&&h.m(t,null),u||(p=id(c,"click",e[3]),u=!0)},p(e,[o]){1&o&&gd(n,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,o):(g=kg(e),g.c(),g.m(a,l)),1&o&&gd(a,"small",e[0].small),e[1]?h?h.p(e,o):(h=Ag(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&gd(t,"small",e[0].small)},i:Ec,o:Ec,d(e){e&&Kc(t),g&&g.d(),h&&h.d(),u=!1,p()}}}function Mg(e,t,n){let o,i;Ic(e,gu,(e=>n(5,i=e)));let{config:s}=t,{close:r}=t;return xd((()=>{Xn({action:qn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:o?_n:fn}})})),Sd((()=>{Xn({action:qn.dlTrackUpgradeNotificationClosed,payload:{type:o?_n:fn}})})),e.$$set=e=>{"config"in e&&n(0,s=e.config),"close"in e&&n(1,r=e.close)},e.$$.update=()=>{32&e.$$.dirty&&n(2,o=io(i))},[s,r,o,function(){let e="notification_free_account_limit_exceeded_write";if(s&&s.nicheIntegration)switch(s.nicheIntegration){case kt.gmail:e="gmail_customization_write";break;case kt.gslides:e="gslides_customization_write"}Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Sm,utmContent:e}}),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:o?_n:fn,cta:vn}})},function(){Xn({action:Un.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:o?_n:fn,cta:wn}})},i]}class Og extends cu{constructor(e){super(),lu(this,e,Mg,Ig,kc,{config:0,close:1})}}function Ng(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M4 12L12 4M4 4L12 12"),ad(n,"stroke","white"),ad(n,"stroke-width","1.5"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(t,"width","16"),ad(t,"height","16"),ad(t,"viewBox","0 0 16 16"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"class","svelte-1i5r4eu")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function Rg(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",m=e[1]&&Ng(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=nd(),s=Jc("p"),r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,c=nd(),m&&m.c(),ad(o,"class","svelte-1i5r4eu"),ad(s,"class","description svelte-1i5r4eu"),ad(n,"class","messages svelte-1i5r4eu"),gd(n,"small",e[0].small),ad(l,"class","sign-up svelte-1i5r4eu"),ad(a,"class","actions svelte-1i5r4eu"),gd(a,"small",e[0].small),ad(t,"class","container svelte-1i5r4eu"),ad(t,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),gd(t,"small",e[0].small)},m(g,h){Xc(g,t,h),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),s.innerHTML=p,Vc(t,r),Vc(t,a),Vc(a,l),Vc(t,c),m&&m.m(t,null),d||(u=id(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&gd(n,"small",e[0].small),1&o&&gd(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=Ng(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&gd(t,"small",e[0].small)},i:Ec,o:Ec,d(e){e&&Kc(t),m&&m.d(),d=!1,u()}}}function Dg(e,t,n){let o,i;Ic(e,gu,(e=>n(3,i=e)));let{config:s}=t,{close:r}=t;return xd((()=>{Xn({action:qn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:o?_n:fn}})})),Sd((()=>{Xn({action:qn.dlTrackUpgradeNotificationClosed,payload:{type:o?_n:fn}})})),e.$$set=e=>{"config"in e&&n(0,s=e.config),"close"in e&&n(1,r=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(o=io(i))},[s,r,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(s&&s.nicheIntegration)switch(s.nicheIntegration){case kt.gmail:e="gmail_customization_write";break;case kt.gslides:e="gslides_customization_write"}Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Sm,utmContent:e}}),Xn({action:qn.dlTrackUpgradeNotificationAction,payload:{type:o?_n:fn,cta:vn}})},i]}class Pg extends cu{constructor(e){super(),lu(this,e,Dg,Rg,kc,{config:0,close:1})}}function Ug(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("write_language_not_supported")}`,ad(t,"data-qa","error-message-write-language-not-supported")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class Gg extends cu{constructor(e){super(),lu(this,e,null,Ug,kc,{})}}function Bg(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("translate_language_not_supported")}`,ad(t,"data-qa","error-message-translate-language-not-supported")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class Wg extends cu{constructor(e){super(),lu(this,e,null,Bg,kc,{})}}function zg(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M4 12L12 4M4 4L12 12"),ad(n,"stroke","white"),ad(n,"stroke-width","1.5"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(t,"width","16"),ad(t,"height","16"),ad(t,"viewBox","0 0 16 16"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"class","svelte-1mvy8b2")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function Hg(e){let t,n,o,i,s,r,a,l,c,d,u,p=e[1]&&zg(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("h1"),o.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,i=nd(),s=Jc("p"),s.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_login_cta")}`,c=nd(),p&&p.c(),ad(o,"class","svelte-1mvy8b2"),ad(s,"class","description svelte-1mvy8b2"),ad(n,"class","messages svelte-1mvy8b2"),gd(n,"small",e[0].small),ad(l,"class","sign-up svelte-1mvy8b2"),ad(a,"class","actions svelte-1mvy8b2"),gd(a,"small",e[0].small),ad(t,"class","container svelte-1mvy8b2"),ad(t,"data-testid","error-message-policy-login-required"),gd(t,"small",e[0].small)},m(m,g){Xc(m,t,g),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),Vc(t,r),Vc(t,a),Vc(a,l),Vc(t,c),p&&p.m(t,null),d||(u=id(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&gd(n,"small",e[0].small),1&o&&gd(a,"small",e[0].small),e[1]?p?p.p(e,o):(p=zg(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),1&o&&gd(t,"small",e[0].small)},i:Ec,o:Ec,d(e){e&&Kc(t),p&&p.d(),d=!1,u()}}}function jg(e,t,n){let{config:o}=t,{close:i}=t;return xd((()=>{Xn({action:qn.dlTrackPolicyLoginRequiredNotification,payload:{notificationType:j}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,function(){Xn({action:Un.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)}))}]}class Fg extends cu{constructor(e){super(),lu(this,e,jg,Hg,kc,{config:0,close:1})}}function qg(e){let t,n,o;var i=e[2];function s(e,t){return{props:{config:e[1],close:e[0]}}}return i&&(t=_d(i,s(e))),{c(){t&&su(t.$$.fragment),n=od()},m(e,i){t&&ru(t,e,i),Xc(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){Yd();const e=t;Qd(e.$$.fragment,1,0,(()=>{au(e,1)})),Xd()}i?(t=_d(i,s(e)),su(t.$$.fragment),Kd(t.$$.fragment,1),ru(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),1&o&&(n.close=e[0]),t.$set(n)}},i(e){o||(t&&Kd(t.$$.fragment,e),o=!0)},o(e){t&&Qd(t.$$.fragment,e),o=!1},d(e){e&&Kc(n),t&&au(t,e)}}}function Vg(e){let t,n;return t=new gm({props:{close:e[0],config:e[1],$$slots:{default:[Yg]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Zg(e){let t,n;return t=new dm({props:{close:e[0],config:e[1],$$slots:{default:[Xg]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Yg(e){let t,n,o;var i=e[2];function s(e,t){return{props:{config:e[1]}}}return i&&(t=_d(i,s(e))),{c(){t&&su(t.$$.fragment),n=od()},m(e,i){t&&ru(t,e,i),Xc(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){Yd();const e=t;Qd(e.$$.fragment,1,0,(()=>{au(e,1)})),Xd()}i?(t=_d(i,s(e)),su(t.$$.fragment),Kd(t.$$.fragment,1),ru(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&Kd(t.$$.fragment,e),o=!0)},o(e){t&&Qd(t.$$.fragment,e),o=!1},d(e){e&&Kc(n),t&&au(t,e)}}}function Xg(e){let t,n,o;var i=e[2];function s(e,t){return{props:{config:e[1]}}}return i&&(t=_d(i,s(e))),{c(){t&&su(t.$$.fragment),n=od()},m(e,i){t&&ru(t,e,i),Xc(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){Yd();const e=t;Qd(e.$$.fragment,1,0,(()=>{au(e,1)})),Xd()}i?(t=_d(i,s(e)),su(t.$$.fragment),Kd(t.$$.fragment,1),ru(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&Kd(t.$$.fragment,e),o=!0)},o(e){t&&Qd(t.$$.fragment,e),o=!1},d(e){e&&Kc(n),t&&au(t,e)}}}function Kg(e){let t,n,o,i;const s=[Zg,Vg,qg],r=[];function a(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=od()},m(e,n){~t&&r[t].m(e,n),Xc(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Kd(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Kd(n),i=!0)},o(e){Qd(n),i=!1},d(e){e&&Kc(o),~t&&r[t].d(e)}}}function Qg(e,t,n){let o,i,{error:s}=t,{close:r}=t,{config:a={}}=t;const l={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},c={[Tu]:fm,[bu]:Tm,[yu]:ym,[xu]:Ym,[Gp]:rg,[Wp]:rg,[Bp]:rg,[zp]:rg,[$u]:Vm,[Cu]:Vm,[Au]:lg,[Eu]:jm,[Su]:ng,[ku]:ig,[Iu]:$g,[Mu]:fg,[Ou]:Lg,[Nu]:Og,[Ru]:Pg,[Xp]:fm,[Kp]:Tm,[wu]:Tm,[Qp]:ym,[tm]:jm,[em]:Vm,[im]:Vm,[Jp]:jm,[om]:ng,[nm]:Ym,[Hp]:ng,[jp]:ng,[Fp]:Gg,[qp]:Wg,[Zp]:fm,[Vp]:vm,[Yp]:rg,[Du]:Fg};return xd((()=>{sm()?Qn({action:"dlErrorVisibility",payload:{state:!0}}):rm.set(!0)})),Sd((()=>{sm()?Qn({action:"dlErrorVisibility",payload:{state:!1}}):rm.set(!1)})),e.$$set=e=>{"error"in e&&n(5,s=e.error),"close"in e&&n(0,r=e.close),"config"in e&&n(1,a=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,o=function(e){switch(e){case Tu:case bu:case yu:case xu:case Xp:case Kp:case Qp:case tm:case Gp:case Wp:case Bp:case zp:case ku:case Zp:case Vp:case wu:return l.SERIOUS;case $u:case Cu:case em:case im:case Au:case Eu:case Su:case Jp:case om:case Hp:case jp:case Fp:case qp:return l.WARNING;case Iu:case Mu:case Nu:case Ru:case Ou:case Du:return l.CUSTOM;default:return l.UNKNOWN}}(s?s.error:"")),32&e.$$.dirty&&n(2,i=s&&c[s.error]||fm)},[r,a,i,o,l,s]}class Jg extends cu{constructor(e){super(),lu(this,e,Qg,Kg,kc,{error:5,close:0,config:1})}}function eh(e){let t,n,o,i,s,r,a,l,c;return i=new Jg({props:{error:e[3]}}),{c(){t=Jc("div"),n=Jc("button"),o=nd(),su(i.$$.fragment),ad(n,"class","close-button svelte-6y44uj"),ad(t,"class","dl-zendesk-error-message svelte-6y44uj"),ad(t,"dir",es())},m(s,r){Xc(s,t,r),Vc(t,n),Vc(t,o),ru(i,t,null),a=!0,l||(c=[id(n,"click",e[8]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[8])],l=!0)},p(e,t){const n={};8&t[0]&&(n.error=e[3]),i.$set(n)},i(e){a||(Kd(i.$$.fragment,e),Ud((()=>{a&&(r&&r.end(1),s=eu(t,Vu,{y:-5,duration:300}),s.start())})),a=!0)},o(e){Qd(i.$$.fragment,e),s&&s.invalidate(),r=tu(t,Vu,{y:-5,duration:300}),a=!1},d(e){e&&Kc(t),au(i),e&&r&&r.end(),l=!1,Cc(c)}}}function th(e){let t,n;return t=new Up({props:{value:e[6].zendeskFormality}}),t.$on("selection",e[9]),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.value=e[6].zendeskFormality),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function nh(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML='<span class="svelte-6y44uj"></span>',ad(t,"class","dl-zendesk-input-icon svelte-6y44uj"),gd(t,"is-active",e[1]),gd(t,"is-loading",e[2]),gd(t,"is-language-mismatching",e[0])},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[7]),n=!0)},p(e,n){2&n[0]&&gd(t,"is-active",e[1]),4&n[0]&&gd(t,"is-loading",e[2]),1&n[0]&&gd(t,"is-language-mismatching",e[0])},d(e){e&&Kc(t),n=!1,o()}}}function oh(e){let t,n,o,i,s,r=e[3]&&eh(e),a=e[4]&&th(e);return i=new Sp({props:{tooltip:e[5],zIndex:"0",$$slots:{default:[nh]},$$scope:{ctx:e}}}),{c(){r&&r.c(),t=nd(),n=Jc("div"),a&&a.c(),o=nd(),su(i.$$.fragment),ad(n,"class","dl-icons-holder svelte-6y44uj"),ad(n,"dir",es()),gd(n,"has-formality",e[4])},m(e,l){r&&r.m(e,l),Xc(e,t,l),Xc(e,n,l),a&&a.m(n,null),Vc(n,o),ru(i,n,null),s=!0},p(e,l){e[3]?r?(r.p(e,l),8&l[0]&&Kd(r,1)):(r=eh(e),r.c(),Kd(r,1),r.m(t.parentNode,t)):r&&(Yd(),Qd(r,1,1,(()=>{r=null})),Xd()),e[4]?a?(a.p(e,l),16&l[0]&&Kd(a,1)):(a=th(e),a.c(),Kd(a,1),a.m(n,o)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd());const c={};32&l[0]&&(c.tooltip=e[5]),7&l[0]|4&l[1]&&(c.$$scope={dirty:l,ctx:e}),i.$set(c),(!s||16&l[0])&&gd(n,"has-formality",e[4])},i(e){s||(Kd(r),Kd(a),Kd(i.$$.fragment,e),s=!0)},o(e){Qd(r),Qd(a),Qd(i.$$.fragment,e),s=!1},d(e){e&&(Kc(t),Kc(n)),r&&r.d(e),a&&a.d(),au(i)}}}function ih(e,t,o){let i,s,r;Ic(e,gu,(e=>o(6,r=e))),Ld("text_direction",es());let a,l,c,d,{controller:u}=t,{editable:p}=t,m=!1,g=!1,h=!1,f=!1,_="",v="",w=!1;const T=()=>{o(1,m=!0)},b=()=>{o(1,m=!1)};async function y(e,t,n){if("dlTriggerTranslationShortcut"===e.action){if(document.activeElement!==p)return;try{Xn({action:qn.dlTrackUseOfShortcut,payload:{shortcutType:nt,location:X}})}catch(e){console.error(e)}await E(),n()}return!0}const E=async()=>{if(f)return;const e=vo(),t=()=>{if(e){const e=window.getSelection().toString();navigator.clipboard.writeText(e).then((()=>{$(e)})).catch((e=>{console.error("Unable to copy text to clipboard",e)}))}else{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});g=!0,p.dispatchEvent(e)}},n=window.getSelection();let o;o=e?n&&n.anchorNode&&"#text"==n.anchorNode.nodeName&&"Range"==n.type&&p.contains(n.anchorNode):n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&p.contains(n.baseNode),0!==p.innerText.trim().length&&(o?t():(await ap(p),setTimeout(t,300)))},$=async e=>{g=!1,o(2,f=!0),o(0,w=!1);const t=u.getTicketLanguageInformation()?.language,n=u.getInputWorkingArea();n.innerHTML=xi(e);const[s,a]=await ZO({element:n,targetLang:t,content:e,...i&&["formal","informal"].includes(r.zendeskFormality)&&{formality:r.zendeskFormality}});a?(console.error({e:a}),o(3,c=a),rN({eventType:zt,controller:u,error:a.error||a.message})):s&&C(s,e),o(2,f=!1)},x=async e=>{if(!g)return;g=!1,o(2,f=!0),o(0,w=!1);const t=u.getTicketLanguageInformation()?.language,n=e.clipboardData.getData("text/html"),s=u.getInputWorkingArea(),[a,l]=await ZO({element:s,targetLang:t,content:n,...i&&["formal","informal"].includes(r.zendeskFormality)&&{formality:r.zendeskFormality}});l?(console.error({e:l}),o(3,c=l),rN({eventType:zt,controller:u,error:l.error||l.message})):a&&C(a,n),o(2,f=!1)},S=()=>{if(!h)return;h=!1;window.getSelection().collapse(null)},C=(e,t)=>{const n=xi(e);if(vo())document.execCommand("insertText",!1,n),h=!0;else{const e=new DataTransfer;e.setData("text/html",n);const t=new ClipboardEvent("paste",{bubbles:!0,clipboardData:e});h=!0,p.dispatchEvent(t)}rN({eventType:Wt,controller:u,sourceTextLength:t.length,targetTextLength:n.length})},L=()=>{const e=p.innerText;e!==v&&(v=e,d&&(clearTimeout(d),d=void 0),d=setTimeout(k,400))},k=async()=>{const e=u.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=p.innerText;if(t.trim()){console.log("There has content: ",`${t.trim()}`);let n=await Vi(t),i=e.language;n=Xi(n),i=Xi(i);let s=!1;n&&i&&n!==i&&(s=!0),w!==s&&o(0,w=s)}else console.log("There is no content"),o(0,w=!1),A()},A=()=>{a&&a.resetTooltip()};return xd((()=>{chrome.runtime.onMessage.addListener(y),Xn({action:Hn.dlCheckCommandShortcuts}).then((e=>{o(14,_=e?e.filter((e=>e.name==nt))[0].shortcut:"")})),p.addEventListener("focus",T),p.addEventListener("blur",b),p.addEventListener("copy",x),p.addEventListener("paste",S),p.addEventListener("keydown",L),a=tv(u),document.activeElement===p&&T()})),Sd((()=>{chrome.runtime.onMessage.removeListener(y),p&&(p.removeEventListener("focus",T),p.removeEventListener("blur",b),p.removeEventListener("copy",x),p.removeEventListener("paste",S),p.removeEventListener("keydown",L),a&&(a.cleanupDOM(),a.remove()))})),e.$$set=e=>{"controller"in e&&o(10,u=e.controller),"editable"in e&&o(11,p=e.editable)},e.$$.update=()=>{32768&e.$$.dirty[0]&&o(4,i=Ji(l)),49152&e.$$.dirty[0]&&o(5,s=n.find((e=>e.langCode===l))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(_?` (${_})`:""):""),1&e.$$.dirty[0]&&a&&a.setIsLanguageMismatching(w)},[w,m,f,c,i,s,r,E,()=>{o(3,c=void 0)},e=>{const t=e.detail.selectedOption.value;Uc(gu,r.zendeskFormality=t,r)},u,p,e=>{o(15,l=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&p.contains(e.baseNode)},_,l]}class sh extends cu{constructor(e){super(),lu(this,e,ih,oh,kc,{controller:10,editable:11,updateTargetLanguage:12,getInputHasSelection:13},null,[-1,-1])}get updateTargetLanguage(){return this.$$.ctx[12]}get getInputHasSelection(){return this.$$.ctx[13]}}class rh{static HTML_TAG_NAME="deepl-zendesk-input-icon";static createElement=(e=document)=>{const t=e.createElement(rh.HTML_TAG_NAME),n=new rh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getInputHasSelection=n.getInputHasSelection,t.updateTargetLanguage=n.updateTargetLanguage,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,editable:t})=>{this.domElement.mainComponent=new sh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})};getInputHasSelection=()=>this.domElement.mainComponent.getInputHasSelection();updateTargetLanguage=e=>{this.domElement.mainComponent?.updateTargetLanguage(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function ah(e,t,n){const o=e.slice();return o[16]=t[n],o[18]=n,o}function lh(e){let t,n,o=!e[0]&&dh(e),i=ou(e[3]),s=[];for(let t=0;t<i.length;t+=1)s[t]=mh(ah(e,i,t));return{c(){t=Jc("div"),o&&o.c(),n=nd();for(let e=0;e<s.length;e+=1)s[e].c();ad(t,"class","dl-zendesk-translation-placeholder svelte-1xx4hw"),ad(t,"dir",es()),gd(t,"loading-skeleton",e[0])},m(e,i){Xc(e,t,i),o&&o.m(t,null),Vc(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,r):(o=dh(e),o.c(),o.m(t,n)),8&r){let n;for(i=ou(e[3]),n=0;n<i.length;n+=1){const o=ah(e,i,n);s[n]?s[n].p(o,r):(s[n]=mh(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}1&r&&gd(t,"loading-skeleton",e[0])},i:Ec,o:Ec,d(e){e&&Kc(t),o&&o.d(),Qc(s,e)}}}function ch(e){let t,n,o;return n=new Jg({props:{error:e[2],close:e[6]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","dl-zendesk-translation-placeholder has-error svelte-1xx4hw")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};4&t&&(o.error=e[2]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function dh(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"class","close-button svelte-1xx4hw")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[5]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function uh(e){let t,n=xi(e[16])+"";return{c(){t=Jc("span"),ad(t,"class","svelte-1xx4hw")},m(e,o){Xc(e,t,o),t.innerHTML=n},p(e,o){8&o&&n!==(n=xi(e[16])+"")&&(t.innerHTML=n)},d(e){e&&Kc(t)}}}function ph(e){let t;return{c(){t=Jc("br")},m(e,n){Xc(e,t,n)},d(e){e&&Kc(t)}}}function mh(e){let t,n,o=e[16]&&uh(e),i=e[18]<e[3].length-1&&ph();return{c(){o&&o.c(),t=nd(),i&&i.c(),n=od()},m(e,s){o&&o.m(e,s),Xc(e,t,s),i&&i.m(e,s),Xc(e,n,s)},p(e,s){e[16]?o?o.p(e,s):(o=uh(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[18]<e[3].length-1?i||(i=ph(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&(Kc(t),Kc(n)),o&&o.d(e),i&&i.d(e)}}}function gh(e){let t,n,o,i,s,r,a,l,c;const d=[ch,lh],u=[];function p(e,t){return e[2]?0:e[1]||e[0]?1:-1}return~(i=p(e))&&(s=u[i]=d[i](e)),{c(){t=Jc("div"),n=Jc("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=nd(),s&&s.c(),r=od(),ad(n,"class","dl-zendesk-translate-this-ticket svelte-1xx4hw"),ad(t,"dir",es())},m(s,d){Xc(s,t,d),Vc(t,n),Xc(s,o,d),~i&&u[i].m(s,d),Xc(s,r,d),a=!0,l||(c=id(n,"click",e[4]),l=!0)},p(e,[t]){let n=i;i=p(e),i===n?~i&&u[i].p(e,t):(s&&(Yd(),Qd(u[n],1,1,(()=>{u[n]=null})),Xd()),~i?(s=u[i],s?s.p(e,t):(s=u[i]=d[i](e),s.c()),Kd(s,1),s.m(r.parentNode,r)):s=null)},i(e){a||(Kd(s),a=!0)},o(e){Qd(s),a=!1},d(e){e&&(Kc(t),Kc(o),Kc(r)),~i&&u[i].d(e),l=!1,c()}}}function hh(e,t,n){let o,i;Ic(e,gu,(e=>n(14,i=e))),Ld("text_direction",es());let s,{controller:r}=t,{message:a}=t,l=!1,c=!1,d=!1,u="",p=!1;const m=async({trigger:e})=>{n(1,d=!1),n(0,l=!0),n(2,s=void 0);let t=z_(a).innerText;n(11,u=t);const[o,c]=await YO({targetLang:i.selectedTargetLanguage,sourceLang:r.getTicketLanguageInformation()?.language,text:t,trigger:e});if(c)n(11,u=""),n(1,d=!1),n(2,s=c),p=!0,rN({eventType:zt,controller:r,error:c.error||c.message});else if(o){n(11,u=o),n(1,d=!0),rN({eventType:Bt,controller:r,sourceTextLength:t.length,targetTextLength:u.length})}else n(1,d=!0);n(0,l=!1)};return e.$$set=e=>{"controller"in e&&n(7,r=e.controller),"message"in e&&n(8,a=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=u.split("\n"))},[l,d,s,o,()=>{l||m({trigger:f})},()=>{n(1,d=!1),n(0,l=!1),n(11,u=""),r.getIsAutoTranslatedEnabled()&&(c=!0)},()=>{n(2,s=void 0)},r,a,()=>{!r.getIsAutoTranslatedEnabled()||d||l||c||p||m({trigger:h})},()=>{!d||l||c||m({trigger:f})},u]}class fh extends cu{constructor(e){super(),lu(this,e,hh,gh,kc,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class _h{static HTML_TAG_NAME="deepl-zendesk-message-controller";static createElement=(e=document)=>{const t=e.createElement(_h.HTML_TAG_NAME),n=new _h(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.processRefreshUI=n.processRefreshUI,t.triggerTranslateAgain=n.triggerTranslateAgain,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,message:t})=>{this.domElement.mainComponent=new fh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})};processRefreshUI=()=>{this.domElement.mainComponent.processRefreshUI()};triggerTranslateAgain=()=>{this.domElement.mainComponent.triggerTranslateAgain()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function vh(e){let t,n,o,i,s,r,a,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=Jc("div"),n=Jc("button"),o=nd(),i=td(d),ad(n,"class","dismiss-tooltip svelte-p7jbvt"),ad(t,"class","dl-zendesk-submit-button-tooltip svelte-p7jbvt"),dd(t,"max-width",(e[1].width||0)+"px"),dd(t,"bottom",e[0].height+12+"px"),ad(t,"dir",es())},m(s,r){Xc(s,t,r),Vc(t,n),Vc(t,o),Vc(t,i),a=!0,l||(c=id(n,"click",e[4]),l=!0)},p(e,n){(!a||2&n)&&dd(t,"max-width",(e[1].width||0)+"px"),(!a||1&n)&&dd(t,"bottom",e[0].height+12+"px")},i(e){a||(Ud((()=>{a&&(r&&r.end(1),s=eu(t,Vu,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=tu(t,Vu,{y:-5,duration:500}),a=!1},d(e){e&&Kc(t),e&&r&&r.end(),l=!1,c()}}}function wh(e){let t,n,o=e[2]&&!e[3]&&vh(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&Kd(o,1)):(o=vh(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Th(e,t,n){Ld("text_direction",es());let{coords:o}=t,{containerCoords:i}=t,s=!1,r=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,i=e.containerCoords)},[o,i,s,r,()=>{n(3,r=!0)},e=>{n(2,s=e)},()=>{console.log("Resetting tooltip..."),n(2,s=!1),n(3,r=!1)}]}class bh extends cu{constructor(e){super(),lu(this,e,Th,wh,kc,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class yh{static HTML_TAG_NAME="deepl-zendesk-submit-button-tooltip";static createElement=(e=document)=>{const t=e.createElement(yh.HTML_TAG_NAME),n=new yh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setIsLanguageMismatching=n.setIsLanguageMismatching,t.resetTooltip=n.resetTooltip,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({coords:e,containerCoords:t})=>{this.domElement.mainComponent=new bh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})};setIsLanguageMismatching=e=>{this.domElement.mainComponent?.setIsLanguageMismatching(e)};resetTooltip=()=>{this.domElement.mainComponent?.resetTooltip()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Eh(e){let t,n,o;return{c(){t=Jc("div"),n=nd(),o=Jc("div"),ad(t,"class","dl-zendesk-icon svelte-i3vxpb"),ad(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,i){Xc(e,t,i),Xc(e,n,i),Xc(e,o,i)},p:Ec,i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o))}}}function $h(e,t,o){let i;Ic(e,gu,(e=>o(17,i=e))),Ld("text_direction",es());let s,{pane:r}=t,{ticketId:a}=t,{controller:l}=t,c={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1},d=!1;const u={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},p=(e,t)=>{u[e]=t},m=()=>{for(const e of Object.keys(u))if(u[e]){u[e]()&&(u[e]=void 0)}},g=async()=>{if(!s)return;let e;try{switch(s){case Ht:e=await H_(r);break;case jt:e=await j_(r)}}catch(e){bs()&&console.error({e:e})}e&&(e=Xi(e),o(13,c.hasAttemptedLanguageDetection=!0,c),o(13,c.language=e,c),o(13,c.isDetected=!0,c),o(13,c.isSupported=!!n.find((t=>t.langCode===e)),c),rN({eventType:Dt,controller:l}),nv(r))};return xd((()=>{rN({eventType:Rt,controller:l}),p("ticketTypeDetection",(()=>{const e=U_(r);return!!e&&(s=e,g(),!0)}))})),e.$$set=e=>{"pane"in e&&o(0,r=e.pane),"ticketId"in e&&o(1,a=e.ticketId),"controller"in e&&o(2,l=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&p("toolbarLanguageUpdate",(()=>F_(r,{language:c.language,isDetected:c.isDetected,isSupported:c.isSupported}))),8193&e.$$.dirty&&(p("inputIconLanguageUpdate",(()=>Z_(r,c.language))),p("topIconLanguageUpdate",(()=>V_(r)))),16385&e.$$.dirty&&p("toolbarAutoTranslateStatus",(()=>{q_(r,{isEnabled:d})}))},[r,a,l,()=>r,()=>a,()=>c,()=>d,e=>{o(13,c.language=e.language,c),o(13,c.isDetected=e.isDetected,c),o(13,c.isSupported=e.isSupported,c)},e=>{o(14,d=e)},()=>s,e=>{s=e},async(e=!1)=>{if(e&&o(13,c={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1}),c.hasAttemptedLanguageDetection||await g(),I_(l,i.isZendeskEnabled),c.isSupported&&i.isZendeskEnabled){Y_(l);for(const e of G_(r)){const t=X_(e);t&&t.processRefreshUI()}}J_(r),m()},()=>{ev(r)},c,d]}class xh extends cu{constructor(e){super(),lu(this,e,$h,Eh,kc,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class Sh{static HTML_TAG_NAME="deepl-zendesk-ticket-controller";static createElement=(e=document)=>{const t=e.createElement(Sh.HTML_TAG_NAME),n=new Sh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getTicketId=n.getTicketId,t.getPane=n.getPane,t.getTicketLanguageInformation=n.getTicketLanguageInformation,t.getIsAutoTranslatedEnabled=n.getIsAutoTranslatedEnabled,t.setIsAutoTranslateEnabled=n.setIsAutoTranslateEnabled,t.getInputWorkingArea=n.getInputWorkingArea,t.setLanguageInformation=n.setLanguageInformation,t.getTicketType=n.getTicketType,t.setTicketType=n.setTicketType,t.processRefreshUI=n.processRefreshUI,t.getInputHasSelection=n.getInputHasSelection,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({ticketId:e,pane:t})=>{this.domElement.mainComponent=new xh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this.domElement,ticketId:e,pane:t}})};getTicketId=()=>this.domElement.mainComponent?.getTicketId();getPane=()=>this.domElement.mainComponent?.getPane();getTicketLanguageInformation=()=>this.domElement.mainComponent?.getTicketLanguageInformation();getIsAutoTranslatedEnabled=()=>this.domElement.mainComponent?.getIsAutoTranslatedEnabled();setIsAutoTranslateEnabled=e=>{this.domElement.mainComponent?.setIsAutoTranslateEnabled(e)};getInputWorkingArea=()=>this.domElement.shadowContainer.querySelector(".dl-zendesk-working-area");setLanguageInformation=e=>{this.domElement.mainComponent?.setLanguageInformation(e)};getTicketType=()=>this.domElement.mainComponent?.getTicketType();setTicketType=e=>{this.domElement.mainComponent?.setTicketType(e)};processRefreshUI=(e=!1)=>{this.domElement.mainComponent.processRefreshUI(e)};getInputHasSelection=()=>this.domElement.mainComponent?.getInputHasSelection();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Ch(e){let t,n,o,i,s;return n=new Rp({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=Jc("div"),su(n.$$.fragment)},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=id(t,"mousedown",rd(sd(e[7]))),i=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,s()}}}function Lh(e,t,n){let o,i;const s=Cd(),r=Zi();let{value:a}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,a=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...r]),96&e.$$.dirty&&n(2,i=c?a?r.find((e=>e.value===a)):void 0:u)},[l,d,i,o,function(e){e.detail.selectedOption.value!==a&&s("selection",e.detail)},a,c,function(t){Ad.call(this,e,t)}]}class kh extends cu{constructor(e){super(),lu(this,e,Lh,Ch,kc,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function Ah(e){let t,n,o,i;function s(e,t){return e[1]?Oh:Mh}let r=s(e),a=r(e);return{c(){t=Jc("button"),a.c(),ad(t,"class","translate-all svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,s){Xc(n,t,s),a.m(t,null),o||(i=id(t,"click",e[6]),o=!0)},p(e,o){r===(r=s(e))&&a?a.p(e,o):(a.d(1),a=r(e),a&&(a.c(),a.m(t,null))),1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},i:Ec,o:Ec,d(e){e&&Kc(t),a.d(),o=!1,i()}}}function Ih(e){let t,n;return t=new Sp({props:{tooltip:chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[Nh]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),131073&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Mh(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Oh(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Nh(e){let t,n,o,i;return{c(){t=Jc("button"),ad(t,"class","translate-all btn-icon svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,s){Xc(n,t,s),o||(i=id(t,"click",e[6]),o=!0)},p(e,o){1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},d(e){e&&Kc(t),o=!1,i()}}}function Rh(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;c=new kh({props:{value:e[0].language,isDetected:e[0].isDetected,isSupported:e[0].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const _=[Ih,Ah],v=[];function w(e,t){return"sm"===e[4]?0:1}return p=w(e),m=v[p]=_[p](e),{c(){t=Jc("div"),n=Jc("div"),o=Jc("button"),i=nd(),s=Jc("div"),r=Jc("div"),r.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,a=nd(),l=Jc("div"),su(c.$$.fragment),d=nd(),u=Jc("div"),m.c(),ad(o,"class","senders-language-toggle svelte-147seig"),ad(r,"class","label svelte-147seig"),ad(l,"class","dropdown-container svelte-147seig"),ad(s,"class","container svelte-147seig"),gd(s,"show",e[3]),ad(n,"class","senders-language svelte-147seig"),ad(u,"class","translate-all-container"),ad(t,"class","dl-zendesk-toolbar svelte-147seig"),ad(t,"dir",es()),gd(t,"toolbar-sm","sm"===e[4]),gd(t,"toolbar-md","md"===e[4]),gd(t,"toolbar-lg","lg"===e[4])},m(m,_){Xc(m,t,_),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),Vc(s,r),Vc(s,a),Vc(s,l),ru(c,l,null),Vc(t,d),Vc(t,u),v[p].m(u,null),e[13](t),g=!0,h||(f=[id(o,"click",e[7]),Gc(Tp.call(null,n,{isShadow:!0})),id(n,"click_outside",e[12])],h=!0)},p(e,[n]){const o={};1&n&&(o.value=e[0].language),1&n&&(o.isDetected=e[0].isDetected),1&n&&(o.isSupported=e[0].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!g||8&n)&&gd(s,"show",e[3]);let i=p;p=w(e),p===i?v[p].p(e,n):(Yd(),Qd(v[i],1,1,(()=>{v[i]=null})),Xd(),m=v[p],m?m.p(e,n):(m=v[p]=_[p](e),m.c()),Kd(m,1),m.m(u,null)),(!g||16&n)&&gd(t,"toolbar-sm","sm"===e[4]),(!g||16&n)&&gd(t,"toolbar-md","md"===e[4]),(!g||16&n)&&gd(t,"toolbar-lg","lg"===e[4])},i(e){g||(Kd(c.$$.fragment,e),Kd(m),g=!0)},o(e){Qd(c.$$.fragment,e),Qd(m),g=!1},d(n){n&&Kc(t),au(c),v[p].d(),e[13](null),h=!1,Cc(f)}}}function Dh(e,t,n){let o;Ld("text_direction",es());const i=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:s}=t;const r={language:"",isDetected:!1,isSupported:!1};let a,l,c,d=!1,u=!1;xd((()=>{c=Cp(a,(e=>{n(11,l=e.clientWidth)}))})),Sd((()=>{c&&c()}));return e.$$set=e=>{"controller"in e&&n(8,s=e.controller)},e.$$.update=()=>{2048&e.$$.dirty&&n(4,o=(e=>{const t=i.find((e=>e.isDefault));for(const t of i)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(l))},[r,d,a,u,o,e=>{const t=e.detail.selectedOption.value;s.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),rN({eventType:Pt,controller:s,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!d;s.setIsAutoTranslateEnabled(e),rN({eventType:e?Ut:Gt,controller:s,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,u=!u)},s,({language:e,isDetected:t,isSupported:o})=>{n(0,r.language=e,r),n(0,r.isDetected=t,r),n(0,r.isSupported=o,r)},e=>{n(1,d=e)},l,()=>n(3,u=!1),function(e){Md[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class Ph extends cu{constructor(e){super(),lu(this,e,Dh,Rh,kc,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class Uh{static HTML_TAG_NAME="deepl-zendesk-toolbar";static createElement=(e=document)=>{const t=e.createElement(Uh.HTML_TAG_NAME),n=new Uh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.updateLanguageInformation=n.updateLanguageInformation,t.updateAutoTranslateStatus=n.updateAutoTranslateStatus,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new Ph({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};updateLanguageInformation=e=>{this.domElement.mainComponent.updateLanguageInformation(e)};updateAutoTranslateStatus=e=>{this.domElement.mainComponent.updateAutoTranslateStatus(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Gh(e){let t,n,o,i,s;return n=new Jg({props:{error:e[1],close:e[2]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","container svelte-1wstx56"),ad(t,"dir",es())},m(e,o){Xc(e,t,o),ru(n,t,null),s=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){s||(Kd(n.$$.fragment,e),Ud((()=>{s&&(i&&i.end(1),o=eu(t,Vu,{x:100,duration:1e3}),o.start())})),s=!0)},o(e){Qd(n.$$.fragment,e),o&&o.invalidate(),i=tu(t,Vu,{x:100,duration:1e3}),s=!1},d(e){e&&Kc(t),au(n),e&&i&&i.end()}}}function Bh(e){let t,n,o=e[3]&&!1===e[0]&&Gh(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&Kd(o,1)):(o=Gh(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Wh(e,t,n){let o;Ic(e,rm,(e=>n(4,o=e))),Ld("text_direction",es());let{error:i}=t,{close:s}=t,{errorAlreadyShown:r}=t,a=!1;return xd((()=>{setTimeout((()=>{n(3,a=!0),n(0,r=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,i=e.error),"close"in e&&n(2,s=e.close),"errorAlreadyShown"in e&&n(0,r=e.errorAlreadyShown)},[r,i,s,a]}class zh extends cu{constructor(e){super(),lu(this,e,Wh,Bh,kc,{error:1,close:2,errorAlreadyShown:0})}}class Hh{static HTML_TAG_NAME="deepl-alert";static createElement=(e=document)=>{const t=e.createElement(Hh.HTML_TAG_NAME),n=new Hh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{const t="rtl"===es()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${R.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new zh({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}function jh(e){try{const t=Hh.createElement();document.documentElement.appendChild(t),t.createDOM(e),bp((()=>t.cleanupDOM))}catch(e){bs()&&console.log(e)}}const Fh=function(){let e={isDarkMode:ao()};const{subscribe:t,update:n}=uu(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>({...e,isDarkMode:ao()})))})),{subscribe:t,update:e=>{if(bs()&&!{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.DISABLE_DEBUG_LOGS){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>(e?.error?jh(e.error):rm.set(!1),{...t,...e,error:e.error?e.error:void 0})))}}}();e.websiteData=void 0;const qh=Fh.subscribe((t=>{e.websiteData={...t},t&&Object.keys(t).length>0&&Xn({action:"newWebsiteState",payload:{...t}})}));function Vh(e,t,n){const o=e.slice();return o[27]=t[n],o}function Zh(e,t,n){const o=e.slice();return o[27]=t[n],o}function Yh(e){let t,n,o,i,s;return n=new Rp({props:{disabled:e[1],items:e[16],defaultOption:e[18],placeholder:e[17],dataQaButton:e[15],dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11],autoHeight:e[12]}}),n.$on("valueselected",e[20]),{c(){t=Jc("div"),su(n.$$.fragment)},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=id(t,"mousedown",rd(sd(e[25]))),i=!0)},p(e,t){const o={};2&t[0]&&(o.disabled=e[1]),65536&t[0]&&(o.items=e[16]),262144&t[0]&&(o.defaultOption=e[18]),131072&t[0]&&(o.placeholder=e[17]),32768&t[0]&&(o.dataQaButton=e[15]),8&t[0]&&(o.customClass=e[3]),32&t[0]&&(o.variant=e[5]),64&t[0]&&(o.fontSize=e[6]),128&t[0]&&(o.alignRight=e[7]),256&t[0]&&(o.isBorderless=e[8]),512&t[0]&&(o.showSortCode=e[9]),1024&t[0]&&(o.extraPadding=e[10]),2048&t[0]&&(o.dropdownMaxHeight=e[11]),4096&t[0]&&(o.autoHeight=e[12]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,s()}}}function Xh(e){let t,n,o,i,s,r;function a(e,t){return e[0]?Jh:e[14]?Qh:void 0}let l=a(e),c=l&&l(e),d=ou(e[16]),u=[];for(let t=0;t<d.length;t+=1)u[t]=ef(Vh(e,d,t));return{c(){t=Jc("div"),n=Jc("select"),c&&c.c(),o=od();for(let e=0;e<u.length;e+=1)u[e].c();ad(n,"data-qa","deepl-language-selection"),ad(n,"data-testid",e[15]),ad(n,"aria-label","Select Language"),ad(n,"class","svelte-1gzvenb"),ad(t,"class",i=Pc("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")},m(i,a){Xc(i,t,a),Vc(t,n),c&&c.m(n,null),Vc(n,o);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(n,null);ud(n,e[2]),s||(r=id(n,"change",sd(e[26])),s=!0)},p(e,s){if(l===(l=a(e))&&c?c.p(e,s):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(n,o))),65536&s[0]){let t;for(d=ou(e[16]),t=0;t<d.length;t+=1){const o=Vh(e,d,t);u[t]?u[t].p(o,s):(u[t]=ef(o),u[t].c(),u[t].m(n,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=d.length}65540&s[0]&&ud(n,e[2]),32768&s[0]&&ad(n,"data-testid",e[15]),32&s[0]&&i!==(i=Pc("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")&&ad(t,"class",i)},i:Ec,o:Ec,d(e){e&&Kc(t),c&&c.d(),Qc(u,e),s=!1,r()}}}function Kh(e){let t,n,o,i,s=ou(e[16]),r=[];for(let t=0;t<s.length;t+=1)r[t]=tf(Zh(e,s,t));return{c(){t=Jc("div"),n=Jc("select");for(let e=0;e<r.length;e+=1)r[e].c();n.disabled=!0,ad(n,"data-qa","deepl-language-selection-readonly"),ad(n,"aria-label","Select Language - dropdown disabled"),ad(n,"class","svelte-1gzvenb"),ad(t,"class","language-selector read-only svelte-1gzvenb")},m(s,a){Xc(s,t,a),Vc(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);ud(n,e[2]),o||(i=id(n,"change",sd(of)),o=!0)},p(e,t){if(65536&t[0]){let o;for(s=ou(e[16]),o=0;o<s.length;o+=1){const i=Zh(e,s,o);r[o]?r[o].p(i,t):(r[o]=tf(i),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}65540&t[0]&&ud(n,e[2])},i:Ec,o:Ec,d(e){e&&Kc(t),Qc(r,e),o=!1,i()}}}function Qh(e){let t,n,o;return{c(){t=Jc("option"),n=td(e[14]),o=nd(),t.__value=void 0,cd(t,t.__value),ad(t,"data-option-regionalvariant",void 0)},m(e,i){Xc(e,t,i),Vc(t,n),Vc(t,o)},p(e,t){16384&t[0]&&ld(n,e[14])},d(e){e&&Kc(t)}}}function Jh(e){let t,n,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){t=Jc("option"),n=td(i),o=nd(),t.__value=void 0,cd(t,t.__value),ad(t,"data-option-regionalvariant",void 0)},m(e,i){Xc(e,t,i),Vc(t,n),Vc(t,o)},p:Ec,d(e){e&&Kc(t)}}}function ef(e){let t,n,o,i,s,r=e[27].label+"";return{c(){t=Jc("option"),n=td(r),o=nd(),t.__value=i=e[27].value,cd(t,t.__value),ad(t,"data-option-regionalvariant",s=e[27].regionalVariant)},m(e,i){Xc(e,t,i),Vc(t,n),Vc(t,o)},p(e,o){65536&o[0]&&r!==(r=e[27].label+"")&&ld(n,r),65536&o[0]&&i!==(i=e[27].value)&&(t.__value=i,cd(t,t.__value)),65536&o[0]&&s!==(s=e[27].regionalVariant)&&ad(t,"data-option-regionalvariant",s)},d(e){e&&Kc(t)}}}function tf(e){let t,n,o,i,s,r=e[27].label+"";return{c(){t=Jc("option"),n=td(r),o=nd(),t.__value=i=e[27].value,cd(t,t.__value),ad(t,"data-option-regionalvariant",s=e[27].regionalVariant)},m(e,i){Xc(e,t,i),Vc(t,n),Vc(t,o)},p(e,o){65536&o[0]&&r!==(r=e[27].label+"")&&ld(n,r),65536&o[0]&&i!==(i=e[27].value)&&(t.__value=i,cd(t,t.__value)),65536&o[0]&&s!==(s=e[27].regionalVariant)&&ad(t,"data-option-regionalvariant",s)},d(e){e&&Kc(t)}}}function nf(e){let t,n,o,i,s;const r=[Kh,Xh,Yh],a=[];function l(e,n){return e[13]?0:(null==t&&(t=!!sm()),t?1:2)}return n=l(e),o=a[n]=r[n](e),{c(){o.c(),i=od()},m(e,t){a[n].m(e,t),Xc(e,i,t),s=!0},p(e,t){let s=n;n=l(e),n===s?a[n].p(e,t):(Yd(),Qd(a[s],1,1,(()=>{a[s]=null})),Xd(),o=a[n],o?o.p(e,t):(o=a[n]=r[n](e),o.c()),Kd(o,1),o.m(i.parentNode,i))},i(e){s||(Kd(o),s=!0)},o(e){Qd(o),s=!1},d(e){e&&Kc(i),a[n].d(e)}}}const of=()=>{};function sf(e,t,n){let o,i,s=Ec,r=()=>(s(),s=Ac(p,(e=>n(24,i=e))),p);e.$$.on_destroy.push((()=>s()));const a=Cd();let{value:l}=t,{showChooseLanguageOption:d=!1}=t,{customClass:u=""}=t,{websiteSettings:p}=t;r();let m,g,{disabled:h=!1}=t,{variant:f="original"}=t,{fontSize:_="default"}=t,{alignRight:v=!1}=t,{isBorderless:w=!1}=t,{showSortCode:T=!1}=t,{extraPadding:b=!1}=t,{showRegionalVariants:y=!0}=t,{dropdownMaxHeight:E=300}=t,{onlyShowWriteEnabledLanguages:$=!1}=t,{autoHeight:x}=t,{readOnly:S=!1}=t,{placeholderText:C}=t,{dataQaButton:L="deepl-language-selection-button"}=t,{languages:k}=t;m=d?chrome.i18n.getMessage("supported_languages_undefined"):void 0,C&&(d=!1,m=C);return e.$$set=e=>{"value"in e&&n(2,l=e.value),"showChooseLanguageOption"in e&&n(0,d=e.showChooseLanguageOption),"customClass"in e&&n(3,u=e.customClass),"websiteSettings"in e&&r(n(4,p=e.websiteSettings)),"disabled"in e&&n(1,h=e.disabled),"variant"in e&&n(5,f=e.variant),"fontSize"in e&&n(6,_=e.fontSize),"alignRight"in e&&n(7,v=e.alignRight),"isBorderless"in e&&n(8,w=e.isBorderless),"showSortCode"in e&&n(9,T=e.showSortCode),"extraPadding"in e&&n(10,b=e.extraPadding),"showRegionalVariants"in e&&n(21,y=e.showRegionalVariants),"dropdownMaxHeight"in e&&n(11,E=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&n(22,$=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&n(12,x=e.autoHeight),"readOnly"in e&&n(13,S=e.readOnly),"placeholderText"in e&&n(14,C=e.placeholderText),"dataQaButton"in e&&n(15,L=e.dataQaButton),"languages"in e&&n(23,k=e.languages)},e.$$.update=()=>{14745600&e.$$.dirty[0]&&(k?n(16,g=k):(n(16,g=y?Zi():Yi()),$&&n(16,g=g.filter((e=>Qi(e.value)))))),65540&e.$$.dirty[0]&&n(18,o=l?g.find((e=>e.value===l)):void 0),16777216&e.$$.dirty[0]&&(i&&i.translationState===c.ongoingTranslation?n(1,h=!0):i&&[c.none,c.isTranslationComplete].includes(i.translationState)&&n(1,h=!1))},[d,h,l,u,p,f,_,v,w,T,b,E,x,S,C,L,g,m,o,a,function(e){h||a("selection",e.detail)},y,$,k,i,function(t){Ad.call(this,e,t)},e=>{if(h)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;a("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class rf extends cu{constructor(e){super(),lu(this,e,sf,nf,kc,{value:2,showChooseLanguageOption:0,customClass:3,websiteSettings:4,disabled:1,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:21,dropdownMaxHeight:11,onlyShowWriteEnabledLanguages:22,autoHeight:12,readOnly:13,placeholderText:14,dataQaButton:15,languages:23},null,[-1,-1])}}function af(e){let t,n,o,i;return{c(){t=ed("svg"),n=ed("path"),ad(n,"d","M1 7L5 11L15 1"),ad(n,"stroke",o=e[0]?e[3]:e[4]),ad(n,"stroke-width","2"),ad(n,"stroke-linecap","round"),ad(n,"stroke-linejoin","round"),ad(n,"class","svelte-mrm8jk"),ad(t,"width",e[2]),ad(t,"height",e[1]),ad(t,"class","checkmark svelte-mrm8jk"),ad(t,"viewBox","0 0 16 12"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg"),ad(t,"style",i=`padding: ${e[6]};`),gd(t,"enableHover",e[5])},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,[s]){25&s&&o!==(o=e[0]?e[3]:e[4])&&ad(n,"stroke",o),4&s&&ad(t,"width",e[2]),2&s&&ad(t,"height",e[1]),64&s&&i!==(i=`padding: ${e[6]};`)&&ad(t,"style",i),32&s&&gd(t,"enableHover",e[5])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function lf(e,t,n){let{disabled:o=!1}=t,{height:i="16px"}=t,{width:s="16px"}=t,{disabledColor:r="#727A83"}=t,{enabledColor:a="#007E5E"}=t,{enableHover:l=!1}=t,{padding:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"height"in e&&n(1,i=e.height),"width"in e&&n(2,s=e.width),"disabledColor"in e&&n(3,r=e.disabledColor),"enabledColor"in e&&n(4,a=e.enabledColor),"enableHover"in e&&n(5,l=e.enableHover),"padding"in e&&n(6,c=e.padding)},[o,i,s,r,a,l,c]}class cf extends cu{constructor(e){super(),lu(this,e,lf,af,kc,{disabled:0,height:1,width:2,disabledColor:3,enabledColor:4,enableHover:5,padding:6})}}function df(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function uf(e,t,n){const o=e.slice();return o[22]=t[n],o}function pf(e,t,n){const o=e.slice();return o[25]=t[n],o}function mf(e){let t,n,o,i,s,r,a,l,c,d,u=e[5].name+"",p=ou(e[5].termDictionaries),m=[];for(let t=0;t<p.length;t+=1)m[t]=gf(pf(e,p,t));let g=e[5].hasAdditionalPairs&&hf(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=td(u),s=nd();for(let e=0;e<m.length;e+=1)m[e].c();r=nd(),g&&g.c(),a=nd(),l=Jc("div"),l.textContent="Remove",ad(o,"class","title"),ad(l,"class","remove-button svelte-1ium3jp"),ad(n,"class","glossary-menu-active-glossary-display svelte-1ium3jp"),ad(t,"class","glossary-menu-active-glossary-display-container svelte-1ium3jp")},m(u,p){Xc(u,t,p),Vc(t,n),Vc(n,o),Vc(o,i),Vc(n,s);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(n,null);Vc(n,r),g&&g.m(n,null),Vc(n,a),Vc(n,l),c||(d=id(l,"click",e[9]),c=!0)},p(e,t){if(32&t&&u!==(u=e[5].name+"")&&ld(i,u),2080&t){let o;for(p=ou(e[5].termDictionaries),o=0;o<p.length;o+=1){const i=pf(e,p,o);m[o]?m[o].p(i,t):(m[o]=gf(i),m[o].c(),m[o].m(n,r))}for(;o<m.length;o+=1)m[o].d(1);m.length=p.length}e[5].hasAdditionalPairs?g?g.p(e,t):(g=hf(e),g.c(),g.m(n,a)):g&&(g.d(1),g=null)},d(e){e&&Kc(t),Qc(m,e),g&&g.d(),c=!1,d()}}}function gf(e){let t,n=e[11](e[25].languagePair)+"";return{c(){t=Jc("div"),ad(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Xc(e,t,o),t.innerHTML=n},p(e,o){32&o&&n!==(n=e[11](e[25].languagePair)+"")&&(t.innerHTML=n)},d(e){e&&Kc(t)}}}function hf(e){let t,n,o;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,ad(t,"class","show-more svelte-1ium3jp")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[13]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function ff(e){let t;function n(e,t){return e[0]?e[3]||0!==e[1].length?_f:vf:wf}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function _f(e){let t,n=ou(e[6]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Ef(df(e,n,t));return{c(){t=Jc("div");for(let e=0;e<o.length;e+=1)o[e].c();ad(t,"class","glossary-list svelte-1ium3jp")},m(e,n){Xc(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(3270&i){let s;for(n=ou(e[6]),s=0;s<n.length;s+=1){const r=df(e,n,s);o[s]?o[s].p(r,i):(o[s]=Ef(r),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&Kc(t),Qc(o,e)}}}function vf(e){let t,n,o,i,s;return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=nd(),s=Jc("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_no_glossaries_found")}`,ad(o,"class","icon-container svelte-1ium3jp"),ad(s,"class","content svelte-1ium3jp"),ad(n,"class","container svelte-1ium3jp"),ad(t,"class","glossary-not-found svelte-1ium3jp")},m(e,r){Xc(e,t,r),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s)},p:Ec,d(e){e&&Kc(t)}}}function wf(e){let t,n,o,i,s;return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=nd(),s=Jc("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_not_pro_user_body")}`,ad(o,"class","icon-container svelte-1ium3jp"),ad(s,"class","content svelte-1ium3jp"),ad(n,"class","container svelte-1ium3jp"),ad(t,"class","glossary-not-found svelte-1ium3jp")},m(e,r){Xc(e,t,r),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s)},p:Ec,d(e){e&&Kc(t)}}}function Tf(e){let t,n,o=e[11](e[22].languagePair)+"";return{c(){t=Jc("div"),n=td(o),ad(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){64&t&&o!==(o=e[11](e[22].languagePair)+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function bf(e){let t,n,o;function i(){return e[14](e[19])}return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,ad(t,"class","show-more svelte-1ium3jp")},m(e,s){Xc(e,t,s),n||(o=id(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&Kc(t),n=!1,o()}}}function yf(e){let t;return{c(){t=Jc("div"),ad(t,"class","divider svelte-1ium3jp")},m(e,n){Xc(e,t,n)},d(e){e&&Kc(t)}}}function Ef(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=e[19].name+"",f=ou(e[19].termDictionaries),_=[];for(let t=0;t<f.length;t+=1)_[t]=Tf(uf(e,f,t));let v=e[19].hasAdditionalPairs&&bf(e);function w(){return e[15](e[19])}let T=e[21]<e[1].length-1&&yf();return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=td(h),s=nd();for(let e=0;e<_.length;e+=1)_[e].c();r=nd(),v&&v.c(),a=nd(),l=Jc("div"),c=Jc("input"),u=nd(),T&&T.c(),p=od(),ad(o,"class","name"),ad(n,"class","info svelte-1ium3jp"),ad(c,"type","radio"),c.checked=d=e[2]?.zendeskActiveTermbase?.id===e[19].id,ad(c,"class","svelte-1ium3jp"),ad(l,"class","radio-container svelte-1ium3jp"),ad(t,"class","glossary-item svelte-1ium3jp")},m(e,d){Xc(e,t,d),Vc(t,n),Vc(n,o),Vc(o,i),Vc(n,s);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(n,null);Vc(n,r),v&&v.m(n,null),Vc(t,a),Vc(t,l),Vc(l,c),Xc(e,u,d),T&&T.m(e,d),Xc(e,p,d),m||(g=id(c,"click",w),m=!0)},p(t,o){if(e=t,64&o&&h!==(h=e[19].name+"")&&ld(i,h),2112&o){let t;for(f=ou(e[19].termDictionaries),t=0;t<f.length;t+=1){const i=uf(e,f,t);_[t]?_[t].p(i,o):(_[t]=Tf(i),_[t].c(),_[t].m(n,r))}for(;t<_.length;t+=1)_[t].d(1);_.length=f.length}e[19].hasAdditionalPairs?v?v.p(e,o):(v=bf(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),68&o&&d!==(d=e[2]?.zendeskActiveTermbase?.id===e[19].id)&&(c.checked=d),e[21]<e[1].length-1?T||(T=yf(),T.c(),T.m(p.parentNode,p)):T&&(T.d(1),T=null)},d(e){e&&(Kc(t),Kc(u),Kc(p)),Qc(_,e),v&&v.d(),T&&T.d(e),m=!1,g()}}}function $f(e){let t,n,o,i,s,r,a,l,c,d,u,p=e[5]&&mf(e),m=e[4]&&ff(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=Jc("div"),i.textContent="Glossary",s=nd(),r=Jc("div"),a=nd(),p&&p.c(),l=nd(),m&&m.c(),c=od(),ad(i,"class","glossary-menu-text"),ad(r,"class","glossary-menu-toggle svelte-1ium3jp"),gd(r,"isGlossaryListExpanded",e[4]),ad(o,"class","glossary-menu-toggle-container svelte-1ium3jp"),ad(n,"class","glossary-menu"),ad(t,"class","glossary-menu-container svelte-1ium3jp"),gd(t,"isGlossaryListExpanded",e[4])},m(g,h){Xc(g,t,h),Vc(t,n),Vc(n,o),Vc(o,i),Vc(o,s),Vc(o,r),Vc(n,a),p&&p.m(n,null),Xc(g,l,h),m&&m.m(g,h),Xc(g,c,h),d||(u=id(o,"click",e[8]),d=!0)},p(e,[o]){16&o&&gd(r,"isGlossaryListExpanded",e[4]),e[5]?p?p.p(e,o):(p=mf(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null),16&o&&gd(t,"isGlossaryListExpanded",e[4]),e[4]?m?m.p(e,o):(m=ff(e),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(l),Kc(c)),p&&p.d(),m&&m.d(e),d=!1,u()}}}function xf(e,t,n){let o;Ic(e,gu,(e=>n(2,o=e)));let{userHasZendeskPermissions:i}=t,s=[],r=!0,a=!1,l=[],c=null,d=[];const u=e=>{n(12,l=[...l,e])},p=e=>{const t=s.find((t=>t.id===e));t&&(Uc(gu,o.zendeskActiveTermbase=t,o),Xn({action:qn.dlTrackGlossaryEnabled,payload:{nicheIntegration:kt.zendesk}}))},m=async()=>{n(3,r=!0);try{const[e]=await XO();n(1,s=e)}catch(e){bs()&&console.error(e)}finally{(()=>{if(!o.zendeskActiveTermbase)return;if(!s||0===s.length)return void Uc(gu,o.zendeskActiveTermbase=null,o);const e=s.map((e=>e.id));if(o.zendeskActiveTermbase&&e.includes(o.zendeskActiveTermbase.id)){const e=s.find((e=>e.id===o.zendeskActiveTermbase.id));Uc(gu,o.zendeskActiveTermbase=e,o)}else Uc(gu,o.zendeskActiveTermbase=null,o)})(),n(3,r=!1)}},g=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive&&m();return!0};xd((()=>{m(),chrome.runtime.onMessage.addListener(g)})),Sd((()=>{chrome.runtime.onMessage.removeListener(g)}));return e.$$set=e=>{"userHasZendeskPermissions"in e&&n(0,i=e.userHasZendeskPermissions)},e.$$.update=()=>{4098&e.$$.dirty&&n(6,d=s.map((e=>l.includes(e.id)||e.termDictionaries.length<=3?e:{...e,termDictionaries:e.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))),4&e.$$.dirty&&(o.zendeskActiveTermbase||n(5,c=null)),4100&e.$$.dirty&&o.zendeskActiveTermbase&&(l.includes(o.zendeskActiveTermbase.id)||o.zendeskActiveTermbase.termDictionaries.length<=3?n(5,c=o.zendeskActiveTermbase):n(5,c={...o.zendeskActiveTermbase,termDictionaries:o.zendeskActiveTermbase.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))},[i,s,o,r,a,c,d,u,()=>{n(4,a=!a),a&&(i||Xn({action:qn.dlTrackZendeskGlossaryOpened,payload:{glossaryConfigOpenedWithoutGlossaryPermissions:!0}}),i&&!r&&0==s.length&&Xn({action:qn.dlTrackZendeskGlossaryOpened,payload:{glossaryConfigOpenedWithNoGlossariesFound:!0}}))},()=>{Uc(gu,o.zendeskActiveTermbase=null,o),Xn({action:qn.dlTrackGlossaryDisabled,payload:{nicheIntegration:kt.zendesk}})},p,e=>{if(!e||!e.includes(">"))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} â ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`},l,()=>{u(c.id)},e=>{u(e.id)},e=>p(e.id)]}class Sf extends cu{constructor(e){super(),lu(this,e,xf,$f,kc,{userHasZendeskPermissions:0})}}function Cf(e){let t,n,o,i,s,r;const a=e[1].default,l=Mc(a,e,e[0],null);return{c(){t=Jc("div"),n=Jc("div"),o=ed("svg"),i=ed("path"),s=nd(),l&&l.c(),ad(i,"d","M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"),ad(i,"stroke","#D6A300"),ad(i,"stroke-width","1.5"),ad(i,"stroke-linecap","round"),ad(i,"stroke-linejoin","round"),ad(o,"width","24"),ad(o,"height","24"),ad(o,"viewBox","0 0 24 24"),ad(o,"fill","none"),ad(o,"xmlns","http://www.w3.org/2000/svg"),ad(n,"class","content svelte-hf4zwi"),ad(t,"class","container svelte-hf4zwi")},m(e,a){Xc(e,t,a),Vc(t,n),Vc(n,o),Vc(o,i),Vc(n,s),l&&l.m(n,null),r=!0},p(e,[t]){l&&l.p&&(!r||1&t)&&Rc(l,a,e,e[0],r?Nc(a,e[0],t,null):Dc(e[0]),null)},i(e){r||(Kd(l,e),r=!0)},o(e){Qd(l,e),r=!1},d(e){e&&Kc(t),l&&l.d(e)}}}function Lf(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,o]}class kf extends cu{constructor(e){super(),lu(this,e,Lf,Cf,kc,{})}}function Af(e){let t,n,o,i,s,r=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"";return{c(){t=Jc("div"),n=Jc("div"),o=td(e[0]),i=nd(),s=Jc("div"),ad(n,"class","info-text svelte-62gn63"),ad(s,"class","translation-info svelte-62gn63"),ad(t,"class","container svelte-62gn63")},m(e,a){Xc(e,t,a),Vc(t,n),Vc(n,o),Vc(t,i),Vc(t,s),s.innerHTML=r},p(e,[t]){1&t&&ld(o,e[0]),2&t&&r!==(r=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"")&&(s.innerHTML=r)},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function If(e,t,n){let{infoText:o}=t,{translationCount:i}=t;return e.$$set=e=>{"infoText"in e&&n(0,o=e.infoText),"translationCount"in e&&n(1,i=e.translationCount)},[o,i]}class Mf extends cu{constructor(e){super(),lu(this,e,If,Af,kc,{infoText:0,translationCount:1})}}function Of(e){let t,n,o,i,s=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2]])+"",r=chrome.i18n.getMessage("zendesk_popup_char_limit_content")+"";return{c(){t=Jc("div"),n=td(s),o=nd(),i=td(r),ad(t,"class","translation-count svelte-6kl6z0")},m(e,s){Xc(e,t,s),Vc(t,n),Xc(e,o,s),Xc(e,i,s)},p(e,t){4&t&&s!==(s=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2]])+"")&&ld(n,s)},i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(o),Kc(i))}}}function Nf(e){let t,n;return t=new kf({props:{$$slots:{default:[Pf]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Rf(e){let t,n;return t=new kf({props:{$$slots:{default:[Uf]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Df(e){let t,n,o,i,s,r;const a=[Wf,Bf,Gf],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),null==t&&(t=!!to(e[1],qt.TRANSLATOR)),t?0:(null==n&&(n=!!so(e[1],qt.TRANSLATOR)),n?1:2)}return o=c(e,-1),i=l[o]=a[o](e),{c(){i.c(),s=od()},m(e,t){l[o].m(e,t),Xc(e,s,t),r=!0},p(e,t){let n=o;o=c(e,t),o===n?l[o].p(e,t):(Yd(),Qd(l[n],1,1,(()=>{l[n]=null})),Xd(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Kd(i,1),i.m(s.parentNode,s))},i(e){r||(Kd(i),r=!0)},o(e){Qd(i),r=!1},d(e){e&&Kc(s),l[o].d(e)}}}function Pf(e){let t,n;return t=new Mf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_infobox"),translationCount:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Uf(e){let t,n;return t=new Mf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Gf(e){let t,n,o,i;return{c(){t=Jc("div"),n=Jc("div"),o=nd(),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,ad(n,"class","icon svelte-6kl6z0"),ad(i,"class","text svelte-6kl6z0"),ad(t,"class","upgrade-infobox svelte-6kl6z0")},m(e,s){Xc(e,t,s),Vc(t,n),Vc(t,o),Vc(t,i)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}function Bf(e){let t,n;return t=new kf({props:{$$slots:{default:[zf]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Wf(e){let t,n;return t=new kf({props:{$$slots:{default:[Hf]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function zf(e){let t,n;return t=new Mf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_free_account_infobox"),translationCount:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Hf(e){let t,n;return t=new Mf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function jf(e){let t,n,o,i,s,r;const a=[Df,Rf,Nf,Of],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),e[0]?0:(null==t&&(t=!!to(e[1],qt.TRANSLATOR)),t?1:(null==n&&(n=!!so(e[1],qt.TRANSLATOR)),n?2:3))}return o=c(e,-1),i=l[o]=a[o](e),{c(){i.c(),s=od()},m(e,t){l[o].m(e,t),Xc(e,s,t),r=!0},p(e,[t]){let n=o;o=c(e,t),o===n?l[o].p(e,t):(Yd(),Qd(l[n],1,1,(()=>{l[n]=null})),Xd(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Kd(i,1),i.m(s.parentNode,s))},i(e){r||(Kd(i),r=!0)},o(e){Qd(i),r=!1},d(e){e&&Kc(s),l[o].d(e)}}}function Ff(e,t,n){let{limitReached:o}=t,{settings:i}=t,{remainingTranslations:s}=t;return e.$$set=e=>{"limitReached"in e&&n(0,o=e.limitReached),"settings"in e&&n(1,i=e.settings),"remainingTranslations"in e&&n(2,s=e.remainingTranslations)},[o,i,s]}class qf extends cu{constructor(e){super(),lu(this,e,Ff,jf,kc,{limitReached:0,settings:1,remainingTranslations:2})}}function Vf(e){let t,n=chrome.i18n.getMessage("contact_admin_info_write_disabled")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Zf(e){let t;return{c(){t=Jc("p"),t.textContent=`${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Yf(e){let t,n,o,i;function s(e,t){return e[0]===qt.TRANSLATOR?Zf:e[0]===qt.WRITE?Vf:void 0}let r=s(e),a=r&&r(e);return{c(){t=Jc("div"),n=Jc("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=nd(),i=Jc("div"),a&&a.c(),ad(n,"class","icon svelte-16jsbww"),ad(i,"class","text svelte-16jsbww"),ad(t,"class","container svelte-16jsbww")},m(e,s){Xc(e,t,s),Vc(t,n),Vc(t,o),Vc(t,i),a&&a.m(i,null)},p(e,[t]){r===(r=s(e))&&a?a.p(e,t):(a&&a.d(1),a=r&&r(e),a&&(a.c(),a.m(i,null)))},i:Ec,o:Ec,d(e){e&&Kc(t),a&&a.d()}}}function Xf(e,t,n){let{serviceName:o}=t;return e.$$set=e=>{"serviceName"in e&&n(0,o=e.serviceName)},[o]}class Kf extends cu{constructor(e){super(),lu(this,e,Xf,Yf,kc,{serviceName:0})}}function Qf(e,t,n){const o=e.slice();return o[18]=t[n],o}function Jf(e){let t,n,o,i,s,r;const a=[o_,n_,t_,e_],l=[];function c(e,t){return"onboarding"===e[5]?0:"user_has_reached_limit"===e[5]?1:"language_not_supported"===e[5]?2:3}n=c(e),o=l[n]=a[n](e);let d=!e[1]&&"onboarding"!==e[5]&&s_(e),u=(!e[3].isZendeskEnabled||"default"===e[5]||"onboarding"===e[5])&&!e[6]&&h_(e);return{c(){t=Jc("div"),o.c(),i=nd(),d&&d.c(),s=nd(),u&&u.c(),ad(t,"class","dl-zendesk-modal svelte-1fd792j"),gd(t,"onboarding","onboarding"===e[5])},m(e,o){Xc(e,t,o),l[n].m(t,null),Vc(t,i),d&&d.m(t,null),Vc(t,s),u&&u.m(t,null),r=!0},p(e,p){let m=n;n=c(e),n===m?l[n].p(e,p):(Yd(),Qd(l[m],1,1,(()=>{l[m]=null})),Xd(),o=l[n],o?o.p(e,p):(o=l[n]=a[n](e),o.c()),Kd(o,1),o.m(t,i)),e[1]||"onboarding"===e[5]?d&&(d.d(1),d=null):d?d.p(e,p):(d=s_(e),d.c(),d.m(t,s)),e[3].isZendeskEnabled&&"default"!==e[5]&&"onboarding"!==e[5]||e[6]?u&&(Yd(),Qd(u,1,1,(()=>{u=null})),Xd()):u?(u.p(e,p),104&p&&Kd(u,1)):(u=h_(e),u.c(),Kd(u,1),u.m(t,null)),(!r||32&p)&&gd(t,"onboarding","onboarding"===e[5])},i(e){r||(Kd(o),Kd(u),r=!0)},o(e){Qd(o),Qd(u),r=!1},d(e){e&&Kc(t),l[n].d(),d&&d.d(),u&&u.d()}}}function e_(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"",T=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"";n=new Sf({props:{userHasZendeskPermissions:e[1]}});let b=!e[1]&&i_(e);return d=new rf({props:{value:e[3].selectedTargetLanguage,websiteSettings:Fh,disabled:!e[3].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md",dropdownMaxHeight:150}}),d.$on("selection",e[14]),{c(){t=Jc("div"),su(n.$$.fragment),o=nd(),b&&b.c(),i=nd(),s=Jc("div"),r=td(w),a=nd(),l=Jc("div"),c=Jc("div"),su(d.$$.fragment),u=nd(),p=Jc("div"),m=Jc("button"),g=td(T),ad(t,"class","modal-section glossary svelte-1fd792j"),ad(c,"class","dropdown svelte-1fd792j"),ad(m,"class","btn-primary svelte-1fd792j"),m.disabled=h=!e[3].isZendeskEnabled,ad(p,"class","right svelte-1fd792j"),ad(l,"class","dropdown-container svelte-1fd792j"),ad(s,"class","modal-section language-selector svelte-1fd792j")},m(h,w){Xc(h,t,w),ru(n,t,null),Xc(h,o,w),b&&b.m(h,w),Xc(h,i,w),Xc(h,s,w),Vc(s,r),Vc(s,a),Vc(s,l),Vc(l,c),ru(d,c,null),Vc(l,u),Vc(l,p),Vc(p,m),Vc(m,g),f=!0,_||(v=id(m,"click",e[15]),_=!0)},p(e,t){const o={};2&t&&(o.userHasZendeskPermissions=e[1]),n.$set(o),e[1]?b&&(Yd(),Qd(b,1,1,(()=>{b=null})),Xd()):b?(b.p(e,t),2&t&&Kd(b,1)):(b=i_(e),b.c(),Kd(b,1),b.m(i.parentNode,i));const s={};8&t&&(s.value=e[3].selectedTargetLanguage),8&t&&(s.disabled=!e[3].isZendeskEnabled),d.$set(s),(!f||8&t&&h!==(h=!e[3].isZendeskEnabled))&&(m.disabled=h)},i(e){f||(Kd(n.$$.fragment,e),Kd(b),Kd(d.$$.fragment,e),f=!0)},o(e){Qd(n.$$.fragment,e),Qd(b),Qd(d.$$.fragment,e),f=!1},d(e){e&&(Kc(t),Kc(o),Kc(i),Kc(s)),au(n),b&&b.d(e),au(d),_=!1,v()}}}function t_(e){let t,n,o;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=nd(),o=Jc("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,ad(t,"class","modal-section language-not-supported svelte-1fd792j"),ad(o,"class","modal-section secondary-text svelte-1fd792j")},m(e,i){Xc(e,t,i),Xc(e,n,i),Xc(e,o,i)},p:Ec,i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o))}}}function n_(e){let t,n,o;return n=new qf({props:{limitReached:!0,remainingTranslations:e[7],settings:e[3]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","modal-section reached-limit svelte-1fd792j")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};128&t&&(o.remainingTranslations=e[7]),8&t&&(o.settings=e[3]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function o_(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T=chrome.i18n.getMessage("zendesk_onboarding_content_one",[Ft])+"",b=chrome.i18n.getMessage("zendesk_onboarding_content_two")+"",y=chrome.i18n.getMessage("zendesk_onboarding_content_three")+"";return r=new cf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new cf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new cf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Jc("div"),n=Jc("div"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,o=nd(),i=Jc("div"),s=Jc("div"),su(r.$$.fragment),a=nd(),l=Jc("div"),c=nd(),d=Jc("div"),su(u.$$.fragment),p=nd(),m=Jc("div"),g=nd(),h=Jc("div"),su(f.$$.fragment),_=nd(),v=Jc("div"),ad(n,"class","welcome svelte-1fd792j"),ad(l,"class","copy-text svelte-1fd792j"),ad(s,"class","copy svelte-1fd792j"),ad(m,"class","copy-text svelte-1fd792j"),ad(d,"class","copy svelte-1fd792j"),ad(v,"class","copy-text svelte-1fd792j"),ad(h,"class","copy svelte-1fd792j"),ad(i,"class","body svelte-1fd792j"),ad(t,"class","modal-section onboarding svelte-1fd792j")},m(e,E){Xc(e,t,E),Vc(t,n),Vc(t,o),Vc(t,i),Vc(i,s),ru(r,s,null),Vc(s,a),Vc(s,l),l.innerHTML=T,Vc(i,c),Vc(i,d),ru(u,d,null),Vc(d,p),Vc(d,m),m.innerHTML=b,Vc(i,g),Vc(i,h),ru(f,h,null),Vc(h,_),Vc(h,v),v.innerHTML=y,w=!0},p:Ec,i(e){w||(Kd(r.$$.fragment,e),Kd(u.$$.fragment,e),Kd(f.$$.fragment,e),w=!0)},o(e){Qd(r.$$.fragment,e),Qd(u.$$.fragment,e),Qd(f.$$.fragment,e),w=!1},d(e){e&&Kc(t),au(r),au(u),au(f)}}}function i_(e){let t,n,o;return n=new qf({props:{limitReached:!1,remainingTranslations:e[7],settings:e[3]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","modal-section svelte-1fd792j")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};128&t&&(o.remainingTranslations=e[7]),8&t&&(o.settings=e[3]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function s_(e){let t,n,o,i,s,r,a,l,c,d,u;function p(e,t){return 72&t&&(n=null),72&t&&(o=null),72&t&&(i=null),null==n&&(n=!(!to(e[3],qt.TRANSLATOR)||e[6])),n?c_:(null==o&&(o=!(!to(e[3],qt.TRANSLATOR)||!e[6])),o?l_:(null==i&&(i=!(!so(e[3],qt.TRANSLATOR)||e[6])),i?a_:e[6]?r_:void 0))}let m=p(e,-1),g=m&&m(e);function h(e,t){return 8&t&&(a=null),null==a&&(a=!!to(e[3],qt.TRANSLATOR)),a?u_:d_}let f=h(e,-1),_=f(e),v=ou(Xu(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),w=[];for(let t=0;t<v.length;t+=1)w[t]=g_(Qf(e,v,t));return{c(){t=Jc("div"),g&&g.c(),s=nd(),r=Jc("button"),_.c(),l=nd(),c=Jc("div");for(let e=0;e<w.length;e+=1)w[e].c();ad(r,"class","upgrade-button svelte-1fd792j"),ad(c,"class","login-text svelte-1fd792j"),ad(t,"class","modal-section upgrade-button-container svelte-1fd792j")},m(n,o){Xc(n,t,o),g&&g.m(t,null),Vc(t,s),Vc(t,r),_.m(r,null),Vc(t,l),Vc(t,c);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(c,null);d||(u=id(r,"click",e[11]),d=!0)},p(e,n){if(m===(m=p(e,n))&&g?g.p(e,n):(g&&g.d(1),g=m&&m(e),g&&(g.c(),g.m(t,s))),f===(f=h(e,n))&&_?_.p(e,n):(_.d(1),_=f(e),_&&(_.c(),_.m(r,null))),1024&n){let t;for(v=ou(Xu(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),t=0;t<v.length;t+=1){const o=Qf(e,v,t);w[t]?w[t].p(o,n):(w[t]=g_(o),w[t].c(),w[t].m(c,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=v.length}},d(e){e&&Kc(t),g&&g.d(),_.d(),Qc(w,e),d=!1,u()}}}function r_(e){let t,n=chrome.i18n.getMessage("zendesk_limit_reached_content")+"";return{c(){t=Jc("span"),ad(t,"class","svelte-1fd792j")},m(e,o){Xc(e,t,o),t.innerHTML=n},p:Ec,d(e){e&&Kc(t)}}}function a_(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_content")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function l_(e){let t,n,o=chrome.i18n.getMessage("zendesk_limit_reached_pro_user_content")+"";return{c(){t=new fd(!1),n=od(),t.a=n},m(e,i){t.m(o,e,i),Xc(e,n,i)},p:Ec,d(e){e&&(Kc(n),t.d())}}}function c_(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_content")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function d_(e){let t,n=chrome.i18n.getMessage("zendesk_try_pro_advanced_button")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function u_(e){let t,n=chrome.i18n.getMessage("zendesk_upgrade_cta")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function p_(e){let t,n,o=e[18].text+"";return{c(){t=new fd(!1),n=od(),t.a=n},m(e,i){t.m(o,e,i),Xc(e,n,i)},p:Ec,d(e){e&&(Kc(n),t.d())}}}function m_(e){let t,n,o,i=e[18].text+"";return{c(){t=Jc("span"),ad(t,"class","upgrade-link svelte-1fd792j")},m(s,r){Xc(s,t,r),t.innerHTML=i,n||(o=id(t,"click",e[10]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function g_(e){let t;let n=function(e){return"loginLink"===e[18].block?m_:p_}(e),o=n(e);return{c(){o.c(),t=od()},m(e,n){o.m(e,n),Xc(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Kc(t),o.d(e)}}}function h_(e){let t,n,o,i,s,r,a,l,c,d,u=e[2]&&f_();return{c(){t=Jc("div"),n=Jc("div"),n.textContent=`${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,o=nd(),i=Jc("div"),s=Jc("span"),s.innerHTML='<span class="svelte-1fd792j"></span>',r=nd(),u&&u.c(),a=od(),ad(n,"class","text svelte-1fd792j"),ad(s,"class","on-off-switch svelte-1fd792j"),gd(s,"on",e[3].isZendeskEnabled),ad(i,"class","switch"),ad(t,"class","modal-section switch-container svelte-1fd792j")},m(p,m){Xc(p,t,m),Vc(t,n),Vc(t,o),Vc(t,i),Vc(i,s),Xc(p,r,m),u&&u.m(p,m),Xc(p,a,m),l=!0,c||(d=id(s,"click",e[9]),c=!0)},p(e,t){(!l||8&t)&&gd(s,"on",e[3].isZendeskEnabled),e[2]?u?4&t&&Kd(u,1):(u=f_(),u.c(),Kd(u,1),u.m(a.parentNode,a)):u&&(Yd(),Qd(u,1,1,(()=>{u=null})),Xd())},i(e){l||(Kd(u),l=!0)},o(e){Qd(u),l=!1},d(e){e&&(Kc(t),Kc(r),Kc(a)),u&&u.d(e),c=!1,d()}}}function f_(e){let t,n,o;return n=new Kf({props:{serviceName:qt.TRANSLATOR}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","admin-info svelte-1fd792j")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function __(e){let t,n,o,i,s,r,a=e[4]&&Jf(e);return{c(){t=Jc("div"),n=Jc("button"),o=nd(),a&&a.c(),ad(n,"class","dl-zendesk-top-icon svelte-1fd792j"),ad(t,"dir",es())},m(l,c){Xc(l,t,c),Vc(t,n),Vc(t,o),a&&a.m(t,null),i=!0,s||(r=[id(n,"click",e[13]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[8])],s=!0)},p(e,[n]){e[4]?a?(a.p(e,n),16&n&&Kd(a,1)):(a=Jf(e),a.c(),Kd(a,1),a.m(t,null)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){i||(Kd(a),i=!0)},o(e){Qd(a),i=!1},d(e){e&&Kc(t),a&&a.d(),s=!1,Cc(r)}}}function v_(e,t,n){let o;Ic(e,gu,(e=>n(3,o=e))),Ld("text_direction",es());let i,s,{controller:r}=t,a=!1,l="default",c=!1,d=!1;const u=()=>{c?n(5,l="user_has_reached_limit"):o.isZendeskOnboarded?(n(4,a=!1),n(5,l="default")):(n(5,l="onboarding"),Uc(gu,o.isZendeskOnboarded=!0,o),Xn({action:qn.dlTrackOnboardingModalShown,payload:{nicheIntegration:kt.zendesk}}),n(4,a=!0))},p=()=>{"onboarding"===l&&(Uc(gu,o.isZendeskOnboarded=!0,o),n(5,l="default")),"welcome"===l&&n(5,l="default"),n(4,a=!1)};xd((()=>{u(),o.isZendeskEnabled&&(!o.zendeskActiveTermbase&&o.activeTermbaseId&&Uc(gu,o.zendeskActiveTermbase={id:o.activeTermbaseId},o),o.zendeskActiveTermbase&&(async()=>{if(!o.zendeskActiveTermbase)return;let e=[];try{const[t]=await XO();e=t}catch(e){bs()&&console.error(e)}if(!e||0===e.length)return void Uc(gu,o.zendeskActiveTermbase=null,o);const t=e.map((e=>e.id));if(o.zendeskActiveTermbase&&t.includes(o.zendeskActiveTermbase.id)){const t=e.find((e=>e.id===o.zendeskActiveTermbase.id));Uc(gu,o.zendeskActiveTermbase=t,o)}else Uc(gu,o.zendeskActiveTermbase=null,o)})())}));return e.$$set=e=>{"controller"in e&&n(0,r=e.controller)},e.$$.update=()=>{12&e.$$.dirty&&(n(2,s=oo(o,qt.TRANSLATOR)),s&&Uc(gu,o.isZendeskEnabled=!1,o)),8&e.$$.dirty&&n(1,d=o?.featureSet?.customizations?.includes("zendesk")),8&e.$$.dirty&&n(7,i=Ft-o.zendeskSuccessfulTranslations),10&e.$$.dirty&&(o.zendeskSuccessfulTranslations>=Ft&&!d?(n(6,c=!0),u()):(n(6,c=!1),u())),2&e.$$.dirty&&d&&(n(6,c=!1),n(5,l="default"))},[r,d,s,o,a,l,c,i,p,()=>{Uc(gu,o.isZendeskEnabled=!s&&!o.isZendeskEnabled,o)},()=>{Xn({action:Un.dlRequestLogin})},function(){Xn({action:qn.dlTrackUILocationClicked,payload:xe}),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"zendesk_customization"}})},u,()=>{a?p():n(4,a=!0)},e=>{Uc(gu,o.selectedTargetLanguage=e.detail.selectedOption.value,o),Q_(r)},()=>{o.isZendeskEnabled&&p()}]}class w_ extends cu{constructor(e){super(),lu(this,e,v_,__,kc,{controller:0,updateIconSettings:12})}get updateIconSettings(){return this.$$.ctx[12]}}class T_{static HTML_TAG_NAME="deepl-zendesk-top-icon";static createElement=(e=document)=>{const t=e.createElement(T_.HTML_TAG_NAME),n=new T_(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerUpdateIconSettings=n.triggerUpdateIconSettings,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new w_({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};triggerUpdateIconSettings=()=>{this.domElement.mainComponent.updateIconSettings()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const b_=[...yc].filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),y_=()=>{const e=new Pl({..._u,transport:Gl,stackParser:Yl,integrations:b_}),t=new Fa;return t.setClient(e),t.setContext("appContext",{location:"content"}),(e=>{chrome.storage.sync.get(["installationId","session",pu.isLoggedIn,pu.translatorServiceType,pu.writeServiceType],(function(t){e.setTag("internal_session_id",t?.session?.id),e.setTag("is_translator_pro",to(t,qt.TRANSLATOR)),e.setTag("is_write_pro",to(t,qt.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>(t?.session?.newValue&&e.setTag("internal_session_id",t.session.newValue.id),t?.installationId&&e.setUser({id:t.installationId}),t?.browser_instance_id&&e.setTag("browser_instance_id",gu.browserInstanceId.newValue),!0!==t.isLoggedIn?.newValue&&!1!==t.isLoggedIn?.newValue||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.sync.get([pu.isLoggedIn],e.setTag("is_translator_pro",to({...gu,translatorServiceType:t.translatorServiceType.newValue},qt.TRANSLATOR))),t.writeServiceType&&chrome.storage.sync.get([pu.isLoggedIn],e.setTag("is_write_pro",to({...gu,writeServiceType:t.writeServiceType.newValue},qt.WRITE))),!0)))})(t),{client:e,scope:t}},{scope:E_}=y_(),$_=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},x_=()=>document.querySelector("deepl-zendesk-controller"),S_=()=>ju.createElement(),C_=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},L_=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},k_=e=>e.querySelector("deepl-zendesk-ticket-controller"),A_=(e,t)=>{const n=Sh.createElement();return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},I_=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||R_(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||D_(n,e),n.querySelector("deepl-zendesk-input-icon")||P_(n,e)):n.querySelector("deepl-zendesk-toolbar")||D_(n,e)}catch(e){bs()&&console.error(e),vu(e,E_)}},M_=()=>{N_(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},O_=()=>{N_(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},N_=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){bs()&&console.error(e),vu(e,E_)}},R_=(e,t)=>{const n=T_.createElement(),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const i=o.parentElement;return i?(i.prepend(n),n.createDOM({controller:t}),n):void 0},D_=(e,t)=>{const n=Uh.createElement(),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},P_=(e,t)=>{const n=rh.createElement(),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"]'),i=o?o.querySelector('div[role="toolbar"]'):null,s=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(s&&i)return i.append(n),n.createDOM({controller:t,editable:s}),n},U_=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] div[data-test-id="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"]');return t?Ht:n?jt:void 0},G_=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),B_=e=>{const t=G_(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime"),o=t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},W_=(e,t)=>{const n=G_(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime"),o=t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},z_=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),H_=async e=>{const t=B_(e);if(t){const e=t?z_(t).innerText:"";return await Vi(e)}},j_=async e=>{const t=W_(e,12),n=[];for(const e in t)try{const o=t[e],i=o?z_(o).innerText:"",s=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),r=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==i.length)continue;let a=n.find((e=>e.id===s));const l=i.includes(`: ${r}`)&&i.indexOf(`: ${r}`)+`: ${r}`.length===i.length,c=0===Number(e);a||(a={id:s,name:r,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(a)),l&&(a.isLikelyCustomer=!0),c&&(a.isFirstMessage=!0),a.messages.push({message:i,shouldBeSkipped:l||i.length<=3})}catch(e){bs()&&console.log("Dev debug: unable to read message content in detectTicketLanguageInLiveChat",e)}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const i=o[0];if(i)return await Vi(i)},F_=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},q_=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},V_=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},Z_=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},Y_=e=>{try{const t=e.getPane(),n=G_(t);for(const t of n)X_(t)||K_(t,e)}catch(e){bs()&&console.error(e),vu(e,E_)}},X_=e=>e.querySelector("deepl-zendesk-message-controller"),K_=(e,t)=>{const n=_h.createElement(),o=z_(e);if(o)return o.after(n),n.createDOM({controller:t,message:e}),n},Q_=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},J_=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},ev=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},tv=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=yh.createElement();return s.createDOM({controller:e,coords:o,containerCoords:i}),n.prepend(s),s},nv=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},ov=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"mail.google.com"===e.hostname},iv=e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type),sv=e=>e.selectionStart<e.selectionEnd,rv=async(e,t,n)=>{if(!iv(e))return n||(e=>{wp("mousedown",e);const t=window.getSelection();t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),t.addRange(n),wp("mouseup",e)})(e),await fp(e,t,!0);if(sv(e)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(e,{start:0,end:e.value.length}),!document.execCommand("insertText",!1,t.text)){const n=e.value.substring(0,e.selectionStart)+t.text+e.value.substring(e.selectionEnd);e.value=n}};function av(e,t){if(!t)return!1;const n=t.getBoundingClientRect();if(iv(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e);let o=!1;try{o=lv(n,t)}catch(e){}return n.remove(),o}(e,n);{const t=tp(e).getSelection(),o=function(e){return"IFRAME"===e.nodeName.toUpperCase()?e.getBoundingClientRect():{top:0,left:0}}(e);if(t.rangeCount)return lv(op(e),n,o)}return!1}function lv(e,t,n={top:0,left:0}){const o=tp(e).getSelection();for(const r of e.childNodes)if("#text"===r.nodeName.toLowerCase()){const e=o.getRangeAt(0).cloneRange();e.setStart(r,0),e.setEnd(r,r.textContent.length);const a=e.getClientRects();if(!a.length)continue;for(const e of a){const o={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top};if(s=t,(i=o).left<=s.right&&i.right>=s.left&&i.top<=s.bottom&&i.bottom>=s.top)return!0}}else if(e.childNodes.length&&lv(r,t,n))return!0;var i,s;return!1}const cv=[/[^.]+\.deepl\.com/g,/[^.]+\.figma\.com/g],dv=[/docs.google\.com\/spreadsheets/g],uv=[/[^.]+\.deepl\.com/g];function pv(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function mv(e,t){return pv(e,cv)||pv(t,dv)}function gv(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function hv(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function fv(e){try{return new URL(e),!0}catch(e){return!1}}const _v=e=>{const t={"&":".","<":".",">":".",'"':".","'":".","#":".",";":".","%":".","\\":".","/":"."};return e.replace(/[&<>"'#;%\\/]/g,(function(e){return t[e]}))};function vv(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:i,left:s,right:r,bottom:a,height:l,width:c}=n,d={x:s-o.left,y:a-o.top,selectedTop:i,selectedBottom:a,selectedRight:o.width-r,selectedLeft:s+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}const wv=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},Tv=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)};function bv(e){const t=(e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=wv(n,e);if(i)n=i;else if(Tv(t))return o}return n=wv(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o})(e),n=e.selectionStart,o=e.selectionEnd,i=document.createElement("div");i.id="mirror",document.body.appendChild(i);const s=window.getComputedStyle(e);i.style.fontFamily=s.fontFamily,i.style.fontSize=s.fontSize,i.style.padding=s.padding,i.style.border=s.border,i.style.lineHeight=s.lineHeight,i.style.whiteSpace="pre-wrap",i.style.wordWrap="break-word",i.style.visibility="hidden",i.style.top=`${t.top+window.scrollY}px`,i.style.bottom=`${t.bottom+window.scrollY}px`,i.style.left=`${t.left}px`,i.style.height=s.height,i.style.width=`${t.width}px`,i.style.position="absolute";const r=_v(e.value.substring(0,n)),a=_v(e.value.substring(n,o)),l=_v(e.value.substring(o)),c=xi(r+'<span id="marker-start" style="position: absolute;">|</span>'+a+'<span id="marker-end" style="position: absolute;">|</span>'+l);i.innerHTML=c;const d=document.getElementById("marker-start"),u=document.getElementById("marker-end"),p=d.getBoundingClientRect(),m=u.getBoundingClientRect(),g=document.body.parentNode.getBoundingClientRect(),h=e.getBoundingClientRect(),f={x:p.left-g.left,y:h.top>0?m.bottom-g.top:m.bottom-g.top+h.top,selectedTop:p.top,selectedBottom:m.bottom,selectedRight:g.width-m.right,selectedLeft:p.left+window.pageXOffset,selectedWidth:m.right-p.right,height:m.bottom-p.top};return document.body.removeChild(i),f}function yv(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes))if(t.getBoundingClientRect||(t=n),n.getBoundingClientRect&&(n.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=n),n.hasChildNodes())){const e=yv(n);if(e?.getBoundingClientRect){const o=n.getBoundingClientRect(),i=e.getBoundingClientRect();o.right<i.right&&(t=e)}}return t}const Ev=e=>{const t=[],n=[];return Sv({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function $v(e){for(const t of e.childNodes)if("#text"!=t.nodeName&&"#comment"!=t.nodeName){if("block"==window.getComputedStyle(t).display)return!0;if($v(t))return!0}return!1}const xv=({strings:e,domElements:t})=>{for(const n in t)Array.isArray(e[n])?t[n].innerHTML=xi(e[n].join("")):t[n].innerHTML=xi(e[n])},Sv=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(function(e){if(Cv(e)||kv(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!Cv(t)&&(!Lv(t)||kv(t)||"inline"!=window.getComputedStyle(t).display||$v(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return Cv(t)}return!0}(n))e.push(n),t.push(xi(n.innerHTML));else for(const o of n.childNodes)Sv({domElements:e,strings:t,element:o})};const Cv=e=>"#text"==e.nodeName||"#comment"==e.nodeName,Lv=e=>Nt.includes(e.nodeName.toLowerCase()),kv=e=>Ot.includes(e.nodeName.toLowerCase());function Av(e){const t=[];for(;null!=e.parentNode;){let n=0,o=0;for(const t of e.parentNode.childNodes)t.nodeName===e.nodeName&&(t===e&&(o=n),n++);e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":nth-child("+(o+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t.slice(1)}function Iv(e){let t;return{c(){t=Jc("div"),ad(t,"class","loader svelte-i1g3gv"),gd(t,"small",e[0])},m(e,n){Xc(e,t,n)},p(e,[n]){1&n&&gd(t,"small",e[0])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function Mv(e,t,n){let{small:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small)},[o]}class Ov extends cu{constructor(e){super(),lu(this,e,Mv,Iv,kc,{small:0})}}const Nv={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",settings_customizations:"SETTINGS_CUSTOMIZATIONS",settings_glossary:"SETTINGS_GLOSSARY",onboarding:"ONBOARDING",onboarding_after_successful_login:"ONBOARDING_AFTER_SUCCESSFUL_LOGIN",firefox_first_run:"FIREFOX_FIRST_RUN",privacy_policy:"PRIVACY_POLICY",create_account:"CREATE_ACCOUNT"};function Rv(e){let t,n,o,i,s,r;return{c(){t=Jc("div"),n=Jc("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=nd(),i=Jc("span"),ad(i,"class","icon icon-external-link svelte-1yv621f"),ad(t,"class","settings-link svelte-1yv621f")},m(a,l){Xc(a,t,l),Vc(t,n),Vc(t,o),Vc(t,i),s||(r=id(t,"click",rd(sd(e[0]))),s=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),s=!1,r()}}}function Dv(e,t,n){let{page:o=Nv.settings_page}=t;return e.$$set=e=>{"page"in e&&n(1,o=e.page)},[function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:o}})},o]}class Pv extends cu{constructor(e){super(),lu(this,e,Dv,Rv,kc,{page:1})}}function Uv(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"type","button"),ad(t,"class","close-icon svelte-nskp1z")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[0]),n=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,o()}}}function Gv(e){return[function(t){Ad.call(this,e,t)}]}class Bv extends cu{constructor(e){super(),lu(this,e,Gv,Uv,kc,{})}}function Wv(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;return i=new Bv({}),i.$on("click",e[2]),c=new rf({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),p=new Pv({}),{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),su(i.$$.fragment),s=nd(),r=Jc("div"),a=Jc("p"),a.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=nd(),su(c.$$.fragment),d=nd(),u=Jc("div"),su(p.$$.fragment),ad(o,"class","close-icon-container svelte-8cr9h0"),ad(n,"class","header"),ad(a,"class","label-language-switch svelte-8cr9h0"),ad(r,"class","body svelte-8cr9h0"),ad(u,"class","footer svelte-8cr9h0"),ad(t,"class","container svelte-8cr9h0")},m(e,g){Xc(e,t,g),Vc(t,n),Vc(n,o),ru(i,o,null),Vc(t,s),Vc(t,r),Vc(r,a),Vc(r,l),ru(c,r,null),Vc(t,d),Vc(t,u),ru(p,u,null),m=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){m||(Kd(i.$$.fragment,e),Kd(c.$$.fragment,e),Kd(p.$$.fragment,e),m=!0)},o(e){Qd(i.$$.fragment,e),Qd(c.$$.fragment,e),Qd(p.$$.fragment,e),m=!1},d(e){e&&Kc(t),au(i),au(c),au(p)}}}function zv(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(0,o=e)));const s=Cd();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class Hv extends cu{constructor(e){super(),lu(this,e,zv,Wv,kc,{})}}function jv(e){return/\bdark\b/gm.test(e)}const Fv=function(){let e={isDarkMode:jv(document.body.className)};const{subscribe:t,update:n}=uu(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:jv(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{bp((()=>{o.disconnect()}))})),{subscribe:t}}();function qv(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;const h=[Zv,Vv],f=[];function _(e,t){return e[2]?0:1}return n=_(e),o=f[n]=h[n](e),{c(){t=Jc("div"),o.c(),i=nd(),s=Jc("div"),s.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,r=nd(),a=Jc("button"),l=ed("svg"),c=ed("path"),ad(s,"class","show-alternatives svelte-3k7vbu"),gd(s,"dark",e[6]),ad(c,"d","M3 9L9 3M3 3L9 9"),ad(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),ad(c,"stroke-width","1.5"),ad(c,"stroke-linecap","round"),ad(c,"stroke-linejoin","round"),ad(l,"width","12"),ad(l,"height","12"),ad(l,"viewBox","0 0 12 12"),ad(l,"fill","none"),ad(l,"xmlns","http://www.w3.org/2000/svg"),ad(a,"class","svelte-3k7vbu"),ad(t,"class","container svelte-3k7vbu"),ad(t,"dir",es()),gd(t,"dark",e[6])},m(o,d){Xc(o,t,d),f[n].m(t,null),Vc(t,i),Vc(t,s),Vc(t,r),Vc(t,a),Vc(a,l),Vc(l,c),p=!0,m||(g=[id(s,"click",e[7]),id(a,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)}))],m=!0)},p(r,a){let l=n;n=_(e=r),n===l?f[n].p(e,a):(Yd(),Qd(f[l],1,1,(()=>{f[l]=null})),Xd(),o=f[n],o?o.p(e,a):(o=f[n]=h[n](e),o.c()),Kd(o,1),o.m(t,i)),(!p||64&a)&&gd(s,"dark",e[6]),(!p||8&a&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&ad(c,"stroke",d),(!p||64&a)&&gd(t,"dark",e[6])},i(e){p||(Kd(o),u||Ud((()=>{u=eu(t,Vu,{y:-10,duration:200}),u.start()})),p=!0)},o(e){Qd(o),p=!1},d(e){e&&Kc(t),f[n].d(),m=!1,Cc(g)}}}function Vv(e){let t,n,o,i;return{c(){t=Jc("div"),n=Jc("span"),o=td(e[0]),ad(n,"class","translatedText svelte-3k7vbu"),ad(t,"dir",i=es(e[5]))},m(e,i){Xc(e,t,i),Vc(t,n),Vc(n,o)},p(e,n){1&n&&ld(o,e[0]),32&n&&i!==(i=es(e[5]))&&ad(t,"dir",i)},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function Zv(e){let t,n;return t=new Jg({props:{error:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Yv(e){let t,n,o=e[4]&&qv(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&Kd(o,1)):(o=qv(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Xv(e,t,n){let o,i,s;Ic(e,gu,(e=>n(9,i=e))),Ic(e,Fv,(e=>n(3,s=e))),Ld("text_direction",es());let r,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t,p=!1;return setTimeout((()=>n(4,p=!0)),50),e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(8,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{8&e.$$.dirty&&n(6,o=s&&s.isDarkMode),256&e.$$.dirty&&Vi(c).then((e=>{r=e})),512&e.$$.dirty&&n(5,a=i.selectedTargetLanguage)},[l,d,u,s,p,a,o,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Cm,sourceLang:r,targetLang:a,textToShare:c}})},c,i]}class Kv extends cu{constructor(e){super(),lu(this,e,Xv,Yv,kc,{translatedText:0,sourceText:8,onClose:1,error:2})}}class Qv{static HTML_TAG_NAME="deepl-whatsapp-translated-message";static createElement=(e=document)=>{const t=e.createElement(Qv.HTML_TAG_NAME),n=new Qv(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new Kv({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Jv(e){let t,n,o,i,s,r,a,l;const c=[tw,ew],d=[];function u(e,t){return e[6]?0:1}n=u(e),o=d[n]=c[n](e);let p=e[8]&&sw(e);return{c(){t=Jc("div"),o.c(),i=nd(),p&&p.c(),ad(t,"class","container svelte-tz0fan"),ad(t,"style",s=`\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`),ad(t,"dir",es()),gd(t,"isTranslated",e[5]),gd(t,"isHidden",e[1]),gd(t,"messageHasReactionIcon",e[9]),gd(t,"isExpanded",e[2]),gd(t,"isParentRTL",e[0])},m(o,s){Xc(o,t,s),d[n].m(t,null),Vc(t,i),p&&p.m(t,null),e[28](t),r=!0,a||(l=[id(t,"mouseleave",e[29]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[17]),id(t,"mousedown",rd(sd(e[22])))],a=!0)},p(e,a){let l=n;n=u(e),n===l?d[n].p(e,a):(Yd(),Qd(d[l],1,1,(()=>{d[l]=null})),Xd(),o=d[n],o?o.p(e,a):(o=d[n]=c[n](e),o.c()),Kd(o,1),o.m(t,i)),e[8]?p?(p.p(e,a),256&a[0]&&Kd(p,1)):(p=sw(e),p.c(),Kd(p,1),p.m(t,null)):p&&(Yd(),Qd(p,1,1,(()=>{p=null})),Xd()),(!r||12416&a[0]&&s!==(s=`\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`))&&ad(t,"style",s),(!r||32&a[0])&&gd(t,"isTranslated",e[5]),(!r||2&a[0])&&gd(t,"isHidden",e[1]),(!r||512&a[0])&&gd(t,"messageHasReactionIcon",e[9]),(!r||4&a[0])&&gd(t,"isExpanded",e[2]),(!r||1&a[0])&&gd(t,"isParentRTL",e[0])},i(e){r||(Kd(o),Kd(p),r=!0)},o(e){Qd(o),Qd(p),r=!1},d(o){o&&Kc(t),d[n].d(),p&&p.d(),e[28](null),a=!1,Cc(l)}}}function ew(e){let t,n,o,i;t=new Sp({props:{tooltip:e[14]?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",parentIsRTL:e[0],ignoreTextDirection:!0,$$slots:{default:[nw]},$$scope:{ctx:e}}});let s=e[2]&&ow(e);return{c(){su(t.$$.fragment),n=nd(),s&&s.c(),o=od()},m(e,r){ru(t,e,r),Xc(e,n,r),s&&s.m(e,r),Xc(e,o,r),i=!0},p(e,n){const i={};16384&n[0]&&(i.tooltip=e[14]?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button")),1&n[0]&&(i.parentIsRTL=e[0]),16388&n[0]|2&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[2]?s?(s.p(e,n),4&n[0]&&Kd(s,1)):(s=ow(e),s.c(),Kd(s,1),s.m(o.parentNode,o)):s&&(Yd(),Qd(s,1,1,(()=>{s=null})),Xd())},i(e){i||(Kd(t.$$.fragment,e),Kd(s),i=!0)},o(e){Qd(t.$$.fragment,e),Qd(s),i=!1},d(e){e&&(Kc(n),Kc(o)),au(t,e),s&&s.d(e)}}}function tw(e){let t,n;return t=new Ov({props:{small:!0}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function nw(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;return{c(){t=Jc("div"),n=ed("svg"),o=ed("g"),i=ed("path"),r=ed("path"),a=ed("path"),l=ed("defs"),c=ed("clipPath"),d=ed("rect"),ad(i,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),ad(i,"fill",s=e[14]?"#848F9B":"#0F2B46"),ad(r,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),ad(r,"fill","white"),ad(a,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),ad(a,"fill","white"),ad(o,"clip-path","url(#clip0)"),ad(d,"width","18.5294"),ad(d,"height","19"),ad(d,"fill",u=e[14]?"#2C2C2C":"white"),ad(d,"transform","matrix(-1 0 0 1 18.5294 0)"),ad(c,"id","clip0"),ad(n,"width","15"),ad(n,"height","15"),ad(n,"viewBox","0 0 19 19"),ad(n,"fill","none"),ad(n,"xmlns","http://www.w3.org/2000/svg"),ad(n,"class","svelte-tz0fan"),ad(t,"class","translateTrigger svelte-tz0fan")},m(s,u){Xc(s,t,u),Vc(t,n),Vc(n,o),Vc(o,i),Vc(o,r),Vc(o,a),Vc(n,l),Vc(l,c),Vc(c,d),p||(m=[id(t,"mouseover",e[24]),id(t,"click",e[25])],p=!0)},p(e,t){16384&t[0]&&s!==(s=e[14]?"#848F9B":"#0F2B46")&&ad(i,"fill",s),16384&t[0]&&u!==(u=e[14]?"#2C2C2C":"white")&&ad(d,"fill",u)},d(e){e&&Kc(t),p=!1,Cc(m)}}}function ow(e){let t,n;return t=new Sp({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[iw]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};256&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function iw(e){let t,n,o,i;return{c(){t=Jc("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',ad(t,"class","settingsTrigger svelte-tz0fan")},m(n,s){Xc(n,t,s),o||(i=[id(t,"click",e[26]),id(t,"mousedown",rd(sd(e[23])))],o=!0)},p:Ec,i(e){n||Ud((()=>{n=eu(t,Vu,{x:-8,duration:600}),n.start()}))},o:Ec,d(e){e&&Kc(t),o=!1,Cc(i)}}}function sw(e){let t,n,o,i,s;return n=new Hv({}),n.$on("close",e[27]),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","settingsContainer svelte-tz0fan"),gd(t,"isTop",!e[10]),gd(t,"isLeft",!e[11])},m(e,o){Xc(e,t,o),ru(n,t,null),s=!0},p(e,n){(!s||1024&n[0])&&gd(t,"isTop",!e[10]),(!s||2048&n[0])&&gd(t,"isLeft",!e[11])},i(e){s||(Kd(n.$$.fragment,e),Ud((()=>{s&&(i&&i.end(1),o=eu(t,Vu,{y:-10,duration:600}),o.start())})),s=!0)},o(e){Qd(n.$$.fragment,e),o&&o.invalidate(),i=tu(t,Vu,{y:-10,duration:600}),s=!1},d(e){e&&Kc(t),au(n),e&&i&&i.end()}}}function rw(e){let t,n,o=e[3]&&e[3].isWhatsAppWebEnabled&&Jv(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,n){e[3]&&e[3].isWhatsAppWebEnabled?o?(o.p(e,n),8&n[0]&&Kd(o,1)):(o=Jv(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function aw(e,t,n){let o,i;Ic(e,gu,(e=>n(3,i=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let{textElement:s}=t,{messageContainer:r}=t,a=!1;const l=265,c=150,d=220;let u,p,m,g,h=!1,f=!0,_=0,v=0,w=!1,T=!1,b=!1,y=R.deepl_inline_ui.z_index,E=!0,$=!0,x=0;function S(){const e=u.parentNode.getBoundingClientRect(),t=yv(r);n(7,v=r.getBoundingClientRect().height/2),n(20,_=t.getBoundingClientRect().right-e.left);setTimeout((()=>{const t=r.querySelector('[data-icon="react"]');t&&(n(20,_=t.getBoundingClientRect().right-e.left),n(21,m=!0)),n(12,x=1),a&&n(20,_=_+-42)}),c);const o=r.querySelector('[data-a8n="reaction-bubble"]'),i=r.querySelector('[data-testid="reaction-bubble"]');n(9,b=!(!o&&!i)),window.innerHeight-e.bottom<d+v?n(10,E=!1):n(10,E=!0),r.getBoundingClientRect().right-t.getBoundingClientRect().right<l?n(11,$=!1):n(11,$=!0)}async function C(){if(p)return;n(6,h=!0),n(8,w=!1);let e,t,o="";try{o=await Vi(s.innerText)}catch(e){console.log(e)}try{t=await Xn({action:jn.dlRequestWhatsAppMessageTranslation,payload:{message:s.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(5,p=e?"":t[0].text),n(6,h=!1);const i=Qv.createElement();i.createDOM(p,s.innerText,(()=>{n(18,r.dataset.dlIsTranslated="false",r),setTimeout((()=>n(5,p="")),600),i.cleanupDOM(),i.remove()}),e),s.appendChild(i),n(18,r.dataset.dlIsTranslated="true",r)}r.addEventListener("mouseover",(()=>{n(1,f=!1)}),!1),r.addEventListener("mouseout",(()=>{w||n(1,f=!0)}),!1);return e.$$set=e=>{"textElement"in e&&n(19,s=e.textElement),"messageContainer"in e&&n(18,r=e.messageContainer)},e.$$.update=()=>{8&e.$$.dirty[0]&&n(14,o=oo(i,qt.TRANSLATOR)),2621442&e.$$.dirty[0]&&(n(0,a=ts(s.parentNode)),f||m||S()),1048581&e.$$.dirty[0]&&(console.log("isParentRTL",a),console.log("shdfL",T),n(13,g=a&&T?_-20:_))},[a,f,T,i,u,p,h,v,w,b,E,$,x,g,o,y,C,function(){n(8,w=!1)},r,s,_,m,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},()=>{o||n(2,T=!0)},()=>{o||C()},()=>n(8,w=!w),()=>n(8,w=!1),function(e){Md[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},()=>{w||n(2,T=!1)}]}class lw extends cu{constructor(e){super(),lu(this,e,aw,rw,kc,{textElement:19,messageContainer:18},null,[-1,-1])}}class cw{static HTML_TAG_NAME="deepl-whatsapp-message-in-translator";static createElement=(e=document)=>{const t=e.createElement(cw.HTML_TAG_NAME),n=new cw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.mainComponent=new lw({target:this.domElement.shadowContainer,props:{textElement:e,messageContainer:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function dw(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function uw(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!fv(e.innerText)){const n=cw.createElement();n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",dw),bp((()=>{window.removeEventListener("resize",dw),e.disconnect()}))}class pw{constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{throw new Error("createDOM must be defined in the child component")};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};bindChildFunctions=(e=[])=>{["createDOM","cleanupDOM",...e].forEach((e=>{this.domElement[e]=this[e]}))}}function mw(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}const gw=function(){let e={isDarkMode:mw(document.body.style.backgroundColor)};const{subscribe:t,update:n}=uu(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:mw(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{bp((()=>{o.disconnect()}))})),{subscribe:t}}();function hw(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;const _=[_w,fw],v=[];function w(e,t){return e[2]?0:1}return o=w(e),i=v[o]=_[o](e),{c(){t=Jc("div"),n=Jc("div"),i.c(),s=nd(),r=Jc("div"),r.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,l=nd(),c=Jc("button"),d=ed("svg"),u=ed("path"),ad(r,"class","show-alternatives svelte-t50unb"),gd(r,"dark",e[4]),ad(n,"dir",a=es(e[3].selectedTargetLanguage)),ad(u,"d","M3 9L9 3M3 3L9 9"),ad(u,"stroke",p=e[4]?"white":"#037171"),ad(u,"stroke-width","1.5"),ad(u,"stroke-linecap","round"),ad(u,"stroke-linejoin","round"),ad(d,"width","12"),ad(d,"height","12"),ad(d,"viewBox","0 0 12 12"),ad(d,"fill","none"),ad(d,"xmlns","http://www.w3.org/2000/svg"),ad(c,"class","svelte-t50unb"),ad(t,"class","container svelte-t50unb"),ad(t,"dir",es()),gd(t,"dark",e[4])},m(i,a){Xc(i,t,a),Vc(t,n),v[o].m(n,null),Vc(n,s),Vc(n,r),Vc(t,l),Vc(t,c),Vc(c,d),Vc(d,u),g=!0,h||(f=[id(r,"click",e[5]),id(c,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=w(e=l),o===d?v[o].p(e,c):(Yd(),Qd(v[d],1,1,(()=>{v[d]=null})),Xd(),i=v[o],i?i.p(e,c):(i=v[o]=_[o](e),i.c()),Kd(i,1),i.m(n,s)),(!g||16&c)&&gd(r,"dark",e[4]),(!g||8&c&&a!==(a=es(e[3].selectedTargetLanguage)))&&ad(n,"dir",a),(!g||16&c&&p!==(p=e[4]?"white":"#037171"))&&ad(u,"stroke",p),(!g||16&c)&&gd(t,"dark",e[4])},i(e){g||(Kd(i),m||Ud((()=>{m=eu(t,Vu,{y:-10,duration:200}),m.start()})),g=!0)},o(e){Qd(i),g=!1},d(e){e&&Kc(t),v[o].d(),h=!1,Cc(f)}}}(e);return{c(){o.c(),t=od()},m(e,i){o.m(e,i),Xc(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o.d(e)}}}function fw(e){let t,n;return{c(){t=Jc("span"),n=td(e[0]),ad(t,"class","translatedText svelte-t50unb")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){1&t&&ld(n,e[0])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function _w(e){let t,n;return t=new Jg({props:{error:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function vw(e){let t,n,o=e[3]&&e[3].isTwitterEnabled&&hw(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isTwitterEnabled?o?(o.p(e,n),8&n&&Kd(o,1)):(o=hw(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function ww(e,t,n){let o,i,s;Ic(e,gu,(e=>n(3,i=e))),Ic(e,gw,(e=>n(7,s=e))),Ld("text_direction",es());let r,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(6,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(4,o=s&&s.isDarkMode),64&e.$$.dirty&&Vi(c).then((e=>{r=e})),8&e.$$.dirty&&(a=i.selectedTargetLanguage)},[l,d,u,i,o,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Cm,sourceLang:r,targetLang:a,textToShare:c}})},c,s]}class Tw extends cu{constructor(e){super(),lu(this,e,ww,vw,kc,{translatedText:0,sourceText:6,onClose:1,error:2})}}class bw extends pw{static HTML_TAG_NAME="deepl-twitter-translated-tweet";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(bw.HTML_TAG_NAME);return new bw(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new Tw({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function yw(e){let t,n,o,i;const s=[$w,Ew],r=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=Jc("div"),o&&o.c(),ad(t,"dir",es())},m(e,o){Xc(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null)):o=null)},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),~n&&r[n].d()}}}function Ew(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;return n=new Sp({props:{isEnabled:e[4],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),multiline:!0,$$slots:{default:[xw]},$$scope:{ctx:e}}}),{c(){t=Jc("button"),su(n.$$.fragment),o=nd(),i=ed("svg"),s=ed("g"),r=ed("path"),a=ed("path"),l=ed("path"),c=ed("defs"),d=ed("clipPath"),u=ed("rect"),ad(r,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),ad(r,"class","deepl-icon svelte-qovtib"),ad(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),ad(a,"fill","white"),ad(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),ad(l,"fill","white"),ad(s,"clip-path","url(#clip0)"),ad(u,"width","18.5294"),ad(u,"height","19"),ad(u,"fill","white"),ad(u,"transform","matrix(-1 0 0 1 18.5294 0)"),ad(d,"id","clip0"),ad(i,"width","15"),ad(i,"height","15"),ad(i,"viewBox","0 0 19 19"),ad(i,"fill","none"),ad(i,"xmlns","http://www.w3.org/2000/svg"),ad(i,"class","svelte-qovtib"),ad(t,"class","tweetLink svelte-qovtib"),t.disabled=p=!!e[1]||e[4],gd(t,"dark",e[5])},m(p,f){Xc(p,t,f),ru(n,t,null),Vc(t,o),Vc(t,i),Vc(i,s),Vc(s,r),Vc(s,a),Vc(s,l),Vc(i,c),Vc(c,d),Vc(d,u),m=!0,g||(h=[id(t,"keydown",e[6]),id(t,"click",e[6])],g=!0)},p(e,o){const i={};16&o&&(i.isEnabled=e[4]),1024&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!m||18&o&&p!==(p=!!e[1]||e[4]))&&(t.disabled=p),(!m||32&o)&&gd(t,"dark",e[5])},i(e){m||(Kd(n.$$.fragment,e),m=!0)},o(e){Qd(n.$$.fragment,e),m=!1},d(e){e&&Kc(t),au(n),g=!1,Cc(h)}}}function $w(e){let t,n;return t=new Ov({props:{small:!0}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function xw(e){let t;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,ad(t,"class","copy svelte-qovtib")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Sw(e){let t,n,o=e[0]&&e[0].isTwitterEnabled&&yw(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isTwitterEnabled?o?(o.p(e,n),1&n&&Kd(o,1)):(o=yw(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Cw(e,t,n){let o,i,s,r;Ic(e,gu,(e=>n(0,s=e))),Ic(e,gw,(e=>n(8,r=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let a,l,{tweetTextNode:c}=t,d=!1;return e.$$set=e=>{"tweetTextNode"in e&&n(7,c=e.tweetTextNode)},e.$$.update=()=>{if(256&e.$$.dirty&&n(5,o=r&&r.isDarkMode),1&e.$$.dirty&&n(4,i=oo(s,qt.TRANSLATOR)),1&e.$$.dirty){s.blacklistDomainsForReading.includes(window.location.hostname)?n(3,l=!1):s.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<20)return!1;const t=await Vi(e);return qi(chrome.i18n.getUILanguage())!==t&&qi(s.selectedTargetLanguage)!==t}().then((e=>n(3,l=e))).catch((()=>n(3,l=!1)))}},[s,a,d,l,i,o,async function(){if(a)return;n(2,d=!0);let e,t,o="";try{o=await Vi(c.innerText),o=Xi(o)}catch(e){console.log(e)}try{t=await Xn({action:jn.dlRequestTwitterTweetTranslation,payload:{message:c.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(1,a=e?"":xi(t)),n(2,d=!1);const i=bw.createElement();i.createDOM(a,c.innerText,(()=>{n(1,a=""),i.cleanupDOM()}),e),c.appendChild(i)},c,r]}class Lw extends cu{constructor(e){super(),lu(this,e,Cw,Sw,kc,{tweetTextNode:7})}}class kw extends pw{static HTML_TAG_NAME="deepl-twitter-tweet-link";static createElement=(e=document)=>{const t=e.createElement(kw.HTML_TAG_NAME);return new kw(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new Lw({target:this.domElement.shadowContainer,props:{tweetTextNode:e}})}}function Aw(){console.log("customizing for twitter");let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=kw.createElement();return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),bp((()=>e.disconnect()))}function Iw(e){let t,n;return{c(){t=Jc("span"),n=td(e[0]),ad(t,"class","translatedText svelte-jkt5fr")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){1&t&&ld(n,e[0])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function Mw(e){let t,n;return t=new Jg({props:{error:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Ow(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p;const m=[Mw,Iw],g=[];function h(e,t){return e[2]?0:1}return o=h(e),i=g[o]=m[o](e),{c(){t=Jc("div"),n=Jc("div"),i.c(),s=nd(),r=Jc("div"),r.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,a=nd(),l=Jc("button"),l.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',ad(r,"class","show-alternatives svelte-jkt5fr"),ad(l,"class","svelte-jkt5fr"),ad(t,"class","container svelte-jkt5fr"),ad(t,"dir",es())},m(i,c){Xc(i,t,c),Vc(t,n),g[o].m(n,null),Vc(n,s),Vc(n,r),Vc(t,a),Vc(t,l),d=!0,u||(p=[id(r,"click",e[3]),id(l,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)}))],u=!0)},p(t,r){let a=o;o=h(e=t),o===a?g[o].p(e,r):(Yd(),Qd(g[a],1,1,(()=>{g[a]=null})),Xd(),i=g[o],i?i.p(e,r):(i=g[o]=m[o](e),i.c()),Kd(i,1),i.m(n,s))},i(e){d||(Kd(i),c||Ud((()=>{c=eu(t,Vu,{y:-10,duration:200}),c.start()})),d=!0)},o(e){Qd(i),d=!1},d(e){e&&Kc(t),g[o].d(),u=!1,Cc(p)}}}(e);return{c(){o.c(),t=od()},m(e,i){o.m(e,i),Xc(e,t,i),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o.d(e)}}}function Nw(e,t,n){let o;Ic(e,gu,(e=>n(5,o=e))),Ld("text_direction",es());let i,s,{translatedText:r}=t,{sourceText:a}=t,{onClose:l}=t,{error:c}=t;return e.$$set=e=>{"translatedText"in e&&n(0,r=e.translatedText),"sourceText"in e&&n(4,a=e.sourceText),"onClose"in e&&n(1,l=e.onClose),"error"in e&&n(2,c=e.error)},e.$$.update=()=>{16&e.$$.dirty&&Vi(a).then((e=>{i=e})),32&e.$$.dirty&&(s=o.selectedTargetLanguage)},[r,l,c,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Cm,sourceLang:i,targetLang:s,textToShare:a}});try{Xn({action:qn.dlTrackUiAction,payload:{uiAction:it,nicheIntegration:kt.linkedIn}})}catch(e){console.error(e)}},a,o]}class Rw extends cu{constructor(e){super(),lu(this,e,Nw,Ow,kc,{translatedText:0,sourceText:4,onClose:1,error:2})}}class Dw{static HTML_TAG_NAME="deepl-linkedin-translated-post";static createElement=(e=document)=>{const t=e.createElement(Dw.HTML_TAG_NAME),n=new Dw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new Rw({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Pw(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!1,pending:Hw,then:Gw,catch:Uw,value:12,blocks:[,,,]};return function(e,t){const n=t.token={};function o(e,o,i,s){if(t.token!==n)return;t.resolved=s;let r=t.ctx;void 0!==i&&(r=r.slice(),r[i]=s);const a=e&&(t.current=e)(r);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(Yd(),Qd(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Xd())})):t.block.d(1),a.c(),Kd(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[o]=a),l&&Hd()}if(!(i=e)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then){if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}else{const n=$d();if(e.then((e=>{Ed(n),o(t.then,1,t.value,e),Ed(null)}),(e=>{if(Ed(n),o(t.catch,2,t.error,e),Ed(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}var i}(e[4](),o),{c(){t=od(),o.block.c()},m(e,i){Xc(e,t,i),o.block.m(e,o.anchor=i),o.mount=()=>t.parentNode,o.anchor=t,n=!0},p(t,n){!function(e,t,n){const o=t.slice(),{resolved:i}=e;e.current===e.then&&(o[e.value]=i),e.current===e.catch&&(o[e.error]=i),e.block.p(o,n)}(o,e=t,n)},i(e){n||(Kd(o.block),n=!0)},o(e){for(let e=0;e<3;e+=1){Qd(o.blocks[e])}n=!1},d(e){e&&Kc(t),o.block.d(e),o.token=null,o=null}}}function Uw(e){return{c:Ec,m:Ec,p:Ec,i:Ec,o:Ec,d:Ec}}function Gw(e){let t,n,o=e[12]&&function(e){let t,n,o,i;const s=[Ww,Bw],r=[];function a(e,t){return e[0]?0:1}return n=a(e),o=r[n]=s[n](e),{c(){t=Jc("div"),o.c(),ad(t,"class","linkedin-link-container svelte-11s4dqh"),ad(t,"dir",es())},m(e,o){Xc(e,t,o),r[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?r[n].p(e,i):(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd(),o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null))},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),r[n].d()}}}(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,t){e[12]&&o.p(e,t)},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Bw(e){let t,n,o,i,s;return n=new Sp({props:{isEnabled:e[2],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),$$slots:{default:[zw]},$$scope:{ctx:e}}}),{c(){t=Jc("button"),su(n.$$.fragment),ad(t,"class","linkedin-link svelte-11s4dqh"),t.disabled=e[2]},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=[id(t,"keydown",e[5]),id(t,"click",e[5])],i=!0)},p(e,i){const s={};4&i&&(s.isEnabled=e[2]),8194&i&&(s.$$scope={dirty:i,ctx:e}),n.$set(s),(!o||4&i)&&(t.disabled=e[2])},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,Cc(s)}}}function Ww(e){let t,n,o;return n=new Ov({props:{small:!0}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","spinner svelte-11s4dqh")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p:Ec,i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function zw(e){let t;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("linkedin_web_translate_post_link")}`,ad(t,"class","copy svelte-11s4dqh"),gd(t,"active",e[1])},m(e,n){Xc(e,t,n)},p(e,n){2&n&&gd(t,"active",e[1])},d(e){e&&Kc(t)}}}function Hw(e){return{c:Ec,m:Ec,p:Ec,i:Ec,o:Ec,d:Ec}}function jw(e){let t,n,o=e[3]&&e[3][kt.linkedIn]&&Pw(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[3]&&e[3][kt.linkedIn]?o?(o.p(e,n),8&n&&Kd(o,1)):(o=Pw(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Fw(e,t,n){let o,i,s,r;Ic(e,gu,(e=>n(7,r=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let a,{linkedInPostNode:l}=t,c=!1,d=l.querySelector(".update-components-text").innerText;return e.$$set=e=>{"linkedInPostNode"in e&&n(6,l=e.linkedInPostNode)},e.$$.update=()=>{128&e.$$.dirty&&n(3,i=r.customizationsActiveStates),128&e.$$.dirty&&n(2,s=oo(r,qt.TRANSLATOR))},n(1,o=!0),[c,o,s,i,async function(){if(d.length<20)return!1;const e=await Vi(d);return t=e,qi(chrome.i18n.getUILanguage())!==t&&(e=>qi(r.selectedTargetLanguage)!==e)(e);var t},async function(){if(a)return;n(0,c=!0);let e,t,i="";try{i=await Vi(d),i=Xi(i)}catch(e){console.log(e)}try{t=await Xn({action:jn.dlRequestLinkedInPostTranslation,payload:{message:d,messageLang:i,domainName:window.location.hostname,trigger:f}})}catch(t){e=t,console.error(e)}a=e?"":t[0].text,n(0,c=!1);const s=Dw.createElement();s.createDOM(a,d,(()=>{a="",n(1,o=!0),s.cleanupDOM(),s.remove()}),e),l.appendChild(s),n(1,o=!1)},l,r]}class qw extends cu{constructor(e){super(),lu(this,e,Fw,jw,kc,{linkedInPostNode:6})}}class Vw{static HTML_TAG_NAME="deepl-linkedin-post-link";static createElement=(e=document)=>{const t=e.createElement(Vw.HTML_TAG_NAME),n=new Vw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{this.domElement.mainComponent=new qw({target:this.domElement.shadowContainer,props:{linkedInPostNode:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const Zw=e=>{const t=Vw.createElement();t.createDOM(e),e.appendChild(t)};function Yw(){const e=document.body.querySelectorAll(".feed-shared-update-v2__description");for(let t of e){const e=t.parentNode;if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",e?.innerText))return void Zw(e)}}function Xw(){return!!document.documentElement.hasAttribute("dark")}const Kw=function(){let e={isDarkMode:Xw()};const{subscribe:t,update:n}=uu(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:Xw(document.body.style.backgroundColor)})))}))}));return o.observe(document,{attributes:!0}),setTimeout((()=>{bp((()=>{o.disconnect()}))})),{subscribe:t}}();function Qw(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;const _=[eT,Jw],v=[];function w(e,t){return e[2]?0:1}return o=w(e),i=v[o]=_[o](e),{c(){t=Jc("div"),n=Jc("div"),i.c(),s=nd(),r=Jc("div"),r.textContent=`${chrome.i18n.getMessage("youtube_alternatives_link")}`,l=nd(),c=Jc("button"),d=ed("svg"),u=ed("path"),ad(r,"class","show-alternatives svelte-t50unb"),gd(r,"dark",e[4]),ad(n,"dir",a=es(e[3].selectedTargetLanguage)),ad(u,"d","M3 9L9 3M3 3L9 9"),ad(u,"stroke",p=e[4]?"white":"#037171"),ad(u,"stroke-width","1.5"),ad(u,"stroke-linecap","round"),ad(u,"stroke-linejoin","round"),ad(d,"width","12"),ad(d,"height","12"),ad(d,"viewBox","0 0 12 12"),ad(d,"fill","none"),ad(d,"xmlns","http://www.w3.org/2000/svg"),ad(c,"class","svelte-t50unb"),ad(t,"class","container svelte-t50unb"),ad(t,"dir",es()),gd(t,"dark",e[4])},m(i,a){Xc(i,t,a),Vc(t,n),v[o].m(n,null),Vc(n,s),Vc(n,r),Vc(t,l),Vc(t,c),Vc(c,d),Vc(d,u),g=!0,h||(f=[id(r,"click",e[5]),id(c,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=w(e=l),o===d?v[o].p(e,c):(Yd(),Qd(v[d],1,1,(()=>{v[d]=null})),Xd(),i=v[o],i?i.p(e,c):(i=v[o]=_[o](e),i.c()),Kd(i,1),i.m(n,s)),(!g||16&c)&&gd(r,"dark",e[4]),(!g||8&c&&a!==(a=es(e[3].selectedTargetLanguage)))&&ad(n,"dir",a),(!g||16&c&&p!==(p=e[4]?"white":"#037171"))&&ad(u,"stroke",p),(!g||16&c)&&gd(t,"dark",e[4])},i(e){g||(Kd(i),m||Ud((()=>{m=eu(t,Vu,{y:-10,duration:200}),m.start()})),g=!0)},o(e){Qd(i),g=!1},d(e){e&&Kc(t),v[o].d(),h=!1,Cc(f)}}}(e);return{c(){o.c(),t=od()},m(e,i){o.m(e,i),Xc(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o.d(e)}}}function Jw(e){let t,n;return{c(){t=Jc("span"),n=td(e[0]),ad(t,"class","translatedText svelte-t50unb")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){1&t&&ld(n,e[0])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function eT(e){let t,n;return t=new Jg({props:{error:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function tT(e){let t,n,o=e[3]&&e[3].isYoutubeEnabled&&Qw(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isYoutubeEnabled?o?(o.p(e,n),8&n&&Kd(o,1)):(o=Qw(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function nT(e,t,n){let o,i,s;Ic(e,gu,(e=>n(3,i=e))),Ic(e,Kw,(e=>n(7,s=e)));let r,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(6,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(4,o=s&&s.isDarkMode),64&e.$$.dirty&&Vi(c).then((e=>{r=e})),8&e.$$.dirty&&(a=i.selectedTargetLanguage)},[l,d,u,i,o,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Cm,sourceLang:r,targetLang:a,textToShare:c}})},c,s]}class oT extends cu{constructor(e){super(),lu(this,e,nT,tT,kc,{translatedText:0,sourceText:6,onClose:1,error:2})}}class iT extends pw{static HTML_TAG_NAME="deepl-youtube-translated-translated";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(iT.HTML_TAG_NAME);return new iT(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new oT({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function sT(e){let t,n,o,i;const s=[aT,rT],r=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=Jc("div"),o&&o.c(),ad(t,"dir",es())},m(e,o){Xc(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null)):o=null)},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),~n&&r[n].d()}}}function rT(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;return n=new Sp({props:{isEnabled:e[4],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),$$slots:{default:[lT]},$$scope:{ctx:e}}}),{c(){t=Jc("button"),su(n.$$.fragment),o=nd(),i=ed("svg"),s=ed("g"),r=ed("path"),a=ed("path"),l=ed("path"),c=ed("defs"),d=ed("clipPath"),u=ed("rect"),ad(r,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),ad(r,"class","deepl-icon svelte-mtyjwe"),ad(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),ad(a,"fill","white"),ad(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),ad(l,"fill","white"),ad(s,"clip-path","url(#clip0)"),ad(u,"width","18.5294"),ad(u,"height","19"),ad(u,"fill","white"),ad(u,"transform","matrix(-1 0 0 1 18.5294 0)"),ad(d,"id","clip0"),ad(i,"width","15"),ad(i,"height","15"),ad(i,"viewBox","0 0 19 19"),ad(i,"fill","none"),ad(i,"xmlns","http://www.w3.org/2000/svg"),ad(i,"class","svelte-mtyjwe"),ad(t,"class","commentLink svelte-mtyjwe"),t.disabled=p=e[4]||!!e[1],gd(t,"dark",e[5])},m(p,f){Xc(p,t,f),ru(n,t,null),Vc(t,o),Vc(t,i),Vc(i,s),Vc(s,r),Vc(s,a),Vc(s,l),Vc(i,c),Vc(c,d),Vc(d,u),m=!0,g||(h=[id(t,"keydown",e[6]),id(t,"click",e[6])],g=!0)},p(e,o){const i={};16&o&&(i.isEnabled=e[4]),1024&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!m||18&o&&p!==(p=e[4]||!!e[1]))&&(t.disabled=p),(!m||32&o)&&gd(t,"dark",e[5])},i(e){m||(Kd(n.$$.fragment,e),m=!0)},o(e){Qd(n.$$.fragment,e),m=!1},d(e){e&&Kc(t),au(n),g=!1,Cc(h)}}}function aT(e){let t,n;return t=new Ov({props:{small:!0}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function lT(e){let t;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("youtube_translate_comment_link")}`,ad(t,"class","copy svelte-mtyjwe")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function cT(e){let t,n,o=e[0]&&e[0].isYoutubeEnabled&&sT(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isYoutubeEnabled?o?(o.p(e,n),1&n&&Kd(o,1)):(o=sT(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function dT(e,t,n){let o,i,s,r;Ic(e,gu,(e=>n(0,s=e))),Ic(e,Kw,(e=>n(8,r=e)));let a,l,{commentNode:c}=t,d=!1;return e.$$set=e=>{"commentNode"in e&&n(7,c=e.commentNode)},e.$$.update=()=>{if(256&e.$$.dirty&&n(5,o=r&&r.isDarkMode),1&e.$$.dirty&&n(4,i=oo(s,qt.TRANSLATOR)),1&e.$$.dirty){s.blacklistDomainsForReading.includes(window.location.hostname)?n(3,l=!1):s.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<10)return!1;const t=await Vi(e);return qi(chrome.i18n.getUILanguage())!==t&&qi(s.selectedTargetLanguage)!==t}().then((e=>n(3,l=e))).catch((()=>n(3,l=!1)))}},[s,a,d,l,i,o,async function(){if(a)return;n(2,d=!0);let e,t,o="";try{o=await Vi(c.innerText),o=Xi(o)}catch(e){console.log(e)}try{t=await Xn({action:jn.dlRequestYouTubeTranslation,payload:{message:c.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(1,a=e?"":t[0].text),n(2,d=!1);const i=iT.createElement();i.createDOM(a,c.innerText,(()=>{n(1,a=""),i.cleanupDOM()}),e),c.appendChild(i)},c,r]}class uT extends cu{constructor(e){super(),lu(this,e,dT,cT,kc,{commentNode:7})}}class pT extends pw{static HTML_TAG_NAME="deepl-youtube-comment-link";static createElement=(e=document)=>{const t=e.createElement(pT.HTML_TAG_NAME);return new pT(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new uT({target:this.domElement.shadowContainer,props:{commentNode:e}})}}function mT(){let e=document.body.querySelector("ytd-comments");return e||(e=document.body.querySelector("#comments")),e}function gT(){setTimeout((()=>{const e=mT();if(e){let t=new MutationObserver((()=>{!function(){let e=mT();if(!e)return;const t=e.querySelectorAll("#content-text");for(let e of t)if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",e&&e.innerText)){const t=pT.createElement();return t.createDOM(e),void e.appendChild(t)}}()}));t.observe(e,{attributes:!1,childList:!0,subtree:!0}),bp((()=>t.disconnect()))}}),1e3)}function hT(e){if(void 0!==e)try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}const fT=60067;function _T(e){switch(e){case X:return 1;case q:return 2;case Z:return 3;case J:return 4;case ee:return 5;case te:return 6;case ne:return 7;case ie:return 8;case Q:return 9;case V:return 10;case se:return 11;case re:return 12;case ae:return 13;case le:return 14;case ce:return 15;case de:return 16;case ue:return 17;case pe:return 18;case me:return 19;case ge:return 20;case he:return 21;case fe:return 22;case be:return 23;case ye:return 24;case _e:return 25;case ve:return 26;case we:return 27;case Te:return 28;case Ee:return 29;case $e:return 30;case xe:return 31;case oe:return 32;case Se:return 33;case Ce:return 34;case Le:return 35;case ke:return 36;case K:return 37;case Ae:return 38;case Ie:return 39;case Me:return 40;case Oe:return 41;case Ne:return 42;case Re:return 43;case De:return 44;case Pe:return 45;case Ue:return 46;case Ge:return 47;case Be:return 48;case We:return 49;case ze:return 50;case He:return 51;case je:return 52;case Fe:return 53;case qe:return 54;case Ve:return 55;case Ze:return 56;case Ye:return 57;case Xe:return 58;case Ke:return 59;case Qe:return 60;case Y:return 61;case Je:return 62;case et:return 63;case tt:return 64;default:return 0}}function vT(e){switch(e){case vt:return gt;case wt:return ht;case bt:return _t;case Tt:return ft;default:return mt}}function wT(e){switch(e){case Vt:return 1;case Zt:return 2;case Yt:return 3;default:return 0}}function TT(e){switch(e){case un:return 1;case pn:return 2;case mn:return 3;default:return 0}}function bT(e){switch(e){case xn:return 1;case Sn:return 2;case Cn:return 3;default:return 0}}const yT=["accountData","domainName"],ET=[60067,60068,60069],$T=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>$T(e,t))):Object.keys(e).reduce(((n,o)=>(t.includes(o)||(n[o]=$T(e[o],t)),n)),{}):e;function xT(e){return t(this,void 0,void 0,(function*(){let n,o,i,s,r,a,l,c,d,u,p,m=!1;try{const e=yield IT(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);o=e.session.id,n=e.installationId,u=e.firefoxAnonPermissionGranted,p=e.firefoxPersonalPermissionGranted}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=yield function(){return t(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([pu.isLoggedIn,"isProUser","sessionType",pu.translatorServiceType,pu.writeServiceType,pu.apiServiceType,pu.docTranslatorServiceType,pu.accountId,mu.hasTermbaseService])}))}();m=!!e.accountId,i=wT(e.translatorServiceType),s=wT(e.apiServiceType),r=wT(e.docTranslatorServiceType),d=wT(e.writeServiceType),l=m?2===i||2===s||2===d||2===r?w:T:v,c=e.sessionType?bT(e.sessionType):bT(xn)}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{a=yield function(){return t(this,void 0,void 0,(function*(){return(yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}))}()}catch(e){console.error(e)}const g=fo(),h=yield function(){return t(this,void 0,void 0,(function*(){let e=[];try{e=yield function(){return t(this,void 0,void 0,(function*(){const e=yield function(e,n){return t(this,void 0,void 0,(function*(){return CT||(yield new Promise(((e,t)=>{let n=indexedDB.open(LT,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){CT=t.target.result,e()},n.onupgradeneeded=function(t){CT=t.target.result,CT.objectStoreNames.contains(kT)||CT.createObjectStore(kT,{keyPath:"id"}),e()}}))),new Promise(((t,o)=>{let i=CT.transaction(n,"readonly").objectStore(n).get(e);i.onerror=function(e){o(e)},i.onsuccess=function(){i.result?t(i.result):t(null)}}))}))}(AT,kT);if(!e||!e.meta)return[];return(Date.now()-e.meta.createdAt)/6e4>9?[]:e.data&&0!==e.data.length?e.data:[]}))}()}catch(e){}if(!e||0===e.length)return[];return e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})))}))}();let f,_;try{f=yield MT()}catch(e){console.error(e)}try{_=yield function(){return t(this,void 0,void 0,(function*(){if(vo())return;const e=yield chrome.cookies.get({name:"dapUid",url:"https://www.deepl.com"});return e?e.value:void 0}))}()}catch(e){console.error(e)}const b=Object.assign({eventId:void 0,extensionVersion:"1.42.0",sessionId:o,sessionType:c,installationId:n,browserInstanceId:a,originStore:vT(chrome.runtime.id),userInfos:Object.assign(Object.assign({},f&&{accountData:{accountId:f}}),{userType:l,translatorServiceType:i,apiServiceType:s,docTranslatorServiceType:r,writeServiceType:d}),userAgent:g.userAgent,platform:g.platform,browser:g.browser,browserVersion:g.browserVersion,browserLang:g.browserLang,clientExperiments:h},_&&{webInstanceId:_});let y=e(b);if(vo()){if(!((e=!1,t=!1)=>!(!e&&!t)&&!(!e&&t)&&(!(!e||t)||!(!e||!t)||void 0))(u,p))return;if(y=((e,t=!1,n=!1)=>e?n&&t?e:!n&&ET.includes(e?.eventId)?null:$T(e,yT):null)(y,u,p),!y)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${y.eventId} request failed: ${e}`)}))}))}function ST(){return t(this,void 0,void 0,(function*(){if(!(yield function(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([pu.isLoggedIn]);return!(!e||!e.isLoggedIn)}))}()))return;const e=yield MT();return xT((t=>Object.assign(Object.assign({},t),{eventId:fT,accountData:{accountUuid:e}})))}))}let CT;const LT="dlBrowserExtension",kT="dlCache",AT="dlexperiments";function IT(e){return t(this,void 0,void 0,(function*(){if(e.includes("session")){const e=yield chrome.storage.sync.get(["session"]);e&&!e.session&&(yield function(){return t(this,void 0,void 0,(function*(){const e=_s();yield chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{yield ST()}catch(e){console.error(e)}}))}())}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}))}function MT(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([pu.accountId,"a_t",pu.idToken]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=hT(e.a_t),n=hT(e[pu.idToken]);return t.sub||n.sub}}))}function OT(e){let t,n=bs(),o=n&&function(e){let t,n,o,i;return{c(){t=Jc("div"),n=td(e[1]),ad(t,"class","dev-label svelte-19c1aay"),gd(t,"isInline",e[0])},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[2]),o=!0)},p(e,o){2&o&&ld(n,e[1]),1&o&&gd(t,"isInline",e[0])},d(e){e&&Kc(t),o=!1,i()}}}(e);return{c(){o&&o.c(),t=od()},m(e,n){o&&o.m(e,n),Xc(e,t,n)},p(e,[t]){n&&o.p(e,t)},i:Ec,o:Ec,d(e){e&&Kc(t),o&&o.d(e)}}}function NT(e,t,n){let{isInline:o=!1}=t,{text:i="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,o=e.isInline),"text"in e&&n(1,i=e.text)},[o,i,function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:Nv.developer_tools}})}]}class RT extends cu{constructor(e){super(),lu(this,e,NT,OT,kc,{isInline:0,text:1})}}function DT(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,ad(t,"class","user-action-button svelte-9xsres")},m(i,s){Xc(i,t,s),n||(o=[id(t,"mousedown",sd(e[17])),id(t,"click",e[18])],n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,Cc(o)}}}function PT(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,ad(t,"class","user-action-button svelte-9xsres")},m(i,s){Xc(i,t,s),n||(o=[id(t,"mousedown",sd(e[16])),id(t,"click",e[19])],n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,Cc(o)}}}function UT(e){let t,n,o;return{c(){t=Jc("div"),ad(t,"type","button"),ad(t,"class","dl-menu-icon dl-menu-icon--user svelte-9xsres")},m(i,s){Xc(i,t,s),n||(o=id(t,"mousedown",sd(e[15])),n=!0)},d(e){e&&Kc(t),n=!1,o()}}}function GT(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=bs();function f(e,t){return!0===e[0].isLoggedIn?WT:BT}let _=f(e),v=_&&_(e),w=h&&function(){let e,t,n;return t=new RT({props:{isInline:!0,text:"DEV TOOLS"}}),{c(){e=Jc("div"),su(t.$$.fragment),ad(e,"class","dl-menu-item svelte-9xsres")},m(o,i){Xc(o,e,i),ru(t,e,null),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(n){n&&Kc(e),au(t)}}}();return{c(){t=Jc("div"),n=Jc("button"),o=Jc("span"),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("menu_share_feedback_link")}`,s=nd(),r=Jc("div"),a=nd(),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,c=nd(),v&&v.c(),d=nd(),w&&w.c(),ad(r,"class","dl-feedback-icon svelte-9xsres"),ad(o,"class","dl-menu-link dl-feedback-link svelte-9xsres"),ad(n,"class","dl-menu-item svelte-9xsres"),ad(l,"class","dl-menu-item svelte-9xsres"),ad(t,"class","dl-menu-list svelte-9xsres")},m(u,h){Xc(u,t,h),Vc(t,n),Vc(n,o),Vc(o,i),Vc(o,s),Vc(o,r),Vc(t,a),Vc(t,l),Vc(t,c),v&&v.m(t,null),Vc(t,d),w&&w.m(t,null),p=!0,m||(g=[id(n,"click",e[7]),id(l,"click",e[9])],m=!0)},p(e,n){_===(_=f(e))&&v?v.p(e,n):(v&&v.d(1),v=_&&_(e),v&&(v.c(),v.m(t,d)))},i(e){p||(Kd(w),u||Ud((()=>{u=eu(t,Vu,{y:-5,duration:500}),u.start()})),p=!0)},o(e){Qd(w),p=!1},d(e){e&&Kc(t),v&&v.d(),w&&w.d(),m=!1,Cc(g)}}}function BT(e){let t,n,o,i,s,r,a,l,c;return{c(){t=Jc("div"),t.innerHTML='<div class="divider svelte-9xsres"></div>',n=nd(),o=Jc("button"),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,s=nd(),r=Jc("button"),a=Jc("span"),a.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,ad(t,"class","dl-menu-item dl-menu-item--divider svelte-9xsres"),ad(o,"class","dl-menu-item svelte-9xsres"),ad(a,"class","dl-menu-link link svelte-9xsres"),ad(r,"class","dl-menu-item svelte-9xsres")},m(d,u){Xc(d,t,u),Xc(d,n,u),Xc(d,o,u),Vc(o,i),Xc(d,s,u),Xc(d,r,u),Vc(r,a),l||(c=[id(o,"click",e[5]),id(r,"click",e[6])],l=!0)},p:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o),Kc(s),Kc(r)),l=!1,Cc(c)}}}function WT(e){let t,n,o,i,s,r;return{c(){t=Jc("div"),t.innerHTML='<div class="divider svelte-9xsres"></div>',n=nd(),o=Jc("button"),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,ad(t,"class","dl-menu-item dl-menu-item--divider svelte-9xsres"),ad(o,"class","dl-menu-item svelte-9xsres")},m(a,l){Xc(a,t,l),Xc(a,n,l),Xc(a,o,l),Vc(o,i),s||(r=id(o,"click",e[4]),s=!0)},p:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o)),s=!1,r()}}}function zT(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=!e[0].isLoggedIn&&DT(e),g=e[2]&&PT(e),h=!0===e[0].isLoggedIn&&UT(e),f=e[1]&&GT(e);return{c(){t=Jc("div"),n=Jc("div"),m&&m.c(),o=nd(),g&&g.c(),i=nd(),h&&h.c(),s=nd(),r=Jc("button"),a=nd(),l=Jc("button"),c=nd(),f&&f.c(),ad(r,"type","button"),ad(r,"class","dl-menu-icon dl-menu-icon--settings svelte-9xsres"),ad(r,"aria-label",chrome.i18n.getMessage("menu_open_settings")),ad(l,"type","button"),ad(l,"class","dl-menu-icon dl-menu-icon--hamburger svelte-9xsres"),ad(l,"aria-label",chrome.i18n.getMessage("menu_open_menu")),gd(l,"isOpen",e[1]),ad(n,"class","dl-menu-icon-wrapper svelte-9xsres"),ad(t,"class","dl-container-menu svelte-9xsres")},m(_,v){Xc(_,t,v),Vc(t,n),m&&m.m(n,null),Vc(n,o),g&&g.m(n,null),Vc(n,i),h&&h.m(n,null),Vc(n,s),Vc(n,r),Vc(n,a),Vc(n,l),Vc(t,c),f&&f.m(t,null),d=!0,u||(p=[id(r,"mousedown",sd(e[14])),id(r,"click",e[20]),id(l,"mousedown",sd(e[13])),id(l,"click",e[21]),id(n,"mousedown",rd(sd(e[12]))),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[8]),id(t,"mousedown",rd(sd(e[11])))],u=!0)},p(e,[r]){e[0].isLoggedIn?m&&(m.d(1),m=null):m?m.p(e,r):(m=DT(e),m.c(),m.m(n,o)),e[2]?g?g.p(e,r):(g=PT(e),g.c(),g.m(n,i)):g&&(g.d(1),g=null),!0===e[0].isLoggedIn?h||(h=UT(e),h.c(),h.m(n,s)):h&&(h.d(1),h=null),(!d||2&r)&&gd(l,"isOpen",e[1]),e[1]?f?(f.p(e,r),2&r&&Kd(f,1)):(f=GT(e),f.c(),Kd(f,1),f.m(t,null)):f&&(Yd(),Qd(f,1,1,(()=>{f=null})),Xd())},i(e){d||(Kd(f),d=!0)},o(e){Qd(f),d=!1},d(e){e&&Kc(t),m&&m.d(),g&&g.d(),h&&h.d(),f&&f.d(),u=!1,Cc(p)}}}function HT(e,t,n){let o,i;const s=kd("deepl_settings");Ic(e,s,(e=>n(0,i=e)));let r=!1;function a(){Xn({action:Un.dlRequestLogin}),l()}function l(){n(1,r=!1)}function c(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:Nv.settings_page}}),l()}function d(){const e=to(i,qt.TRANSLATOR)?Sm:xm;Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e,utmContent:"menu"}}),l()}return e.$$.update=()=>{1&e.$$.dirty&&n(2,o=i.isLoggedIn&&(!to(i,qt.TRANSLATOR)||!to(i,qt.WRITE)))},[i,r,o,s,function(){Xn({action:Un.dlRequestLogout}),Xn({action:qn.dlTrackUiAction,payload:{uiAction:rt}}),l()},a,function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"menu"}}),l()},function(){const e=vo()?Pm:$m;Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e}}),l()},l,c,d,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},()=>{a()},()=>{d()},()=>{c()},()=>{n(1,r=!r)}]}class jT extends cu{constructor(e){super(),lu(this,e,HT,zT,kc,{})}}function FT(e){let t,n;return{c(){t=Jc("div"),ad(t,"class",n=Pc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),ad(t,"style",e[3])},m(e,n){Xc(e,t,n)},p(e,o){1&o&&n!==(n=Pc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&ad(t,"class",n)},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function qT(e){let t,n;return t=new Sp({props:{tooltip:e[2],zIndex:"5",$$slots:{default:[VT]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.tooltip=e[2]),515&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function VT(e){let t,n;return{c(){t=Jc("div"),ad(t,"class",n=Pc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),ad(t,"style",e[3]),ad(t,"data-testid",e[1])},m(e,n){Xc(e,t,n)},p(e,o){1&o&&n!==(n=Pc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&ad(t,"class",n),2&o&&ad(t,"data-testid",e[1])},d(e){e&&Kc(t)}}}function ZT(e){let t,n,o,i;const s=[qT,FT],r=[];function a(e,t){return e[2]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=od()},m(e,n){r[t].m(e,n),Xc(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?r[t].p(e,i):(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Kd(n,1),n.m(o.parentNode,o))},i(e){i||(Kd(n),i=!0)},o(e){Qd(n),i=!1},d(e){e&&Kc(o),r[t].d(e)}}}function YT(e,t,n){let o,{write:i=!1}=t,{translator:s=!1}=t,{size:r=20}=t,{marginStart:a=0}=t,{marginEnd:l=0}=t,{alternateColor:c=""}=t,{dataTestId:d=""}=t;const u=`height: ${r}px; width: ${r}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;return i?o=chrome.i18n.getMessage("tooltip_write_fully_encrypted"):s&&(o=chrome.i18n.getMessage("tooltip_translator_fully_encrypted")),e.$$set=e=>{"write"in e&&n(4,i=e.write),"translator"in e&&n(5,s=e.translator),"size"in e&&n(6,r=e.size),"marginStart"in e&&n(7,a=e.marginStart),"marginEnd"in e&&n(8,l=e.marginEnd),"alternateColor"in e&&n(0,c=e.alternateColor),"dataTestId"in e&&n(1,d=e.dataTestId)},[c,d,o,u,i,s,r,a,l]}class XT extends cu{constructor(e){super(),lu(this,e,YT,ZT,kc,{write:4,translator:5,size:6,marginStart:7,marginEnd:8,alternateColor:0,dataTestId:1})}}function KT(e){let t;return{c(){t=Jc("div"),ad(t,"class","dl-logo svelte-1tthjxl")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function QT(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"class","dl-logo dl-logo--clickable svelte-1tthjxl"),ad(t,"aria-label",chrome.i18n.getMessage("deepl_logo"))},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[13]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function JT(e){let t,n,o=e[6]===Mt.translate&&eb(),i=e[6]===Mt.write&&tb();return{c(){o&&o.c(),t=nd(),i&&i.c(),n=od()},m(e,s){o&&o.m(e,s),Xc(e,t,s),i&&i.m(e,s),Xc(e,n,s)},p(e,s){e[6]===Mt.translate?o?o.p(e,s):(o=eb(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[6]===Mt.write?i?i.p(e,s):(i=tb(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&(Kc(t),Kc(n)),o&&o.d(e),i&&i.d(e)}}}function eb(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,ad(t,"class","translator-name svelte-1tthjxl")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function tb(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,ad(t,"class","translator-name svelte-1tthjxl")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function nb(e){let t,n;return t=new XT({props:{size:24,write:e[6]===Mt.write,translator:e[6]===Mt.translate}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.write=e[6]===Mt.write),64&n&&(o.translator=e[6]===Mt.translate),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function ob(e){let t,n,o,i;return o=new rf({props:{value:e[10].selectedTargetLanguage,websiteSettings:e[4],customClass:"dropdown__wrapper--header",fontSize:"sm"}}),o.$on("selection",e[17]),{c(){t=Jc("div"),n=Jc("div"),su(o.$$.fragment),ad(n,"class","dl-actions-language-selector__dropdown svelte-1tthjxl"),ad(t,"class","dl-actions-language-selector svelte-1tthjxl")},m(e,s){Xc(e,t,s),Vc(t,n),ru(o,n,null),i=!0},p(e,t){const n={};1024&t&&(n.value=e[10].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),o.$set(n)},i(e){i||(Kd(o.$$.fragment,e),i=!0)},o(e){Qd(o.$$.fragment,e),i=!1},d(e){e&&Kc(t),au(o)}}}function ib(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"class","dl-settings-icon svelte-1tthjxl"),ad(t,"data-qa","deepl-layour-header-settings-link")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[14]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function sb(e){let t,n;return t=new jT({}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function rb(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"type","button"),ad(t,"class","dl-close-icon svelte-1tthjxl")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Kc(t),n=!1,o()}}}function ab(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;let f=function(e){return e[13]?QT:KT}(e),_=f(e),v=e[9]&&JT(e),w=e[8]&&nb(e);r=new RT({});let T=e[6]===Mt.translate&&e[2]&&e[10]&&e[4]&&ob(e),b=e[7]&&ib(e),y=e[1]&&sb(),E=e[0]&&rb(e);return{c(){t=Jc("div"),n=Jc("div"),_.c(),o=nd(),v&&v.c(),i=nd(),w&&w.c(),s=nd(),su(r.$$.fragment),a=nd(),l=Jc("div"),T&&T.c(),c=nd(),b&&b.c(),d=nd(),y&&y.c(),u=nd(),E&&E.c(),ad(n,"class","logo-translator-name-container svelte-1tthjxl"),ad(l,"class","dl-actions svelte-1tthjxl"),ad(t,"class",p=Pc("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl")},m(p,f){Xc(p,t,f),Vc(t,n),_.m(n,null),Vc(n,o),v&&v.m(n,null),Vc(n,i),w&&w.m(n,null),Vc(n,s),ru(r,n,null),Vc(t,a),Vc(t,l),T&&T.m(l,null),Vc(l,c),b&&b.m(l,null),Vc(l,d),y&&y.m(l,null),Vc(l,u),E&&E.m(l,null),m=!0,g||(h=id(t,"mousedown",rd(sd(e[16]))),g=!0)},p(e,[o]){_.p(e,o),e[9]?v?v.p(e,o):(v=JT(e),v.c(),v.m(n,i)):v&&(v.d(1),v=null),e[8]?w?(w.p(e,o),256&o&&Kd(w,1)):(w=nb(e),w.c(),Kd(w,1),w.m(n,s)):w&&(Yd(),Qd(w,1,1,(()=>{w=null})),Xd()),e[6]===Mt.translate&&e[2]&&e[10]&&e[4]?T?(T.p(e,o),1108&o&&Kd(T,1)):(T=ob(e),T.c(),Kd(T,1),T.m(l,c)):T&&(Yd(),Qd(T,1,1,(()=>{T=null})),Xd()),e[7]?b?b.p(e,o):(b=ib(e),b.c(),b.m(l,d)):b&&(b.d(1),b=null),e[1]?y?2&o&&Kd(y,1):(y=sb(),y.c(),Kd(y,1),y.m(l,u)):y&&(Yd(),Qd(y,1,1,(()=>{y=null})),Xd()),e[0]?E?E.p(e,o):(E=rb(e),E.c(),E.m(l,null)):E&&(E.d(1),E=null),(!m||4&o&&p!==(p=Pc("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl"))&&ad(t,"class",p)},i(e){m||(Kd(w),Kd(r.$$.fragment,e),Kd(T),Kd(y),m=!0)},o(e){Qd(w),Qd(r.$$.fragment,e),Qd(T),Qd(y),m=!1},d(e){e&&Kc(t),_.d(),v&&v.d(),w&&w.d(),au(r),T&&T.d(),b&&b.d(),y&&y.d(),E&&E.d(),g=!1,h()}}}function lb(e,t,n){let o,i,s=Ec,r=()=>(s(),s=Ac(h,(e=>n(18,o=e))),h),a=Ec,l=()=>(a(),a=Ac(m,(e=>n(10,i=e))),m);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>a()));let{closeWindow:d}=t,{showMenu:u=!1}=t,{showLangSelect:p=!1}=t,{settings:m}=t;l();let{websiteSettings:h}=t;r();let{extensionContext:f=0}=t,{platformBehaviour:_=kt.default}=t,{textProcessingMode:v=Mt.translate}=t,{showSettingsIcon:w=!0}=t,{showProStatus:T=!1}=t,{showServiceName:b=!1}=t;async function y(e){await m.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),h.update({translationState:c.ongoingTranslation}),Xn({action:jn.dlRequestInlineTranslation,payload:{requests:[{text:o.originalSnippet}],domainName:window.location.hostname,trigger:g,sourceLang:"auto",websiteLanguage:o.websiteLanguage}}).then((e=>{h.update({translationState:c.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{h.update({translationState:c.none,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}async function E(e){await m.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e.value)}return e.$$set=e=>{"closeWindow"in e&&n(0,d=e.closeWindow),"showMenu"in e&&n(1,u=e.showMenu),"showLangSelect"in e&&n(2,p=e.showLangSelect),"settings"in e&&l(n(3,m=e.settings)),"websiteSettings"in e&&r(n(4,h=e.websiteSettings)),"extensionContext"in e&&n(15,f=e.extensionContext),"platformBehaviour"in e&&n(5,_=e.platformBehaviour),"textProcessingMode"in e&&n(6,v=e.textProcessingMode),"showSettingsIcon"in e&&n(7,w=e.showSettingsIcon),"showProStatus"in e&&n(8,T=e.showProStatus),"showServiceName"in e&&n(9,b=e.showServiceName)},[d,u,p,m,h,_,v,w,T,b,i,y,E,function(){let e=Lm;Xn({action:qn.dlTrackLogoClickedEvent,payload:{extensionContext:f}}),v===Mt.write&&(e=km),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e,utmContent:"gdocs_logo"}})},function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:Nv.settings_page}})},f,function(t){Ad.call(this,e,t)},e=>{switch(_){case kt.gdocs:E(e.detail.selectedOption);break;case kt.default:default:y(e.detail.selectedOption)}}]}let cb=class extends cu{constructor(e){super(),lu(this,e,lb,ab,kc,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:15,platformBehaviour:5,textProcessingMode:6,showSettingsIcon:7,showProStatus:8,showServiceName:9})}};function db(e){let t,n;return t=new cb({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],textProcessingMode:e[8],showSettingsIcon:e[9],showProStatus:e[10],showServiceName:e[11]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.textProcessingMode=e[8]),512&n&&(o.showSettingsIcon=e[9]),1024&n&&(o.showProStatus=e[10]),2048&n&&(o.showServiceName=e[11]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function ub(e){let t,n,o,i,s,r=e[3]&&db(e);const a=e[14].default,l=Mc(a,e,e[13],null);return{c(){t=Jc("div"),r&&r.c(),n=nd(),o=Jc("div"),l&&l.c(),ad(o,"class","dl-content svelte-jwy61a"),ad(t,"class",i=Pc(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"),ad(t,"translate","no"),ad(t,"dir",e[12])},m(e,i){Xc(e,t,i),r&&r.m(t,null),Vc(t,n),Vc(t,o),l&&l.m(o,null),s=!0},p(e,[o]){e[3]?r?(r.p(e,o),8&o&&Kd(r,1)):(r=db(e),r.c(),Kd(r,1),r.m(t,n)):r&&(Yd(),Qd(r,1,1,(()=>{r=null})),Xd()),l&&l.p&&(!s||8192&o)&&Rc(l,a,e,e[13],s?Nc(a,e[13],o,null):Dc(e[13]),null),(!s||4&o&&i!==(i=Pc(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"))&&ad(t,"class",i)},i(e){s||(Kd(r),Kd(l,e),s=!0)},o(e){Qd(r),Qd(l,e),s=!1},d(e){e&&Kc(t),r&&r.d(),l&&l.d(e)}}}function pb(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=kd("text_direction");let{closeWindow:r}=t,{showMenu:a=!1}=t,{showLangSelect:l=!1}=t,{withHeader:c=!0}=t,{settings:d}=t,{websiteSettings:u}=t,{extensionContext:p}=t,{platformBehaviour:m=kt.default}=t,{textProcessingMode:g=Mt.translate}=t,{showSettingsIcon:h=!0}=t,{showProStatus:f=!1}=t,{showServiceName:_=!1}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,r=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,l=e.showLangSelect),"withHeader"in e&&n(3,c=e.withHeader),"settings"in e&&n(4,d=e.settings),"websiteSettings"in e&&n(5,u=e.websiteSettings),"extensionContext"in e&&n(6,p=e.extensionContext),"platformBehaviour"in e&&n(7,m=e.platformBehaviour),"textProcessingMode"in e&&n(8,g=e.textProcessingMode),"showSettingsIcon"in e&&n(9,h=e.showSettingsIcon),"showProStatus"in e&&n(10,f=e.showProStatus),"showServiceName"in e&&n(11,_=e.showServiceName),"$$scope"in e&&n(13,i=e.$$scope)},[r,a,l,c,d,u,p,m,g,h,f,_,s,i,o]}let mb=class extends cu{constructor(e){super(),lu(this,e,pb,ub,kc,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,textProcessingMode:8,showSettingsIcon:9,showProStatus:10,showServiceName:11})}};function gb(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=Jc("div"),n=Jc("input"),o=nd(),i=Jc("div"),s=nd(),r=Jc("label"),a=td(e[3]),ad(n,"id",e[1]),ad(n,"name",e[4]),ad(n,"type","radio"),n.checked=e[2],ad(n,"data-qa",e[6]),ad(n,"class","svelte-1n1hwks"),ad(i,"class","radio-icon svelte-1n1hwks"),ad(r,"for",e[1]),ad(r,"class","svelte-1n1hwks"),ad(t,"class",l=Pc(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1n1hwks")},m(l,u){Xc(l,t,u),Vc(t,n),cd(n,e[0]),Vc(t,o),Vc(t,i),Vc(t,s),Vc(t,r),Vc(r,a),c||(d=[id(n,"change",e[10]),id(n,"change",e[8]),id(n,"mousedown",rd(sd(e[9]))),id(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&ad(n,"id",e[1]),16&o&&ad(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&ad(n,"data-qa",e[6]),1&o&&cd(n,e[0]),8&o&&ld(a,e[3]),2&o&&ad(r,"for",e[1]),36&o&&l!==(l=Pc(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1n1hwks")&&ad(t,"class",l)},i:Ec,o:Ec,d(e){e&&Kc(t),c=!1,Cc(d)}}}function hb(e,t,n){let{id:o}=t,{checked:i=!1}=t,{label:s=""}=t,{value:r=""}=t,{name:a=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,i=e.checked),"label"in e&&n(3,s=e.label),"value"in e&&n(0,r=e.value),"name"in e&&n(4,a=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[r,o,i,s,a,l,c,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(){r=this.value,n(0,r)}]}class fb extends cu{constructor(e){super(),lu(this,e,hb,gb,kc,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}function _b(e){let t,n,o;return n=new mb({props:{withHeader:!1,$$slots:{default:[vb]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"data-testid","dl-inline-translate-turnoff-settings")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};524297&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function vb(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new fb({props:{name:"disable_inline_translation",id:at,value:at,cssClassName:"radio--with-border",checked:e[3]===at,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[12]),d=new fb({props:{name:"disable_inline_translation",id:lt,value:lt,cssClassName:"radio--with-border",checked:e[3]===lt,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[13]),{c(){t=Jc("div"),n=Jc("button"),o=nd(),i=Jc("div"),s=Jc("p"),s.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,r=nd(),a=Jc("div"),su(l.$$.fragment),c=nd(),su(d.$$.fragment),u=nd(),p=Jc("div"),m=Jc("span"),m.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,g=nd(),h=Jc("button"),f=td(b),ad(n,"type","button"),ad(n,"class","close-icon svelte-kj6lw"),ad(t,"class","header svelte-kj6lw"),ad(s,"class","font-bold svelte-kj6lw"),ad(a,"class","option-container svelte-kj6lw"),ad(m,"class","link svelte-kj6lw"),ad(m,"data-qa","close-settings-popup-link"),ad(h,"class",_=Pc("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-kj6lw"),ad(h,"data-qa","save-settings-change-button"),ad(p,"class","action-container svelte-kj6lw"),ad(i,"class","dl-widget svelte-kj6lw")},m(_,b){Xc(_,t,b),Vc(t,n),Xc(_,o,b),Xc(_,i,b),Vc(i,s),Vc(i,r),Vc(i,a),ru(l,a,null),Vc(a,c),ru(d,a,null),Vc(i,u),Vc(i,p),Vc(p,m),Vc(p,g),Vc(p,h),Vc(h,f),v=!0,w||(T=[id(n,"click",rd(sd((function(){Lc(e[0])&&e[0].apply(this,arguments)})))),id(t,"mousedown",rd(sd(e[11]))),id(m,"click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),id(h,"click",rd(sd(e[6]))),id(i,"mousedown",rd(sd(e[10])))],w=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===at),l.$set(o);const i={};8&n&&(i.checked=e[3]===lt),d.$set(i),(!v||8&n&&_!==(_=Pc("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-kj6lw"))&&ad(h,"class",_)},i(e){v||(Kd(l.$$.fragment,e),Kd(d.$$.fragment,e),v=!0)},o(e){Qd(l.$$.fragment,e),Qd(d.$$.fragment,e),v=!1},d(e){e&&(Kc(t),Kc(o),Kc(i)),au(l),au(d),w=!1,Cc(T)}}}function wb(e){let t,n,o,i,s=e[4].enableInlineTranslation&&_b(e);return{c(){t=Jc("div"),s&&s.c(),ad(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-kj6lw"),ad(t,"data-qa","deepl-inline-settings-tooltip"),ad(t,"style",e[2]),ad(t,"dir",es())},m(r,a){Xc(r,t,a),s&&s.m(t,null),e[14](t),n=!0,o||(i=[Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[15])],o=!0)},p(e,[o]){e[4].enableInlineTranslation?s?(s.p(e,o),16&o&&Kd(s,1)):(s=_b(e),s.c(),Kd(s,1),s.m(t,null)):s&&(Yd(),Qd(s,1,1,(()=>{s=null})),Xd()),(!n||4&o)&&ad(t,"style",e[2])},i(e){n||(Kd(s),n=!0)},o(e){Qd(s),n=!1},d(n){n&&Kc(t),s&&s.d(),e[14](null),o=!1,Cc(i)}}}function Tb(e,t,n){let o;Ic(e,gu,(e=>n(4,o=e))),Ld("text_direction",es());let i,s,r,{closeTooltip:a}=t,{replaceElement:l}=t,c="visibility: hidden; opacity:0; height:0;",d="";function u(e){n(3,d=e)}xd((()=>{setTimeout((()=>{n(2,c="")}),100),r=Cp(i,(({clientHeight:e})=>{n(9,s=e)}))})),Sd((()=>{r&&r()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,a=e.closeTooltip),"replaceElement"in e&&n(8,l=e.replaceElement)},e.$$.update=()=>{768&e.$$.dirty&&l(s)},[a,i,c,d,o,u,function(){if(!d)return;switch(d){case lt:gu.set({enableInlineTranslation:!1}),Xn({action:qn.dlTrackSettingChanged,payload:{settingType:lt,domainName:window.location.hostname,uiFunction:dt,uiLocation:Z}});break;case at:!function(){let e=o.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),gu.set({blacklistDomainsForReading:e}),Xn({action:qn.dlTrackSettingChanged,payload:{settingType:at,domainName:window.location.hostname,uiFunction:dt,uiLocation:Z}}))}()}let e=hv(window.location.hostname,["www."]);a(),Xn({action:Bn.dlSendNotification,payload:{type:U,options:{theme:F.green_theme,currentDomain:e,saveAction:d,settingsPageURL:Nv.settings_reading}}})},function(e){n(3,d=e.currentTarget.value)},l,s,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},()=>u(at),()=>u(lt),function(e){Md[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},()=>a()]}class bb extends cu{constructor(e){super(),lu(this,e,Tb,wb,kc,{closeTooltip:0,replaceElement:8})}}class yb{static HTML_TAG_NAME="deepl-inline-translate-settings-tooltip";static createElement=(e=document)=>{const t=e.createElement(yb.HTML_TAG_NAME),n=new yb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t)=>{const{deepl_inline_ui:n}=R;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.domElement.shadowContainer.appendChild(this.domElement.container);const i=e?.top,s=window.innerHeight-(e?.bottom||0);let r="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),a=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new bb({target:this.domElement.container,props:{closeTooltip:t,replaceElement:t=>{const d=i>o;s>o?l=e.y+8:d&&(l=e.y-30-t-4),s<o&&i<o&&(r=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,a=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.domElement.container.style.top=`${parseInt(l)}px`,this.domElement.container.style.left=`${parseInt(c)}px`}}})};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const Eb=e=>({top:e?.selectedTop,bottom:window.innerHeight-e?.selectedBottom,right:e?.selectedRight,left:e?.selectedLeft}),$b=e=>{const{coords:t,clientHeight:n}=e,o=Eb(t),i={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(i))if(e.isPossible)return e.position},xb=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},Sb=(e,t,n)=>{const{coords:o,clientHeight:i,style:s,TOOLTIP_WIDTH:r,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":s.top=o.y-o.height-i-2-a-n.y+"px",s.left=xb(t)-n.x+"px";break;case"bottom":s.top=o.y+2+a-n.y+"px",s.left=xb(t)-n.x+"px";break;case"left":s.top=$b(t)-n.y+"px",s.left=o.x-r-2-n.x+"px";break;case"right":s.top=$b(t)-n.y+"px",s.left=o.x+o.selectedWidth+2-n.x+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px",s.left=window.innerWidth/2-r/2-n.x+"px"}},Cb=(e,t,n)=>{const{coords:o,clientHeight:i,TOOLTIP_WIDTH:s,style:r}=t;switch(r.left=o.x-s-10-n.x+"px",e){case"top":r.top=o.y-i-n.y+"px";break;case"bottom":r.top=o.y-o.height-n.y+"px";break;default:r.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px"}},Lb=(e,t)=>{const n=kb(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},kb=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,i=Eb(o);return{left:i.left>t,right:i.right>t,bottom:i.bottom>n,top:i.top>n}},Ab=e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]};function Ib(e){return e.preventDefault(),!1}function Mb(e,t){e.dataTransfer.setData("text/html","");let n=e.target.getBoundingClientRect(),o={x:0,y:0};const i=e.clientX-n.left,s=e.clientY-n.top;return i>0&&(o.x=i),s>0&&(o.y=s),function(e){try{Xn({action:qn.dlTrackInlineDragStart,payload:{nicheIntegration:e}})}catch(e){console.error(e)}}(t),{dragElementRect:n,dragOffset:o}}function Ob({dropEvent:e,document:t,dragConfig:n}){if(e.preventDefault(),0===e.y||0===e.x)return null;const{dragOffset:o,dragElementRect:i,dragBarWidth:s}=n,r=t.body.getBoundingClientRect();let a;return a=e.pageX-o.x>r.width-i.width?r.width-i.width-s>0?r.width-i.width-s:0:e.pageX-o.x,{x:a,y:e.pageY-o.y}}function Nb(e){return e&&function(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}(e).replaceAll("\n","<br />")}function Rb(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-sfmd6f"></span>',ad(t,"type","button"),ad(t,"class","dl-btn svelte-sfmd6f"),ad(t,"data-qa","dl-toolbar-copy-button"),gd(t,"dl-btn-active",e[0])},m(i,s){Xc(i,t,s),n||(o=[id(t,"click",e[1]),id(t,"mouseleave",e[2])],n=!0)},p(e,n){1&n&&gd(t,"dl-btn-active",e[0])},d(e){e&&Kc(t),n=!1,Cc(o)}}}function Db(e){let t,n;return t=new Sp({props:{zIndex:300,tooltip:chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[Rb]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.tooltip=chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy")),129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Pb(e,t,n){let{text:o}=t,{targetLang:i}=t,{platformBehaviour:s=kt.default}=t,r=!1;return e.$$set=e=>{"text"in e&&n(3,o=e.text),"targetLang"in e&&n(4,i=e.targetLang),"platformBehaviour"in e&&n(5,s=e.platformBehaviour)},[r,function(){navigator.clipboard.writeText(o).then((function(){n(0,r=!0)}),(function(e){console.error(e)})),function(e){try{Xn({action:qn.dlTrackInlineCopy,payload:e})}catch(e){console.error(e)}}({targetLang:i,targetLength:o.length,nicheIntegration:s})},function(){setTimeout((()=>{n(0,r=!1)}),300)},o,i,s]}class Ub extends cu{constructor(e){super(),lu(this,e,Pb,Db,kc,{text:3,targetLang:4,platformBehaviour:5})}}function Gb(e){let t,n,o,i,s,r,a,l,c;return{c(){t=Jc("div"),n=Jc("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=nd(),i=Jc("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,ad(n,"class","list-entry svelte-o3etn3"),ad(n,"data-qa","dl-toolbar-listener-button-target-lang"),gd(n,"dl-entry-notAvailable",!e[0]),ad(i,"class","list-entry svelte-o3etn3"),ad(i,"data-qa","dl-toolbar-listener-button-source-lang"),gd(i,"dl-entry-notAvailable",!e[1]),ad(t,"class","listen-list svelte-o3etn3"),ad(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,r){Xc(s,t,r),Vc(t,n),Vc(t,o),Vc(t,i),a=!0,l||(c=[id(n,"click",(function(){Lc(e[2])&&e[2].apply(this,arguments)})),id(i,"click",(function(){Lc(e[3])&&e[3].apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!a||1&o)&&gd(n,"dl-entry-notAvailable",!e[0]),(!a||2&o)&&gd(i,"dl-entry-notAvailable",!e[1])},i(e){a||(Ud((()=>{a&&(r&&r.end(1),s=eu(t,Vu,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=tu(t,Vu,{y:-5,duration:500}),a=!1},d(e){e&&Kc(t),e&&r&&r.end(),l=!1,Cc(c)}}}function Bb(e,t,n){let{isAvailableSelectedTargetLang:o}=t,{isAvailableSourceLang:i}=t,{onTargetListen:s=()=>{}}=t,{onSourceListen:r=()=>{}}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,o=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,i=e.isAvailableSourceLang),"onTargetListen"in e&&n(2,s=e.onTargetListen),"onSourceListen"in e&&n(3,r=e.onSourceListen)},[o,i,s,r]}class Wb extends cu{constructor(e){super(),lu(this,e,Bb,Gb,kc,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,onTargetListen:2,onSourceListen:3})}}function zb(e){let t,n,o,i,s;return n=new Sp({props:{tooltip:e[8],zIndex:300,$$slots:{default:[jb]},$$scope:{ctx:e}}}),{c(){t=Jc("fragment"),su(n.$$.fragment),ad(t,"role","navigation")},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=[id(t,"mouseover",e[11]),id(t,"focus",e[11]),id(t,"mouseleave",e[15])],i=!0)},p(e,t){const o={};256&t&&(o.tooltip=e[8]),1048831&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,Cc(s)}}}function Hb(e){let t,n;return t=new Wb({props:{isAvailableSelectedTargetLang:e[6],isAvailableSourceLang:e[7],onTargetListen:e[13],onSourceListen:e[14]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.isAvailableSelectedTargetLang=e[6]),128&n&&(o.isAvailableSourceLang=e[7]),10&n&&(o.onTargetListen=e[13]),5&n&&(o.onSourceListen=e[14]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function jb(e){let t,n,o,i,s,r,a=e[5]&&Hb(e);return{c(){t=Jc("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=nd(),a&&a.c(),o=od(),ad(t,"type","button"),ad(t,"class","dl-btn svelte-17suwwx"),ad(t,"data-qa","dl-toolbar-listener-button"),gd(t,"dl-btn-active",e[4]),gd(t,"dl-btn-hovered",e[5])},m(l,c){Xc(l,t,c),Xc(l,n,c),a&&a.m(l,c),Xc(l,o,c),i=!0,s||(r=id(t,"click",e[10]),s=!0)},p(e,n){(!i||16&n)&&gd(t,"dl-btn-active",e[4]),(!i||32&n)&&gd(t,"dl-btn-hovered",e[5]),e[5]?a?(a.p(e,n),32&n&&Kd(a,1)):(a=Hb(e),a.c(),Kd(a,1),a.m(o.parentNode,o)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){i||(Kd(a),i=!0)},o(e){Qd(a),i=!1},d(e){e&&(Kc(t),Kc(n),Kc(o)),a&&a.d(e),s=!1,r()}}}function Fb(e){let t,n,o=(e[6]||e[7])&&zb(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[6]||e[7]?o?(o.p(e,n),192&n&&Kd(o,1)):(o=zb(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function qb(e,t,n){let o,{platformBehaviour:i=kt.default}=t,{sourceLang:s=""}=t,{targetLang:r=""}=t,{sourceText:a=""}=t,{targetText:l=""}=t,c=!1,d=!1,u=!1,p=!1;function m(){Xn({action:Gn.dlStopSpeech}),n(4,o=void 0)}function g(e,t){const n=t===It,o={targetLang:n?r:s,targetLength:n?l.length:a.length,actionType:e,nicheIntegration:i,textKind:t,context:Mt.translate};try{Xn({action:qn.dlTrackInlineListen,payload:o})}catch(e){console.error(e)}}async function h(e,t,i){o||(Xn({action:Gn.dlTextToSpeech,payload:{text:e,lang:t}}),n(4,o=i),g(ut,i),n(5,u=!1))}async function f(e,t,i){if("dlVoiceOverStopped"===e.action)n(4,o=void 0),i();return!0}function _(e){try{Xn({action:qn.dlTrackVoiceOverStops,payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(f),Sd((()=>{if(o){const e=o===It;_({targetLang:e?r:s,targetLength:e?l.length:a.length,triggerType:M,nicheIntegration:i,textKind:o,context:Mt.translate})}m(),chrome.runtime.onMessage.removeListener(f)}));return e.$$set=e=>{"platformBehaviour"in e&&n(12,i=e.platformBehaviour),"sourceLang"in e&&n(0,s=e.sourceLang),"targetLang"in e&&n(1,r=e.targetLang),"sourceText"in e&&n(2,a=e.sourceText),"targetText"in e&&n(3,l=e.targetText)},e.$$.update=()=>{51&e.$$.dirty&&(r&&Xn({action:Gn.dlGetSupportedVoices}).then((e=>{n(6,c=e.includes(["EN-US","EN-GB"].includes(r)?"EN":["PT-PT","PT-BR"].includes(r)?"PT":["ZH-CN","ZH-HANT"].includes(r)?"ZH":r)),n(7,d=e.includes(s))})),!u&&o?setTimeout((()=>{n(8,p=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(8,p=!1))},[s,r,a,l,o,u,c,d,p,h,function(){if(o){const e=o;m();const t=e===It;n(4,o=void 0),_({targetLang:t?r:s,targetLength:t?l.length:a.length,triggerType:I,nicheIntegration:i,textKind:e,context:Mt.translate}),g(pt,e)}else n(5,u=!0)},function(){o||n(5,u=!0)},i,()=>h(l,r,It),()=>h(a,s,At),()=>n(5,u=!1)]}class Vb extends cu{constructor(e){super(),lu(this,e,qb,Fb,kc,{platformBehaviour:12,sourceLang:0,targetLang:1,sourceText:2,targetText:3})}}function Zb(e){let t,n,o,i;return{c(){t=Jc("button"),ad(t,"type","button"),ad(t,"class","dl-replace-button svelte-9vlams"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,s){Xc(n,t,s),o||(i=id(t,"click",rd(sd(e[5]))),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&Kc(t),o=!1,i()}}}function Yb(e){let t,n;return t=new Sp({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[Zb]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),524&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Xb(e,t,n){let o,i,s=Ec,r=()=>(s(),s=Ac(d,(e=>n(7,o=e))),d),a=Ec,l=()=>(a(),a=Ac(u,(e=>n(8,i=e))),u);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>a()));let{websiteSettings:d}=t;r();let{settings:u}=t;l();let p,{onClose:m}=t,g=!1,h=o.translationState===c.anonymousUserMaxCharExceeded;return xd((()=>{n(2,p=Mi())})),e.$$set=e=>{"websiteSettings"in e&&r(n(0,d=e.websiteSettings)),"settings"in e&&l(n(1,u=e.settings)),"onClose"in e&&n(6,m=e.onClose)},[d,u,p,g,h,function(){const e=ki().text;n(3,g=!0);const t=document.querySelector("deepl-gdocs-icon");t&&(t.applyReplacement(),m(),Xn({action:qn.dlTrackGDocsReplaceText,payload:{sourceLang:o.websiteLanguage,targetLang:i.selectedTargetLanguage,sourceLength:e.length,targetLength:o.translatedSnippet.length}}))},m]}class Kb extends cu{constructor(e){super(),lu(this,e,Xb,Yb,kc,{websiteSettings:0,settings:1,onClose:6})}}function Qb(e){let t,n,o=xi(e[4])+"";return{c(){t=Jc("div"),n=Jc("div"),ad(t,"class","tooltip-linguee svelte-166oozy")},m(e,i){Xc(e,t,i),Vc(t,n),n.innerHTML=o},p(e,t){16&t&&o!==(o=xi(e[4])+"")&&(n.innerHTML=o)},d(e){e&&Kc(t)}}}function Jb(e){let t,n;return t=new Kb({props:{websiteSettings:e[0],settings:gu,onClose:e[5]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.websiteSettings=e[0]),32&n&&(o.onClose=e[5]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function ey(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b,y,E,$,x,S=e[4]&&Qb(e);w=new Vb({props:{sourceLang:e[7].websiteLanguage,targetLang:e[8].selectedTargetLanguage,sourceText:e[7].originalSnippet,targetText:e[7].translatedSnippet,platformBehaviour:e[6]}}),b=new Ub({props:{targetLang:e[8].selectedTargetLanguage,text:e[7].translatedSnippet,platformBehaviour:e[6]}});let C=e[6]===kt.gdocs&&Jb(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("button"),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,s=nd(),r=Jc("span"),a=nd(),l=Jc("fragment"),c=Jc("div"),d=Jc("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=nd(),p=Jc("div"),m=nd(),g=Jc("div"),f=nd(),S&&S.c(),_=nd(),v=Jc("div"),su(w.$$.fragment),T=nd(),su(b.$$.fragment),y=nd(),C&&C.c(),ad(r,"class","icon icon-external-link svelte-166oozy"),ad(o,"type","button"),ad(o,"class","link svelte-166oozy"),ad(n,"class","dl-link-container"),ad(d,"class","dict-text svelte-166oozy"),ad(p,"class","img_book svelte-166oozy"),gd(p,"shown-dict",e[2]),ad(g,"class","img_arrow svelte-166oozy"),gd(g,"shown-dict",e[2]),ad(c,"class",h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-166oozy"),ad(c,"data-qa","dl-toolbar-dictionary-button"),dd(l,"position","relative"),ad(v,"class","dl-btn-group svelte-166oozy"),ad(t,"class","dl-toolbar svelte-166oozy")},m(h,L){Xc(h,t,L),Vc(t,n),Vc(n,o),Vc(o,i),Vc(o,s),Vc(o,r),Vc(t,a),Vc(t,l),Vc(l,c),Vc(c,d),Vc(c,u),Vc(c,p),Vc(c,m),Vc(c,g),Vc(l,f),S&&S.m(l,null),Vc(t,_),Vc(t,v),ru(w,v,null),Vc(v,T),ru(b,v,null),Vc(v,y),C&&C.m(v,null),E=!0,$||(x=[id(o,"click",e[9]),id(c,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),id(c,"mouseenter",e[10])],$=!0)},p(t,[n]){e=t,(!E||4&n)&&gd(p,"shown-dict",e[2]),(!E||4&n)&&gd(g,"shown-dict",e[2]),(!E||12&n&&h!==(h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-166oozy"))&&ad(c,"class",h),e[4]?S?S.p(e,n):(S=Qb(e),S.c(),S.m(l,null)):S&&(S.d(1),S=null);const o={};128&n&&(o.sourceLang=e[7].websiteLanguage),256&n&&(o.targetLang=e[8].selectedTargetLanguage),128&n&&(o.sourceText=e[7].originalSnippet),128&n&&(o.targetText=e[7].translatedSnippet),64&n&&(o.platformBehaviour=e[6]),w.$set(o);const i={};256&n&&(i.targetLang=e[8].selectedTargetLanguage),128&n&&(i.text=e[7].translatedSnippet),64&n&&(i.platformBehaviour=e[6]),b.$set(i),e[6]===kt.gdocs?C?(C.p(e,n),64&n&&Kd(C,1)):(C=Jb(e),C.c(),Kd(C,1),C.m(v,null)):C&&(Yd(),Qd(C,1,1,(()=>{C=null})),Xd())},i(e){E||(Kd(w.$$.fragment,e),Kd(b.$$.fragment,e),Kd(C),E=!0)},o(e){Qd(w.$$.fragment,e),Qd(b.$$.fragment,e),Qd(C),E=!1},d(e){e&&Kc(t),S&&S.d(),au(w),au(b),C&&C.d(),$=!1,Cc(x)}}}function ty(e,t,n){let o,i,s=Ec,r=()=>(s(),s=Ac(a,(e=>n(7,o=e))),a);Ic(e,gu,(e=>n(8,i=e))),e.$$.on_destroy.push((()=>s()));let{websiteSettings:a}=t;r();let{switchVisibilityDictionary:l}=t,{showDictionary:c=!1}=t,{enableDictionaryButton:d}=t,{dictionaryButtonError:u}=t,{onClose:p}=t,{platformBehaviour:m=kt.default}=t;return e.$$set=e=>{"websiteSettings"in e&&r(n(0,a=e.websiteSettings)),"switchVisibilityDictionary"in e&&n(1,l=e.switchVisibilityDictionary),"showDictionary"in e&&n(2,c=e.showDictionary),"enableDictionaryButton"in e&&n(3,d=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(4,u=e.dictionaryButtonError),"onClose"in e&&n(5,p=e.onClose),"platformBehaviour"in e&&n(6,m=e.platformBehaviour)},[a,l,c,d,u,p,m,o,i,function(){const e={};o&&i&&(e.sourceLang=o.websiteLanguage,e.targetLang=i.selectedTargetLanguage,e.textToShare=o.originalSnippet),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Cm,...e}});try{Xn({action:qn.dlTrackUiAction,payload:{uiAction:it,nicheIntegration:m}})}catch(e){console.error(e)}},function(){if(!d)try{Xn({action:qn.dlTrackDisabledDictionaryHover,payload:{}})}catch(e){console.log(e)}}]}class ny extends cu{constructor(e){super(),lu(this,e,ty,ey,kc,{websiteSettings:0,switchVisibilityDictionary:1,showDictionary:2,enableDictionaryButton:3,dictionaryButtonError:4,onClose:5,platformBehaviour:6})}}function oy(e){let t,n,o,i,s,r;return{c(){t=Jc("div"),n=Jc("button"),n.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,o=nd(),i=Jc("button"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,ad(n,"class","btn-primary svelte-1ou9pye"),ad(i,"class","btn-secondary svelte-1ou9pye"),ad(t,"class","dl-toolbar svelte-1ou9pye")},m(a,l){Xc(a,t,l),Vc(t,n),Vc(t,o),Vc(t,i),s||(r=[id(n,"click",e[0]),id(i,"click",e[1])],s=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),s=!1,Cc(r)}}}function iy(e,t,n){let{onClose:o}=t;return e.$$set=e=>{"onClose"in e&&n(2,o=e.onClose)},[()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&(e.applyReplacement(),e.trackDeeplWriteInsertCopy()),o()},()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&e.trackDeeplWriteDiscardCopy(),o()},o]}class sy extends cu{constructor(e){super(),lu(this,e,iy,oy,kc,{onClose:2})}}function ry(e){let t,n,o,i,s,r=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=Jc("p"),n=td(e[0]),o=nd(),i=Jc("pre"),s=td(r),ad(i,"class","debug-settings svelte-mu7va1")},m(e,r){Xc(e,t,r),Vc(t,n),Xc(e,o,r),Xc(e,i,r),Vc(i,s)},p(e,[t]){1&t&&ld(n,e[0]),2&t&&r!==(r=JSON.stringify(e[1](),void 0,2)+"")&&ld(s,r)},i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(o),Kc(i))}}}function ay(e,t,n){let{headline:o="JSON block"}=t,{jsonData:i=()=>{}}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,i=e.jsonData)},[o,i]}class ly extends cu{constructor(e){super(),lu(this,e,ay,ry,kc,{headline:0,jsonData:1})}}const cy=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),dy=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);function uy(e,t){return["EN-GB","EN-US"].includes(e)&&(e="EN"),["EN-GB","EN-US"].includes(t)&&(t="EN"),["PT-PT","PT-BR"].includes(e)&&(e="PT"),["PT-PT","PT-BR"].includes(t)&&(t="PT"),["ZH-CN","ZH-HANT"].includes(e)&&(e="ZH"),["ZH-CN","ZH-HANT"].includes(t)&&(t="ZH"),function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return dy.get(n)}(e,t)}async function py(e){let{interfaceLang:t,sourceLang:n,targetLang:o,text:i}=e;var s;t&&(s=t,cy.has(s.toUpperCase()))||(t="EN"),t=t.substring(0,2).toUpperCase(),await(Pd(),Rd);try{return await Xn({action:Fn.dlGetDictionary,payload:{interfaceLang:t,sourceLang:n,targetLang:o,text:i}})}catch(e){throw Xn({action:qn.dlTrackLingueeErrorData,payload:{lingueeError:e.error}}),e}}function my(e){let t,n,o,i,s=xi(e[0])+"";return{c(){t=Jc("div"),n=Jc("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=nd(),i=new fd(!1),ad(n,"lang","scss"),i.a=null},m(e,r){Xc(e,t,r),Vc(t,n),Vc(t,o),i.m(s,t)},p(e,[t]){1&t&&s!==(s=xi(e[0])+"")&&i.p(s)},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function gy(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class hy extends cu{constructor(e){super(),lu(this,e,gy,my,kc,{html:0})}}function fy(e){let t,n,o,i;return n=new hy({props:{html:e[1]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","dl__dictionary svelte-1n7xyu1")},m(e,o){Xc(e,t,o),ru(n,t,null),i=!0},p(e,t){const o={};2&t&&(o.html=e[1]),n.$set(o)},i(e){i||(Kd(n.$$.fragment,e),o||Ud((()=>{o=eu(t,Vu,{y:-50,duration:700}),o.start()})),i=!0)},o(e){Qd(n.$$.fragment,e),i=!1},d(e){e&&Kc(t),au(n)}}}function _y(e){let t,n,o=e[0]&&e[1]&&e[2]&&fy(e);return{c(){t=Jc("div"),o&&o.c()},m(e,i){Xc(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[0]&&e[1]&&e[2]?o?(o.p(e,n),7&n&&Kd(o,1)):(o=fy(e),o.c(),Kd(o,1),o.m(t,null)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d()}}}function vy(e,t,n){let o,i,s,r,a,{originalSnippet:l}=t,{sourceLanguage:c}=t,{targetLanguage:d}=t,{websiteLanguage:u}=t,{showDictionary:p=!1}=t,{setDictionaryLauncherState:m}=t,{resetDictionary:g=()=>{}}=t,h="",f="",_="";function v(){if(l&&l!==_){_=l;!async function(e){const t=e.enabled?O:N,n=e.langPair;try{await Xn({action:qn.dlTrackDictionaryStatus,payload:{status:t,langPair:n}})}catch(e){console.log(e)}}({enabled:!!h&&!!i&&r&&a,langPair:i})}}async function w(){n(10,f="");const e={interfaceLang:chrome.i18n.getUILanguage(),sourceLang:u,targetLang:d,text:s};try{n(1,h=await py(e))}catch(e){n(10,f=function(e,t){let n=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary");return e==Lu&&(n=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",t)),n}(e.error,s))}finally{v(),g()}}return e.$$set=e=>{"originalSnippet"in e&&n(3,l=e.originalSnippet),"sourceLanguage"in e&&n(4,c=e.sourceLanguage),"targetLanguage"in e&&n(5,d=e.targetLanguage),"websiteLanguage"in e&&n(6,u=e.websiteLanguage),"showDictionary"in e&&n(0,p=e.showDictionary),"setDictionaryLauncherState"in e&&n(7,m=e.setDictionaryLauncherState),"resetDictionary"in e&&n(8,g=e.resetDictionary)},e.$$.update=()=>{var t;if(8&e.$$.dirty&&(n(12,r=!!(t=l)&&1===t.trim().split(" ").length),n(13,a=function(e){return!!e&&e.trim().length<200}(l))),48&e.$$.dirty&&(d!==c&&c?n(2,i=uy(c,d)):(n(2,i=""),n(9,o=""))),14604&e.$$.dirty&&(l&&l.trim()!==s?(n(11,s=l.trim()),n(10,f=""),i&&r&&a?(n(9,o=i),w()):(n(1,h=""),v(),g())):g()),12804&e.$$.dirty&&i!=o&&i&&r&&a&&(n(10,f=""),w()),5254&e.$$.dirty){let e="";f?e=f:r?i?h||(e=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary")):e=chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair"):e=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word");m({enableDictionaryButton:!!h&&r&&!!i&&!f,dictionaryButtonError:e})}if(1&e.$$.dirty&&p)try{Xn({action:qn.dlTrackOpenDictionarySection,payload:{}})}catch(e){console.log(e)}},[p,h,i,l,c,d,u,m,g,o,f,s,r,a]}class wy extends cu{constructor(e){super(),lu(this,e,vy,_y,kc,{originalSnippet:3,sourceLanguage:4,targetLanguage:5,websiteLanguage:6,showDictionary:0,setDictionaryLauncherState:7,resetDictionary:8})}}function Ty(e,t,n){const o=e.slice();return o[32]=t[n],o}function by(e,t,n){const o=e.slice();return o[35]=t[n],o}function yy(e,t,n){const o=e.slice();return o[38]=t[n],o}function Ey(e){let t,n,o,i,s,r=!$n.includes(e[5].selectedTargetLanguage),a=e[7]&&xy(e),l=r&&Sy(e),c=e[0]===En.SENTENCE&&Cy(e),d=e[0]===En.WORD&&Ay(e);return{c(){t=Jc("div"),n=Jc("div"),a&&a.c(),o=nd(),l&&l.c(),i=nd(),c&&c.c(),s=nd(),d&&d.c(),ad(n,"class","dl-segmentation-selector svelte-fxpmgu")},m(e,r){Xc(e,t,r),Vc(t,n),a&&a.m(n,null),Vc(n,o),l&&l.m(n,null),Vc(t,i),c&&c.m(t,null),Vc(t,s),d&&d.m(t,null)},p(e,i){e[7]?a?a.p(e,i):(a=xy(e),a.c(),a.m(n,o)):a&&(a.d(1),a=null),32&i[0]&&(r=!$n.includes(e[5].selectedTargetLanguage)),r?l?l.p(e,i):(l=Sy(e),l.c(),l.m(n,null)):l&&(l.d(1),l=null),e[0]===En.SENTENCE?c?c.p(e,i):(c=Cy(e),c.c(),c.m(t,s)):c&&(c.d(1),c=null),e[0]===En.WORD?d?d.p(e,i):(d=Ay(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&Kc(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function $y(e){let t;return{c(){t=Jc("div"),t.innerHTML='<div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div> <div class="skeleton-subitem is-short-line svelte-fxpmgu"></div></div>',ad(t,"class","dl-alternatives-loading-skeleton svelte-fxpmgu")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function xy(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_sentence")}`,ad(t,"class","segmentation-button sentence svelte-fxpmgu"),gd(t,"active",e[0]===En.SENTENCE)},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[23]),n=!0)},p(e,n){1&n[0]&&gd(t,"active",e[0]===En.SENTENCE)},d(e){e&&Kc(t),n=!1,o()}}}function Sy(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_word")}`,ad(t,"class","segmentation-button word svelte-fxpmgu"),gd(t,"active",e[0]===En.WORD)},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[24]),n=!0)},p(e,n){1&n[0]&&gd(t,"active",e[0]===En.WORD)},d(e){e&&Kc(t),n=!1,o()}}}function Cy(e){let t,n,o=ou(e[3]),i=[];for(let t=0;t<o.length;t+=1)i[t]=ky(by(e,o,t));return{c(){t=Jc("div");for(let e=0;e<i.length;e+=1)i[e].c();ad(t,"class","alternatives svelte-fxpmgu"),ad(t,"dir",n=es(e[1].targetLang))},m(e,n){Xc(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(1032&s[0]){let n;for(o=ou(e[3]),n=0;n<o.length;n+=1){const r=by(e,o,n);i[n]?i[n].p(r,s):(i[n]=ky(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}2&s[0]&&n!==(n=es(e[1].targetLang))&&ad(t,"dir",n)},d(e){e&&Kc(t),Qc(i,e)}}}function Ly(e){let t,n,o=Gi(e[38].text)+"";return{c(){t=Jc("span"),n=td(o),ad(t,"class","svelte-fxpmgu"),gd(t,"highlighted-text-chunk",e[38].isHighlighted)},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,i){8&i[0]&&o!==(o=Gi(e[38].text)+"")&&ld(n,o),8&i[0]&&gd(t,"highlighted-text-chunk",e[38].isHighlighted)},d(e){e&&Kc(t)}}}function ky(e){let t,n,o,i,s=ou(e[35].textChunks),r=[];for(let t=0;t<s.length;t+=1)r[t]=Ly(yy(e,s,t));function a(){return e[25](e[35])}return{c(){t=Jc("div");for(let e=0;e<r.length;e+=1)r[e].c();n=nd(),ad(t,"class","sentence-alternatives alternative svelte-fxpmgu"),ad(t,"tabindex","-1"),ad(t,"aria-hidden","true")},m(e,s){Xc(e,t,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);Vc(t,n),o||(i=id(t,"click",a),o=!0)},p(o,i){if(e=o,8&i[0]){let o;for(s=ou(e[35].textChunks),o=0;o<s.length;o+=1){const a=yy(e,s,o);r[o]?r[o].p(a,i):(r[o]=Ly(a),r[o].c(),r[o].m(t,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(e){e&&Kc(t),Qc(r,e),o=!1,i()}}}function Ay(e){let t,n,o=ou(e[4]),i=[];for(let t=0;t<o.length;t+=1)i[t]=Iy(Ty(e,o,t));return{c(){t=Jc("div");for(let e=0;e<i.length;e+=1)i[e].c();ad(t,"class","alternatives svelte-fxpmgu"),ad(t,"dir",n=es(e[1].targetLang))},m(e,n){Xc(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(2064&s[0]){let n;for(o=ou(e[4]),n=0;n<o.length;n+=1){const r=Ty(e,o,n);i[n]?i[n].p(r,s):(i[n]=Iy(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}2&s[0]&&n!==(n=es(e[1].targetLang))&&ad(t,"dir",n)},d(e){e&&Kc(t),Qc(i,e)}}}function Iy(e){let t,n,o,i,s,r=Gi(e[32].text)+"";function a(){return e[26](e[32])}return{c(){t=Jc("div"),n=td(r),o=nd(),ad(t,"role","button"),ad(t,"class","word-alternative alternative svelte-fxpmgu"),ad(t,"tabindex","-1"),ad(t,"aria-hidden","true")},m(e,r){Xc(e,t,r),Vc(t,n),Vc(t,o),i||(s=id(t,"click",a),i=!0)},p(t,o){e=t,16&o[0]&&r!==(r=Gi(e[32].text)+"")&&ld(n,r)},d(e){e&&Kc(t),i=!1,s()}}}function My(e){let t,n,o,i,s;function r(e,t){return e[6]?$y:e[2]?Ey:void 0}let a=r(e),l=a&&a(e);return{c(){t=Jc("div"),n=Jc("button"),n.textContent=`${chrome.i18n.getMessage("ui_alternatives_title")}`,o=nd(),l&&l.c(),ad(n,"class","dl-toggle-show-alternatives svelte-fxpmgu"),gd(n,"is-showing",e[2]),ad(t,"class","dl-alternatives-container svelte-fxpmgu")},m(r,a){Xc(r,t,a),Vc(t,n),Vc(t,o),l&&l.m(t,null),i||(s=id(n,"click",e[22]),i=!0)},p(e,o){4&o[0]&&gd(n,"is-showing",e[2]),a===(a=r(e))&&l?l.p(e,o):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(t,null)))},i:Ec,o:Ec,d(e){e&&Kc(t),l&&l.d(),i=!1,s()}}}function Oy(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(5,o=e)));let{textProcessingMode:s=Mt.translate}=t,{contentProcessBuildingBlocks:a}=t,{buildAndSetReplaceData:l}=t,{activeSentence:c}=t,{activeWord:d}=t,{shouldMarkWordOrSentenceAsActive:u}=t,{registerAlternativesCallbacks:p}=t,{clearAlternativesCallbacks:m}=t,{gDocsSegmentation:g=En.SENTENCE}=t,h=!1,f=!1,_=[],v=[],w=!0;const T=()=>{if(h)if(g===En.SENTENCE&&w)c||(n(15,c=0),n(16,d=0)),b(c);else if(g===En.WORD){d||n(16,d=0),c||n(15,c=0);const e=a.processedSentences[c].text.split(/\s+/)[d],t=Bi(a.processedSentences[c].text).find((t=>t.text===e));y(c,d,t)}},b=async e=>{if(g===En.SENTENCE){n(15,c=e),n(2,h=!0),n(3,_=[]),n(6,f=!0);try{const t=await Xn({action:Wn.dlRequestGDocsSentenceAlternatives,payload:{mode:s,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[e],contextBefore:e>0&&a.sentences[e-1].text,contextAfter:e<a.sentences.length-1&&a.sentences[e+1].text}});for(const o of t.result.translations[0].beams)o.sentences[0].text!==a.processedSentences[e].text&&_.length<4&&n(3,_=[..._,{text:o.sentences[0].text,textChunks:Ju(o.sentences[0].text,a.processedSentences[e].text)}]);k(En.SENTENCE)}catch(e){console.error(e)}n(6,f=!1)}},y=async(e,t,o)=>{if(g===En.WORD){n(15,c=e),n(16,d=t),n(2,h=!0),n(4,v=[]),n(6,f=!0);try{const t=await Xn({action:Wn.dlRequestGDocsWordAlternatives,payload:{mode:s,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[e],contextBefore:e>0&&a.sentences[e-1].text,contextAfter:e<a.sentences.length-1&&a.sentences[e+1].text,partialTranslation:a.processedSentences[e].text.substring(0,o.offsetStartRaw)}});for(const i of t.result.translations[0].beams)if(i.sentences[0].text!==a.processedSentences[e].text.substring(0,o.offsetStartRaw+o.offsetLengthRaw)&&v.length<4){const e=i.sentences[0].text.substring(o.offsetStartRaw);e.trim().length>0&&n(4,v=[...v,{text:`${e}...`,partialTranslation:i.sentences[0].text}])}k(En.WORD)}catch(e){console.error(e)}n(6,f=!1)}},E=e=>{n(1,a.processedSentences[c].text=e,a),n(3,_=[]),l(),L(En.SENTENCE)},$=async e=>{n(1,a.processedSentences[c].text=e,a),n(4,v=[]);try{const t=await Xn({action:Wn.dlRequestGDocsSentenceFromPartialTranslation,payload:{mode:s,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[c],contextBefore:c>0&&a.sentences[c-1].text,contextAfter:c<a.sentences.length-1&&a.sentences[c+1].text,partialTranslation:e}});n(1,a.processedSentences[c].text=t.result.translations[0].beams[0].sentences[0].text,a),l(),L(En.WORD)}catch(e){console.error(e)}},x=()=>{n(0,g=En.SENTENCE),c||(n(15,c=0),n(16,d=0)),C(En.SENTENCE)},S=()=>{let e;n(0,g=En.WORD),d||n(16,d=0),e=a.processedSentences[c].text.split(/\s+/)[d];const t=Bi(a.processedSentences[c].text).find((t=>t.text===e));y(c,d,t),C(En.WORD)},C=async e=>await A({eventType:an,alternativesSegmentation:e}),L=async e=>await A({eventType:ln,alternativesSegmentation:e}),k=async e=>await A({eventType:rn,alternativesSegmentation:e}),A=async({eventType:e,alternativesSegmentation:t})=>await Xn({action:qn.dlTrackAlternativesEvent,payload:{eventType:e,alternativesMetaData:{sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,nicheIntegration:kt.gdocs,contentProcessingMode:s,alternativesSegmentation:t}}});xd((()=>{p({showSentenceAlternatives:b,showWordAlternatives:y})})),Sd((()=>{m()}));return e.$$set=e=>{"textProcessingMode"in e&&n(18,s=e.textProcessingMode),"contentProcessBuildingBlocks"in e&&n(1,a=e.contentProcessBuildingBlocks),"buildAndSetReplaceData"in e&&n(19,l=e.buildAndSetReplaceData),"activeSentence"in e&&n(15,c=e.activeSentence),"activeWord"in e&&n(16,d=e.activeWord),"shouldMarkWordOrSentenceAsActive"in e&&n(17,u=e.shouldMarkWordOrSentenceAsActive),"registerAlternativesCallbacks"in e&&n(20,p=e.registerAlternativesCallbacks),"clearAlternativesCallbacks"in e&&n(21,m=e.clearAlternativesCallbacks),"gDocsSegmentation"in e&&n(0,g=e.gDocsSegmentation)},e.$$.update=()=>{32&e.$$.dirty[0]&&r.includes(o.gdocsWriteLang)&&(n(7,w=!1),n(0,g=En.WORD)),29&e.$$.dirty[0]&&n(17,u=h&&(g===En.WORD&&v||g===En.SENTENCE&&_))},[g,a,h,_,v,o,f,w,i,T,E,$,x,S,k,c,d,u,s,l,p,m,()=>{n(2,h=!h),k(),T()},()=>x(),()=>S(),e=>E(e.text),e=>$(e.partialTranslation)]}class Ny extends cu{constructor(e){super(),lu(this,e,Oy,My,kc,{textProcessingMode:18,contentProcessBuildingBlocks:1,buildAndSetReplaceData:19,activeSentence:15,activeWord:16,shouldMarkWordOrSentenceAsActive:17,registerAlternativesCallbacks:20,clearAlternativesCallbacks:21,gDocsSegmentation:0},null,[-1,-1])}}function Ry(e,t,n){const o=e.slice();return o[27]=t[n],o}function Dy(e,t,n){const o=e.slice();return o[30]=t[n],o}function Py(e,t,n){const o=e.slice();return o[33]=t[n],o[35]=n,o}function Uy(e){let t,n,o=ou(e[8].contentReference),i=[];for(let t=0;t<o.length;t+=1)i[t]=Vy(Ry(e,o,t));return{c(){t=Jc("div");for(let e=0;e<i.length;e+=1)i[e].c();ad(t,"class","preview-text-scroller svelte-t9u7lm"),ad(t,"dir",n=es(e[0]===Mt.translate?e[7].selectedTargetLanguage:e[7].gdocsWriteLang))},m(e,n){Xc(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(32512&s[0]){let n;for(o=ou(e[8].contentReference),n=0;n<o.length;n+=1){const r=Ry(e,o,n);i[n]?i[n].p(r,s):(i[n]=Vy(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}129&s[0]&&n!==(n=es(e[0]===Mt.translate?e[7].selectedTargetLanguage:e[7].gdocsWriteLang))&&ad(t,"dir",n)},d(e){e&&Kc(t),Qc(i,e)}}}function Gy(e){let t;return{c(){t=Jc("div"),ad(t,"class","dl-untranslatable-line svelte-t9u7lm")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function By(e){let t,n,o=ou(e[8].textLinesComponents[e[27].index]),i=[];for(let t=0;t<o.length;t+=1)i[t]=qy(Dy(e,o,t));return{c(){t=Jc("div");for(let e=0;e<i.length;e+=1)i[e].c();n=nd(),ad(t,"class","dl-translatable-line svelte-t9u7lm"),gd(t,"is-sentence-segmentation",e[14]===En.SENTENCE),gd(t,"is-word-segmentation",e[14]===En.WORD)},m(e,o){Xc(e,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);Vc(t,n)},p(e,s){if(32512&s[0]){let r;for(o=ou(e[8].textLinesComponents[e[27].index]),r=0;r<o.length;r+=1){const a=Dy(e,o,r);i[r]?i[r].p(a,s):(i[r]=qy(a),i[r].c(),i[r].m(t,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}16384&s[0]&&gd(t,"is-sentence-segmentation",e[14]===En.SENTENCE),16384&s[0]&&gd(t,"is-word-segmentation",e[14]===En.WORD)},d(e){e&&Kc(t),Qc(i,e)}}}function Wy(e){let t,n=Gi(e[8].processedSentences[e[30]].text)+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){256&o[0]&&n!==(n=Gi(e[8].processedSentences[e[30]].text)+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function zy(e){let t,n=ou(Bi(e[8].processedSentences[e[30]].text)),o=[];for(let t=0;t<n.length;t+=1)o[t]=Fy(Py(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=od()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xc(e,t,n)},p(e,i){if(12032&i[0]){let s;for(n=ou(Bi(e[8].processedSentences[e[30]].text)),s=0;s<n.length;s+=1){const r=Py(e,n,s);o[s]?o[s].p(r,i):(o[s]=Fy(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&Kc(t),Qc(o,e)}}}function Hy(e){let t,n,o=e[33].text+"";return{c(){t=Jc("span"),n=td(o)},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){256&t[0]&&o!==(o=e[33].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function jy(e){let t,n,o,i,s=e[33].text+"";function r(){return e[19](e[30],e[35],e[33])}return{c(){t=Jc("span"),n=td(s),ad(t,"class","word-text svelte-t9u7lm"),ad(t,"tabindex","-1"),ad(t,"aria-hidden","true"),gd(t,"active-word",e[30]===e[9]&&e[10]===e[35]&&e[11])},m(e,s){Xc(e,t,s),Vc(t,n),o||(i=id(t,"click",r),o=!0)},p(o,i){e=o,256&i[0]&&s!==(s=e[33].text+"")&&ld(n,s),3840&i[0]&&gd(t,"active-word",e[30]===e[9]&&e[10]===e[35]&&e[11])},d(e){e&&Kc(t),o=!1,i()}}}function Fy(e){let t;function n(e,t){return e[33].isWord?jy:Hy}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function qy(e){let t,n,o,i,s,r,a,l=e[8].processedSentences[e[30]].prefix+"",c=e[14]===En.SENTENCE&&Wy(e),d=e[14]===En.WORD&&zy(e);function u(){return e[20](e[30])}return{c(){t=Jc("span"),n=td(l),o=nd(),i=Jc("span"),c&&c.c(),s=nd(),d&&d.c(),ad(t,"class","sentence-prefix"),ad(i,"class","sentence-text svelte-t9u7lm"),ad(i,"tabindex","-1"),ad(i,"aria-hidden","true"),gd(i,"active-sentence",e[9]===e[30]&&e[11])},m(e,l){Xc(e,t,l),Vc(t,n),Xc(e,o,l),Xc(e,i,l),c&&c.m(i,null),Vc(i,s),d&&d.m(i,null),r||(a=id(i,"click",u),r=!0)},p(t,o){e=t,256&o[0]&&l!==(l=e[8].processedSentences[e[30]].prefix+"")&&ld(n,l),e[14]===En.SENTENCE?c?c.p(e,o):(c=Wy(e),c.c(),c.m(i,s)):c&&(c.d(1),c=null),e[14]===En.WORD?d?d.p(e,o):(d=zy(e),d.c(),d.m(i,null)):d&&(d.d(1),d=null),2816&o[0]&&gd(i,"active-sentence",e[9]===e[30]&&e[11])},d(e){e&&(Kc(t),Kc(o),Kc(i)),c&&c.d(),d&&d.d(),r=!1,a()}}}function Vy(e){let t;function n(e,t){return e[27].isTranslatable?By:Gy}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function Zy(e){let t,n,o;return n=new ny({props:{platformBehaviour:kt.gdocs,websiteSettings:e[1],showDictionary:e[2],switchVisibilityDictionary:e[3],enableDictionaryButton:e[4],dictionaryButtonError:e[5],onClose:e[6]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","dl-inline-translate-toolbar-frame svelte-t9u7lm")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};2&t[0]&&(o.websiteSettings=e[1]),4&t[0]&&(o.showDictionary=e[2]),8&t[0]&&(o.switchVisibilityDictionary=e[3]),16&t[0]&&(o.enableDictionaryButton=e[4]),32&t[0]&&(o.dictionaryButtonError=e[5]),64&t[0]&&(o.onClose=e[6]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function Yy(e){let t,n;return t=new sy({props:{onClose:e[6]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.onClose=e[6]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Xy(e){let t,n,o,i,s,r,a;function l(t){e[21](t)}function c(t){e[22](t)}function d(t){e[23](t)}function u(t){e[24](t)}function p(t){e[25](t)}let m={textProcessingMode:e[0],buildAndSetReplaceData:e[16],registerAlternativesCallbacks:e[17],clearAlternativesCallbacks:e[18]};return void 0!==e[14]&&(m.gDocsSegmentation=e[14]),void 0!==e[8]&&(m.contentProcessBuildingBlocks=e[8]),void 0!==e[9]&&(m.activeSentence=e[9]),void 0!==e[10]&&(m.activeWord=e[10]),void 0!==e[11]&&(m.shouldMarkWordOrSentenceAsActive=e[11]),t=new Ny({props:m}),Md.push((()=>iu(t,"gDocsSegmentation",l))),Md.push((()=>iu(t,"contentProcessBuildingBlocks",c))),Md.push((()=>iu(t,"activeSentence",d))),Md.push((()=>iu(t,"activeWord",u))),Md.push((()=>iu(t,"shouldMarkWordOrSentenceAsActive",p))),{c(){su(t.$$.fragment)},m(e,n){ru(t,e,n),a=!0},p(e,a){const l={};1&a[0]&&(l.textProcessingMode=e[0]),!n&&16384&a[0]&&(n=!0,l.gDocsSegmentation=e[14],Gd((()=>n=!1))),!o&&256&a[0]&&(o=!0,l.contentProcessBuildingBlocks=e[8],Gd((()=>o=!1))),!i&&512&a[0]&&(i=!0,l.activeSentence=e[9],Gd((()=>i=!1))),!s&&1024&a[0]&&(s=!0,l.activeWord=e[10],Gd((()=>s=!1))),!r&&2048&a[0]&&(r=!0,l.shouldMarkWordOrSentenceAsActive=e[11],Gd((()=>r=!1))),t.$set(l)},i(e){a||(Kd(t.$$.fragment,e),a=!0)},o(e){Qd(t.$$.fragment,e),a=!1},d(e){au(t,e)}}}function Ky(e){let t,n,o,i,s,r,a=e[8]&&e[8].contentReference&&Uy(e),l=e[0]===Mt.translate&&Zy(e),c=e[0]===Mt.write&&Yy(e),d=e[8]&&Xy(e);return{c(){t=Jc("div"),a&&a.c(),n=nd(),l&&l.c(),o=nd(),c&&c.c(),i=nd(),s=Jc("div"),d&&d.c(),ad(s,"class","dl-alternatives-frame svelte-t9u7lm")},m(e,u){Xc(e,t,u),a&&a.m(t,null),Vc(t,n),l&&l.m(t,null),Vc(t,o),c&&c.m(t,null),Vc(t,i),Vc(t,s),d&&d.m(s,null),r=!0},p(e,r){e[8]&&e[8].contentReference?a?a.p(e,r):(a=Uy(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),e[0]===Mt.translate?l?(l.p(e,r),1&r[0]&&Kd(l,1)):(l=Zy(e),l.c(),Kd(l,1),l.m(t,o)):l&&(Yd(),Qd(l,1,1,(()=>{l=null})),Xd()),e[0]===Mt.write?c?(c.p(e,r),1&r[0]&&Kd(c,1)):(c=Yy(e),c.c(),Kd(c,1),c.m(t,i)):c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd()),e[8]?d?(d.p(e,r),256&r[0]&&Kd(d,1)):(d=Xy(e),d.c(),Kd(d,1),d.m(s,null)):d&&(Yd(),Qd(d,1,1,(()=>{d=null})),Xd())},i(e){r||(Kd(l),Kd(c),Kd(d),r=!0)},o(e){Qd(l),Qd(c),Qd(d),r=!1},d(e){e&&Kc(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function Qy(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(7,o=e)));let s,r,a,l,{textProcessingMode:c=Mt.translate}=t,{websiteSettings:d}=t,{showDictionary:u}=t,{switchVisibilityDictionary:p}=t,{enableDictionaryButton:m}=t,{dictionaryButtonError:g}=t,{onClose:h}=t,f=!1,_=()=>{},v=()=>{},w=En.SENTENCE;const T=()=>{if(r)try{const{processedText:e,processedEntities:t}=Ui({textLines:r.textLinesComponents.map((e=>e.map((e=>r.processedSentences[e].prefix+r.processedSentences[e].text)))),entities:r.entities,contentReference:r.contentReference});d.update({translatedSnippet:e}),s&&s.setReplaceData({entities:t,text:e,originalObject:r.originalObject})}catch(e){console.error(e)}};xd((()=>{s=document.querySelector("deepl-gdocs-icon"),n(8,r=s.getContentProcessBuildingBlocks()),T()}));return e.$$set=e=>{"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"websiteSettings"in e&&n(1,d=e.websiteSettings),"showDictionary"in e&&n(2,u=e.showDictionary),"switchVisibilityDictionary"in e&&n(3,p=e.switchVisibilityDictionary),"enableDictionaryButton"in e&&n(4,m=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(5,g=e.dictionaryButtonError),"onClose"in e&&n(6,h=e.onClose)},e.$$.update=()=>{128&e.$$.dirty[0]&&$n.includes(o.selectedTargetLanguage)&&n(14,w=En.SENTENCE)},[c,d,u,p,m,g,h,o,r,a,l,f,_,v,w,i,T,e=>{n(12,_=e.showSentenceAlternatives),n(13,v=e.showWordAlternatives)},()=>{n(12,_=()=>{}),n(13,v=()=>{})},(e,t,n)=>v(e,t,n),e=>_(e),function(e){w=e,n(14,w),n(7,o)},function(e){r=e,n(8,r)},function(e){a=e,n(9,a)},function(e){l=e,n(10,l)},function(e){f=e,n(11,f)}]}class Jy extends cu{constructor(e){super(),lu(this,e,Qy,Ky,kc,{textProcessingMode:0,websiteSettings:1,showDictionary:2,switchVisibilityDictionary:3,enableDictionaryButton:4,dictionaryButtonError:5,onClose:6},null,[-1,-1])}}function eE(e){let t,n,o,i;return t=new ly({props:{headline:"Response - Translated DOM",jsonData:e[18]}}),o=new ly({props:{headline:"Request - Original DOM",jsonData:e[19]}}),{c(){su(t.$$.fragment),n=nd(),su(o.$$.fragment)},m(e,s){ru(t,e,s),Xc(e,n,s),ru(o,e,s),i=!0},p(e,n){const i={};16&n&&(i.jsonData=e[18]),t.$set(i);const s={};16&n&&(s.jsonData=e[19]),o.$set(s)},i(e){i||(Kd(t.$$.fragment,e),Kd(o.$$.fragment,e),i=!0)},o(e){Qd(t.$$.fragment,e),Qd(o.$$.fragment,e),i=!1},d(e){e&&Kc(n),au(t,e),au(o,e)}}}function tE(e){let t,n,o,i,s,r,a=xi(Nb(e[4].translatedSnippet))+"",l=e[3]===Mt.translate&&rE(e),c=e[3]===Mt.write&&aE(e);return{c(){t=Jc("div"),o=nd(),l&&l.c(),i=nd(),c&&c.c(),s=od(),ad(t,"class","result-frame svelte-1qr4p6b"),ad(t,"dir",n=es(e[5].selectedTargetLanguage))},m(e,n){Xc(e,t,n),t.innerHTML=a,Xc(e,o,n),l&&l.m(e,n),Xc(e,i,n),c&&c.m(e,n),Xc(e,s,n),r=!0},p(e,o){(!r||16&o)&&a!==(a=xi(Nb(e[4].translatedSnippet))+"")&&(t.innerHTML=a),(!r||32&o&&n!==(n=es(e[5].selectedTargetLanguage)))&&ad(t,"dir",n),e[3]===Mt.translate?l?(l.p(e,o),8&o&&Kd(l,1)):(l=rE(e),l.c(),Kd(l,1),l.m(i.parentNode,i)):l&&(Yd(),Qd(l,1,1,(()=>{l=null})),Xd()),e[3]===Mt.write?c?(c.p(e,o),8&o&&Kd(c,1)):(c=aE(e),c.c(),Kd(c,1),c.m(s.parentNode,s)):c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd())},i(e){r||(Kd(l),Kd(c),r=!0)},o(e){Qd(l),Qd(c),r=!1},d(e){e&&(Kc(t),Kc(o),Kc(i),Kc(s)),l&&l.d(e),c&&c.d(e)}}}function nE(e){let t,n;return t=new Jy({props:{textProcessingMode:e[3],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.textProcessingMode=e[3]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function oE(e){let t,n;return t=new Jg({props:{error:e[4].error}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.error=e[4].error),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function iE(e){let t,n,o,i,s,r,a,l,c,d,u;function p(e,t){return e[3]===Mt.translate?cE:lE}let m=p(e),g=m(e);function h(e,t){return e[3]===Mt.translate?uE:dE}let f=h(e),_=f(e);function v(e,t){return e[3]===Mt.translate?mE:pE}let w=v(e),T=w(e);return{c(){t=Jc("div"),n=Jc("p"),g.c(),o=nd(),i=Jc("div"),s=Jc("h2"),_.c(),r=nd(),T.c(),a=nd(),l=Jc("div"),c=Jc("button"),c.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,ad(n,"class","counter svelte-1qr4p6b"),ad(s,"class","svelte-1qr4p6b"),ad(c,"class","svelte-1qr4p6b"),ad(l,"class","button-row svelte-1qr4p6b"),ad(i,"class","box svelte-1qr4p6b"),ad(t,"class","anonymous-user-max-char-exceeded svelte-1qr4p6b")},m(p,m){Xc(p,t,m),Vc(t,n),g.m(n,null),Vc(t,o),Vc(t,i),Vc(i,s),_.m(s,null),Vc(i,r),T.m(i,null),Vc(i,a),Vc(i,l),Vc(l,c),d||(u=id(c,"click",e[15]),d=!0)},p(e,t){m===(m=p(e))&&g?g.p(e,t):(g.d(1),g=m(e),g&&(g.c(),g.m(n,null))),f===(f=h(e))&&_?_.p(e,t):(_.d(1),_=f(e),_&&(_.c(),_.m(s,null))),w===(w=v(e))&&T?T.p(e,t):(T.d(1),T=w(e),T&&(T.c(),T.m(i,a)))},i:Ec,o:Ec,d(e){e&&Kc(t),g.d(),_.d(),T.d(),d=!1,u()}}}function sE(e){let t,n,o;return n=new Ov({}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","loading-spinner-container svelte-1qr4p6b")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p:Ec,i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function rE(e){let t,n;return t=new ny({props:{platformBehaviour:e[2],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function aE(e){let t,n;return t=new sy({props:{onClose:e[0]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function lE(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=td(o),n=td("/2000")},m(e,o){Xc(e,t,o),Xc(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&ld(t,o)},d(e){e&&(Kc(t),Kc(n))}}}function cE(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=td(o),n=td("/5000")},m(e,o){Xc(e,t,o),Xc(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&ld(t,o)},d(e){e&&(Kc(t),Kc(n))}}}function dE(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_improvement_title")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function uE(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function pE(e){let t;return{c(){t=Jc("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body_write")}`},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function mE(e){let t;return{c(){t=Jc("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function gE(e){let t,n,o,i,s,r,a,l,d,u=!!wo();const p=[sE,iE,oE,nE,tE,eE],m=[];function g(e,t){return 16&t&&(n=null),null==e[4]||e[4].translationState===c.ongoingTranslation?0:e[4].translationState===c.anonymousUserMaxCharExceeded?1:e[4].error?2:e[2]===kt.gdocs?3:e[4].translatedSnippet?4:(null==n&&(n=!(!bs()||!e[4].translatedDOMSnippet)),n?5:-1)}~(o=g(e,-1))&&(i=m[o]=p[o](e)),r=new wy({props:{originalSnippet:e[4].originalSnippet,sourceLanguage:e[4].snippetDetectedSourceLang,targetLanguage:e[5].selectedTargetLanguage,websiteLanguage:e[4].websiteLanguage,showDictionary:e[7],setDictionaryLauncherState:e[12],resetDictionary:e[14]}});let h=u&&function(e){let t,n,o,i,s,r,a,l,c=chrome.i18n.getMessage("inline_translation_ads_ms_office")+"";return{c(){t=Jc("div"),n=Jc("div"),o=nd(),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("inline_translation_ads_ms_office_discover")}`,s=nd(),r=Jc("div"),ad(n,"class","text-banner svelte-1qr4p6b"),ad(i,"class","button-banner svelte-1qr4p6b"),ad(r,"class","icon svelte-1qr4p6b"),ad(t,"class","dl-ms-addin-banner svelte-1qr4p6b")},m(d,u){Xc(d,t,u),Vc(t,n),n.innerHTML=c,Vc(t,o),Vc(t,i),Vc(t,s),Vc(t,r),a||(l=id(i,"click",e[16]),a=!0)},p:Ec,d(e){e&&Kc(t),a=!1,l()}}}(e);return{c(){t=Jc("div"),i&&i.c(),s=nd(),su(r.$$.fragment),a=nd(),h&&h.c(),l=od(),ad(t,"class","tooltip-container svelte-1qr4p6b"),ad(t,"data-qa","deepl-inline-translation-result-container"),gd(t,"error",e[4].error)},m(e,n){Xc(e,t,n),~o&&m[o].m(t,null),Xc(e,s,n),ru(r,e,n),Xc(e,a,n),h&&h.m(e,n),Xc(e,l,n),d=!0},p(e,n){let s=o;o=g(e,n),o===s?~o&&m[o].p(e,n):(i&&(Yd(),Qd(m[s],1,1,(()=>{m[s]=null})),Xd()),~o?(i=m[o],i?i.p(e,n):(i=m[o]=p[o](e),i.c()),Kd(i,1),i.m(t,null)):i=null),(!d||16&n)&&gd(t,"error",e[4].error);const a={};16&n&&(a.originalSnippet=e[4].originalSnippet),16&n&&(a.sourceLanguage=e[4].snippetDetectedSourceLang),32&n&&(a.targetLanguage=e[5].selectedTargetLanguage),16&n&&(a.websiteLanguage=e[4].websiteLanguage),128&n&&(a.showDictionary=e[7]),r.$set(a),u&&h.p(e,n)},i(e){d||(Kd(i),Kd(r.$$.fragment,e),d=!0)},o(e){Qd(i),Qd(r.$$.fragment,e),d=!1},d(e){e&&(Kc(t),Kc(s),Kc(a),Kc(l)),~o&&m[o].d(),au(r,e),h&&h.d(e)}}}function hE(e){let t,n,o;return n=new mb({props:{closeWindow:e[11],showLangSelect:!e[4].error,settings:gu,websiteSettings:e[1],extensionContext:e[10],platformBehaviour:e[2],textProcessingMode:e[3],showProStatus:e[6],showServiceName:!0,showSettingsIcon:!0,$$slots:{default:[gE]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),su(n.$$.fragment)},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,[t]){const o={};16&t&&(o.showLangSelect=!e[4].error),2&t&&(o.websiteSettings=e[1]),4&t&&(o.platformBehaviour=e[2]),8&t&&(o.textProcessingMode=e[3]),64&t&&(o.showProStatus=e[6]),2098111&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function fE(e,t,n){let o,i,s=Ec,r=()=>(s(),s=Ac(l,(e=>n(4,o=e))),l);Ic(e,gu,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>s()));let{closeTooltip:a}=t,{websiteSettings:l}=t;r();let d,{platformBehaviour:u=kt.default}=t,{textProcessingMode:p=Mt.translate}=t,{setPositioningStatus:m}=t,g=!1,h="",f=!1,_=S;async function v(e){switch(p){case Mt.translate:{const t=await Vi(o.originalSnippet);let n;e===cn&&(n=qn.dlTrackGdocsMaxCharExceededShown),e===dn&&(n=qn.dlTrackGDocsMaxCharExceededTryProClicked),Xn({action:n,payload:{sourceLang:t,targetLang:i.selectedTargetLanguage,sourceLength:o.originalSnippet.length}})}break;case Mt.write:{const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.trackMaxCharExceeded(e)}}}return e.$$set=e=>{"closeTooltip"in e&&n(0,a=e.closeTooltip),"websiteSettings"in e&&r(n(1,l=e.websiteSettings)),"platformBehaviour"in e&&n(2,u=e.platformBehaviour),"textProcessingMode"in e&&n(3,p=e.textProcessingMode),"setPositioningStatus"in e&&n(17,m=e.setPositioningStatus)},e.$$.update=()=>{20&e.$$.dirty&&u===kt.gdocs&&o.translationState===c.anonymousUserMaxCharExceeded&&o.originalSnippet.length>0&&v(cn),17&e.$$.dirty&&o&&(!o.isTranslationTooltipInjected||o.translationState!==c.none||o.translatedSnippet||o.error||o.translatedDOMSnippet||a()),131092&e.$$.dirty&&!o.translationState&&u===kt.default&&m&&(m(!0),setTimeout((()=>{m(!1)}),600)),40&e.$$.dirty&&n(6,d=to(i,qt.TRANSLATOR)&&p===Mt.translate||to(i,qt.WRITE)&&p===Mt.write)},[a,l,u,p,o,i,d,g,h,f,_,function(){Xn({action:qn.dlTrackUiAction,payload:{uiAction:st,nicheIntegration:u}}),a()},function(e){n(8,h=e.dictionaryButtonError),n(9,f=e.enableDictionaryButton)},function(){f&&n(7,g=!g)},function(){n(7,g=!1)},function(){v(dn),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:p===Mt.translate?xm:Sm,utmContent:p===Mt.translate?"gdocs_customization":"gdocs_customization_write"}})},()=>{Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Wm,utmContent:"msaddin_ads_banner"}});try{Xn({action:qn.dlTrackClicksOnAdsButton})}catch(e){console.error(e)}},m,()=>o.translatedDOMSnippet,()=>o.originalSnippet]}class _E extends cu{constructor(e){super(),lu(this,e,fE,hE,kc,{closeTooltip:0,websiteSettings:1,platformBehaviour:2,textProcessingMode:3,setPositioningStatus:17})}}function vE(e){let t,n,o,i,s,r,a,l;return s=new _E({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=Jc("div"),n=Jc("div"),o=nd(),i=Jc("div"),su(s.$$.fragment),ad(n,"class","tooltip-drag-handle svelte-un7ezn"),ad(i,"class","tooltip-body svelte-un7ezn"),ad(t,"data-qa","inline-translate-tooltip"),ad(t,"class","tooltip-wrapper svelte-un7ezn"),ad(t,"role","dialog"),ad(t,"style",e[6]),ad(t,"draggable",e[5]),ad(t,"dir",es())},m(c,d){Xc(c,t,d),Vc(t,n),Vc(t,o),Vc(t,i),ru(s,i,null),e[18](t),r=!0,a||(l=[id(n,"mouseover",e[8]),id(n,"mouseout",e[9]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[17]),id(t,"dragstart",e[10])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),8&n&&(o.textProcessingMode=e[3]),s.$set(o),(!r||64&n)&&ad(t,"style",e[6]),(!r||32&n)&&ad(t,"draggable",e[5])},i(e){r||(Kd(s.$$.fragment,e),r=!0)},o(e){Qd(s.$$.fragment,e),r=!1},d(n){n&&Kc(t),au(s),e[18](null),a=!1,Cc(l)}}}function wE(e,t,n){let o;Ic(e,gu,(e=>n(16,o=e))),Ld("deepl_settings",gu),Ld("text_direction",es());let i,s,r,a,l,{closeTooltip:c}=t,{websiteSettings:d}=t,{replaceElement:u}=t,{actualPosition:p}=t,{dragContainerTo:m}=t,{platformBehaviour:g=kt.default}=t,{textProcessingMode:h=Mt.translate}=t,f=!1,_=!1,v="visibility: hidden; opacity:0; height:0;";let w={x:0,y:0};function T(e){let t=Ob({dropEvent:e,document:document,dragConfig:{dragOffset:w,dragElementRect:a,dragBarWidth:16}});t&&m(t)}xd((()=>{n(15,l=o.isLoggedIn),setTimeout((()=>{n(6,v="")}),100),document.addEventListener("dragover",Ib),document.addEventListener("drop",T),r=Cp(i,(({clientHeight:e})=>{n(14,s=e)}))})),Sd((()=>{document.removeEventListener("dragover",Ib),document.removeEventListener("drop",T),r&&r()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,c=e.closeTooltip),"websiteSettings"in e&&n(1,d=e.websiteSettings),"replaceElement"in e&&n(12,u=e.replaceElement),"actualPosition"in e&&n(11,p=e.actualPosition),"dragContainerTo"in e&&n(13,m=e.dragContainerTo),"platformBehaviour"in e&&n(2,g=e.platformBehaviour),"textProcessingMode"in e&&n(3,h=e.textProcessingMode)},e.$$.update=()=>{var t,i;98305&e.$$.dirty&&!1===l&&!0===o.isLoggedIn&&c(),65536&e.$$.dirty&&n(11,(t=o.inlineTranslateTooltipPosition,p=u(s,t))),16384&e.$$.dirty&&n(11,(i=s,p=_||g===kt.gdocs?u(i,o.inlineTranslateTooltipPosition):p))},[c,d,g,h,i,f,v,e=>{_=e},function(){n(5,f=!0)},function(){n(5,f=!1)},function(e){const t=Mb(e,g);w=t.dragOffset,a=t.dragElementRect},p,u,m,s,l,o,()=>c(),function(e){Md[e?"unshift":"push"]((()=>{i=e,n(4,i)}))}]}class TE extends cu{constructor(e){super(),lu(this,e,wE,vE,kc,{closeTooltip:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2,textProcessingMode:3})}}class bE{static HTML_TAG_NAME="deepl-inline-translate-tooltip";static createElement=(e=document)=>{const t=e.createElement(bE.HTML_TAG_NAME),n=new bE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};#e=void 0;constructor(e){this.domElement=e,this.domElement.platformBehaviour=kt.default,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t,n)=>{const{deepl_inline_ui:o}=R;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===kt.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let i=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let s="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(o.z_index-100),r=`position: absolute; top: ${i.y}px; left: ${i.x-200}px; z-index: ${o.z_index-100};`;switch(this.domElement.platformBehaviour){case kt.gdocs:r+="top: 600px; left: 10px;";break;case kt.default:default:r+=""}this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=r,this.domElement.mainComponent=new TE({target:this.domElement.container,props:{closeTooltip:t,websiteSettings:n,replaceElement:(t,n)=>{i=e(this.domElement.selectionRange);const o={coords:i,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let s=n;const r=kb(o),[a,l]=Ab(n),c=this.#e??{x:0,y:0};if(this.domElement.platformBehaviour===kt.gdocs){for(const e of l)if(Lb(e,o)){Cb(e,o,c);break}}else for(const e of a)if(Lb(e,o)){s="middle"!==e?e:void 0,Sb(e,o,c);break}return{...r,current:s}},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo}})};dragContainerTo=e=>{this.#e={y:parseInt(this.domElement.container.style.top)-e.y+(this.#e?.y??0),x:parseInt(this.domElement.container.style.left)-e.x+(this.#e?.x??0)},this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function yE(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=Jc("div"),n=Jc("span"),o=td(e[1]),i=nd(),s=Jc("div"),r=nd(),a=Jc("span"),l=td(e[2]),ad(n,"class","headsup svelte-1yp9nwa"),ad(s,"class","close-button svelte-1yp9nwa"),ad(s,"data-testid","popup-notification-bubble"),ad(a,"class","information svelte-1yp9nwa"),ad(t,"class","container svelte-1yp9nwa"),gd(t,"position-top","TOP"===e[0]),gd(t,"position-bottom","BOTTOM"===e[0]),gd(t,"position-top-left","TOP_LEFT"===e[0]),gd(t,"position-top-right","TOP_RIGHT"===e[0]),gd(t,"position-bottom-left","BOTTOM_LEFT"===e[0]),gd(t,"position-bottom-right","BOTTOM_RIGHT"===e[0])},m(u,p){Xc(u,t,p),Vc(t,n),Vc(n,o),Vc(t,i),Vc(t,s),Vc(t,r),Vc(t,a),Vc(a,l),c||(d=[id(s,"click",(function(){Lc(e[3])&&e[3].apply(this,arguments)})),id(t,"mouseup",rd(sd(e[4]))),id(t,"mousedown",rd(sd(e[5])))],c=!0)},p(n,[i]){e=n,2&i&&ld(o,e[1]),4&i&&ld(l,e[2]),1&i&&gd(t,"position-top","TOP"===e[0]),1&i&&gd(t,"position-bottom","BOTTOM"===e[0]),1&i&&gd(t,"position-top-left","TOP_LEFT"===e[0]),1&i&&gd(t,"position-top-right","TOP_RIGHT"===e[0]),1&i&&gd(t,"position-bottom-left","BOTTOM_LEFT"===e[0]),1&i&&gd(t,"position-bottom-right","BOTTOM_RIGHT"===e[0])},i:Ec,o:Ec,d(e){e&&Kc(t),c=!1,Cc(d)}}}function EE(e,t,n){let{position:o}=t,{headsupText:i}=t,{informationText:s}=t,{onClose:r=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"headsupText"in e&&n(1,i=e.headsupText),"informationText"in e&&n(2,s=e.informationText),"onClose"in e&&n(3,r=e.onClose)},[o,i,s,r,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)}]}class $E extends cu{constructor(e){super(),lu(this,e,EE,yE,kc,{position:0,headsupText:1,informationText:2,onClose:3})}}function xE(e){let t,n;return t=new $E({props:{headsupText:chrome.i18n.getMessage("input_advanced_icons_onboarding_title"),informationText:chrome.i18n.getMessage("input_advanced_icons_onboarding_description"),position:e[0],onClose:e[1]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.position=e[0]),2&n&&(o.onClose=e[1]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function SE(e,t,n){let{position:o}=t,{onClose:i=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"onClose"in e&&n(1,i=e.onClose)},[o,i]}class CE extends cu{constructor(e){super(),lu(this,e,SE,xE,kc,{position:0,onClose:1})}}const LE="TOP",kE="BOTTOM",AE="TOP_LEFT",IE="TOP_RIGHT",ME="BOTTOM_LEFT",OE="BOTTOM_RIGHT",NE=e=>{switch(!0){case e.left<0&&e.top>0&&e.top<window.innerHeight:return IE;case e.right>window.innerWidth&&e.top>0&&e.top<window.innerHeight:return AE;case e.right>window.innerWidth&&e.top<0:return ME;case e.left<0&&e.top<0:return OE;case e.top<0:return kE;case e.top>window.innerHeight:default:return LE}};function RE(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=Jc("div"),s=Jc("div"),s.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,r=nd(),a=Jc("div"),a.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,l=nd(),c=Jc("button"),ad(s,"class","headline svelte-150jdi1"),ad(a,"class","text svelte-150jdi1"),ad(i,"class","text-wrapper svelte-150jdi1"),ad(o,"class","content svelte-150jdi1"),ad(c,"class","close-icon svelte-150jdi1"),ad(c,"aria-label","Close"),ad(n,"class",d=Pc(`body body__${e[1]}`)+" svelte-150jdi1"),ad(t,"class",u=Pc(`container container__${e[1]}`)+" svelte-150jdi1"),ad(t,"data-testid","inline-translate-onboarding-highlighter")},m(d,u){Xc(d,t,u),Vc(t,n),Vc(n,o),Vc(o,i),Vc(i,s),Vc(i,r),Vc(i,a),Vc(n,l),Vc(n,c),g=!0,h||(f=id(c,"click",e[3]),h=!0)},p(e,[o]){(!g||2&o&&d!==(d=Pc(`body body__${e[1]}`)+" svelte-150jdi1"))&&ad(n,"class",d),(!g||2&o&&u!==(u=Pc(`container container__${e[1]}`)+" svelte-150jdi1"))&&ad(t,"class",u)},i(e){g||(Ud((()=>{g&&(m&&m.end(1),p=eu(t,Vu,{x:100,duration:1e3}),p.start())})),g=!0)},o(e){p&&p.invalidate(),m=tu(t,Vu,{x:100,duration:1e3}),g=!1},d(e){e&&Kc(t),e&&m&&m.end(),h=!1,f()}}}function DE(t,n,o){let{closeInlineHighlighter:i=()=>{}}=n,{el:s}=n,r="topLeft";xd((async()=>{try{Xn({action:qn.dlTrackOpenInlineHighlighter,payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}));return t.$$set=e=>{"closeInlineHighlighter"in e&&o(0,i=e.closeInlineHighlighter),"el"in e&&o(2,s=e.el)},t.$$.update=()=>{if(4&t.$$.dirty&&s){const e=s.getBoundingClientRect();let t=e.x>305,n=window.innerWidth-e.right>305,i=window.innerHeight-e.bottom>190,a=e.y>190;a&&t?o(1,r="topLeft"):a&&n?o(1,r="topRight"):i&&t?o(1,r="bottomLeft"):i&&n&&o(1,r="bottomRight")}},[i,r,s,()=>i(St)]}class PE extends cu{constructor(e){super(),lu(this,e,DE,RE,kc,{closeInlineHighlighter:0,el:2})}}function UE(e){let t,n,o,i,s;return i=new rf({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,fontSize:"sm"}}),i.$on("selection",e[5]),{c(){t=Jc("p"),n=td(e[0]),o=nd(),su(i.$$.fragment),ad(t,"class","font-bold svelte-1bwyi2r")},m(e,r){Xc(e,t,r),Vc(t,n),Xc(e,o,r),ru(i,e,r),s=!0},p(e,t){(!s||1&t)&&ld(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),i.$set(o)},i(e){s||(Kd(i.$$.fragment,e),s=!0)},o(e){Qd(i.$$.fragment,e),s=!1},d(e){e&&(Kc(t),Kc(o)),au(i,e)}}}function GE(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&UE(e);return{c(){t=Jc("div"),o&&o.c()},m(e,i){Xc(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&Kd(o,1)):(o=UE(e),o.c(),Kd(o,1),o.m(t,null)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d()}}}function BE(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(2,o=e)));const s=Cd();let{subHeaderText:r=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:a}=t;function l(e){s("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,r=e.subHeaderText),"fromShortcut"in e&&n(1,a=e.fromShortcut)},[r,a,o,i,l,e=>l(e.detail.selectedOption)]}class WE extends cu{constructor(e){super(),lu(this,e,BE,GE,kc,{subHeaderText:0,fromShortcut:1})}}function zE(e){let t,n,o,i,s,r,a,l;const c=e[3].default,d=Mc(c,e,e[2],null);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("button"),i=nd(),s=Jc("div"),d&&d.c(),ad(o,"type","button"),ad(o,"class","close-icon svelte-1l51lop"),ad(n,"class","header svelte-1l51lop"),ad(s,"class","content"),ad(t,"class","container svelte-1l51lop")},m(c,u){Xc(c,t,u),Vc(t,n),Vc(n,o),Vc(t,i),Vc(t,s),d&&d.m(s,null),e[5](t),r=!0,a||(l=id(o,"click",e[4]),a=!0)},p(e,[t]){d&&d.p&&(!r||4&t)&&Rc(d,c,e,e[2],r?Nc(c,e[2],t,null):Dc(e[2]),null)},i(e){r||(Kd(d,e),r=!0)},o(e){Qd(d,e),r=!1},d(n){n&&Kc(t),d&&d.d(n),e[5](null),a=!1,l()}}}function HE(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=Cd();let r,a,l,c;xd((()=>{c=Cp(l,(e=>{e.offsetHeight=r,e.offsetWidth=a}))})),Sd((()=>{c&&c()}));return e.$$set=e=>{"$$scope"in e&&n(2,i=e.$$scope)},s("resize",{offsetHeight:r,offsetWidth:a}),[l,s,i,o,()=>s("close"),function(e){Md[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class jE extends cu{constructor(e){super(),lu(this,e,HE,zE,kc,{})}}const FE="GENERAL_SETTINGS",qE="INPUT_SETTINGS";function VE(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return s=new fb({props:{name:"disable_input_translation",id:at,value:at,cssClassName:"radio--with-border",checked:e[5]===at,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),s.$on("change",e[12]),a=new fb({props:{name:"disable_input_translation",id:lt,value:lt,cssClassName:"radio--with-border",checked:e[5]===lt,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),a.$on("change",e[12]),{c(){t=Jc("div"),n=Jc("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=nd(),i=Jc("div"),su(s.$$.fragment),r=nd(),su(a.$$.fragment),l=nd(),c=Jc("div"),d=Jc("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=nd(),p=Jc("button"),m=td(v),ad(n,"class","font-bold svelte-o4sfla"),ad(i,"class","option-container svelte-o4sfla"),ad(d,"class","link svelte-o4sfla"),ad(p,"class",g=Pc("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-o4sfla"),ad(p,"data-qa","input-translation_hide-icon_accept"),ad(c,"class","action-container svelte-o4sfla"),ad(t,"class","dl-widget svelte-o4sfla"),ad(t,"data-testid","dl-input-translate-turnoff-settings")},m(g,v){Xc(g,t,v),Vc(t,n),Vc(t,o),Vc(t,i),ru(s,i,null),Vc(i,r),ru(a,i,null),Vc(t,l),Vc(t,c),Vc(c,d),Vc(c,u),Vc(c,p),Vc(p,m),h=!0,f||(_=[id(d,"click",(function(){Lc(e[1]===qE?e[8]:e[9])&&(e[1]===qE?e[8]:e[9]).apply(this,arguments)})),id(p,"click",e[11])],f=!0)},p(t,n){e=t;const o={};32&n[0]&&(o.checked=e[5]===at),s.$set(o);const i={};32&n[0]&&(i.checked=e[5]===lt),a.$set(i),(!h||32&n[0]&&g!==(g=Pc("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-o4sfla"))&&ad(p,"class",g)},i(e){h||(Kd(s.$$.fragment,e),Kd(a.$$.fragment,e),h=!0)},o(e){Qd(s.$$.fragment,e),Qd(a.$$.fragment,e),h=!1},d(e){e&&Kc(t),au(s),au(a),f=!1,Cc(_)}}}function ZE(e){let t,n,o,i,s;n=new WE({props:{fromShortcut:e[2]}}),n.$on("languageChanged",e[22]);let r=e[6]&&e[6].targetLanguageUserInput&&YE(e);return{c(){t=Jc("div"),su(n.$$.fragment),o=nd(),r&&r.c(),i=od(),ad(t,"class","dl-widget svelte-o4sfla"),ad(t,"data-testid","dl-input-settings-language-selector")},m(e,a){Xc(e,t,a),ru(n,t,null),Xc(e,o,a),r&&r.m(e,a),Xc(e,i,a),s=!0},p(e,t){const o={};4&t[0]&&(o.fromShortcut=e[2]),n.$set(o),e[6]&&e[6].targetLanguageUserInput?r?r.p(e,t):(r=YE(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(e){s||(Kd(n.$$.fragment,e),s=!0)},o(e){Qd(n.$$.fragment,e),s=!1},d(e){e&&(Kc(t),Kc(o),Kc(i)),au(n),r&&r.d(e)}}}function YE(e){let t,n,o,i,s,r,a,l;return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,s=nd(),r=Jc("span"),ad(r,"class","icon icon-external-link svelte-o4sfla"),ad(o,"class","link link-settings svelte-o4sfla"),ad(o,"data-qa","dl-input-translate-open-settings-page"),ad(n,"class","action-container svelte-o4sfla"),ad(t,"class","dl-widget svelte-o4sfla")},m(c,d){Xc(c,t,d),Vc(t,n),Vc(n,o),Vc(o,i),Vc(o,s),Vc(o,r),a||(l=id(o,"click",e[10]),a=!0)},p:Ec,d(e){e&&Kc(t),a=!1,l()}}}function XE(e){let t,n,o,i;const s=[ZE,VE],r=[];function a(e,t){return e[3]===FE?0:e[3]===qE?1:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=od()},m(e,n){~t&&r[t].m(e,n),Xc(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Kd(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Kd(n),i=!0)},o(e){Qd(n),i=!1},d(e){e&&Kc(o),~t&&r[t].d(e)}}}function KE(e){let t,n,o,i;return n=new jE({props:{$$slots:{default:[XE]},$$scope:{ctx:e}}}),n.$on("close",e[23]),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class",o="settings-container settings-container__"+e[0]+" svelte-o4sfla")},m(o,s){Xc(o,t,s),ru(n,t,null),e[24](t),i=!0},p(e,s){const r={};110&s[0]|1&s[1]&&(r.$$scope={dirty:s,ctx:e}),n.$set(r),(!i||1&s[0]&&o!==(o="settings-container settings-container__"+e[0]+" svelte-o4sfla"))&&ad(t,"class",o)},i(e){i||(Kd(n.$$.fragment,e),i=!0)},o(e){Qd(n.$$.fragment,e),i=!1},d(o){o&&Kc(t),au(n),e[24](null)}}}function QE(e,t,n){let o;const i=Cd();let s=FE;const r=kd("deepl_settings");Ic(e,r,(e=>n(6,o=e)));let a,l,{startPage:c}=t,{fromShortcut:d=!1}=t,{icon:u}=t,{position:p="top"}=t,{registerSettingsCallbacks:m=()=>{}}=t,{unregisterSettingsCallbacks:g=()=>{}}=t,{closeSettings:h}=t,f={top:0,bottom:0,left:0,right:0},_={height:0,width:0},v=140,w=387,T="";const b=()=>{if(u){const e=u.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==f[n]&&(t[n]=e[n]);Object.keys(t).length&&n(18,f={...f,...t});let o={};window.innerHeight!==_.height&&(o.height=window.innerHeight),window.innerWidth!==_.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(19,_={..._,...o})}else n(18,f={top:0,bottom:0,left:0,right:0})};return xd((()=>{b(),m({recalculateSettingsCoords:b}),l=Cp(a,(({clientHeight:e,clientWidth:t})=>{n(20,v=e),n(21,w=t)}))})),Sd((()=>{g(),l&&l()})),e.$$set=e=>{"startPage"in e&&n(1,c=e.startPage),"fromShortcut"in e&&n(2,d=e.fromShortcut),"icon"in e&&n(13,u=e.icon),"position"in e&&n(0,p=e.position),"registerSettingsCallbacks"in e&&n(14,m=e.registerSettingsCallbacks),"unregisterSettingsCallbacks"in e&&n(15,g=e.unregisterSettingsCallbacks),"closeSettings"in e&&n(16,h=e.closeSettings)},e.$$.update=()=>{3932160&e.$$.dirty[0]&&n(0,p=(({iconCoordinates:e,viewportSize:t,popupHeight:n,popupWidth:o})=>{if(!u)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};if(i.top&&!i.left)return"top_right";if(i.top&&!i.right)return"top_left";if(i.bottom&&!i.left)return"bottom_right";if(i.bottom&&!i.right)return"bottom_left";for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:f,viewportSize:_,popupHeight:v,popupWidth:w})),2&e.$$.dirty[0]&&c&&n(3,s=c)},[p,c,d,s,a,T,o,r,function(){i("close")},function(){n(5,T=""),n(3,s=FE)},function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:Nv.settings_writing}})},function(){if(!T)return;switch(T){case lt:r.set({enableInputTranslation:!1}),Xn({action:qn.dlTrackSettingChanged,payload:{settingType:lt,domainName:window.location.hostname,uiFunction:ct,uiLocation:J}}),h();break;case at:!function(){let e=o.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),r.set({blacklistDomainsForWriting:e}),Xn({action:qn.dlTrackSettingChanged,payload:{settingType:at,domainName:window.location.hostname,uiFunction:ct,uiLocation:J}}));h()}()}let e=hv(window.location.hostname,["www."]);Xn({action:Bn.dlSendNotification,payload:{type:P,options:{theme:F.green_theme,currentDomain:e,saveAction:T,settingsPageURL:Nv.settings_writing}}})},function(e){n(5,T=e.currentTarget.value)},u,m,g,h,b,f,_,v,w,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(e){Md[e?"unshift":"push"]((()=>{a=e,n(4,a)}))}]}class JE extends cu{constructor(e){super(),lu(this,e,QE,KE,kc,{startPage:1,fromShortcut:2,icon:13,position:0,registerSettingsCallbacks:14,unregisterSettingsCallbacks:15,closeSettings:16,recalculateSettingsCoords:17},null,[-1,-1])}get recalculateSettingsCoords(){return this.$$.ctx[17]}}function e$(e){let t,n,o,i,s,r,a,l,c,d,u=e[8]&&!e[1]&&!e[4].isInlineHighlighterShown&&t$(e),p=void 0!==e[16]&&n$(e);const m=[i$,o$],g=[];function h(e,t){return e[1]?0:1}return r=h(e),a=g[r]=m[r](e),{c(){t=Jc("div"),u&&u.c(),n=nd(),o=Jc("div"),p&&p.c(),i=nd(),s=Jc("div"),a.c(),ad(s,"class","icon-container svelte-1k40q1k"),ad(s,"data-testid","deepl-inline-translate-icon-container"),ad(s,"role","group"),ad(o,"class","layout-container svelte-1k40q1k"),ad(t,"dir",es())},m(a,m){Xc(a,t,m),u&&u.m(t,null),Vc(t,n),Vc(t,o),p&&p.m(o,null),Vc(o,i),Vc(o,s),g[r].m(s,null),e[57](s),l=!0,c||(d=[id(s,"mouseenter",e[23]),id(s,"mouseleave",e[24])],c=!0)},p(e,l){!e[8]||e[1]||e[4].isInlineHighlighterShown?u&&(Yd(),Qd(u,1,1,(()=>{u=null})),Xd()):u?(u.p(e,l),274&l[0]&&Kd(u,1)):(u=t$(e),u.c(),Kd(u,1),u.m(t,n)),void 0!==e[16]?p?(p.p(e,l),65536&l[0]&&Kd(p,1)):(p=n$(e),p.c(),Kd(p,1),p.m(o,i)):p&&(Yd(),Qd(p,1,1,(()=>{p=null})),Xd());let c=r;r=h(e),r===c?g[r].p(e,l):(Yd(),Qd(g[c],1,1,(()=>{g[c]=null})),Xd(),a=g[r],a?a.p(e,l):(a=g[r]=m[r](e),a.c()),Kd(a,1),a.m(s,null))},i(e){l||(Kd(u),Kd(p),Kd(a),l=!0)},o(e){Qd(u),Qd(p),Qd(a),l=!1},d(n){n&&Kc(t),u&&u.d(),p&&p.d(),g[r].d(),e[57](null),c=!1,Cc(d)}}}function t$(e){let t,n;return t=new PE({props:{closeInlineHighlighter:e[27],el:e[8]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.el=e[8]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function n$(e){let t,n,o,i;return n=new CE({props:{position:e[16],onClose:e[19]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"data-testid","onboarding-popup-notification"),ad(t,"class","onboarding-container svelte-1k40q1k"),gd(t,"top","TOP"===e[16]),gd(t,"bottom","BOTTOM"===e[16]),gd(t,"top-left","TOP_LEFT"===e[16]),gd(t,"top-right","TOP_RIGHT"===e[16]),gd(t,"bottom-left","BOTTOM_LEFT"===e[16]),gd(t,"bottom-right","BOTTOM_RIGHT"===e[16])},m(o,s){Xc(o,t,s),ru(n,t,null),e[48](t),i=!0},p(e,o){const s={};65536&o[0]&&(s.position=e[16]),n.$set(s),(!i||65536&o[0])&&gd(t,"top","TOP"===e[16]),(!i||65536&o[0])&&gd(t,"bottom","BOTTOM"===e[16]),(!i||65536&o[0])&&gd(t,"top-left","TOP_LEFT"===e[16]),(!i||65536&o[0])&&gd(t,"top-right","TOP_RIGHT"===e[16]),(!i||65536&o[0])&&gd(t,"bottom-left","BOTTOM_LEFT"===e[16]),(!i||65536&o[0])&&gd(t,"bottom-right","BOTTOM_RIGHT"===e[16])},i(e){i||(Kd(n.$$.fragment,e),o&&o.end(1),i=!0)},o(e){Qd(n.$$.fragment,e),e&&(o=tu(t,Vu,{x:100,duration:1e3})),i=!1},d(i){i&&Kc(t),au(n),e[48](null),i&&o&&o.end()}}}function o$(e){let t,n,o,i;return t=new Sp({props:{tooltip:e[6],showProShield:e[12],$$slots:{default:[s$]},$$scope:{ctx:e}}}),o=new Sp({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[r$]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment),n=nd(),su(o.$$.fragment)},m(e,s){ru(t,e,s),Xc(e,n,s),ru(o,e,s),i=!0},p(e,n){const i={};64&n[0]&&(i.tooltip=e[6]),4096&n[0]&&(i.showProShield=e[12]),4&n[0]|8&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};512&n[0]|8&n[2]&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){i||(Kd(t.$$.fragment,e),Kd(o.$$.fragment,e),i=!0)},o(e){Qd(t.$$.fragment,e),Qd(o.$$.fragment,e),i=!1},d(e){e&&Kc(n),au(t,e),au(o,e)}}}function i$(e){let t,n,o,i,s;const r=[l$,a$],a=[];function l(e,t){return e[5]?0:1}t=l(e),n=a[t]=r[t](e);let c=e[0]&&(e[11]||e[14])&&p$(e);return{c(){n.c(),o=nd(),c&&c.c(),i=od()},m(e,n){a[t].m(e,n),Xc(e,o,n),c&&c.m(e,n),Xc(e,i,n),s=!0},p(e,s){let d=t;t=l(e),t===d?a[t].p(e,s):(Yd(),Qd(a[d],1,1,(()=>{a[d]=null})),Xd(),n=a[t],n?n.p(e,s):(n=a[t]=r[t](e),n.c()),Kd(n,1),n.m(o.parentNode,o)),e[0]&&(e[11]||e[14])?c?(c.p(e,s),18433&s[0]&&Kd(c,1)):(c=p$(e),c.c(),Kd(c,1),c.m(i.parentNode,i)):c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd())},i(e){s||(Kd(n),Kd(c),s=!0)},o(e){Qd(n),Qd(c),s=!1},d(e){e&&(Kc(o),Kc(i)),a[t].d(e),c&&c.d(e)}}}function s$(e){let t,n,o;return{c(){t=Jc("div"),ad(t,"class","dl-logo svelte-1k40q1k"),ad(t,"data-qa","deepl-inline-translate-menu-icon"),gd(t,"disabled",e[2])},m(i,s){Xc(i,t,s),n||(o=[id(t,"click",rd(sd(e[21]))),id(t,"focus",e[45]),id(t,"mouseup",rd(sd(e[46]))),id(t,"mousedown",rd(sd(e[47]))),id(t,"mouseenter",e[55])],n=!0)},p(e,n){4&n[0]&&gd(t,"disabled",e[2])},d(e){e&&Kc(t),n=!1,Cc(o)}}}function r$(e){let t,n,o,i;return{c(){t=Jc("div"),ad(t,"data-qa","deepl-inline-translate-turnoff-icon"),ad(t,"class","dl-turnoff-inline-icon svelte-1k40q1k"),gd(t,"advanced",!1),gd(t,"hidden",!e[9]),gd(t,"left",!1)},m(n,s){Xc(n,t,s),o||(i=[id(t,"click",rd(sd(e[25]))),id(t,"focus",e[42]),id(t,"mousedown",rd(sd(e[43]))),id(t,"mouseup",rd(sd(e[44]))),id(t,"mouseenter",e[56])],o=!0)},p(e,n){512&n[0]&&gd(t,"hidden",!e[9])},i(e){n||Ud((()=>{n=eu(t,Vu,{x:-5,duration:300}),n.start()}))},o:Ec,d(e){e&&Kc(t),o=!1,Cc(i)}}}function a$(e){let t,n,o,i,s,r;return t=new Sp({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[c$]},$$scope:{ctx:e}}}),o=new Sp({props:{tooltip:e[7],showProShield:e[13],$$slots:{default:[d$]},$$scope:{ctx:e}}}),s=new Sp({props:{tooltip:e[6],showProShield:e[12],$$slots:{default:[u$]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment),n=nd(),su(o.$$.fragment),i=nd(),su(s.$$.fragment)},m(e,a){ru(t,e,a),Xc(e,n,a),ru(o,e,a),Xc(e,i,a),ru(s,e,a),r=!0},p(e,n){const i={};3587&n[0]|8&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const r={};128&n[0]&&(r.tooltip=e[7]),8192&n[0]&&(r.showProShield=e[13]),9&n[0]|8&n[2]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r);const a={};64&n[0]&&(a.tooltip=e[6]),4096&n[0]&&(a.showProShield=e[12]),5&n[0]|8&n[2]&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){r||(Kd(t.$$.fragment,e),Kd(o.$$.fragment,e),Kd(s.$$.fragment,e),r=!0)},o(e){Qd(t.$$.fragment,e),Qd(o.$$.fragment,e),Qd(s.$$.fragment,e),r=!1},d(e){e&&(Kc(n),Kc(i)),au(t,e),au(o,e),au(s,e)}}}function l$(e){let t,n,o;return t=new Ov({}),{c(){n=Jc("div"),su(t.$$.fragment),dd(n,"display","contents"),dd(n,"--size","16px")},m(e,i){Xc(e,n,i),ru(t,n,null),o=!0},p:Ec,i(e){o||(Kd(t.$$.fragment,e),o=!0)},o(e){Qd(t.$$.fragment,e),o=!1},d(e){e&&t&&Kc(n),au(t,e)}}}function c$(e){let t,n,o,i;return{c(){t=Jc("div"),ad(t,"data-testid","deepl-advanced-trigger-turnoff-icon"),ad(t,"class","dl-turnoff-inline-icon svelte-1k40q1k"),gd(t,"advanced",e[1]),gd(t,"hidden",!e[9]),gd(t,"left",!0)},m(n,s){Xc(n,t,s),e[51](t),o||(i=[id(t,"click",rd(sd(e[49]))),id(t,"focus",e[39]),id(t,"mousedown",rd(sd(e[40]))),id(t,"mouseup",rd(sd(e[41]))),id(t,"mouseenter",e[50])],o=!0)},p(e,n){2&n[0]&&gd(t,"advanced",e[1]),512&n[0]&&gd(t,"hidden",!e[9])},i(e){n||Ud((()=>{n=eu(t,Vu,{x:-5,duration:300}),n.start()}))},o:Ec,d(n){n&&Kc(t),e[51](null),o=!1,Cc(i)}}}function d$(e){let t,n,o;return{c(){t=Jc("div"),ad(t,"class","dl-inline-icon dl-write-icon svelte-1k40q1k"),ad(t,"data-testid","deepl-advanced-trigger-write-icon"),ad(t,"data-qa","deepl-inline-translate-menu-icon"),gd(t,"disabled",e[3])},m(i,s){Xc(i,t,s),n||(o=[id(t,"click",rd(sd(e[22]))),id(t,"mouseup",rd(sd(e[37]))),id(t,"mousedown",rd(sd(e[38]))),id(t,"mouseenter",e[52])],n=!0)},p(e,n){8&n[0]&&gd(t,"disabled",e[3])},d(e){e&&Kc(t),n=!1,Cc(o)}}}function u$(e){let t,n,o;return{c(){t=Jc("div"),ad(t,"class","dl-inline-icon dl-translate-icon svelte-1k40q1k"),ad(t,"data-testid","dl-advanced-trigger-translate-icon"),ad(t,"data-qa","deepl-inline-translate-menu-icon"),gd(t,"disabled",e[2])},m(i,s){Xc(i,t,s),n||(o=[id(t,"click",rd(sd(e[20]))),id(t,"mouseup",rd(sd(e[35]))),id(t,"mousedown",rd(sd(e[36]))),id(t,"mouseenter",e[53])],n=!0)},p(e,n){4&n[0]&&gd(t,"disabled",e[2])},d(e){e&&Kc(t),n=!1,Cc(o)}}}function p$(e){let t,n,o;return n=new JE({props:{icon:e[10],closeSettings:e[28],startPage:e[11]?qE:FE}}),n.$on("close",e[28]),n.$on("languageChanged",e[54]),{c(){t=Jc("div"),su(n.$$.fragment),dd(t,"z-index",e[18])},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};1024&t[0]&&(o.icon=e[10]),2048&t[0]&&(o.startPage=e[11]?qE:FE),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function m$(e){let t,n,o=!e[17]&&e$(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,n){e[17]?o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd()):o?(o.p(e,n),131072&n[0]&&Kd(o,1)):(o=e$(e),o.c(),Kd(o,1),o.m(t.parentNode,t))},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function g$(e,t,n){let o,i,s,r,a,l,c;Ic(e,gu,(e=>n(4,l=e))),Ic(e,Fh,(e=>n(34,c=e))),Ld("deepl_settings",gu),Ld("text_direction",es());let d,u,{platformBehaviour:p=kt.default}=t,{isInput:m=!1}=t,{enableAdvancedTriggerIcon:g}=t,h=!1,f="",_="",v="",w=[],T=!1,b=!1,y=!1,E=!1,$=!1,x=R.deepl_inline_ui.z_index+10;const S=chrome.i18n.getMessage("context_menus_translate_section"),C=()=>{if(l.hasITAInlineOnboardingBeenShown||!g)return;if(!k)return LE;const e=k.getBoundingClientRect();return NE(e)},L=()=>{!l.hasITAInlineOnboardingBeenShown&&g&&gu.set({hasITAInlineOnboardingBeenShown:!0}),n(16,A=void 0)};let k,A=g?C():void 0;xd((()=>{k&&n(16,A=C())})),Xn({action:Hn.dlCheckCommandShortcuts}).then((e=>n(31,f=e?e.filter((e=>e.name==nt))[0].shortcut:"")));const I=async()=>{n(5,h=m&&!(await IT(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality)};async function M(){r||(eM(),N(),L(),g&&(mM(),gM()),m?(Xn({action:jn.dlTriggerTranslateInput}),await I()):Xn({action:jn.dlTriggerTranslateInline}),f||Kn(D),G(Ct))}async function O(e,t,n){if("dlTriggerTranslationShortcut"===e.action){if(r)return;if(m)return;M(),Xn({action:qn.dlTrackUseOfShortcut,payload:{shortcutType:nt,location:q,nicheIntegration:p}}),n()}return!0}function N(){c&&c.isInlineTranslateSettingsTooltipInjected||b||n(9,T=!1)}function P(){c&&!c.isInlineTranslateSettingsTooltipInjected&&(n(9,T=!0),JI(p),Xn({action:qn.dlTrackInlineSettingOpened,payload:{uiFunction:dt,uiLocation:q,nicheIntegration:p}})),G(Ct)}function U(e){w.includes(e)||(Xn({action:qn.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:p}}),w.push(e))}function G(e){if(!l.isInlineHighlighterShown){gu.set({isInlineHighlighterShown:!0});try{Xn({action:qn.dlTrackCloseInlineHighlighter,payload:{trigger:e}})}catch(e){console.error(e)}}}chrome.runtime.onMessage.addListener(O),Sd((()=>{L(),chrome.runtime.onMessage.removeListener(O)}));const B=async e=>{await gu.set({targetLanguageUserInput:e.value}),n(14,$=!1),M()};return e.$$set=e=>{"platformBehaviour"in e&&n(30,p=e.platformBehaviour),"isInput"in e&&n(0,m=e.isInput),"enableAdvancedTriggerIcon"in e&&n(1,g=e.enableAdvancedTriggerIcon)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(32,o=!l.enableInlineTranslation||l.blacklistDomainsForReading?.includes(window.location.hostname)||l.isGmailEnabled&&ov()),16&e.$$.dirty[0]&&n(33,i=!l.enableInputTranslation||mv(window.location.host,window.location.href)||l.blacklistDomainsForWriting?.includes(window.location.hostname)||l.isGmailEnabled&&ov()),1&e.$$.dirty[0]|6&e.$$.dirty[1]&&n(17,s=m&&i||!m&&o),16&e.$$.dirty[0]&&n(2,r=oo(l,qt.TRANSLATOR)),4&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(6,_=r?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):f?`${S} (${f})`:S),16&e.$$.dirty[0]&&n(3,a=oo(l,qt.WRITE)),8&e.$$.dirty[0]&&n(7,v=a?chrome.i18n.getMessage("contact_admin_info_write_disabled"):n(7,v=chrome.i18n.getMessage("review_ui_improve_selection"))),16&e.$$.dirty[0]&&n(12,y=to(l,qt.TRANSLATOR)),16&e.$$.dirty[0]&&n(13,E=to(l,qt.WRITE)),8&e.$$.dirty[1]&&!1===c.isInlineTranslateSettingsTooltipInjected&&n(9,T=!1)},[m,g,r,a,l,h,_,v,d,T,u,b,y,E,$,k,A,s,x,L,function(){L(),function(){let e;if(!0===g)e=m?Ge:Pe;else e=q;Xn({action:qn.dlTrackUILocationClicked,payload:e})}(),!m||l.targetLanguageUserInput?M():n(14,$=!0)},M,async function(){a||(eM(),N(),L(),g&&(mM(),gM()),m?(Xn({action:Wn.dlTriggerImproveInput}),await I()):Xn({action:Wn.dlTriggerImproveInline}),G(Ct),Xn({action:qn.dlTrackUILocationClicked,payload:m?Be:Ue}))},function(){h||n(9,T=!0)},N,P,U,G,()=>{n(11,b=!1)},B,p,f,o,i,c,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(e){Md[e?"unshift":"push"]((()=>{k=e,n(15,k)}))},()=>{m?n(11,b=!0):P()},()=>U(m?ze:We),function(e){Md[e?"unshift":"push"]((()=>{u=e,n(10,u)}))},()=>U(m?Be:Ue),()=>U(m?Ge:Pe),e=>B(e.detail.lang),()=>U(q),()=>U(V),function(e){Md[e?"unshift":"push"]((()=>{d=e,n(8,d)}))}]}class h$ extends cu{constructor(e){super(),lu(this,e,g$,m$,kc,{platformBehaviour:30,isInput:0,enableAdvancedTriggerIcon:1},null,[-1,-1,-1])}}const f$={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60};function _$(e,t){let n={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return n;const{TRIGGER_EXPENDED_WIDTH:o,TRIGGER_WIDTH:i,TRIGGER_HEIGHT:s}=f$,r=e?.detail;if(1===r){if(e.isOutsideOfView)return n;let r=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const a=document.body.parentNode.getBoundingClientRect();let l=e.pageY+.5*r,c=t.selectedTop+t.height-r-a.y;const d=()=>{const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0).getClientRects();if(!t.length)return;return{firstRect:t[0],lastRect:t[t.length-1]}};if(t.height<1.5*r){n.containerStyleLeft=e.clientX;const s=t.x+t.selectedWidth;e.clientX>s?n.containerStyleLeft=t.selectedRight>o?s:s-o:e.clientX-t.x<i&&e.clientX<t.x&&(n.containerStyleLeft=t.selectedLeft>o?t.x:t.x+o)}else if(l>c){const t=d();t&&t.lastRect?n.containerStyleLeft=t.lastRect.right:n.containerStyleLeft=e.clientX}else if(l<c){n.containerStyleTop=t.y-t.height-s-5;const o=d();o&&o.firstRect?n.containerStyleLeft=o.firstRect.x:n.containerStyleLeft=e.clientX}}else if(2===r){n.containerStyleLeft=t.x+t.selectedWidth-i;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));parseInt(t.height/2)>e&&(n.containerStyleTop=t.y-t.height+e+2)}const a=window.innerWidth||document.documentElement.innerWidth,l=window.scrollHeight||document.documentElement.scrollHeight;return n.containerStyleLeft+o>a&&(n.containerStyleLeft=n.containerStyleLeft-o),(n.containerStyleTop+s>l||n.containerStyleTop<0)&&(n.containerStyleTop=t.y-s),n}function v$(){return!0}function w$(){return!0}class T${static HTML_TAG_NAME="deepl-inline-trigger";static createElement=(e=document)=>{const t=e.createElement(T$.HTML_TAG_NAME),n=new T$(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.repositionContainer(t),this.domElement.shadowContainer.appendChild(this.domElement.container);this.domElement.mainComponent=new h$({target:this.domElement.container,props:{websiteSettings:e,enableAdvancedTriggerIcon:true}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t};repositionContainer=e=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:t}=R,n=t.z_index-500,o=vv();let i=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}; visibility: initial !important;`,s=`position: absolute; z-index: ${n};`;this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=s;const r=_$(e,o);this.domElement.container.style.top=`${parseInt(r.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(r.containerStyleLeft)}px`};cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent);addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)};removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()}}class b${static HTML_TAG_NAME="deepl-input-selection-trigger";static createElement=(e=document)=>{const t=e.createElement(b$.HTML_TAG_NAME),n=new b$(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent,this.domElement.cachedElement=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.cachedElement=e,this.domElement.repositionContainer(t,e);this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadowContainer.appendChild(this.domElement.container),Fh.update({inputElement:e}),this.domElement.mainComponent=new h$({target:this.domElement.container,props:{isInput:!0,enableAdvancedTriggerIcon:!0}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t};repositionContainer=(e,t)=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:n}=R,o=n.z_index+500;let i;i="TEXTAREA"===t.tagName?bv(t):vv();let s=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o}`,r=`position: absolute; z-index: ${o};`;this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=r;const a=_$(e,i);this.domElement.container.style.top=`${parseInt(a.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(a.containerStyleLeft)}px`};cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent,this.domElement.cachedElement);addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)};removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()}}function y$(e){let t,n,o,i=xi(e[1])+"";return{c(){t=Jc("div"),ad(t,"class","container svelte-1dicgbw")},m(s,r){Xc(s,t,r),t.innerHTML=i,n||(o=id(t,"click",e[0]),n=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,o()}}}function E$(e){return[function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Am}}),Xn({action:qn.dlTrackUiAction,payload:{uiAction:ot}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}class $$ extends cu{constructor(e){super(),lu(this,e,E$,y$,kc,{})}}function x$(e){let t,n,o,i=xi(e[0])+"";return{c(){t=Jc("div"),ad(t,"class","container svelte-1dicgbw"),ad(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(s,r){Xc(s,t,r),t.innerHTML=i,n||(o=id(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&i!==(i=xi(e[0])+"")&&(t.innerHTML=i)},i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,o()}}}function S$(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:Nv.settings_page;let s="",r=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case lt:s=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case at:s=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[r,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:i}})},o]}class C$ extends cu{constructor(e){super(),lu(this,e,S$,x$,kc,{options:2})}}function L$(e){let t,n,o,i=xi(e[0])+"";return{c(){t=Jc("div"),ad(t,"class","container svelte-1dicgbw"),ad(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(s,r){Xc(s,t,r),t.innerHTML=i,n||(o=id(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&i!==(i=xi(e[0])+"")&&(t.innerHTML=i)},i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,o()}}}function k$(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:Nv.settings_page;let s="",r=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case lt:s=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case at:s=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[r,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:i}})},o]}class A$ extends cu{constructor(e){super(),lu(this,e,k$,L$,kc,{options:2})}}function I$(e){let t,n,o;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,ad(t,"class","container svelte-1dicgbw"),ad(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[0]),n=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,o()}}}function M$(e){return[function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:Nv.settings_page}})}]}class O$ extends cu{constructor(e){super(),lu(this,e,M$,I$,kc,{})}}function N$(e){let t;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,ad(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class R$ extends cu{constructor(e){super(),lu(this,e,null,N$,kc,{})}}function D$(e){let t;return{c(){t=Jc("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,ad(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class P$ extends cu{constructor(e){super(),lu(this,e,null,D$,kc,{})}}function U$(e){let t,n,o,i;return{c(){t=Jc("div"),n=Jc("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_main")}`,o=nd(),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_explanation")}`,ad(n,"class","main-text svelte-18of7gm"),ad(t,"class","dl-notification-gslides-prevent-asset-loss")},m(e,s){Xc(e,t,s),Vc(t,n),Vc(t,o),Vc(t,i)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}class G$ extends cu{constructor(e){super(),lu(this,e,null,U$,kc,{})}}function B$(e){let t,n,o,i,s,r,a,l,c;return{c(){t=Jc("div"),n=Jc("div"),n.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_headline")}`,o=nd(),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_text")}`,s=nd(),r=Jc("div"),a=Jc("div"),a.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_learn_more")}`,ad(n,"class","dl-ads-for-addins_headline svelte-drhmpk"),ad(i,"class","dl-ads-for-addins_text"),ad(a,"class","dl-ads-for-addins_button svelte-drhmpk"),ad(r,"class","dl-ads-for-addins_wrapper svelte-drhmpk"),ad(t,"class","dl-ads-for-addins svelte-drhmpk")},m(d,u){Xc(d,t,u),Vc(t,n),Vc(t,o),Vc(t,i),Vc(t,s),Vc(t,r),Vc(r,a),l||(c=id(r,"click",e[0]),l=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),l=!1,c()}}}function W$(e){return[()=>{Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Wm,utmContent:"msaddin_ads_notification"}}),Xn({action:qn.dlTrackClicksOnAdsButton})}]}class z$ extends cu{constructor(e){super(),lu(this,e,W$,B$,kc,{})}}function H$(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f=e[4]==F.warning_theme&&j$();var _=e[5];function v(e,t){return{props:{options:e[1]}}}return _&&(l=_d(_,v(e))),{c(){t=Jc("div"),n=Jc("div"),o=Jc("button"),s=nd(),r=Jc("div"),f&&f.c(),a=nd(),l&&su(l.$$.fragment),ad(o,"class",i="dl-close-icon "+e[4]+" svelte-np3z9s"),ad(n,"class","header"),ad(n,"notificationtheme",e[4]),ad(r,"class",c="body "+e[4]+" svelte-np3z9s"),ad(t,"class",d="container "+e[4]+" svelte-np3z9s"),ad(t,"dir",es()),gd(t,"success",e[0]===B||e[0]===W)},m(i,c){Xc(i,t,c),Vc(t,n),Vc(n,o),Vc(t,s),Vc(t,r),f&&f.m(r,null),Vc(r,a),l&&ru(l,r,null),m=!0,g||(h=id(o,"click",(function(){Lc(e[2])&&e[2].apply(this,arguments)})),g=!0)},p(s,u){if(e=s,(!m||16&u&&i!==(i="dl-close-icon "+e[4]+" svelte-np3z9s"))&&ad(o,"class",i),(!m||16&u)&&ad(n,"notificationtheme",e[4]),e[4]==F.warning_theme?f||(f=j$(),f.c(),f.m(r,a)):f&&(f.d(1),f=null),32&u&&_!==(_=e[5])){if(l){Yd();const e=l;Qd(e.$$.fragment,1,0,(()=>{au(e,1)})),Xd()}_?(l=_d(_,v(e)),su(l.$$.fragment),Kd(l.$$.fragment,1),ru(l,r,null)):l=null}else if(_){const t={};2&u&&(t.options=e[1]),l.$set(t)}(!m||16&u&&c!==(c="body "+e[4]+" svelte-np3z9s"))&&ad(r,"class",c),(!m||16&u&&d!==(d="container "+e[4]+" svelte-np3z9s"))&&ad(t,"class",d),(!m||17&u)&&gd(t,"success",e[0]===B||e[0]===W)},i(e){m||(l&&Kd(l.$$.fragment,e),Ud((()=>{m&&(p&&p.end(1),u=eu(t,Vu,{x:100,duration:1e3}),u.start())})),m=!0)},o(e){l&&Qd(l.$$.fragment,e),u&&u.invalidate(),p=tu(t,Vu,{x:100,duration:1e3}),m=!1},d(e){e&&Kc(t),f&&f.d(),l&&au(l),e&&p&&p.end(),g=!1,h()}}}function j$(e){let t;return{c(){t=Jc("div"),t.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',ad(t,"class","icon-container")},m(e,n){Xc(e,t,n)},d(e){e&&Kc(t)}}}function F$(e){let t,n,o=e[3]&&H$(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&Kd(o,1)):(o=H$(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function q$(e,t,n){let o,i;Ld("text_direction",es());let{type:s}=t,{options:r}=t,{close:a}=t,l=!1;const c={[D]:$$,[P]:C$,[U]:A$,[G]:O$,[B]:R$,[W]:P$,[z]:G$,[H]:z$};return xd((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>a()),11100)})),e.$$set=e=>{"type"in e&&n(0,s=e.type),"options"in e&&n(1,r=e.options),"close"in e&&n(2,a=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[s]),2&e.$$.dirty&&n(4,i=F[r?.theme]?F[r?.theme]:"")},[s,r,a,l,i,o]}class V$ extends cu{constructor(e){super(),lu(this,e,q$,F$,kc,{type:0,options:1,close:2})}}class Z${static HTML_TAG_NAME="deepl-notification";static createElement=(e=document)=>{const t=e.createElement(Z$.HTML_TAG_NAME),n=new Z$(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{const n="rtl"===es()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${n}: 20px; z-index: ${R.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new V$({target:this.domElement.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}function Y$(e){let t,n,o,i;return{c(){t=Jc("div"),n=Jc("div"),ad(n,"class","close-button svelte-2cst7"),ad(t,"class","close-button-container svelte-2cst7")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(n,"click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Kc(t),o=!1,i()}}}function X$(e){let t,n,o,i,s,r=e[0]&&Y$(e);const a=e[2].default,l=Mc(a,e,e[1],null);return{c(){r&&r.c(),t=nd(),n=Jc("div"),o=Jc("div"),i=nd(),l&&l.c(),ad(o,"class","logo svelte-2cst7"),ad(n,"class","body svelte-2cst7")},m(e,a){r&&r.m(e,a),Xc(e,t,a),Xc(e,n,a),Vc(n,o),Vc(n,i),l&&l.m(n,null),s=!0},p(e,[n]){e[0]?r?r.p(e,n):(r=Y$(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),l&&l.p&&(!s||2&n)&&Rc(l,a,e,e[1],s?Nc(a,e[1],n,null):Dc(e[1]),null)},i(e){s||(Kd(l,e),s=!0)},o(e){Qd(l,e),s=!1},d(e){e&&(Kc(t),Kc(n)),r&&r.d(e),l&&l.d(e)}}}function K$(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Q$ extends cu{constructor(e){super(),lu(this,e,K$,X$,kc,{onClose:0})}}function J$(e){let t,n;return{c(){t=Jc("div"),n=td(e[0]),ad(t,"class","info-msg svelte-17qaccl")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,[t]){1&t&&ld(n,e[0])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function ex(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class tx extends cu{constructor(e){super(),lu(this,e,ex,J$,kc,{message:0})}}function nx(e){let t,n,o,i,s;const r=e[7].default,a=Mc(r,e,e[6],null);return{c(){t=Jc("button"),a&&a.c(),ad(t,"type","button"),ad(t,"class",n=Pc(e[0])+" svelte-zka2e2"),t.disabled=e[1],ad(t,"id",e[5]),ad(t,"data-qa",e[4]),gd(t,"disabled",e[1]),gd(t,"font-size-sm","sm"===e[2]),gd(t,"padding-x-md","md"===e[3]),gd(t,"padding-x-none","none"===e[3])},m(n,r){Xc(n,t,r),a&&a.m(t,null),o=!0,i||(s=[id(t,"click",e[8]),id(t,"mousedown",rd(sd(e[9])))],i=!0)},p(e,[i]){a&&a.p&&(!o||64&i)&&Rc(a,r,e,e[6],o?Nc(r,e[6],i,null):Dc(e[6]),null),(!o||1&i&&n!==(n=Pc(e[0])+" svelte-zka2e2"))&&ad(t,"class",n),(!o||2&i)&&(t.disabled=e[1]),(!o||32&i)&&ad(t,"id",e[5]),(!o||16&i)&&ad(t,"data-qa",e[4]),(!o||3&i)&&gd(t,"disabled",e[1]),(!o||5&i)&&gd(t,"font-size-sm","sm"===e[2]),(!o||9&i)&&gd(t,"padding-x-md","md"===e[3]),(!o||9&i)&&gd(t,"padding-x-none","none"===e[3])},i(e){o||(Kd(a,e),o=!0)},o(e){Qd(a,e),o=!1},d(e){e&&Kc(t),a&&a.d(e),i=!1,Cc(s)}}}function ox(e,t,n){let{$$slots:o={},$$scope:i}=t,{className:s="button-primary"}=t,{disabled:r=!1}=t,{fontSize:a="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,s=e.className),"disabled"in e&&n(1,r=e.disabled),"fontSize"in e&&n(2,a=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,i=e.$$scope)},[s,r,a,l,c,d,i,o,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)}]}class ix extends cu{constructor(e){super(),lu(this,e,ox,nx,kc,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function sx(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_cancel")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function rx(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_confirm")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function ax(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b,y,E,$,x,S,C,L,k,A,I,M,O;return C=new ix({props:{className:"button-link",paddingX:"none",$$slots:{default:[sx]},$$scope:{ctx:e}}}),C.$on("click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),k=new ix({props:{className:"button-primary",$$slots:{default:[rx]},$$scope:{ctx:e}}}),k.$on("click",e[4]),I=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[7][0]),{c(){t=Jc("div"),n=Jc("p"),n.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,o=nd(),i=Jc("div"),s=Jc("div"),r=Jc("label"),a=Jc("span"),l=Jc("input"),c=nd(),d=Jc("span"),d.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,u=nd(),p=Jc("div"),m=Jc("label"),g=Jc("span"),h=Jc("input"),f=nd(),_=Jc("span"),_.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,v=nd(),w=Jc("div"),T=Jc("label"),b=Jc("span"),y=Jc("input"),E=nd(),$=Jc("span"),$.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,x=nd(),S=Jc("div"),su(C.$$.fragment),L=nd(),su(k.$$.fragment),ad(n,"class","font-bold svelte-1vpv55x"),ad(l,"id","option-website"),ad(l,"name","option"),ad(l,"type","radio"),l.__value="website",cd(l,l.__value),ad(l,"class","svelte-1vpv55x"),ad(d,"class","label svelte-1vpv55x"),ad(r,"for","option-website"),ad(r,"class","svelte-1vpv55x"),ad(s,"class","option svelte-1vpv55x"),ad(h,"id","option-lang"),ad(h,"type","radio"),ad(h,"name","option"),h.__value="lang",cd(h,h.__value),ad(h,"class","svelte-1vpv55x"),ad(_,"class","label svelte-1vpv55x"),ad(m,"for","option-lang"),ad(m,"class","svelte-1vpv55x"),ad(p,"class","option svelte-1vpv55x"),ad(y,"id","option-fpt"),ad(y,"type","radio"),ad(y,"name","option"),y.__value="fpt",cd(y,y.__value),ad(y,"class","svelte-1vpv55x"),ad($,"class","label svelte-1vpv55x"),ad(T,"for","option-fpt"),ad(T,"class","svelte-1vpv55x"),ad(w,"class","option svelte-1vpv55x"),ad(i,"class","cancel-container svelte-1vpv55x"),ad(t,"class","cancel-translation-body svelte-1vpv55x"),ad(S,"class","cancel-translation-footer svelte-1vpv55x"),I.p(l,h,y)},m(I,N){Xc(I,t,N),Vc(t,n),Vc(t,o),Vc(t,i),Vc(i,s),Vc(s,r),Vc(r,a),Vc(a,l),l.checked=l.__value===e[1],Vc(r,c),Vc(r,d),Vc(i,u),Vc(i,p),Vc(p,m),Vc(m,g),Vc(g,h),h.checked=h.__value===e[1],Vc(m,f),Vc(m,_),Vc(i,v),Vc(i,w),Vc(w,T),Vc(T,b),Vc(b,y),y.checked=y.__value===e[1],Vc(T,E),Vc(T,$),Xc(I,x,N),Xc(I,S,N),ru(C,S,null),Vc(S,L),ru(k,S,null),A=!0,M||(O=[id(l,"change",e[6]),id(h,"change",e[8]),id(y,"change",e[9])],M=!0)},p(t,[n]){e=t,2&n&&(l.checked=l.__value===e[1]),2&n&&(h.checked=h.__value===e[1]),2&n&&(y.checked=y.__value===e[1]);const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),C.$set(o);const i={};65536&n&&(i.$$scope={dirty:n,ctx:e}),k.$set(i)},i(e){A||(Kd(C.$$.fragment,e),Kd(k.$$.fragment,e),A=!0)},o(e){Qd(C.$$.fragment,e),Qd(k.$$.fragment,e),A=!1},d(e){e&&(Kc(t),Kc(x),Kc(S)),au(C),au(k),I.r(),M=!1,Cc(O)}}}function lx(e,t,n){let o,i;const s=kd("deepl_settings");Ic(e,s,(e=>n(11,i=e)));const r=kd("deepl_website_settings");Ic(e,r,(e=>n(10,o=e)));let{onClose:a}=t,{onCancel:c}=t,d="fpt";return e.$$set=e=>{"onClose"in e&&n(5,a=e.onClose),"onCancel"in e&&n(0,c=e.onCancel)},[c,d,s,r,()=>{const e={hideOption:void 0,sourceLang:o.websiteLanguage,domainName:o.hostname,uiLocation:_T(ie)};switch(d){case"website":Uc(s,i.blacklistDomains=[...i.blacklistDomains,o.hostname],i),e.hideOption=L;break;case"lang":t=o.websiteLanguage,n=l,"EN"===t?(Uc(s,i.languagesForTranslation={...i.languagesForTranslation,"EN-GB":n},i),Uc(s,i.languagesForTranslation={...i.languagesForTranslation,"EN-US":n},i)):"PT"===t?(Uc(s,i.languagesForTranslation={...i.languagesForTranslation,"PT-PT":n},i),Uc(s,i.languagesForTranslation={...i.languagesForTranslation,"PT-BR":n},i)):"ZH"===t?(Uc(s,i.languagesForTranslation={...i.languagesForTranslation,"ZH-CN":n},i),Uc(s,i.languagesForTranslation={...i.languagesForTranslation,"ZH-HANT":n},i)):Uc(s,i.languagesForTranslation={...i.languagesForTranslation,[t]:n},i),e.hideOption=k;break;default:e.hideOption=A,s.set({enableFullPageTranslation:!1})}var t,n;Xn({action:Bn.dlSendNotification,payload:{type:G,options:{theme:F.green_theme}}}),Xn({action:qn.dlTrackFptHide,payload:e}),a()},a,function(){d=this.__value,n(1,d)},[[]],function(){d=this.__value,n(1,d)},function(){d=this.__value,n(1,d)}]}class cx extends cu{constructor(e){super(),lu(this,e,lx,ax,kc,{onClose:5,onCancel:0})}}function dx(e,t,n){const o=e.slice();return o[17]=t[n],o}function ux(e,t,n){const o=e.slice();return o[17]=t[n],o}function px(e,t,n){const o=e.slice();return o[17]=t[n],o}function mx(e,t,n){const o=e.slice();return o[17]=t[n],o}function gx(e,t,n){const o=e.slice();return o[17]=t[n],o}function hx(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("ui_fpt_hide_checkbox")+"";t=new Q$({props:{onClose:e[0],$$slots:{default:[xx]},$$scope:{ctx:e}}});let m=e[6]&&Sx(e);return{c(){su(t.$$.fragment),n=nd(),m&&m.c(),o=nd(),i=Jc("div"),s=Jc("label"),r=Jc("input"),a=nd(),l=td(p),ad(r,"type","checkbox"),r.disabled=e[6],ad(r,"class","svelte-6tzge"),ad(s,"class","svelte-6tzge"),ad(i,"class","footer svelte-6tzge"),gd(i,"hasError",e[6])},m(p,g){ru(t,p,g),Xc(p,n,g),m&&m.m(p,g),Xc(p,o,g),Xc(p,i,g),Vc(i,s),Vc(s,r),Vc(s,a),Vc(s,l),c=!0,d||(u=id(s,"click",e[15]),d=!0)},p(e,n){const s={};1&n&&(s.onClose=e[0]),268435476&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[6]?m?(m.p(e,n),64&n&&Kd(m,1)):(m=Sx(e),m.c(),Kd(m,1),m.m(o.parentNode,o)):m&&(Yd(),Qd(m,1,1,(()=>{m=null})),Xd()),(!c||64&n)&&(r.disabled=e[6]),(!c||64&n)&&gd(i,"hasError",e[6])},i(e){c||(Kd(t.$$.fragment,e),Kd(m),c=!0)},o(e){Qd(t.$$.fragment,e),Qd(m),c=!1},d(e){e&&(Kc(n),Kc(o),Kc(i)),au(t,e),m&&m.d(e),d=!1,u()}}}function fx(e){let t,n,o,i;return t=new Q$({props:{onClose:e[0]}}),o=new cx({props:{onClose:e[0],onCancel:e[13]}}),{c(){su(t.$$.fragment),n=nd(),su(o.$$.fragment)},m(e,s){ru(t,e,s),Xc(e,n,s),ru(o,e,s),i=!0},p(e,n){const i={};1&n&&(i.onClose=e[0]),t.$set(i);const s={};1&n&&(s.onClose=e[0]),8&n&&(s.onCancel=e[13]),o.$set(s)},i(e){i||(Kd(t.$$.fragment,e),Kd(o.$$.fragment,e),i=!0)},o(e){Qd(t.$$.fragment,e),Qd(o.$$.fragment,e),i=!1},d(e){e&&Kc(n),au(t,e),au(o,e)}}}function _x(e){let t,n;return t=new Q$({props:{$$slots:{default:[Hx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435510&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function vx(e){let t,n;return t=new Q$({props:{$$slots:{default:[Zx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435472&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function wx(e){let t,n;return t=new Q$({props:{$$slots:{default:[Yx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Tx(e){let t,n;return t=new Q$({props:{$$slots:{default:[Xx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function bx(e){let t,n;return t=new Q$({props:{$$slots:{default:[Kx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function yx(e){let t,n;return t=new Q$({props:{$$slots:{default:[Qx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Ex(e){let t,n;return t=new Q$({props:{$$slots:{default:[Jx]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function $x(e){let t;return{c(){t=Jc("span"),t.textContent=`${chrome.i18n.getMessage("ui_fpt_translate_button")}`,ad(t,"class","svelte-6tzge")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function xx(e){let t,n,o,i,s,r,a,l,c,d,u,p;return l=new rf({props:{value:e[2].selectedTargetLanguage,variant:"alternate",alignRight:!1}}),l.$on("selection",e[14]),u=new ix({props:{className:"btn-primary",paddingX:"md",dataQa:"dl-button-translate-page",$$slots:{default:[$x]},$$scope:{ctx:e}}}),u.$on("click",e[10]),{c(){t=Jc("div"),n=Jc("div"),o=td(e[4]),i=nd(),s=Jc("div"),r=nd(),a=Jc("div"),su(l.$$.fragment),c=nd(),d=Jc("div"),su(u.$$.fragment),ad(n,"class","website-lang svelte-6tzge"),ad(s,"class","translate-to-arrow svelte-6tzge"),ad(a,"class","language-switch svelte-6tzge"),ad(t,"class","language-selection svelte-6tzge"),ad(t,"dir",es()),ad(d,"class","translate-button svelte-6tzge")},m(e,m){Xc(e,t,m),Vc(t,n),Vc(n,o),Vc(t,i),Vc(t,s),Vc(t,r),Vc(t,a),ru(l,a,null),Xc(e,c,m),Xc(e,d,m),ru(u,d,null),p=!0},p(e,t){(!p||16&t)&&ld(o,e[4]);const n={};4&t&&(n.value=e[2].selectedTargetLanguage),l.$set(n);const i={};268435456&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i)},i(e){p||(Kd(l.$$.fragment,e),Kd(u.$$.fragment,e),p=!0)},o(e){Qd(l.$$.fragment,e),Qd(u.$$.fragment,e),p=!1},d(e){e&&(Kc(t),Kc(c),Kc(d)),au(l),au(u)}}}function Sx(e){let t,n,o;return n=new Jg({props:{error:e[1].error}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","error-container svelte-6tzge")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function Cx(e){let t,n=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Ix(ux(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=od()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xc(e,t,n)},p(e,i){if(16&i){let s;for(n=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"])),s=0;s<n.length;s+=1){const r=ux(e,n,s);o[s]?o[s].p(r,i):(o[s]=Ix(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&Kc(t),Qc(o,e)}}}function Lx(e){let t;function n(e,t){return e[5]?Ox:Mx}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function kx(e){let t,n=e[17].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){16&o&&n!==(n=e[17].text+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function Ax(e){let t,n,o=e[17].text+"";return{c(){t=Jc("strong"),n=td(o),ad(t,"class","svelte-6tzge")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){16&t&&o!==(o=e[17].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function Ix(e){let t;function n(e,t){return"strong"===e[17].block?Ax:kx}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function Mx(e){let t,n=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Dx(px(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=od()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xc(e,t,n)},p(e,i){if(2&i){let s;for(n=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),s=0;s<n.length;s+=1){const r=px(e,n,s);o[s]?o[s].p(r,i):(o[s]=Dx(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&Kc(t),Qc(o,e)}}}function Ox(e){let t,n=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Gx(mx(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=od()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xc(e,t,n)},p(e,i){if(18&i){let s;for(n=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"])),s=0;s<n.length;s+=1){const r=mx(e,n,s);o[s]?o[s].p(r,i):(o[s]=Gx(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&Kc(t),Qc(o,e)}}}function Nx(e){let t,n=e[17].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){2&o&&n!==(n=e[17].text+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function Rx(e){let t,n,o=e[17].text+"";return{c(){t=Jc("strong"),n=td(o),ad(t,"class","svelte-6tzge")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){2&t&&o!==(o=e[17].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function Dx(e){let t;function n(e,t){return"strong"===e[17].block?Rx:Nx}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function Px(e){let t,n=e[17].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){18&o&&n!==(n=e[17].text+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function Ux(e){let t,n,o=e[17].text+"";return{c(){t=Jc("strong"),n=td(o),ad(t,"class","svelte-6tzge")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){18&t&&o!==(o=e[17].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function Gx(e){let t;function n(e,t){return"strong"===e[17].block?Ux:Px}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function Bx(e){let t,n=e[17].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Wx(e){let t,n,o;return{c(){t=Jc("span"),t.textContent=`${e[17].text}`,ad(t,"class","link svelte-6tzge")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[9]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function zx(e){let t;let n=function(e){return"settingsLink"===e[17].block?Wx:Bx}(e),o=n(e);return{c(){o.c(),t=od()},m(e,n){o.m(e,n),Xc(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Kc(t),o.d(e)}}}function Hx(e){let t,n,o,i,s;function r(e,t){return 6&t&&(o=null),null==o&&(o=!!e[2].blacklistDomains.includes(e[1].hostname)),o?Lx:e[5]?Cx:void 0}let a=r(e,-1),l=a&&a(e),c=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),d=[];for(let t=0;t<c.length;t+=1)d[t]=zx(dx(e,c,t));return{c(){t=Jc("div"),n=Jc("p"),l&&l.c(),i=nd(),s=Jc("p");for(let e=0;e<d.length;e+=1)d[e].c();ad(n,"class","svelte-6tzge"),ad(s,"class","svelte-6tzge")},m(e,o){Xc(e,t,o),Vc(t,n),l&&l.m(n,null),Vc(t,i),Vc(t,s);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(s,null)},p(e,t){if(a===(a=r(e,t))&&l?l.p(e,t):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(n,null))),512&t){let n;for(c=ou(Xu(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),n=0;n<c.length;n+=1){const o=dx(e,c,n);d[n]?d[n].p(o,t):(d[n]=zx(o),d[n].c(),d[n].m(s,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=c.length}},d(e){e&&Kc(t),l&&l.d(),Qc(d,e)}}}function jx(e){let t,n=e[17].text+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p(e,o){16&o&&n!==(n=e[17].text+"")&&ld(t,n)},d(e){e&&Kc(t)}}}function Fx(e){let t,n,o=e[17].text+"";return{c(){t=Jc("strong"),n=td(o),ad(t,"class","svelte-6tzge")},m(e,o){Xc(e,t,o),Vc(t,n)},p(e,t){16&t&&o!==(o=e[17].text+"")&&ld(n,o)},d(e){e&&Kc(t)}}}function qx(e){let t;function n(e,t){return"strong"===e[17].block?Fx:jx}let o=n(e),i=o(e);return{c(){i.c(),t=od()},m(e,n){i.m(e,n),Xc(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Kc(t),i.d(e)}}}function Vx(e){let t,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){t=td(n)},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Zx(e){let t,n,o,i,s,r,a=ou(Xu(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"])),l=[];for(let t=0;t<a.length;t+=1)l[t]=qx(gx(e,a,t));return s=new ix({props:{className:"button-reload",$$slots:{default:[Vx]},$$scope:{ctx:e}}}),s.$on("click",e[11]),{c(){t=Jc("div"),n=Jc("p");for(let e=0;e<l.length;e+=1)l[e].c();o=nd(),i=Jc("p"),su(s.$$.fragment),ad(n,"class","mb-none svelte-6tzge"),ad(i,"class","svelte-6tzge")},m(e,a){Xc(e,t,a),Vc(t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(n,null);Vc(t,o),Vc(t,i),ru(s,i,null),r=!0},p(e,t){if(16&t){let o;for(a=ou(Xu(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"])),o=0;o<a.length;o+=1){const i=gx(e,a,o);l[o]?l[o].p(i,t):(l[o]=qx(i),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=a.length}const o={};268435456&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){r||(Kd(s.$$.fragment,e),r=!0)},o(e){Qd(s.$$.fragment,e),r=!1},d(e){e&&Kc(t),Qc(l,e),au(s)}}}function Yx(e){let t;return{c(){t=Jc("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,ad(t,"class","translation-in-progress svelte-6tzge")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Xx(e){let t;return{c(){t=Jc("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,ad(t,"class","translation-in-progress svelte-6tzge")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function Kx(e){let t,n;return t=new tx({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Qx(e){let t,n;return t=new tx({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Jx(e){let t,n,o;return n=new Ov({}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","translation-in-progress svelte-6tzge")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p:Ec,i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function eS(e){let t,n,o,i,s,r;const a=[Ex,yx,bx,Tx,wx,vx,_x,fx,hx],l=[];function d(e,t){return 2&t&&(n=null),38&t&&(o=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===c.ongoingAutoDetection?3:e[1].translationState===c.ongoingTranslation?4:e[1].translationState===c.isTranslationComplete?5:(null==o&&(o=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[5])),o?6:e[3]?7:e[1].websiteLanguage?8:-1))}return~(i=d(e,-1))&&(s=l[i]=a[i](e)),{c(){t=Jc("div"),s&&s.c(),ad(t,"class","full-page-translation svelte-6tzge")},m(e,n){Xc(e,t,n),~i&&l[i].m(t,null),r=!0},p(e,[n]){let o=i;i=d(e,n),i===o?~i&&l[i].p(e,n):(s&&(Yd(),Qd(l[o],1,1,(()=>{l[o]=null})),Xd()),~i?(s=l[i],s?s.p(e,n):(s=l[i]=a[i](e),s.c()),Kd(s,1),s.m(t,null)):s=null)},i(e){r||(Kd(s),r=!0)},o(e){Qd(s),r=!1},d(e){e&&Kc(t),~i&&l[i].d()}}}function tS(e,t,n){let o,i,s,r;const a=kd("deepl_settings");Ic(e,a,(e=>n(2,r=e)));const d=kd("deepl_website_settings");Ic(e,d,(e=>n(1,s=e)));let u=x,{onClose:p}=t;let m,g,h=!1;return e.$$set=e=>{"onClose"in e&&n(0,p=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&n(6,o=s&&s.error),6&e.$$.dirty&&n(5,i=Ki(s.websiteLanguage,r.languagesForTranslation,l)),2&e.$$.dirty&&s&&(s.isSupportedLanguage?n(4,m=chrome.i18n.getMessage(`supported_languages_${s.websiteLanguage}`)):n(4,m=chrome.i18n.getMessage("supported_languages_EN"))),4098&e.$$.dirty&&s&&s.hostname&&s.hostname!==g&&(n(12,g=s.hostname),Xn({action:qn.dlTrackExtensionOpenedEvent,payload:{domainName:g,extensionContext:u}}))},[p,s,r,h,m,i,o,a,d,function(){Xn({action:Zn.dlOpenInternalPage,payload:{destination:Nv.settings_page}})},function(){0==r.isTargetLanguageConfirmed&&a.set({isTargetLanguageConfirmed:!0}),WO(s.websiteLanguage,f)},()=>{d.update({translationState:c.showOriginal})},g,()=>{n(3,h=!1)},e=>a.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant}),()=>{o||n(3,h=!h)}]}class nS extends cu{constructor(e){super(),lu(this,e,tS,eS,kc,{onClose:0})}}function oS(e){let t,n,o;return n=new nS({props:{onClose:e[0]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","app-popup svelte-1x9ra34"),ad(t,"style",`z-index: ${e[2].z_index}`),ad(t,"dir",es())},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function iS(e){let t,n,o=e[3]()&&e[1]&&e[1].isValidUrlForPopup,i=o&&oS(e);return{c(){i&&i.c(),t=od()},m(e,o){i&&i.m(e,o),Xc(e,t,o),n=!0},p(e,[n]){2&n&&(o=e[3]()&&e[1]&&e[1].isValidUrlForPopup),o?i?(i.p(e,n),2&n&&Kd(i,1)):(i=oS(e),i.c(),Kd(i,1),i.m(t.parentNode,t)):i&&(Yd(),Qd(i,1,1,(()=>{i=null})),Xd())},i(e){n||(Kd(i),n=!0)},o(e){Qd(i),n=!1},d(e){e&&Kc(t),i&&i.d(e)}}}function sS(e,t,n){let o,i;Ic(e,gu,(e=>n(4,o=e))),Ic(e,Fh,(e=>n(1,i=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let{onClose:s}=t;const{deepl_inline_ui:r}=R;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose)},[s,i,r,function(){return to(o,qt.TRANSLATOR)}]}class rS extends cu{constructor(e){super(),lu(this,e,sS,iS,kc,{onClose:0})}}class aS{static HTML_TAG_NAME="deepl-page-load-popup";static createElement=(e=document)=>{const t=e.createElement(aS.HTML_TAG_NAME),n=new aS(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new rS({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function lS(e){let t,n,o,i;return{c(){t=Jc("button"),n=Jc("span"),ad(n,"class","svelte-19tdlik"),ad(t,"aria-label",e[4]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),ad(t,"class","switch svelte-19tdlik"),ad(t,"data-testid",e[3]),ad(t,"data-qa",e[2]),gd(t,"checked",e[0]),gd(t,"disabled",e[1])},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[4]),o=!0)},p(e,[n]){8&n&&ad(t,"data-testid",e[3]),4&n&&ad(t,"data-qa",e[2]),1&n&&gd(t,"checked",e[0]),2&n&&gd(t,"disabled",e[1])},i:Ec,o:Ec,d(e){e&&Kc(t),o=!1,i()}}}function cS(e,t,n){let{checked:o=!1}=t,{disabled:i=!1}=t,{qaRoot:s="dl-switch"}=t,{dataTestId:r="deepl-switch"}=t;const a=Cd();return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"disabled"in e&&n(1,i=e.disabled),"qaRoot"in e&&n(2,s=e.qaRoot),"dataTestId"in e&&n(3,r=e.dataTestId)},[o,i,s,r,function(){i||a("change",{checked:!o})}]}class dS extends cu{constructor(e){super(),lu(this,e,cS,lS,kc,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}function uS(e){let t,n,o,i,s,r,a,l,c,d,u=e[1]&&pS();return a=new dS({props:{checked:e[3].isGDocsEnabled}}),a.$on("change",e[8]),{c(){t=Jc("div"),u&&u.c(),n=nd(),o=Jc("div"),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_setting_switch")}`,s=nd(),r=Jc("div"),su(a.$$.fragment),ad(i,"class","legend"),ad(r,"class","switch svelte-8jz3zx"),ad(o,"class","turn-on-off-panel svelte-8jz3zx"),ad(t,"class","dl-gdocs-top-icon-modal svelte-8jz3zx"),dd(t,"left",e[2]+"px"),ad(t,"dir",es())},m(p,m){Xc(p,t,m),u&&u.m(t,null),Vc(t,n),Vc(t,o),Vc(o,i),Vc(o,s),Vc(o,r),ru(a,r,null),l=!0,c||(d=[Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=pS(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGDocsEnabled),a.$set(i),(!l||4&o)&&dd(t,"left",e[2]+"px")},i(e){l||(Kd(a.$$.fragment,e),l=!0)},o(e){Qd(a.$$.fragment,e),l=!1},d(e){e&&Kc(t),u&&u.d(),au(a),c=!1,Cc(d)}}}function pS(e){let t,n,o,i,s,r,a,l,c,d,u=chrome.i18n.getMessage("ui_gdocs_welcome_usp1")+"",p=chrome.i18n.getMessage("ui_gdocs_welcome_usp2")+"",m=chrome.i18n.getMessage("ui_gdocs_welcome_usp3")+"";return{c(){t=Jc("div"),n=Jc("div"),o=Jc("p"),o.textContent=`${chrome.i18n.getMessage("ui_gdocs_welcome_title")}`,i=nd(),s=Jc("div"),r=Jc("div"),a=nd(),l=Jc("div"),c=nd(),d=Jc("div"),ad(o,"class","svelte-8jz3zx"),ad(n,"class","header svelte-8jz3zx"),ad(r,"class","ups-item svelte-8jz3zx"),ad(l,"class","ups-item svelte-8jz3zx"),ad(d,"class","ups-item svelte-8jz3zx"),ad(s,"class","ups-list"),ad(t,"class","onboarding svelte-8jz3zx")},m(e,g){Xc(e,t,g),Vc(t,n),Vc(n,o),Vc(t,i),Vc(t,s),Vc(s,r),r.innerHTML=u,Vc(s,a),Vc(s,l),l.innerHTML=p,Vc(s,c),Vc(s,d),d.innerHTML=m},p:Ec,d(e){e&&Kc(t)}}}function mS(e){let t,n,o,i,s,r,a=e[0]&&uS(e);return{c(){t=Jc("button"),n=nd(),a&&a.c(),o=od(),ad(t,"class","dl-gdocs-top-icon svelte-8jz3zx"),dd(t,"left",e[2]+"px"),gd(t,"onboarding-pending",!e[3].isGDocsOnboardingShown)},m(l,c){Xc(l,t,c),Xc(l,n,c),a&&a.m(l,c),Xc(l,o,c),i=!0,s||(r=id(t,"click",e[7]),s=!0)},p(e,[n]){(!i||4&n)&&dd(t,"left",e[2]+"px"),(!i||8&n)&&gd(t,"onboarding-pending",!e[3].isGDocsOnboardingShown),e[0]?a?(a.p(e,n),1&n&&Kd(a,1)):(a=uS(e),a.c(),Kd(a,1),a.m(o.parentNode,o)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){i||(Kd(a),i=!0)},o(e){Qd(a),i=!1},d(e){e&&(Kc(t),Kc(n),Kc(o)),a&&a.d(e),s=!1,r()}}}function gS(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(3,o=e)));let s,{registerTopToolbarIconCallbacks:r}=t,{clearTopToolbarIconCallbacks:a}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector("#titlebar-mode-indicator-container"),t=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),o=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const t=e.getBoundingClientRect();n(2,s=o?n(2,s=t.left+40-32):t.left-40)}else if(t){const e=t.getBoundingClientRect();n(2,s=o?n(2,s=e.left+40-32):e.left-40)}};xd((()=>{d(),r({repositionTopToolbarIcon:d})})),Sd((()=>{a()}));return e.$$set=e=>{"registerTopToolbarIconCallbacks"in e&&n(5,r=e.registerTopToolbarIconCallbacks),"clearTopToolbarIconCallbacks"in e&&n(6,a=e.clearTopToolbarIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&Xn({action:qn.dlTrackOnboardingModalShown,payload:{nicheIntegration:kt.gdocs}})},[l,c,s,o,i,r,a,()=>{n(0,l=!0),o.isGDocsOnboardingShown||(Uc(i,o.isGDocsOnboardingShown=!0,o),n(1,c=!0))},e=>Uc(i,o.isGDocsEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class hS extends cu{constructor(e){super(),lu(this,e,gS,mS,kc,{registerTopToolbarIconCallbacks:5,clearTopToolbarIconCallbacks:6})}}function fS(e){let t,n,o,i,s,r,a,l,c,d,u;o=new Sp({props:{tooltip:e[5],showProShield:to(e[1],qt.TRANSLATOR),zIndex:"10000000000",$$slots:{default:[_S]},$$scope:{ctx:e}}});let p=e[4]&&vS(e);return a=new Sp({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_turn_off"),zIndex:"10000000000",$$slots:{default:[TS]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),n=Jc("button"),su(o.$$.fragment),i=nd(),p&&p.c(),s=nd(),r=Jc("button"),su(a.$$.fragment),ad(n,"class","dl-icon-circle dl-icon svelte-1e1g158"),gd(n,"isTranslateDisabled",e[0]),ad(r,"class","dl-icon-circle dl-on-off-icon svelte-1e1g158"),ad(r,"data-qa","deepl-inline-translate-menu-icon"),ad(t,"class","dl-gdocs-icon svelte-1e1g158"),dd(t,"top",e[6].top),dd(t,"left",e[6].left),ad(t,"dir",es()),gd(t,"has-deepl-write",e[4])},m(l,m){Xc(l,t,m),Vc(t,n),ru(o,n,null),Vc(t,i),p&&p.m(t,null),Vc(t,s),Vc(t,r),ru(a,r,null),c=!0,d||(u=[id(n,"click",e[26]),id(n,"mouseenter",e[27]),id(r,"click",e[11]),id(r,"mouseenter",e[30])],d=!0)},p(e,i){const r={};32&i[0]&&(r.tooltip=e[5]),2&i[0]&&(r.showProShield=to(e[1],qt.TRANSLATOR)),4&i[2]&&(r.$$scope={dirty:i,ctx:e}),o.$set(r),(!c||1&i[0])&&gd(n,"isTranslateDisabled",e[0]),e[4]?p?(p.p(e,i),16&i[0]&&Kd(p,1)):(p=vS(e),p.c(),Kd(p,1),p.m(t,s)):p&&(Yd(),Qd(p,1,1,(()=>{p=null})),Xd());const l={};4&i[2]&&(l.$$scope={dirty:i,ctx:e}),a.$set(l),(!c||64&i[0])&&dd(t,"top",e[6].top),(!c||64&i[0])&&dd(t,"left",e[6].left),(!c||16&i[0])&&gd(t,"has-deepl-write",e[4])},i(e){c||(Kd(o.$$.fragment,e),Kd(p),Kd(a.$$.fragment,e),l||Ud((()=>{l=eu(t,qu,{x:-5,duration:300}),l.start()})),c=!0)},o(e){Qd(o.$$.fragment,e),Qd(p),Qd(a.$$.fragment,e),c=!1},d(e){e&&Kc(t),au(o),p&&p.d(),au(a),d=!1,Cc(u)}}}function _S(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1e1g158")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function vS(e){let t,n,o,i,s;return n=new Sp({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_deepl_write"),showProShield:to(e[1],qt.WRITE),zIndex:"10000000000",$$slots:{default:[wS]},$$scope:{ctx:e}}}),{c(){t=Jc("button"),su(n.$$.fragment),ad(t,"class","dl-icon-circle dl-write-icon svelte-1e1g158")},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=[id(t,"click",e[28]),id(t,"mouseenter",e[29])],i=!0)},p(e,t){const o={};2&t[0]&&(o.showProShield=to(e[1],qt.WRITE)),4&t[2]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,Cc(s)}}}function wS(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1e1g158")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function TS(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1e1g158")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function bS(e){let t,n,o,i;t=new hS({props:{registerTopToolbarIconCallbacks:e[12],clearTopToolbarIconCallbacks:e[13]}});let s=e[7]&&!e[2]&&!e[3]&&fS(e);return{c(){su(t.$$.fragment),n=nd(),s&&s.c(),o=od()},m(e,r){ru(t,e,r),Xc(e,n,r),s&&s.m(e,r),Xc(e,o,r),i=!0},p(e,t){!e[7]||e[2]||e[3]?s&&(Yd(),Qd(s,1,1,(()=>{s=null})),Xd()):s?(s.p(e,t),140&t[0]&&Kd(s,1)):(s=fS(e),s.c(),Kd(s,1),s.m(o.parentNode,o))},i(e){i||(Kd(t.$$.fragment,e),Kd(s),i=!0)},o(e){Qd(t.$$.fragment,e),Qd(s),i=!1},d(e){e&&(Kc(n),Kc(o)),au(t,e),s&&s.d(e)}}}function yS(e,t,n){let o,i,s;Ic(e,gu,(e=>n(1,s=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let r,a,l,c,d,u,p,m,g,{replaceData:h}=t,{contentProcessBuildingBlocks:f}=t,{deeplWriteTrackingData:_={lang:"",sourceLength:0,targetLength:0,nicheIntegration:kt.gdocs,error:"",trigger:""}}=t,v=!0,w=!1,T="",b="",y=!1,E="",$={top:0,left:0};async function x(e,t,n){if("dlTriggerTranslationShortcut"===e.action)C(),Xn({action:qn.dlTrackUseOfShortcut,payload:{shortcutType:nt,location:q,nicheIntegration:kt.gdocs}}),n();return!0}const S=e=>{u=Mt.translate,e&&(p=e),Li()},C=()=>{i||S(s.selectedTargetLanguage)},L=()=>{u=Mt.write,Li()},k=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:o}}=Ii();e!==w&&n(3,w=e),n(6,$.left=`${Math.round(t)}px`,$),n(6,$.top=`${Math.round(o)}px`,$)};function A(e){Xn({action:qn.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:kt.gdocs}})}const I=()=>{r=setInterval((()=>{const e=ki(),t=!e.text;!t&&v&&k(),t&&!v&&(()=>{if(!s.isInlineHighlighterShown){gu.set({isInlineHighlighterShown:!0});try{Xn({action:qn.dlTrackCloseInlineHighlighter,payload:{trigger:Lt}})}catch(e){console.error(e)}}})(),n(2,v=t),T!==e.text&&n(24,T=e.text)}),300)},M=()=>{const e=document.querySelector("#docs-instant-bubble");l=new MutationObserver((()=>{k()}));return l.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>l.unobserve()},O=async e=>{if(u&&("ClipboardEvent"===e.constructor.name||e.constructor.toString().includes("ClipboardEvent"))){switch(u){case Mt.translate:jO({event:e,targetLang:p});break;case Mt.write:FO({event:e,lang:b})}u=void 0}},N=()=>{I(),(()=>{const e=document.querySelector("#kix-appview");a=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(k(),M())})),a.observe(e,{attributes:!1,childList:!0,characterData:!1})})(),(()=>{const e=new ResizeObserver((()=>{k(),m&&m()}));e.observe(document.body)})(),document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll",k),(()=>{const{editable:e}=Ci();e.addEventListener("copy",O)})(),(()=>{const e=document.querySelector("#docs-presence-container");c=new ResizeObserver((()=>{m&&m()})),c.observe(e)})(),(()=>{const e=document.querySelector("#docs-titlebar");d=new ResizeObserver((()=>{m&&m()})),d.observe(e)})()},R=()=>{a&&a.disconnect(),l&&l.disconnect(),r&&clearInterval(r),document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll",k),(()=>{const{editable:e}=Ci();e.removeEventListener("copy",O)})(),c&&c.disconnect(),d&&d.disconnect()};xd((()=>{N(),chrome.runtime.onMessage.addListener(x),Xn({action:Hn.dlCheckCommandShortcuts}).then((e=>n(25,E=e?e.filter((e=>e.name==nt))[0].shortcut:"")))})),Sd((()=>{R()}));return e.$$set=e=>{"replaceData"in e&&n(15,h=e.replaceData),"contentProcessBuildingBlocks"in e&&n(14,f=e.contentProcessBuildingBlocks),"deeplWriteTrackingData"in e&&n(16,_=e.deeplWriteTrackingData)},e.$$.update=()=>{if(2&e.$$.dirty[0]&&n(7,o=s&&s.isGDocsEnabled),2&e.$$.dirty[0]&&n(0,i=oo(s,qt.TRANSLATOR)),16777216&e.$$.dirty[0]&&(async e=>{const t=await Vi(e);b=t,n(4,y=Qi(b)&&!oo(s,qt.WRITE))})(T),33554433&e.$$.dirty[0])if(i)n(5,g=chrome.i18n.getMessage("contact_admin_info_translate_disabled"));else{let e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");n(5,g=E?`${e} (${E})`:e)}},[i,s,v,w,y,g,$,o,C,L,A,()=>{gu.set({isGDocsEnabled:!1}),Xn({action:qn.dlTrackCustomizationEnabledEvent,payload:{nicheIntegration:kt.gdocs,uiLocation:q,customizationEnabled:!1}})},e=>{m=e.repositionTopToolbarIcon},()=>{m=void 0},f,h,_,e=>{n(14,f=e)},()=>f,()=>{h&&Wi(h)},S,()=>{aN({eventType:Kt,..._})},()=>{aN({eventType:Qt,..._})},e=>{switch(e){case cn:aN({eventType:Jt,..._});break;case dn:Xn({action:qn.dlTrackGDocsMaxCharExceededTryProClicked,payload:{sourceLang:_.lang,targetLang:_.lang,sourceLength:_.sourceLength}})}},T,E,()=>i?null:C(),()=>A(q),()=>L(),()=>A(fe),()=>A(V)]}class ES extends cu{constructor(e){super(),lu(this,e,yS,bS,kc,{replaceData:15,contentProcessBuildingBlocks:14,deeplWriteTrackingData:16,setContentProcessBuildingBlocks:17,getContentProcessBuildingBlocks:18,applyReplacement:19,requestTranslation:20,trackDeeplWriteInsertCopy:21,trackDeeplWriteDiscardCopy:22,trackMaxCharExceeded:23},null,[-1,-1,-1])}get setContentProcessBuildingBlocks(){return this.$$.ctx[17]}get getContentProcessBuildingBlocks(){return this.$$.ctx[18]}get applyReplacement(){return this.$$.ctx[19]}get requestTranslation(){return this.$$.ctx[20]}get trackDeeplWriteInsertCopy(){return this.$$.ctx[21]}get trackDeeplWriteDiscardCopy(){return this.$$.ctx[22]}get trackMaxCharExceeded(){return this.$$.ctx[23]}}class $S{static HTML_TAG_NAME="deepl-gdocs-icon";static createElement=(e=document)=>{const t=e.createElement($S.HTML_TAG_NAME),n=new $S(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setReplaceData=n.setReplaceData,t.applyReplacement=n.applyReplacement,t.requestNewTranslation=n.requestNewTranslation,t.setDeeplWriteTrackingData=n.setDeeplWriteTrackingData,t.trackDeeplWriteInsertCopy=n.trackDeeplWriteInsertCopy,t.trackDeeplWriteDiscardCopy=n.trackDeeplWriteDiscardCopy,t.trackMaxCharExceeded=n.trackMaxCharExceeded,t.setContentProcessBuildingBlocks=n.setContentProcessBuildingBlocks,t.getContentProcessBuildingBlocks=n.getContentProcessBuildingBlocks,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new ES({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})};setReplaceData=e=>{this.domElement.mainComponent.$$set({replaceData:e})};setDeeplWriteTrackingData=e=>{this.domElement.mainComponent.$$set({deeplWriteTrackingData:e})};trackDeeplWriteInsertCopy=()=>this.domElement.mainComponent.trackDeeplWriteInsertCopy();trackDeeplWriteDiscardCopy=()=>this.domElement.mainComponent.trackDeeplWriteDiscardCopy();trackMaxCharExceeded=e=>this.domElement.mainComponent.trackMaxCharExceeded(e);applyReplacement=()=>{this.domElement.mainComponent.applyReplacement()};requestNewTranslation=e=>{this.domElement.mainComponent.requestTranslation(e)};setContentProcessBuildingBlocks=e=>this.domElement.mainComponent.setContentProcessBuildingBlocks(e);getContentProcessBuildingBlocks=()=>this.domElement.mainComponent.getContentProcessBuildingBlocks();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function xS(e){let t,n;return t=new XT({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function SS(e){let t,n,o,i,s,r,a=chrome.i18n.getMessage("ui_gslides_translate_cta")+"",l=to(e[4],qt.TRANSLATOR),c=l&&xS();return{c(){t=Jc("button"),n=td(a),o=nd(),c&&c.c(),ad(t,"class","action-button svelte-c2z0h2"),t.disabled=e[5]},m(a,l){Xc(a,t,l),Vc(t,n),Vc(t,o),c&&c.m(t,null),i=!0,s||(r=id(t,"click",(function(){Lc(e[0])&&e[0].apply(this,arguments)})),s=!0)},p(n,o){e=n,16&o&&(l=to(e[4],qt.TRANSLATOR)),l?c?16&o&&Kd(c,1):(c=xS(),c.c(),Kd(c,1),c.m(t,null)):c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd()),(!i||32&o)&&(t.disabled=e[5])},i(e){i||(Kd(c),i=!0)},o(e){Qd(c),i=!1},d(e){e&&Kc(t),c&&c.d(),s=!1,r()}}}function CS(e){let t,n;return t=new XT({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function LS(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("ui_gslides_write_cta")+"",c=to(e[4],qt.TRANSLATOR),d=c&&CS();return{c(){t=Jc("button"),n=td(l),o=nd(),d&&d.c(),ad(t,"class","action-button svelte-c2z0h2"),t.disabled=i=!Qi(e[3])||oo(e[4],qt.WRITE)},m(i,l){Xc(i,t,l),Vc(t,n),Vc(t,o),d&&d.m(t,null),s=!0,r||(a=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(n,o){e=n,16&o&&(c=to(e[4],qt.TRANSLATOR)),c?d?16&o&&Kd(d,1):(d=CS(),d.c(),Kd(d,1),d.m(t,null)):d&&(Yd(),Qd(d,1,1,(()=>{d=null})),Xd()),(!s||24&o&&i!==(i=!Qi(e[3])||oo(e[4],qt.WRITE)))&&(t.disabled=i)},i(e){s||(Kd(d),s=!0)},o(e){Qd(d),s=!1},d(e){e&&Kc(t),d&&d.d(),r=!1,a()}}}function kS(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_;return r=new rf({props:{disabled:e[2],websiteSettings:e[7],value:e[3],showSortCode:!1,showRegionalVariants:!1,extraPadding:!0}}),r.$on("selection",e[11]),u=new rf({props:{disabled:e[2],websiteSettings:e[7],value:e[4].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[12]),m=new Sp({props:{tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),isEnabled:e[5],zIndex:"10000000000",multiline:!0,$$slots:{default:[SS]},$$scope:{ctx:e}}}),f=new Sp({props:{tooltip:oo(e[4],qt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:"10000000000",multiline:!0,$$slots:{default:[LS]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),n=Jc("div"),o=Jc("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_from")}`,i=nd(),s=Jc("div"),su(r.$$.fragment),a=nd(),l=Jc("p"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_into")}`,c=nd(),d=Jc("div"),su(u.$$.fragment),p=nd(),su(m.$$.fragment),g=nd(),h=Jc("div"),su(f.$$.fragment),ad(o,"class","svelte-c2z0h2"),ad(s,"class","dropdown svelte-c2z0h2"),ad(l,"class","svelte-c2z0h2"),ad(d,"class","dropdown svelte-c2z0h2"),ad(n,"class","translate-container svelte-c2z0h2"),ad(h,"class","write-container svelte-c2z0h2"),ad(t,"class","dl-gslides-toolbar svelte-c2z0h2")},m(e,v){Xc(e,t,v),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),ru(r,s,null),Vc(n,a),Vc(n,l),Vc(n,c),Vc(n,d),ru(u,d,null),Vc(n,p),ru(m,n,null),Vc(t,g),Vc(t,h),ru(f,h,null),_=!0},p(e,[t]){const n={};4&t&&(n.disabled=e[2]),8&t&&(n.value=e[3]),r.$set(n);const o={};4&t&&(o.disabled=e[2]),16&t&&(o.value=e[4].selectedTargetLanguage),u.$set(o);const i={};32&t&&(i.isEnabled=e[5]),8241&t&&(i.$$scope={dirty:t,ctx:e}),m.$set(i);const s={};16&t&&(s.tooltip=oo(e[4],qt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),8218&t&&(s.$$scope={dirty:t,ctx:e}),f.$set(s)},i(e){_||(Kd(r.$$.fragment,e),Kd(u.$$.fragment,e),Kd(m.$$.fragment,e),Kd(f.$$.fragment,e),_=!0)},o(e){Qd(r.$$.fragment,e),Qd(u.$$.fragment,e),Qd(m.$$.fragment,e),Qd(f.$$.fragment,e),_=!1},d(e){e&&Kc(t),au(r),au(u),au(m),au(f)}}}function AS(e,t,n){let o,i;const s=kd("deepl_settings");Ic(e,s,(e=>n(4,i=e)));const r=kd("deepl_website_settings");let{onTranslateSelection:a}=t,{onImproveSelection:l}=t,{isLoading:c}=t,{sourceLang:d}=t,{manualSourceLang:u}=t;const p=e=>{n(10,u=e)},m=e=>{Uc(s,i.selectedTargetLanguage=e,i)};return e.$$set=e=>{"onTranslateSelection"in e&&n(0,a=e.onTranslateSelection),"onImproveSelection"in e&&n(1,l=e.onImproveSelection),"isLoading"in e&&n(2,c=e.isLoading),"sourceLang"in e&&n(3,d=e.sourceLang),"manualSourceLang"in e&&n(10,u=e.manualSourceLang)},e.$$.update=()=>{16&e.$$.dirty&&n(5,o=oo(i,qt.TRANSLATOR))},[a,l,c,d,i,o,s,r,p,m,u,e=>{p(e.detail.selectedOption.value)},e=>{m(e.detail.selectedOption.value)}]}class IS extends cu{constructor(e){super(),lu(this,e,AS,kS,kc,{onTranslateSelection:0,onImproveSelection:1,isLoading:2,sourceLang:3,manualSourceLang:10})}}function MS(e){let t,n,o,i,s,r,a;function l(t){e[12](t)}let c={onTranslateSelection:e[7],onImproveSelection:e[8],isLoading:e[4],sourceLang:e[1]};return void 0!==e[0]&&(c.manualSourceLang=e[0]),n=new IS({props:c}),Md.push((()=>iu(n,"manualSourceLang",l))),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","dl-gslides-toolbar svelte-1esuwx"),ad(t,"dir",es())},m(o,i){Xc(o,t,i),ru(n,t,null),s=!0,r||(a=[Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[13])],r=!0)},p(e,t){const i={};16&t&&(i.isLoading=e[4]),2&t&&(i.sourceLang=e[1]),!o&&1&t&&(o=!0,i.manualSourceLang=e[0],Gd((()=>o=!1))),n.$set(i)},i(e){s||(Kd(n.$$.fragment,e),Ud((()=>{s&&(i||(i=nu(t,qu,{},!0)),i.run(1))})),s=!0)},o(e){Qd(n.$$.fragment,e),i||(i=nu(t,qu,{},!1)),i.run(0),s=!1},d(e){e&&Kc(t),au(n),e&&i&&i.end(),r=!1,Cc(a)}}}function OS(e){let t,n;return t=new Ov({props:{small:!0}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function NS(e){let t,n,o,i,s,r,a,l,c=e[3]&&MS(e),d=e[4]&&OS();return{c(){t=Jc("div"),c&&c.c(),n=nd(),o=Jc("button"),d&&d.c(),ad(o,"class","dl-gslides-button svelte-1esuwx"),ad(o,"title","Translate with DeepL"),gd(o,"is-loading",e[4]),ad(t,"class","dl-gslides-icon svelte-1esuwx"),ad(t,"style",s="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;")},m(i,s){Xc(i,t,s),c&&c.m(t,null),Vc(t,n),Vc(t,o),d&&d.m(o,null),r=!0,a||(l=id(o,"click",e[6]),a=!0)},p(e,[i]){e[3]?c?(c.p(e,i),8&i&&Kd(c,1)):(c=MS(e),c.c(),Kd(c,1),c.m(t,n)):c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd()),e[4]?d?16&i&&Kd(d,1):(d=OS(),d.c(),Kd(d,1),d.m(o,null)):d&&(Yd(),Qd(d,1,1,(()=>{d=null})),Xd()),(!r||16&i)&&gd(o,"is-loading",e[4]),(!r||4&i&&s!==(s="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;"))&&ad(t,"style",s)},i(e){r||(Kd(c),Kd(d),Ud((()=>{r&&(i||(i=nu(o,qu,{},!0)),i.run(1))})),r=!0)},o(e){Qd(c),Qd(d),i||(i=nu(o,qu,{},!1)),i.run(0),r=!1},d(e){e&&Kc(t),c&&c.d(),d&&d.d(),e&&i&&i.end(),a=!1,l()}}}const RS=16,DS="application/x-vnd.google-docs-drawings-object+wrapped",PS="application/x-vnd.google-docs-document-slice-clip+wrapped";function US(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(15,o=e)));let s,{registerActionIconCallbacks:r}=t,{clearActionIconCallbacks:a}=t,{sourceLang:l}=t,{manualSourceLang:c}=t,{charLimitError:d}=t,u={bottom:0,right:0},p=!1,m=!1,g=[];const h=()=>{const e=document.querySelector("#canvas-container"),t=es(),o="ltr"===t?"right":"left";if(e){const i=e.getBoundingClientRect();let s=RS;s="ltr"===t?i.right>window.innerWidth?0:window.innerWidth-i.right:i.left<0?0:i.left;const r=i.bottom>window.innerHeight?16:window.innerHeight-i.bottom;n(2,u={bottom:r+RS,horizonalOffset:s+RS,horizonalAlignment:o})}else n(2,u={bottom:RS,horizonalOffset:RS,horizonalAlignment:o})},f=async(e,t)=>{try{let i=e.clipboardData.getData(DS),r=e.clipboardData.getData(PS);if(i){if((e=>{let t=e.getData("application/x-vnd.google-docs-image-clip+wrapped");if(!t)return!1;const n=JSON.parse(t),o=JSON.parse(n.data).image_urls,i=Object.keys(o);let s=!1;for(const e of i)if(e.includes("PLACEHOLDER_")&&!g.includes(e)){g.push(e),s=!0;break}return s})(e.clipboardData))return void Kn(z,{theme:F.warning_theme});n(4,m=!0);const s=await(async(e,t)=>{const n=JSON.parse(e),i=JSON.parse(n.data),s=i.unresolved,{entities:r,sentencesToTranslate:a}=ss(s),c=await qO({targetLang:o.selectedTargetLanguage,sourceLang:l,sentences:a,mode:t}),d=[];for(let e=0;e<r.length;e++)rs({entity:r[e],translatedSentences:c,modifiersToDelete:d});return i.unresolved=i.unresolved.filter((e=>!d.includes(e))),n.data=JSON.stringify(i),JSON.stringify(n)})(i,t);vp("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),_(s),n(4,m=!1)}else if(r){n(4,m=!0);const i=await(async(e,t)=>await VO({event:e,sourceLang:l,targetLang:o.selectedTargetLanguage,mode:t}))(e,t);vp("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),v(i),n(4,m=!1)}else await is(),s=t,n(3,p=!1),Li()}catch(e){console.log("errororr slidews",e),e.name===Mu?n(9,d=bn):e.name===Iu?n(9,d=yn):e.name===Nu?n(9,d=Nu):e.name===Ru&&n(9,d=Ru),console.error(e),n(4,m=!1)}},_=e=>{const{editable:t}=Ci();let n;if(vo())n=new ClipboardEvent("paste",{dataType:DS,data:e});else{const t=new DataTransfer;t.setData(DS,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)},v=e=>{const{editable:t}=Ci();let n;if(vo())n=new ClipboardEvent("paste",{dataType:PS,data:e});else{const t=new DataTransfer;t.setData(PS,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};xd((()=>{setTimeout((()=>{const{editable:e}=Ci();e.addEventListener("copy",(e=>{if(s){const t=s;s=void 0,f(e,t)}}))}),2e3),r({repositionActionIcon:h})})),Sd((()=>{a()}));return e.$$set=e=>{"registerActionIconCallbacks"in e&&n(10,r=e.registerActionIconCallbacks),"clearActionIconCallbacks"in e&&n(11,a=e.clearActionIconCallbacks),"sourceLang"in e&&n(1,l=e.sourceLang),"manualSourceLang"in e&&n(0,c=e.manualSourceLang),"charLimitError"in e&&n(9,d=e.charLimitError)},[c,l,u,p,m,i,()=>{n(3,p=!p)},()=>{s=Mt.translate,n(3,p=!1),Li()},()=>{s=Mt.write,n(3,p=!1),Li()},d,r,a,function(e){c=e,n(0,c)},()=>{n(3,p=!1)}]}let GS=class extends cu{constructor(e){super(),lu(this,e,US,NS,kc,{registerActionIconCallbacks:10,clearActionIconCallbacks:11,sourceLang:1,manualSourceLang:0,charLimitError:9})}};function BS(e){let t,n,o,i,s,r,a,l,c,d,u=e[1]&&WS();return a=new dS({props:{checked:e[3].isGSlidesEnabled}}),a.$on("change",e[8]),{c(){t=Jc("div"),u&&u.c(),n=nd(),o=Jc("div"),i=Jc("div"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,s=nd(),r=Jc("div"),su(a.$$.fragment),ad(i,"class","legend"),ad(r,"class","switch svelte-19uh4k2"),ad(o,"class","turn-on-off-panel svelte-19uh4k2"),ad(t,"class","dl-gslides-top-icon-modal svelte-19uh4k2"),dd(t,"left",e[2]+"px"),ad(t,"dir",es())},m(p,m){Xc(p,t,m),u&&u.m(t,null),Vc(t,n),Vc(t,o),Vc(o,i),Vc(o,s),Vc(o,r),ru(a,r,null),l=!0,c||(d=[Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=WS(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGSlidesEnabled),a.$set(i),(!l||4&o)&&dd(t,"left",e[2]+"px")},i(e){l||(Kd(a.$$.fragment,e),l=!0)},o(e){Qd(a.$$.fragment,e),l=!1},d(e){e&&Kc(t),u&&u.d(),au(a),c=!1,Cc(d)}}}function WS(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=Jc("div"),n=Jc("div"),o=Jc("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,i=nd(),s=Jc("div"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,r=nd(),a=Jc("div"),l=Jc("div"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,c=nd(),d=Jc("div"),d.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,ad(o,"class","svelte-19uh4k2"),ad(s,"class","beta-label svelte-19uh4k2"),ad(n,"class","header svelte-19uh4k2"),ad(l,"class","ups-item svelte-19uh4k2"),ad(d,"class","ups-item svelte-19uh4k2"),ad(a,"class","ups-list"),ad(t,"class","onboarding svelte-19uh4k2")},m(e,u){Xc(e,t,u),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),Vc(t,r),Vc(t,a),Vc(a,l),Vc(a,c),Vc(a,d)},p:Ec,d(e){e&&Kc(t)}}}function zS(e){let t,n,o,i,s,r,a=e[0]&&BS(e);return{c(){t=Jc("button"),n=nd(),a&&a.c(),o=od(),ad(t,"class","dl-gslides-top-icon svelte-19uh4k2"),dd(t,"left",e[2]+"px"),gd(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown)},m(l,c){Xc(l,t,c),Xc(l,n,c),a&&a.m(l,c),Xc(l,o,c),i=!0,s||(r=id(t,"click",e[7]),s=!0)},p(e,[n]){(!i||4&n)&&dd(t,"left",e[2]+"px"),(!i||8&n)&&gd(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown),e[0]?a?(a.p(e,n),1&n&&Kd(a,1)):(a=BS(e),a.c(),Kd(a,1),a.m(o.parentNode,o)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){i||(Kd(a),i=!0)},o(e){Qd(a),i=!1},d(e){e&&(Kc(t),Kc(n),Kc(o)),a&&a.d(e),s=!1,r()}}}function HS(e,t,n){let o;const i=kd("deepl_settings");Ic(e,i,(e=>n(3,o=e)));let s,{registerTopIconCallbacks:r}=t,{clearTopIconCallbacks:a}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),t=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const o=e.getBoundingClientRect();n(2,s=t?n(2,s=o.left+40-32):o.left-40)}};xd((()=>{d(),r({repositionTopIcon:d})})),Sd((()=>{a()}));return e.$$set=e=>{"registerTopIconCallbacks"in e&&n(5,r=e.registerTopIconCallbacks),"clearTopIconCallbacks"in e&&n(6,a=e.clearTopIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&Xn({action:qn.dlTrackOnboardingModalShown,payload:{nicheIntegration:kt.gslides}})},[l,c,s,o,i,r,a,()=>{n(0,l=!0),o.isGSlidesOnboardingShown||(Uc(i,o.isGSlidesOnboardingShown=!0,o),n(1,c=!0))},e=>Uc(i,o.isGSlidesEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class jS extends cu{constructor(e){super(),lu(this,e,HS,zS,kc,{registerTopIconCallbacks:5,clearTopIconCallbacks:6})}}function FS(e){let t,n,o,i,s;function r(e,t){return e[0]===yn?ZS:e[0]===bn?VS:void 0}let a=r(e),l=a&&a(e);return{c(){t=Jc("button"),n=nd(),l&&l.c(),o=od(),ad(t,"class","close-button svelte-8x6yh8")},m(r,a){Xc(r,t,a),Xc(r,n,a),l&&l.m(r,a),Xc(r,o,a),i||(s=id(t,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),i=!0)},p(t,n){a===(a=r(e=t))&&l?l.p(e,n):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(o.parentNode,o)))},i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o)),l&&l.d(e),i=!1,s()}}}function qS(e){let t,n;return t=new Jg({props:{error:{error:e[0]},close:e[1],config:{nicheIntegration:kt.gslides}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),2&n&&(o.close=e[1]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function VS(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=Jc("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,n=nd(),o=Jc("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,i=nd(),s=Jc("div"),r=Jc("button"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,a=nd(),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,ad(t,"class","svelte-8x6yh8"),ad(o,"class","svelte-8x6yh8"),ad(r,"class","btn-secondary svelte-8x6yh8"),ad(l,"class","btn-primary svelte-8x6yh8"),ad(s,"class","buttons-row svelte-8x6yh8")},m(u,p){Xc(u,t,p),Xc(u,n,p),Xc(u,o,p),Xc(u,i,p),Xc(u,s,p),Vc(s,r),Vc(s,a),Vc(s,l),c||(d=[id(r,"click",e[4]),id(l,"click",e[3])],c=!0)},p:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o),Kc(i),Kc(s)),c=!1,Cc(d)}}}function ZS(e){let t,n,o,i,s,r,a,l;return{c(){t=Jc("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,n=nd(),o=Jc("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,i=nd(),s=Jc("div"),r=Jc("button"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,ad(t,"class","svelte-8x6yh8"),ad(o,"class","svelte-8x6yh8"),ad(r,"class","btn-primary svelte-8x6yh8"),ad(s,"class","buttons-row svelte-8x6yh8")},m(c,d){Xc(c,t,d),Xc(c,n,d),Xc(c,o,d),Xc(c,i,d),Xc(c,s,d),Vc(s,r),a||(l=id(r,"click",e[3]),a=!0)},p:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o),Kc(i),Kc(s)),a=!1,l()}}}function YS(e){let t,n,o,i,s,r,a;const l=[qS,FS],c=[];function d(e,t){return e[2]?0:1}return o=d(e),i=c[o]=l[o](e),{c(){t=Jc("div"),n=Jc("div"),i.c(),ad(n,"class","dl-char-limit-error-container svelte-8x6yh8"),gd(n,"is-translator-limit",!e[2]),ad(t,"class","dl-char-limit-error-overlay svelte-8x6yh8")},m(i,l){Xc(i,t,l),Vc(t,n),c[o].m(n,null),s=!0,r||(a=[Gc(Tp.call(null,n,{isShadow:!0})),id(n,"click_outside",(function(){Lc(e[1])&&e[1].apply(this,arguments)}))],r=!0)},p(t,[r]){let a=o;o=d(e=t),o===a?c[o].p(e,r):(Yd(),Qd(c[a],1,1,(()=>{c[a]=null})),Xd(),i=c[o],i?i.p(e,r):(i=c[o]=l[o](e),i.c()),Kd(i,1),i.m(n,null)),(!s||4&r)&&gd(n,"is-translator-limit",!e[2])},i(e){s||(Kd(i),s=!0)},o(e){Qd(i),s=!1},d(e){e&&Kc(t),c[o].d(),r=!1,Cc(a)}}}function XS(e,t,n){let o,{charLimitError:i}=t,{closeModal:s}=t;let r=!1;return e.$$set=e=>{"charLimitError"in e&&n(0,i=e.charLimitError),"closeModal"in e&&n(1,s=e.closeModal)},e.$$.update=()=>{1&e.$$.dirty&&n(2,o=i===Nu||i===Ru)},[i,s,o,()=>{Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"gslides_customization"}}),s()},()=>{r||(Xn({action:qn.dlTrackUILocationClicked,payload:$e}),r=!0,Xn({action:Un.dlRequestLogin}).then((()=>{r=!1,s()})).catch((()=>{r=!1})))}]}class KS extends cu{constructor(e){super(),lu(this,e,XS,YS,kc,{charLimitError:0,closeModal:1})}}function QS(e){let t,n;return t=new KS({props:{charLimitError:e[2],closeModal:e[10]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.charLimitError=e[2]),4&n&&(o.closeModal=e[10]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function JS(e){let t,n,o,i;function s(t){e[11](t)}function r(t){e[12](t)}let a={registerActionIconCallbacks:e[7],clearActionIconCallbacks:e[8],sourceLang:e[3]};return void 0!==e[0]&&(a.manualSourceLang=e[0]),void 0!==e[2]&&(a.charLimitError=e[2]),t=new GS({props:a}),Md.push((()=>iu(t,"manualSourceLang",s))),Md.push((()=>iu(t,"charLimitError",r))),{c(){su(t.$$.fragment)},m(e,n){ru(t,e,n),i=!0},p(e,i){const s={};8&i&&(s.sourceLang=e[3]),!n&&1&i&&(n=!0,s.manualSourceLang=e[0],Gd((()=>n=!1))),!o&&4&i&&(o=!0,s.charLimitError=e[2],Gd((()=>o=!1))),t.$set(s)},i(e){i||(Kd(t.$$.fragment,e),i=!0)},o(e){Qd(t.$$.fragment,e),i=!1},d(e){au(t,e)}}}function eC(e){let t,n,o,i,s;t=new jS({props:{registerTopIconCallbacks:e[5],clearTopIconCallbacks:e[6]}});let r=e[2]&&QS(e),a=e[4].isGSlidesEnabled&&!e[1]&&JS(e);return{c(){su(t.$$.fragment),n=nd(),r&&r.c(),o=nd(),a&&a.c(),i=od()},m(e,l){ru(t,e,l),Xc(e,n,l),r&&r.m(e,l),Xc(e,o,l),a&&a.m(e,l),Xc(e,i,l),s=!0},p(e,[t]){e[2]?r?(r.p(e,t),4&t&&Kd(r,1)):(r=QS(e),r.c(),Kd(r,1),r.m(o.parentNode,o)):r&&(Yd(),Qd(r,1,1,(()=>{r=null})),Xd()),e[4].isGSlidesEnabled&&!e[1]?a?(a.p(e,t),18&t&&Kd(a,1)):(a=JS(e),a.c(),Kd(a,1),a.m(i.parentNode,i)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){s||(Kd(t.$$.fragment,e),Kd(r),Kd(a),s=!0)},o(e){Qd(t.$$.fragment,e),Qd(r),Qd(a),s=!1},d(e){e&&(Kc(n),Kc(o),Kc(i)),au(t,e),r&&r.d(e),a&&a.d(e)}}}function tC(e,t,n){let o,i,s,r,a,l,c;Ic(e,gu,(e=>n(4,i=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let d,u,p=!0;const m=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?g():h();return!0},g=()=>{s&&clearInterval(s),s=setInterval(f,800)},h=()=>{clearInterval(s)},f=()=>{r&&r(),a&&a(),c||_()},_=async()=>{n(9,l=await os()||"EN-US")};xd((()=>{g(),d=new MutationObserver((()=>{window.document.querySelector(".punch-full-screen-element")?n(1,p=!0):n(1,p=!1)})),d.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0}),bp((()=>d.disconnect())),chrome.runtime.onMessage.addListener(m)})),Sd((()=>{s&&h(),chrome.runtime.onMessage.removeListener(m),d.disconnect()}));return e.$$.update=()=>{513&e.$$.dirty&&n(3,o=c||l)},[c,p,u,o,i,e=>{r=e.repositionTopIcon},()=>{r=void 0},e=>{a=e.repositionActionIcon},()=>{a=void 0},l,()=>n(2,u=void 0),function(e){c=e,n(0,c)},function(e){u=e,n(2,u)}]}class nC extends cu{constructor(e){super(),lu(this,e,tC,eC,kc,{})}}class oC{static HTML_TAG_NAME="deepl-gslides-controller";static createElement=(e=document)=>{const t=e.createElement(oC.HTML_TAG_NAME),n=new oC(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new nC({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function iC(e){let t,n,o;return{c(){t=Jc("p"),t.innerHTML='<strong class="svelte-xhv8yz">Help us improve DeepL for Arabic</strong>',n=nd(),o=Jc("p"),o.textContent="Take 2 minutes to tell us what we can do better.",ad(t,"class","svelte-xhv8yz"),ad(o,"class","svelte-xhv8yz")},m(e,i){Xc(e,t,i),Xc(e,n,i),Xc(e,o,i)},p:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o))}}}function sC(e){let t;return{c(){t=Jc("p"),t.textContent=`${chrome.i18n.getMessage("segmentation_survey_copy")}`,ad(t,"class","svelte-xhv8yz")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function rC(e){let t,n,o,i;return{c(){t=Jc("p"),n=Jc("strong"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_title")}`,o=nd(),i=Jc("p"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_content")}`,ad(n,"class","svelte-xhv8yz"),ad(t,"class","svelte-xhv8yz"),ad(i,"class","svelte-xhv8yz")},m(e,s){Xc(e,t,s),Vc(t,n),Xc(e,o,s),Xc(e,i,s)},p:Ec,d(e){e&&(Kc(t),Kc(o),Kc(i))}}}function aC(e){let t,n,o,i;return{c(){t=Jc("p"),n=Jc("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_title")}`,o=nd(),i=Jc("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_content")}`,ad(n,"class","svelte-xhv8yz"),ad(t,"class","svelte-xhv8yz"),ad(i,"class","svelte-xhv8yz")},m(e,s){Xc(e,t,s),Vc(t,n),Xc(e,o,s),Xc(e,i,s)},p:Ec,d(e){e&&(Kc(t),Kc(o),Kc(i))}}}function lC(e){let t,n,o,i;return{c(){t=Jc("p"),n=Jc("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=nd(),i=Jc("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,ad(n,"class","svelte-xhv8yz"),ad(t,"class","svelte-xhv8yz"),ad(i,"class","svelte-xhv8yz")},m(e,s){Xc(e,t,s),Vc(t,n),Xc(e,o,s),Xc(e,i,s)},p:Ec,d(e){e&&(Kc(t),Kc(o),Kc(i))}}}function cC(e){let t,n,o,i;return{c(){t=Jc("p"),n=Jc("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=nd(),i=Jc("p"),i.textContent=`${e[3].writeAReview.lineTwo}`,ad(n,"class","svelte-xhv8yz"),ad(t,"class","svelte-xhv8yz"),ad(i,"class","svelte-xhv8yz")},m(e,s){Xc(e,t,s),Vc(t,n),Xc(e,o,s),Xc(e,i,s)},p:Ec,d(e){e&&(Kc(t),Kc(o),Kc(i))}}}function dC(e){let t,n,o,i;return{c(){t=Jc("p"),t.textContent=`${e[3].howWasYourExperience.lineOne}`,n=nd(),o=Jc("p"),i=Jc("strong"),i.textContent=`${e[3].howWasYourExperience.lineTwo}`,ad(t,"class","svelte-xhv8yz"),ad(i,"class","svelte-xhv8yz"),ad(o,"class","svelte-xhv8yz")},m(e,s){Xc(e,t,s),Xc(e,n,s),Xc(e,o,s),Vc(o,i)},p:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o))}}}function uC(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML="<span>Start survey</span>",ad(t,"class","svelte-xhv8yz")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[10]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function pC(e){let t,n,o,i;return{c(){t=Jc("button"),n=Jc("span"),n.textContent=`${chrome.i18n.getMessage("segmentation_survey_button")}`,ad(t,"class","svelte-xhv8yz")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[9]),o=!0)},p:Ec,d(e){e&&Kc(t),o=!1,i()}}}function mC(e){let t,n,o,i;return{c(){t=Jc("button"),n=Jc("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_cta")}`,ad(t,"class","svelte-xhv8yz")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[8]),o=!0)},p:Ec,d(e){e&&Kc(t),o=!1,i()}}}function gC(e){let t,n,o,i;return{c(){t=Jc("button"),n=Jc("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_button")}`,ad(t,"class","svelte-xhv8yz")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[7]),o=!0)},p:Ec,d(e){e&&Kc(t),o=!1,i()}}}function hC(e){let t,n,o,i;return{c(){t=Jc("button"),n=Jc("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,ad(t,"class","svelte-xhv8yz")},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[6]),o=!0)},p:Ec,d(e){e&&Kc(t),o=!1,i()}}}function fC(e){let t,n,o,i,s,r,a,l,c,d,u;return{c(){t=Jc("button"),n=Jc("i"),o=nd(),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,s=nd(),r=Jc("button"),a=Jc("i"),l=nd(),c=Jc("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,ad(n,"class","icon-bad svelte-xhv8yz"),ad(t,"class","svelte-xhv8yz"),ad(a,"class","icon-good svelte-xhv8yz"),ad(r,"class","svelte-xhv8yz")},m(p,m){Xc(p,t,m),Vc(t,n),Vc(t,o),Vc(t,i),Xc(p,s,m),Xc(p,r,m),Vc(r,a),Vc(r,l),Vc(r,c),d||(u=[id(t,"click",e[4]),id(r,"click",e[5])],d=!0)},p:Ec,d(e){e&&(Kc(t),Kc(s),Kc(r)),d=!1,Cc(u)}}}function _C(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;function g(e,t){return e[0]===xt.initial?dC:e[0]===xt.review?cC:e[0]===xt.feedback?lC:e[0]===xt.gmail?aC:e[0]===xt.gslides?rC:e[0]===xt.customer_segmentation?sC:e[0]===xt.arabic_survey?iC:void 0}let h=g(e),f=h&&h(e),_=e[2]&&function(e){let t;function n(e,t){return e[0]===xt.initial?fC:e[0]===xt.review?hC:e[0]===xt.gmail?gC:e[0]===xt.gslides?mC:e[0]===xt.customer_segmentation?pC:e[0]===xt.arabic_survey?uC:void 0}let o=n(e),i=o&&o(e);return{c(){t=Jc("div"),i&&i.c(),ad(t,"class","buttons svelte-xhv8yz")},m(e,n){Xc(e,t,n),i&&i.m(t,null)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&Kc(t),i&&i.d()}}}(e);return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=nd(),s=Jc("div"),r=Jc("button"),a=nd(),f&&f.c(),l=nd(),_&&_.c(),ad(o,"class","logo svelte-xhv8yz"),ad(r,"class","close-icon svelte-xhv8yz"),gd(r,"rtl",!e[11]&&"rtl"===es()),ad(s,"class","content svelte-xhv8yz"),ad(n,"class","body svelte-xhv8yz"),ad(t,"class","container svelte-xhv8yz"),ad(t,"dir",e[11]?"ltr":es())},m(c,d){Xc(c,t,d),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),Vc(s,r),Vc(s,a),f&&f.m(s,null),Vc(t,l),_&&_.m(t,null),u=!0,p||(m=id(r,"click",(function(){Lc(e[1])&&e[1].apply(this,arguments)})),p=!0)},p(t,[n]){h===(h=g(e=t))&&f?f.p(e,n):(f&&f.d(1),f=h&&h(e),f&&(f.c(),f.m(s,null))),e[2]&&_.p(e,n)},i(e){u||(Ud((()=>{u&&(d&&d.end(1),c=eu(t,Vu,{x:100,duration:1e3}),c.start())})),u=!0)},o(e){c&&c.invalidate(),d=tu(t,Vu,{x:100,duration:1e3}),u=!1},d(e){e&&Kc(t),f&&f.d(),_&&_.d(),e&&d&&d.end(),p=!1,m()}}}function vC(e,t,n){let o;Ic(e,gu,(e=>n(12,o=e))),Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let{onClose:i}=t,{reviewStage:s=xt.initial}=t;const r=[xt.initial,xt.review,xt.gmail,xt.gslides,xt.customer_segmentation,xt.arabic_survey].includes(s);let a=(()=>{let e;if(vo())e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_firefox",lineTwo:"ui_toaster_how_was_your_experience_line_2_firefox"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_firefox"}};else{if(fo().browser===ro.edge)e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_edge",lineTwo:"ui_toaster_how_was_your_experience_line_2_edge"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_edge"}};else e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1",lineTwo:"ui_toaster_how_was_your_experience_line_2"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2"}}}return{howWasYourExperience:{lineOne:chrome.i18n.getMessage(e.howWasYourExperience.lineOne),lineTwo:chrome.i18n.getMessage(e.howWasYourExperience.lineTwo)},writeAReview:{lineTwo:chrome.i18n.getMessage(e.writeAReview.lineTwo)}}})();const l=s==xt.arabic_survey;return e.$$set=e=>{"onClose"in e&&n(1,i=e.onClose),"reviewStage"in e&&n(0,s=e.reviewStage)},[s,i,r,a,function(){gu.set({shouldDisplayFeedbackPopup:!0});const e=vo()?Pm:Em;Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e}}),i()},function(){n(0,s=xt.review)},function(){let e=Im;if(chrome.runtime.id===wt)e=Mm;else if(vo())e=Rm;else{if(fo().browser===ro.edge)e=Mm;else e=Im}Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e}}),i()},function(){Xn({action:qn.dlTrackUILocationClicked,payload:Te}),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Om}}),i()},function(){Xn({action:qn.dlTrackUILocationClicked,payload:Ee}),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Nm}}),i()},function(){(e=>!(!to(e,qt.TRANSLATOR)&&!to(e,qt.WRITE)))(o)?Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Gm}}):Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Um}}),i()},function(){Xn({action:Zn.dlExternalURLRedirect,payload:{destination:Bm}})},l]}class wC extends cu{constructor(e){super(),lu(this,e,vC,_C,kc,{onClose:1,reviewStage:0})}}class TC{static HTML_TAG_NAME="deepl-ask-for-review-popup";static createElement=(e=document)=>{const t=e.createElement(TC.HTML_TAG_NAME),n=new TC(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({reviewStage:e})=>{const t="rtl"===es()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; bottom: 32px; ${t}: 32px; z-index: ${R.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new wC({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function bC(e){let t,n;return t=new $E({props:{headsupText:chrome.i18n.getMessage("review_advanced_mode_onboarding_title"),informationText:chrome.i18n.getMessage("review_advanced_mode_onboarding_text"),position:e[0],onClose:e[1]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.position=e[0]),2&n&&(o.onClose=e[1]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function yC(e,t,n){let{position:o}=t,{onClose:i=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"onClose"in e&&n(1,i=e.onClose)},[o,i]}class EC extends cu{constructor(e){super(),lu(this,e,yC,bC,kc,{position:0,onClose:1})}}function $C(e){let t,n,o,i;n=new Sp({props:{tooltip:!!e[9]&&chrome.i18n.getMessage("contact_admin_info_translate_disabled"),"data-testid":"translate-service-disabled-tooltip",$$slots:{default:[SC]},$$scope:{ctx:e}}});let s=e[4]&&CC(e);return{c(){t=Jc("div"),su(n.$$.fragment),o=nd(),s&&s.c(),ad(t,"class","tabs-container svelte-oq1fds")},m(e,r){Xc(e,t,r),ru(n,t,null),Vc(t,o),s&&s.m(t,null),i=!0},p(e,o){const i={};512&o&&(i.tooltip=!!e[9]&&chrome.i18n.getMessage("contact_admin_info_translate_disabled")),2097699&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),e[4]?s?(s.p(e,o),16&o&&Kd(s,1)):(s=CC(e),s.c(),Kd(s,1),s.m(t,null)):s&&(Yd(),Qd(s,1,1,(()=>{s=null})),Xd())},i(e){i||(Kd(n.$$.fragment,e),Kd(s),i=!0)},o(e){Qd(n.$$.fragment,e),Qd(s),i=!1},d(e){e&&Kc(t),au(n),s&&s.d()}}}function xC(e){let t,n;return t=new XT({props:{size:24,translator:!0,dataTestId:"translate-pro-shield"}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function SC(e){let t,n,o,i,s,r,a,l,c,d=to(e[5],qt.TRANSLATOR),u=d&&xC();return{c(){t=Jc("button"),n=Jc("div"),o=nd(),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,s=nd(),u&&u.c(),ad(n,"class","dl-translate-icon icon-size svelte-oq1fds"),t.disabled=e[9],ad(t,"class",r=Pc("tab "+(e[0]===Mt.translate?"active":""))+" svelte-oq1fds")},m(r,d){Xc(r,t,d),Vc(t,n),Vc(t,o),Vc(t,i),Vc(t,s),u&&u.m(t,null),a=!0,l||(c=id(t,"click",e[16]),l=!0)},p(e,n){32&n&&(d=to(e[5],qt.TRANSLATOR)),d?u?32&n&&Kd(u,1):(u=xC(),u.c(),Kd(u,1),u.m(t,null)):u&&(Yd(),Qd(u,1,1,(()=>{u=null})),Xd()),(!a||512&n)&&(t.disabled=e[9]),(!a||1&n&&r!==(r=Pc("tab "+(e[0]===Mt.translate?"active":""))+" svelte-oq1fds"))&&ad(t,"class",r)},i(e){a||(Kd(u),a=!0)},o(e){Qd(u),a=!1},d(e){e&&Kc(t),u&&u.d(),l=!1,c()}}}function CC(e){let t,n;return t=new Sp({props:{tooltip:!!e[8]&&chrome.i18n.getMessage("contact_admin_info_write_disabled"),"data-testid":"write-service-disabled-tooltip",$$slots:{default:[kC]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};256&n&&(o.tooltip=!!e[8]&&chrome.i18n.getMessage("contact_admin_info_write_disabled")),2097443&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function LC(e){let t,n;return t=new XT({props:{size:24,write:!0,dataTestId:"write-pro-shield"}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function kC(e){let t,n,o,i,s,r,a,l,c,d=to(e[5],qt.WRITE),u=d&&LC();return{c(){t=Jc("button"),n=Jc("div"),o=nd(),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,s=nd(),u&&u.c(),ad(n,"class","dl-write-icon icon-size svelte-oq1fds"),t.disabled=e[8],ad(t,"class",r=Pc("tab "+(e[0]===Mt.write?"active":""))+" svelte-oq1fds")},m(r,d){Xc(r,t,d),Vc(t,n),Vc(t,o),Vc(t,i),Vc(t,s),u&&u.m(t,null),a=!0,l||(c=id(t,"click",e[17]),l=!0)},p(e,n){32&n&&(d=to(e[5],qt.WRITE)),d?u?32&n&&Kd(u,1):(u=LC(),u.c(),Kd(u,1),u.m(t,null)):u&&(Yd(),Qd(u,1,1,(()=>{u=null})),Xd()),(!a||256&n)&&(t.disabled=e[8]),(!a||1&n&&r!==(r=Pc("tab "+(e[0]===Mt.write?"active":""))+" svelte-oq1fds"))&&ad(t,"class",r)},i(e){a||(Kd(u),a=!0)},o(e){Qd(u),a=!1},d(e){e&&Kc(t),u&&u.d(),l=!1,c()}}}function AC(e){let t,n,o,i;return n=new EC({props:{position:e[7],onClose:e[12]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"data-testid","headsup-popup-notification"),ad(t,"class","headsup-container svelte-oq1fds"),gd(t,"top","TOP"===e[7]),gd(t,"bottom","BOTTOM"===e[7]),gd(t,"top-left","TOP_LEFT"===e[7]),gd(t,"bottom-left","BOTTOM_LEFT"===e[7])},m(o,s){Xc(o,t,s),ru(n,t,null),e[18](t),i=!0},p(e,o){const s={};128&o&&(s.position=e[7]),n.$set(s),(!i||128&o)&&gd(t,"top","TOP"===e[7]),(!i||128&o)&&gd(t,"bottom","BOTTOM"===e[7]),(!i||128&o)&&gd(t,"top-left","TOP_LEFT"===e[7]),(!i||128&o)&&gd(t,"bottom-left","BOTTOM_LEFT"===e[7])},i(e){i||(Kd(n.$$.fragment,e),o&&o.end(1),i=!0)},o(e){Qd(n.$$.fragment,e),e&&(o=tu(t,Vu,{x:100,duration:1e3})),i=!1},d(i){i&&Kc(t),au(n),e[18](null),i&&o&&o.end()}}}function IC(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"class","dl-settings-icon svelte-oq1fds")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[11]),n=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,o()}}}function MC(e){let t,n;return t=new Sp({props:{tooltip:chrome.i18n.getMessage("review_advanced_mode_disable_advanced_window_tooltip"),$$slots:{default:[OC]},$$scope:{ctx:e}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};2097152&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function OC(e){let t,n,o;return{c(){t=Jc("button"),ad(t,"class","dl-settings-icon svelte-oq1fds")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[11]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function NC(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=e[2]&&$C(e),f=e[3]&&void 0!==e[7]&&AC(e);const _=[MC,IC],v=[];function w(e,t){return e[3]?0:1}return l=w(e),c=v[l]=_[l](e),{c(){t=Jc("div"),n=Jc("button"),o=nd(),h&&h.c(),i=nd(),s=Jc("div"),r=Jc("div"),f&&f.c(),a=nd(),c.c(),d=nd(),u=Jc("button"),ad(n,"class","dl-logo svelte-oq1fds"),ad(n,"aria-label",chrome.i18n.getMessage("deepl_logo")),ad(r,"class","settings-container svelte-oq1fds"),ad(u,"class","dl-close-icon svelte-oq1fds"),ad(s,"class","dl-actions svelte-oq1fds"),ad(t,"class","dl-review-header svelte-oq1fds")},m(c,_){Xc(c,t,_),Vc(t,n),Vc(t,o),h&&h.m(t,null),Vc(t,i),Vc(t,s),Vc(s,r),f&&f.m(r,null),Vc(r,a),v[l].m(r,null),Vc(s,d),Vc(s,u),p=!0,m||(g=[id(n,"click",e[10]),id(u,"click",e[13])],m=!0)},p(e,[n]){e[2]?h?(h.p(e,n),4&n&&Kd(h,1)):(h=$C(e),h.c(),Kd(h,1),h.m(t,i)):h&&(Yd(),Qd(h,1,1,(()=>{h=null})),Xd()),e[3]&&void 0!==e[7]?f?(f.p(e,n),136&n&&Kd(f,1)):(f=AC(e),f.c(),Kd(f,1),f.m(r,a)):f&&(Yd(),Qd(f,1,1,(()=>{f=null})),Xd());let o=l;l=w(e),l===o?v[l].p(e,n):(Yd(),Qd(v[o],1,1,(()=>{v[o]=null})),Xd(),c=v[l],c?c.p(e,n):(c=v[l]=_[l](e),c.c()),Kd(c,1),c.m(r,null))},i(e){p||(Kd(h),Kd(f),Kd(c),p=!0)},o(e){Qd(h),Qd(f),Qd(c),p=!1},d(e){e&&Kc(t),h&&h.d(),f&&f.d(),v[l].d(),m=!1,Cc(g)}}}function RC(e,t,n){let o,i,s;Ic(e,gu,(e=>n(5,s=e)));let r,{closeWindow:a=()=>{}}=t,{extensionContext:l=0}=t,{textProcessingMode:c=Mt.translate}=t,{onChangeTextProcessingMode:d=e=>{}}=t,{showTranslateWriteTabs:u=!0}=t,{isInput:p=!1}=t,{isItaWriteEnabled:m=!1}=t;const g=()=>{if(s.hasITAPopupHideRemarkBeenShown)return;if(!r)return LE;const e=r.getBoundingClientRect();return NE(e)},h=()=>{p&&!s.hasITAPopupHideRemarkBeenShown&&gu.set({hasITAPopupHideRemarkBeenShown:!0}),n(7,_=void 0)};let f,_=g();xd((()=>{r&&(n(7,_=g()),f=Cp(r,(()=>n(7,_=g()))))})),Sd((()=>{f?.(),h()}));return e.$$set=e=>{"closeWindow"in e&&n(14,a=e.closeWindow),"extensionContext"in e&&n(15,l=e.extensionContext),"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"onChangeTextProcessingMode"in e&&n(1,d=e.onChangeTextProcessingMode),"showTranslateWriteTabs"in e&&n(2,u=e.showTranslateWriteTabs),"isInput"in e&&n(3,p=e.isInput),"isItaWriteEnabled"in e&&n(4,m=e.isItaWriteEnabled)},e.$$.update=()=>{1&e.$$.dirty&&Fh.update({textProcessingMode:c}),32&e.$$.dirty&&n(9,o=oo(s,qt.TRANSLATOR)),32&e.$$.dirty&&n(8,i=oo(s,qt.WRITE))},[c,d,u,p,m,s,r,_,i,o,function(){Xn({action:qn.dlTrackLogoClickedEvent,payload:{extensionContext:l}});let e=c===Mt.write?km:Lm;Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e,utmContent:"review_window_logo"}})},function(){let e=c===Mt.write?Nv.settings_writing:Nv.settings_reading;Xn({action:Zn.dlOpenInternalPage,payload:{destination:e}})},h,()=>{Xn({action:qn.dlTrackUILocationClicked,payload:Je}),a()},a,l,()=>d(Mt.translate),()=>d(Mt.write),function(e){Md[e?"unshift":"push"]((()=>{r=e,n(6,r)}))}]}class DC extends cu{constructor(e){super(),lu(this,e,RC,NC,kc,{closeWindow:14,extensionContext:15,textProcessingMode:0,onChangeTextProcessingMode:1,showTranslateWriteTabs:2,isInput:3,isItaWriteEnabled:4})}}const PC="ITA_REQUEST_TRANSLATION",UC="ITA_CLOSE_TRANSLATION_SESSION",GC="ITA_REQUEST_WRITE",BC="ITA_RESTORE_TRANSLATE_SESSION",WC="ITA_TRANSLATE_SOURCE_LANGUAGE",zC="ITA_TRANSLATE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",HC="ITA_TARGET_TEXT_FIELD",jC="ITA_WRITE_TARGET_TEXT_FIELD",FC="ITA_UPDATE_FORMALITY",qC="ERROR",VC="ITA_DOCUMENT_STATE",ZC="ITA_WRITE_DOCUMENT_STATE",YC="ITA_WRITE_UPDATE_REQUESTED_LANGUAGE",XC="ITA_WRITE_UPDATE_STYLE_VARIANT",KC="ITA_RESTORE_WRITE_SESSION",QC="ITA_WRITE_SOURCE_LANGUAGE",JC="ITA_WRITE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",eL="ITA_CLOSE_WRITE_SESSION",tL="ITA_TRANSLATE_SOURCE_LANGUAGE_IS_UNSUPPORTED",nL="ITA_WRITE_SOURCE_LANGUAGE_IS_UNSUPPORTED",oL="ITA_TRANSLATE_GENERIC_ERROR",iL="ITA_WRITE_GENERIC_ERROR",sL={REQUEST:{ITA_SELECT_ALTERNATIVE:"ITA_SELECT_WRITE_ALTERNATIVE"},REPLY:{ITA_BACKEND_IDLE:"ITA_BACKEND_WRITE_IDLE",ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:"ITA_TRANSLATE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS"}},rL={REQUEST:{ITA_UPDATE_TARGET_LANGUAGE:"ITA_UPDATE_TARGET_LANGUAGE",ITA_SELECT_ALTERNATIVE:"ITA_SELECT_TRANSLATE_ALTERNATIVE",ITA_UPDATE_SOURCE_LANGUAGE:"ITA_UPDATE_SOURCE_LANGUAGE"},REPLY:{ITA_BACKEND_IDLE:"ITA_BACKEND_TRANSLATE_IDLE",ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:"ITA_WRITE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS",ITA_TARGET_LANGUAGE:"ITA_TARGET_LANGUAGE"}};function aL(e){Fh.update({translationState:c.none,error:e})}function lL(e){const t=[...n,...o].find((t=>t.langCodeForIta.toUpperCase()===e.toUpperCase()));return null==t?void 0:t.langCode}const cL=async t=>{await rv(e.websiteData.inputElement,{html:t,text:t},sv(e.websiteData.inputElement))},dL=()=>{Fh.update({itaDocumentState:null,itaWriteDocumentState:null,itaTranslateTrigger:null,itaWriteTrigger:null}),NL({type:UC}),NL({type:eL})},uL=async(t,n=!1,o=Mt.translate)=>{if(window.getSelection()?.toString()){const i=window.getSelection()?.toString();if(n&&!(await IT(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality){const t=o===Mt.translate?(async t=>{const n=(await IT(["targetLanguageUserInput"])).selectedTargetLanguage,o=await Xn({action:jn.dlRequestInputTranslation,payload:{requests:[{text:t}],domainName:window.location.hostname,websiteLanguage:e.websiteData.websiteLanguage,targetLang:n}});o[0]?.text&&await cL(o[0]?.text)})(i):(async t=>{const n=await Xn({action:Wn.dlRequestImproveWriting,payload:{requests:[{text:t}],domainName:window.location.hostname,websiteLanguage:e.websiteData.websiteLanguage,sourceLang:e.websiteData.itaWriteSourceLanguage}});n[0]?.text&&await cL(n[0]?.text)})(i);return void await t}if(document.getElementsByTagName("deepl-review-translate-write-window").length||YI({websiteData:Fh,onRemove:dL,isInput:n,textProcessingMode:o}),o!==Mt.translate)return Fh.update({improvedSnippet:"",writeState:u,error:null,providedWriteAlternatives:[],writeStyle:null,itaWriteTrigger:n?Nn:On}),NL({type:GC,payload:{sourceText:i,domainName:window.location.hostname,trigger:n?Nn:On}});Fh.update({translationState:c.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:i,itaTranslateSourceLanguage:"",itaTranslateSourceLanguageIsAutoDetected:null,itaDocumentState:null,error:null,providedTranslateAlternatives:[],itaTranslateTrigger:n?_:g}),NL({type:PC,payload:{sourceText:i,targetLanguage:t,domainName:window.location.hostname,trigger:n?_:g,websiteLanguage:e.websiteData.websiteLanguage}})}},pL=e=>null==e,mL=()=>{pL(e.websiteData.translatedSnippet)||Fh.update({translationState:c.none})},gL=()=>{pL(e.websiteData.improvedSnippet)||Fh.update({writeState:d})},hL=e=>{e&&Fh.update({translationState:c.none,translatedSnippet:e,error:null})},fL=e=>{e&&Fh.update({writeState:d,improvedSnippet:e,error:null})},_L=e=>{e&&Fh.update({itaTranslateSourceLanguage:e.toUpperCase()})},vL=e=>{e&&Fh.update({itaTranslateTargetLanguage:lL(e)})},wL=e=>{e&&Fh.update({itaWriteSourceLanguage:e})},TL=e=>{Fh.update({itaTranslateSourceLanguageIsAutoDetected:e})},bL=e=>{Fh.update({itaWriteSourceLanguageIsAutoDetected:e})},yL=e=>{e&&Fh.update({itaDocumentState:e})},EL=e=>{e&&Fh.update({itaWriteDocumentState:e})};function $L(t){e.websiteData.itaDocumentState&&t.postMessage({type:BC,payload:{itaDocumentState:e.websiteData.itaDocumentState,domainName:window.location.host,trigger:e.websiteData.itaTranslateTrigger}}),e.websiteData.itaWriteDocumentState&&t.postMessage({type:KC,payload:{itaWriteDocumentState:e.websiteData.itaWriteDocumentState,domainName:window.location.host,trigger:e.websiteData.itaWriteTrigger}})}const xL=e=>{Fh.update({isTranslateSourceLanguageUnsupported:e})},SL=e=>{Fh.update({isWriteSourceLanguageUnsupported:e})},CL=()=>{Fh.update({error:{error:Zp}})},LL=()=>{Fh.update({error:{error:Vp}})},kL=e=>{Fh.update({providedWriteAlternatives:e})},AL=e=>{Fh.update({providedTranslateAlternatives:e})};function IL(t,n,o){switch(t.action){case"dlTranslate":t.sourceLang&&WO(t.sourceLang,f),o();break;case"dlShowOriginal":Fh.update({translationState:c.showOriginal}),o();break;case"dlDefaultPopUpMounting":e.websiteData.translationState===c.none&&QI(),nM(),o();break;case"dlTabChanged":setTimeout((()=>{QO()}),500),o();break;case"dlTranslateInline":QO().then((()=>{uL(t.targetLang)})),o();break;case"dlImproveInline":QO().then((()=>uL(t.targetLang,!1,Mt.write))),o();break;case"dlTranslateInput":QO().then((async()=>{uL(t.targetLang,!0)})),o();break;case"dlImproveInput":QO().then((()=>uL(t.targetLang,!0,Mt.write))),o();break;case"dlTranslateSelectionRightClick":QO().then((()=>BO(t.payload))),o();break;case"dlGetWebsiteData":QO().then((()=>o(e.websiteData)));break;case"dlShowNotification":vM(t.payload.type,t.payload.options),o();break;case"dlErrorVisibility":iN(t.payload.state),o();break;case"dlShowAskForAReviewPopup":wM(xt.initial),o();break;case"dlShowCustomerSegmentationSurvey":wM(xt.customer_segmentation),o();break;case"dlShowArabicSurveyPopup":wM(xt.arabic_survey),o();break;case"dlShowAlert":lN(t.payload),o();break;case"dlShowGmailFeedbackPopup":wM(xt.gmail),o();break;case"dlShowSlidesFeedbackPopup":wM(xt.gslides),o();break;case"ping":o({status:"active"})}return!0}let ML;function OL(e){e.onMessage.addListener(RL),ML=e}function NL(e){ML&&(bs()&&console.log(`Sending message to background port:\n type: ${e.type}, payload: ${JSON.stringify(e.payload)}`),ML.postMessage(e))}function RL(e){switch(bs()&&console.log(`Received message from background port - type: ${e.type}`),e.type){case HC:hL(e.payload.targetText);break;case jC:fL(e.payload.targetText);break;case WC:_L(e.payload.language);break;case zC:TL(e.payload.isAutoDetected);break;case qC:aL(e.payload);break;case VC:yL(e.payload.itaDocumentState);break;case ZC:EL(e.payload.itaDocumentState);break;case QC:wL(e.payload.language);break;case JC:bL(e.payload.isAutoDetected);break;case tL:xL(e.payload.isUnsupported);break;case nL:SL(e.payload.isUnsupported);break;case oL:CL();break;case iL:LL();break;case rL.REPLY.ITA_BACKEND_IDLE:mL();break;case sL.REPLY.ITA_BACKEND_IDLE:gL();break;case rL.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:AL(e.payload.providedAlternatives);break;case rL.REPLY.ITA_TARGET_LANGUAGE:vL(e.payload.language);break;case sL.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:bs()&&console.log("ITA_WRITE_TARGET_TEXT_ALTERNATIVES",e.payload.providedAlternatives),kL(e.payload.providedAlternatives);break;default:bs()&&console.log(`Unrecognised message type:\n ${e.type}, payload: ${JSON.stringify(e.payload)}`)}}function DL(e,t,n){const o=e.slice();return o[21]=t[n],o}function PL(e){let t,n,o=xi(e[1])+"";return{c(){t=Jc("div"),n=Jc("div"),ad(t,"class","dictionary-error svelte-td4g2g"),gd(t,"display-dictionary-error",e[5])},m(e,i){Xc(e,t,i),Vc(t,n),n.innerHTML=o},p(e,i){2&i&&o!==(o=xi(e[1])+"")&&(n.innerHTML=o),32&i&&gd(t,"display-dictionary-error",e[5])},d(e){e&&Kc(t)}}}function UL(e){let t,n,o=ou(e[6]),i=[];for(let t=0;t<o.length;t+=1)i[t]=GL(DL(e,o,t));return{c(){t=Jc("div"),n=Jc("div");for(let e=0;e<i.length;e+=1)i[e].c();ad(n,"class","alternatives-list svelte-td4g2g"),ad(t,"class","alternatives-container svelte-td4g2g")},m(e,o){Xc(e,t,o),Vc(t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,null)},p(e,t){if(8256&t){let s;for(o=ou(e[6]),s=0;s<o.length;s+=1){const r=DL(e,o,s);i[s]?i[s].p(r,t):(i[s]=GL(r),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}},d(e){e&&Kc(t),Qc(i,e)}}}function GL(e){let t,n,o,i,s,r=xi(e[21].text)+"";function a(){return e[19](e[21])}function l(...t){return e[20](e[21],...t)}return{c(){t=Jc("div"),n=new fd(!1),o=nd(),n.a=o,ad(t,"class","alternative svelte-td4g2g"),ad(t,"data-testid","dl-result-view-alternative"),ad(t,"tabindex","0"),ad(t,"role","button")},m(c,d){Xc(c,t,d),n.m(r,t),Vc(t,o),i||(s=[id(t,"click",a),id(t,"keydown",l),id(t,"mousedown",sd(e[16]))],i=!0)},p(t,o){e=t,64&o&&r!==(r=xi(e[21].text)+"")&&n.p(r)},d(e){e&&Kc(t),i=!1,Cc(s)}}}function BL(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w=chrome.i18n.getMessage("ui_alternatives_title")+"",T=chrome.i18n.getMessage("ui_inline_translation_dictionary")+"",b=e[1]&&PL(e),y=e[4]&&UL(e);return h=new wy({props:{originalSnippet:e[2].originalSnippet,sourceLanguage:e[2].itaTranslateSourceLanguage,targetLanguage:e[7].selectedTargetLanguage,websiteLanguage:e[2].websiteLanguage,showDictionary:e[3],setDictionaryLauncherState:e[11],resetDictionary:e[10]}}),{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=Jc("button"),s=td(w),a=nd(),l=Jc("div"),c=Jc("button"),d=td(T),p=nd(),b&&b.c(),m=nd(),y&&y.c(),g=nd(),su(h.$$.fragment),i.disabled=r=!e[6]||!e[6].length,ad(i,"class","svelte-td4g2g"),ad(o,"class","tab svelte-td4g2g"),ad(c,"class","dl-dictionary svelte-td4g2g"),c.disabled=u=!e[0],ad(l,"class","tab svelte-td4g2g"),ad(n,"class","tabs-container svelte-td4g2g"),ad(t,"class","dl-review-footer svelte-td4g2g")},m(r,u){Xc(r,t,u),Vc(t,n),Vc(n,o),Vc(o,i),Vc(i,s),Vc(n,a),Vc(n,l),Vc(l,c),Vc(c,d),Vc(l,p),b&&b.m(l,null),Vc(t,m),y&&y.m(t,null),Vc(t,g),ru(h,t,null),f=!0,_||(v=[id(i,"click",e[9]),id(c,"click",e[17]),id(c,"mouseenter",e[8]),id(c,"mouseleave",e[18])],_=!0)},p(e,[n]){(!f||64&n&&r!==(r=!e[6]||!e[6].length))&&(i.disabled=r),(!f||1&n&&u!==(u=!e[0]))&&(c.disabled=u),e[1]?b?b.p(e,n):(b=PL(e),b.c(),b.m(l,null)):b&&(b.d(1),b=null),e[4]?y?y.p(e,n):(y=UL(e),y.c(),y.m(t,g)):y&&(y.d(1),y=null);const o={};4&n&&(o.originalSnippet=e[2].originalSnippet),4&n&&(o.sourceLanguage=e[2].itaTranslateSourceLanguage),128&n&&(o.targetLanguage=e[7].selectedTargetLanguage),4&n&&(o.websiteLanguage=e[2].websiteLanguage),8&n&&(o.showDictionary=e[3]),h.$set(o)},i(e){f||(Kd(h.$$.fragment,e),f=!0)},o(e){Qd(h.$$.fragment,e),f=!1},d(e){e&&Kc(t),b&&b.d(),y&&y.d(),au(h),_=!1,Cc(v)}}}function WL(e,t,n){let o,i,s;Ic(e,gu,(e=>n(7,i=e))),Ic(e,Fh,(e=>n(2,s=e)));let{enableDictionaryButton:r=!1}=t,{dictionaryButtonError:a=""}=t,{isInput:l=!1}=t,{textProcessingMode:c=Mt.translate}=t,d=!1,u=!1,p=!1;function m(){r&&n(3,d=!d)}function g(e){var t;NL({type:c===Mt.write?sL.REQUEST.ITA_SELECT_ALTERNATIVE:rL.REQUEST.ITA_SELECT_ALTERNATIVE,payload:{alternative:e}}),Promise.allSettled([Xn({action:qn.dlTrackAlternativeSelected,payload:{numberOfAlternatives:o.length,selectedAlternative:e.index+1,sourceLang:s.itaTranslateSourceLanguage,targetLang:i.selectedTargetLanguage,contentProcessingMode:c,alternativesSegmentation:(t=e,/^[\p{L}\p{M}\p{N}\p{Pc}]+$/u.test(t)?En.WORD:En.SENTENCE)}})]),n(4,u=!1)}return e.$$set=e=>{"enableDictionaryButton"in e&&n(0,r=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(1,a=e.dictionaryButtonError),"isInput"in e&&n(14,l=e.isInput),"textProcessingMode"in e&&n(15,c=e.textProcessingMode)},e.$$.update=()=>{32772&e.$$.dirty&&n(6,o=(c===Mt.write?s.providedWriteAlternatives:s.providedTranslateAlternatives)??[])},[r,a,s,d,u,p,o,i,function(){if(n(5,p=!0),!r)try{Xn({action:qn.dlTrackDisabledDictionaryHover,payload:{}})}catch(e){console.log(e)}},async function(){d&&m(),n(4,u=!u),Xn({action:qn.dlTrackUILocationClicked,payload:c===Mt.write?tt:et})},function(){n(3,d=!1)},function(e){n(1,a=e.dictionaryButtonError),n(0,r=e.enableDictionaryButton)},m,g,l,c,function(t){Ad.call(this,e,t)},()=>{n(4,u=!1),m()},()=>{n(5,p=!1)},e=>{g(e)},(e,t)=>{"Enter"===t.key&&g(e)}]}class zL extends cu{constructor(e){super(),lu(this,e,WL,BL,kc,{enableDictionaryButton:0,dictionaryButtonError:1,isInput:14,textProcessingMode:15})}}function HL(e){let t,n,o=e[2],i=jL(e);return{c(){i.c(),t=od()},m(e,o){i.m(e,o),Xc(e,t,o),n=!0},p(e,n){4&n&&kc(o,o=e[2])?(Yd(),Qd(i,1,1,Ec),Xd(),i=jL(e),i.c(),Kd(i,1),i.m(t.parentNode,t)):i.p(e,n)},i(e){n||(Kd(i),n=!0)},o(e){Qd(i),n=!1},d(e){e&&Kc(t),i.d(e)}}}function jL(e){let t,n;return t=new zL({props:{enableDictionaryButton:VL,dictionaryButtonError:qL,textProcessingMode:e[2]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.textProcessingMode=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function FL(e){let t,n,o,i,s,r;n=new DC({props:{closeWindow:e[0],extensionContext:e[1],textProcessingMode:e[2],onChangeTextProcessingMode:e[3],isInput:e[5],showTranslateWriteTabs:!e[4],isItaWriteEnabled:e[6]}});const a=e[9].default,l=Mc(a,e,e[8],null);let c=!e[4]&&HL(e);return{c(){t=Jc("div"),su(n.$$.fragment),o=nd(),i=Jc("div"),l&&l.c(),s=nd(),c&&c.c(),ad(i,"class","dl-content svelte-jwy61a"),ad(t,"class","dl-layout svelte-jwy61a"),ad(t,"translate","no"),ad(t,"dir",e[7])},m(e,a){Xc(e,t,a),ru(n,t,null),Vc(t,o),Vc(t,i),l&&l.m(i,null),Vc(t,s),c&&c.m(t,null),r=!0},p(e,[o]){const i={};1&o&&(i.closeWindow=e[0]),2&o&&(i.extensionContext=e[1]),4&o&&(i.textProcessingMode=e[2]),8&o&&(i.onChangeTextProcessingMode=e[3]),32&o&&(i.isInput=e[5]),16&o&&(i.showTranslateWriteTabs=!e[4]),64&o&&(i.isItaWriteEnabled=e[6]),n.$set(i),l&&l.p&&(!r||256&o)&&Rc(l,a,e,e[8],r?Nc(a,e[8],o,null):Dc(e[8]),null),e[4]?c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd()):c?(c.p(e,o),16&o&&Kd(c,1)):(c=HL(e),c.c(),Kd(c,1),c.m(t,null))},i(e){r||(Kd(n.$$.fragment,e),Kd(l,e),Kd(c),r=!0)},o(e){Qd(n.$$.fragment,e),Qd(l,e),Qd(c),r=!1},d(e){e&&Kc(t),au(n),l&&l.d(e),c&&c.d()}}}let qL="",VL=!1;function ZL(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=kd("text_direction");let{closeWindow:r=()=>{}}=t,{extensionContext:a}=t,{textProcessingMode:l=Mt.translate}=t,{onChangeTextProcessingMode:c}=t,{error:d}=t,{isInput:u=!1}=t,p=!1;return xd((()=>{n(6,p=!0)})),e.$$set=e=>{"closeWindow"in e&&n(0,r=e.closeWindow),"extensionContext"in e&&n(1,a=e.extensionContext),"textProcessingMode"in e&&n(2,l=e.textProcessingMode),"onChangeTextProcessingMode"in e&&n(3,c=e.onChangeTextProcessingMode),"error"in e&&n(4,d=e.error),"isInput"in e&&n(5,u=e.isInput),"$$scope"in e&&n(8,i=e.$$scope)},[r,a,l,c,d,u,p,s,i,o]}class YL extends cu{constructor(e){super(),lu(this,e,ZL,FL,kc,{closeWindow:0,extensionContext:1,textProcessingMode:2,onChangeTextProcessingMode:3,error:4,isInput:5})}}function XL(e){let t,n,o;return n=new rf({props:{languages:e[1],value:e[0].isTranslateSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaTranslateSourceLanguage,websiteSettings:Fh,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1,dataQaButton:"deepl-source-language-selection"}}),n.$on("selection",e[4]),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","language-dropdown-container svelte-r760fx")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.languages=e[1]),1&t&&(o.value=e[0].isTranslateSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaTranslateSourceLanguage),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function KL(e){let t,n,o,i,s;return i=new rf({props:{value:e[0].itaTranslateTargetLanguage,websiteSettings:Fh,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1,dataQaButton:"deepl-target-language-selection"}}),i.$on("selection",e[3]),{c(){t=Jc("div"),t.innerHTML='<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-r760fx"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 15C9.5 14.5858 9.83579 14.25 10.25 14.25L20.8879 14.25L16.7302 10.2906C16.4316 10.0035 16.4223 9.52875 16.7094 9.23017C16.9965 8.93159 17.4713 8.92228 17.7698 9.20937L23.2698 14.4594C23.4169 14.6008 23.5 14.796 23.5 15C23.5 15.204 23.4169 15.3992 23.2698 15.5406L17.7698 20.7906C17.4713 21.0777 16.9965 21.0684 16.7094 20.7698C16.4223 20.4713 16.4316 19.9965 16.7302 19.7094L20.8879 15.75L10.25 15.75C9.83579 15.75 9.5 15.4142 9.5 15Z" fill="#848F9B"></path></svg>',n=nd(),o=Jc("div"),su(i.$$.fragment),ad(t,"class","arrow-icon svelte-r760fx"),ad(o,"class","language-dropdown-container svelte-r760fx")},m(e,r){Xc(e,t,r),Xc(e,n,r),Xc(e,o,r),ru(i,o,null),s=!0},p(e,t){const n={};1&t&&(n.value=e[0].itaTranslateTargetLanguage),i.$set(n)},i(e){s||(Kd(i.$$.fragment,e),s=!0)},o(e){Qd(i.$$.fragment,e),s=!1},d(e){e&&(Kc(t),Kc(n),Kc(o)),au(i)}}}function QL(e){let t,n,o,i=e[0].itaTranslateSourceLanguage&&XL(e),s=e[0].itaTranslateTargetLanguage&&KL(e);return{c(){t=Jc("div"),i&&i.c(),n=nd(),s&&s.c(),ad(t,"class","language-selector-container svelte-r760fx")},m(e,r){Xc(e,t,r),i&&i.m(t,null),Vc(t,n),s&&s.m(t,null),o=!0},p(e,[o]){e[0].itaTranslateSourceLanguage?i?(i.p(e,o),1&o&&Kd(i,1)):(i=XL(e),i.c(),Kd(i,1),i.m(t,n)):i&&(Yd(),Qd(i,1,1,(()=>{i=null})),Xd()),e[0].itaTranslateTargetLanguage?s?(s.p(e,o),1&o&&Kd(s,1)):(s=KL(e),s.c(),Kd(s,1),s.m(t,null)):s&&(Yd(),Qd(s,1,1,(()=>{s=null})),Xd())},i(e){o||(Kd(i),Kd(s),o=!0)},o(e){Qd(i),Qd(s),o=!1},d(e){e&&Kc(t),i&&i.d(),s&&s.d()}}}function JL(e,t,n){let o,i;Ic(e,Fh,(e=>n(0,i=e)));const s={unavailableLanguage:"unavailable_language"};let{settings:r}=t,{isInput:a=!1}=t;const l=Yi(),d={label:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),selectedOptionLabel:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),value:s.unavailableLanguage};return e.$$set=e=>{"settings"in e&&n(5,r=e.settings),"isInput"in e&&n(6,a=e.isInput)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=((e,t,n)=>{const o=[...l];if(e)o.unshift(d);else if(t){const e=o.findIndex((e=>e.value===n)),t={...o[e]},i=chrome.i18n.getMessage("ui_inline_translation_source_language_detected");t.label=`${t.label} ${i}`,t.selectedOptionLabel=`${t.selectedOptionLabel} ${i}`,o[e]=t}return o})(i.isTranslateSourceLanguageUnsupported,i.itaTranslateSourceLanguageIsAutoDetected,i.itaTranslateSourceLanguage))},[i,o,s,async function(e){const t=e.detail.selectedOption;a?await r.set({targetLanguageUserInput:t.value}):await r.set({selectedTargetLanguage:t.value,isTargetLanguageConfirmed:!0,regionalVariant:t.regionalVariant||""}),Fh.update({translationState:c.ongoingTranslation}),NL({type:rL.REQUEST.ITA_UPDATE_TARGET_LANGUAGE,payload:{language:t.value}})},e=>{e.detail.selectedOption.value!==i.itaTranslateSourceLanguage&&e.detail.selectedOption.value!==s.unavailableLanguage&&NL({type:rL.REQUEST.ITA_UPDATE_SOURCE_LANGUAGE,payload:{language:e.detail.selectedOption.value}})},r,a]}class ek extends cu{constructor(e){super(),lu(this,e,JL,QL,kc,{settings:5,isInput:6})}}function tk(e){let t,n,o,i;return{c(){t=Jc("button"),n=Jc("div"),ad(n,"class","glossary-icon svelte-q1f4m0"),ad(t,"class","glossary-button svelte-q1f4m0"),ad(t,"aria-label",chrome.i18n.getMessage("glossary_label"))},m(s,r){Xc(s,t,r),Vc(t,n),o||(i=id(t,"click",e[0]),o=!0)},p:Ec,d(e){e&&Kc(t),o=!1,i()}}}function nk(e){let t,n,o;return n=new Sp({props:{tooltip:chrome.i18n.getMessage("glossary_label"),zIndex:"10000000000",isEnabled:!0,$$slots:{default:[tk]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","customisations-toolbar svelte-q1f4m0")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function ok(e){return[function(){const e=Nv.settings_glossary;Xn({action:Zn.dlOpenInternalPage,payload:{destination:e}})}]}class ik extends cu{constructor(e){super(),lu(this,e,ok,nk,kc,{})}}function sk(e,t,n){const o=e.slice();return o[32]=t[n],o[34]=n,o}function rk(e){let t;let n=function(e){return e[15]()?lk:ak}(e),o=n(e);return{c(){o.c(),t=od()},m(e,n){o.m(e,n),Xc(e,t,n)},p(e,t){o.p(e,t)},i(e){Kd(o)},o:Ec,d(e){e&&Kc(t),o.d(e)}}}function ak(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_;return{c(){t=Jc("ul"),n=Jc("li"),o=Jc("span"),o.textContent=`${chrome.i18n.getMessage("ui_formality_formal")}`,i=nd(),s=Jc("span"),s.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,r=nd(),a=Jc("li"),l=Jc("span"),l.textContent=`${chrome.i18n.getMessage("ui_formality_informal")}`,c=nd(),d=Jc("span"),d.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,u=nd(),p=Jc("li"),p.textContent=`${chrome.i18n.getMessage("ui_formality_automatic")}`,m=nd(),g=Jc("li"),h=Jc("button"),h.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,ad(s,"class","pro-label svelte-mfqqj4"),ad(n,"disabled",""),ad(n,"class","svelte-mfqqj4"),ad(d,"class","pro-label svelte-mfqqj4"),ad(a,"disabled",""),ad(a,"class","svelte-mfqqj4"),ad(p,"class","selected svelte-mfqqj4"),ad(h,"class","svelte-mfqqj4"),ad(g,"class","svelte-mfqqj4"),ad(t,"id","dropdown_list"),ad(t,"class","alternate-dropdown-list svelte-mfqqj4"),ad(t,"role","listbox"),ad(t,"aria-labelledby","dropdown_option"),ad(t,"tabindex","-1"),gd(t,"pro-dropdown",!0)},m(v,w){Xc(v,t,w),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),Vc(t,r),Vc(t,a),Vc(a,l),Vc(a,c),Vc(a,d),Vc(t,u),Vc(t,p),Vc(t,m),Vc(t,g),Vc(g,h),f||(_=id(h,"click",e[16]),f=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),f=!1,_()}}}function lk(e){let t,n,o=ou(e[10]),i=[];for(let t=0;t<o.length;t+=1)i[t]=ck(sk(e,o,t));return{c(){t=Jc("ul");for(let e=0;e<i.length;e+=1)i[e].c();ad(t,"id","dropdown_list"),ad(t,"class","alternate-dropdown-list svelte-mfqqj4"),ad(t,"role","listbox"),ad(t,"aria-labelledby","dropdown_option"),ad(t,"tabindex","-1"),ad(t,"style",`height: ${e[12].height}; top: ${e[12].top};`),ad(t,"data-qa",e[2])},m(n,o){Xc(n,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);e[24](t)},p(e,n){if(1161&n[0]){let s;for(o=ou(e[10]),s=0;s<o.length;s+=1){const r=sk(e,o,s);i[s]?i[s].p(r,n):(i[s]=ck(r),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}4&n[0]&&ad(t,"data-qa",e[2])},i(e){n||Ud((()=>{n=eu(t,Vu,{y:-5,duration:500}),n.start()}))},o:Ec,d(n){n&&Kc(t),Qc(i,n),e[24](null)}}}function ck(e){let t,n,o,i,s,r,a=e[32].label+"";function l(){return e[23](e[32])}return{c(){t=Jc("li"),n=td(a),o=nd(),ad(t,"role","option"),ad(t,"data-option-value",e[32].value),ad(t,"aria-selected",i=e[3]===e[32]),ad(t,"class","svelte-mfqqj4"),gd(t,"selected",e[3]===e[32]),gd(t,"keyboardSelected",e[34]===e[7])},m(i,a){Xc(i,t,a),Vc(t,n),Vc(t,o),s||(r=[id(t,"click",l),id(t,"mousedown",rd(sd(e[20])))],s=!0)},p(n,o){e=n,8&o[0]&&i!==(i=e[3]===e[32])&&ad(t,"aria-selected",i),1032&o[0]&&gd(t,"selected",e[3]===e[32]),128&o[0]&&gd(t,"keyboardSelected",e[34]===e[7])},d(e){e&&Kc(t),s=!1,Cc(r)}}}function dk(e){let t,n,o,i,s,r,a=e[0]&&rk(e);return{c(){t=Jc("div"),n=Jc("button"),o=td(e[5]),i=nd(),a&&a.c(),ad(n,"aria-haspopup","listbox"),ad(n,"id","dropdown_button"),ad(n,"aria-label","Formality dropdown"),ad(n,"aria-expanded",e[0]),ad(n,"data-qa",e[1]),ad(n,"class","dropdown-label svelte-mfqqj4"),ad(t,"class","dropdown__wrapper svelte-mfqqj4"),ad(t,"style",e[9])},m(l,c){Xc(l,t,c),Vc(t,n),Vc(n,o),e[22](n),Vc(t,i),a&&a.m(t,null),e[26](t),s||(r=[id(n,"click",e[13]),id(n,"mousedown",rd(sd(e[21]))),id(n,"keydown",e[14]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[25])],s=!0)},p(e,i){32&i[0]&&ld(o,e[5]),1&i[0]&&ad(n,"aria-expanded",e[0]),2&i[0]&&ad(n,"data-qa",e[1]),e[0]?a?(a.p(e,i),1&i[0]&&Kd(a,1)):(a=rk(e),a.c(),Kd(a,1),a.m(t,null)):a&&(a.d(1),a=null),512&i[0]&&ad(t,"style",e[9])},i(e){Kd(a)},o:Ec,d(n){n&&Kc(t),e[22](null),a&&a.d(),e[26](null),s=!1,Cc(r)}}}function uk(e,t,n){let o,{isOpen:i=!1}=t,{dataQaButton:s="dl-dropdown-button"}=t,{dataQaList:r="dl-dropdown-list"}=t,{handleSelect:a}=t;const l=[{value:Ln,label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:kn,label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")},{value:An,label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")}];let c=l.find((e=>e.value===An));const d=kd("deepl_settings");Ic(e,d,(e=>n(29,o=e)));let u,p,m,g,h,f=0,_=c,v=-1,w="visibility: hidden; opacity:0; height:0;";xd((()=>{setTimeout((()=>{n(9,w="")}),100),g=Cp(m,(({clientWidth:e})=>{n(18,f=e)}))})),Sd((()=>{g&&g()}));return e.$$set=e=>{"isOpen"in e&&n(0,i=e.isOpen),"dataQaButton"in e&&n(1,s=e.dataQaButton),"dataQaList"in e&&n(2,r=e.dataQaList),"handleSelect"in e&&n(17,a=e.handleSelect)},e.$$.update=()=>{917512&e.$$.dirty[0]&&(c&&_?.value!==c?.value&&(n(19,_=c),a({selectedOption:c}),Xn({action:qn.dlTrackFormalitySelected,payload:{formality:c.value}})),f&&(Math.abs(u.getBoundingClientRect().top),Math.abs(window.innerHeight-u.getBoundingClientRect().bottom))),8&e.$$.dirty[0]&&c&&n(5,p=`${c.selectedOptionLabel}`)},[i,s,r,c,u,p,m,v,h,w,l,d,{},function(){n(0,i=!i),function(){let e=u.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!i)return;if("ArrowUp"===e.key&&v>0)n(7,v-=1);else if("ArrowDown"===e.key&&v<l.length-1)n(7,v+=1);else if("Enter"===e.key&&-1!==v){const t=l[v];n(0,i=!1),n(3,c=t),n(7,v=-1),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(0,i=!1),n(7,v=-1)}const t=l[v];var o=h.querySelector(`[data-option-value="${t.value}"]`).offsetTop-h.offsetTop;h.scrollTo({top:o,behavior:"smooth"})},function(){return to(o,qt.TRANSLATOR)},function(){const e=xm;Xn({action:qn.dlTrackUILocationClicked,payload:q}),Xn({action:Zn.dlExternalURLRedirect,payload:{destination:e,utmContent:"inline_translator"}})},a,f,_,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(e){Md[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},e=>{n(0,i=!1),n(3,c=e),n(7,v=-1)},function(e){Md[e?"unshift":"push"]((()=>{h=e,n(8,h)}))},()=>{n(0,i=!1)},function(e){Md[e?"unshift":"push"]((()=>{m=e,n(6,m)}))}]}class pk extends cu{constructor(e){super(),lu(this,e,uk,dk,kc,{isOpen:0,dataQaButton:1,dataQaList:2,handleSelect:17},null,[-1,-1])}}function mk(e){let t,n,o,i,s;return n=new pk({props:{dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",handleSelect:e[0]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"role","button"),ad(t,"class","formality-dropdown_container svelte-svjje"),ad(t,"tabindex","-1")},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=id(t,"mousedown",rd(sd(e[1]))),i=!0)},p:Ec,i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,s()}}}function gk(e){return[function({selectedOption:e}){gu.set({formality:e.value}),NL({type:FC,payload:{formality:e.value}})},function(t){Ad.call(this,e,t)}]}class hk extends cu{constructor(e){super(),lu(this,e,gk,mk,kc,{})}}function fk(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;n=new ek({props:{settings:e[0],isInput:e[2]}});let _=e[4]&&vk();r=new ik({});const v=[Tk,wk],w=[];function T(e,t){return e[5].isTranslateSourceLanguageUnsupported?0:1}c=T(e),d=w[c]=v[c](e);let b=!e[5].isTranslateSourceLanguageUnsupported&&bk(e);return{c(){t=Jc("div"),su(n.$$.fragment),o=nd(),i=Jc("div"),_&&_.c(),s=nd(),su(r.$$.fragment),a=nd(),l=Jc("div"),d.c(),p=nd(),b&&b.c(),m=od(),ad(i,"class","translate-toolbar-buttons svelte-mpctqd"),ad(t,"class","translate-toolbar-container svelte-mpctqd"),ad(l,"class","result-frame svelte-mpctqd"),ad(l,"dir",u=es(e[2]?e[3].targetLanguageUserInput:e[3].selectedTargetLanguage))},m(d,u){Xc(d,t,u),ru(n,t,null),Vc(t,o),Vc(t,i),_&&_.m(i,null),Vc(i,s),ru(r,i,null),Xc(d,a,u),Xc(d,l,u),w[c].m(l,null),Xc(d,p,u),b&&b.m(d,u),Xc(d,m,u),g=!0,h||(f=id(l,"mousedown",sd(e[8])),h=!0)},p(e,t){const o={};1&t&&(o.settings=e[0]),4&t&&(o.isInput=e[2]),n.$set(o),e[4]?_?16&t&&Kd(_,1):(_=vk(),_.c(),Kd(_,1),_.m(i,s)):_&&(Yd(),Qd(_,1,1,(()=>{_=null})),Xd());let r=c;c=T(e),c===r?w[c].p(e,t):(Yd(),Qd(w[r],1,1,(()=>{w[r]=null})),Xd(),d=w[c],d?d.p(e,t):(d=w[c]=v[c](e),d.c()),Kd(d,1),d.m(l,null)),(!g||12&t&&u!==(u=es(e[2]?e[3].targetLanguageUserInput:e[3].selectedTargetLanguage)))&&ad(l,"dir",u),e[5].isTranslateSourceLanguageUnsupported?b&&(Yd(),Qd(b,1,1,(()=>{b=null})),Xd()):b?(b.p(e,t),32&t&&Kd(b,1)):(b=bk(e),b.c(),Kd(b,1),b.m(m.parentNode,m))},i(e){g||(Kd(n.$$.fragment,e),Kd(_),Kd(r.$$.fragment,e),Kd(d),Kd(b),g=!0)},o(e){Qd(n.$$.fragment,e),Qd(_),Qd(r.$$.fragment,e),Qd(d),Qd(b),g=!1},d(e){e&&(Kc(t),Kc(a),Kc(l),Kc(p),Kc(m)),au(n),_&&_.d(),au(r),w[c].d(),b&&b.d(e),h=!1,f()}}}function _k(e){let t,n,o;return n=new Ov({}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","loading-spinner-container svelte-mpctqd")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p:Ec,i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function vk(e){let t,n;return t=new hk({}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function wk(e){let t,n,o=Nb(e[5].translatedSnippet)+"";return{c(){t=new fd(!1),n=od(),t.a=n},m(e,i){t.m(o,e,i),Xc(e,n,i)},p(e,n){32&n&&o!==(o=Nb(e[5].translatedSnippet)+"")&&t.p(o)},i:Ec,o:Ec,d(e){e&&(Kc(n),t.d())}}}function Tk(e){let t,n;return t=new Jg({props:{error:{error:qp}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function bk(e){let t,n,o,i,s,r,a,l=e[2]&&yk(e);return i=new Vb({props:{sourceLang:e[5].websiteLanguage,targetLang:e[3].selectedTargetLanguage,sourceText:e[5].originalSnippet,targetText:e[5].translatedSnippet,platformBehaviour:e[1]}}),r=new Ub({props:{targetLang:e[3].selectedTargetLanguage,text:e[5].translatedSnippet,platformBehaviour:e[1]}}),{c(){t=Jc("div"),l&&l.c(),n=nd(),o=Jc("div"),su(i.$$.fragment),s=nd(),su(r.$$.fragment),ad(o,"class","dl-options-container svelte-mpctqd"),ad(t,"class","dl-btn-group svelte-mpctqd"),gd(t,"is-input",!e[2])},m(e,c){Xc(e,t,c),l&&l.m(t,null),Vc(t,n),Vc(t,o),ru(i,o,null),Vc(o,s),ru(r,o,null),a=!0},p(e,o){e[2]?l?l.p(e,o):(l=yk(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const s={};32&o&&(s.sourceLang=e[5].websiteLanguage),8&o&&(s.targetLang=e[3].selectedTargetLanguage),32&o&&(s.sourceText=e[5].originalSnippet),32&o&&(s.targetText=e[5].translatedSnippet),2&o&&(s.platformBehaviour=e[1]),i.$set(s);const c={};8&o&&(c.targetLang=e[3].selectedTargetLanguage),32&o&&(c.text=e[5].translatedSnippet),2&o&&(c.platformBehaviour=e[1]),r.$set(c),(!a||4&o)&&gd(t,"is-input",!e[2])},i(e){a||(Kd(i.$$.fragment,e),Kd(r.$$.fragment,e),a=!0)},o(e){Qd(i.$$.fragment,e),Qd(r.$$.fragment,e),a=!1},d(e){e&&Kc(t),l&&l.d(),au(i),au(r)}}}function yk(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("replace_in_field")}`,ad(t,"class","svelte-mpctqd")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[6]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function Ek(e){let t,n,o,i;const s=[_k,fk],r=[];function a(e,t){return null==e[5]||e[5].translationState===c.ongoingTranslation?0:e[5].translatedSnippet?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=Jc("div"),o&&o.c()},m(e,o){Xc(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,[i]){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null)):o=null)},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),~n&&r[n].d()}}}function $k(e,t,n){let o,i,s,r=Ec,a=()=>(r(),r=Ac(l,(e=>n(3,i=e))),l);Ic(e,Fh,(e=>n(5,s=e))),e.$$.on_destroy.push((()=>r()));let{settings:l}=t;a();let{platformBehaviour:c}=t,{isInput:d=!1}=t,{closeWindow:u}=t;return e.$$set=e=>{"settings"in e&&a(n(0,l=e.settings)),"platformBehaviour"in e&&n(1,c=e.platformBehaviour),"isInput"in e&&n(2,d=e.isInput),"closeWindow"in e&&n(7,u=e.closeWindow)},e.$$.update=()=>{12&e.$$.dirty&&n(4,o=Ji(d?i.targetLanguageUserInput:i.selectedTargetLanguage))},[l,c,d,i,o,s,()=>{rv(s.inputElement,{html:s.translatedSnippet??"",text:s.translatedSnippet??""},!0),Xn({action:qn.dlTrackReplaceInField,payload:{replacementType:Dn}}),u()},u,function(t){Ad.call(this,e,t)}]}class xk extends cu{constructor(e){super(),lu(this,e,$k,Ek,kc,{settings:0,platformBehaviour:1,isInput:2,closeWindow:7})}}function Sk(e){let t,n;return t=new rf({props:{languages:e[1],value:e[0].isWriteSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaWriteSourceLanguage,websiteSettings:Fh,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1}}),t.$on("selection",e[3]),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.languages=e[1]),1&n&&(o.value=e[0].isWriteSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaWriteSourceLanguage),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Ck(e){let t,n,o=e[0].itaWriteSourceLanguage&&Sk(e);return{c(){t=Jc("div"),o&&o.c(),ad(t,"class","language-selector-container svelte-tostmu")},m(e,i){Xc(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[0].itaWriteSourceLanguage?o?(o.p(e,n),1&n&&Kd(o,1)):(o=Sk(e),o.c(),Kd(o,1),o.m(t,null)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d()}}}function Lk(e,t,o){let i,r;Ic(e,Fh,(e=>o(0,r=e)));const a={unavailableLanguage:"unavailable_language"},l=n.filter((e=>s.includes(e.langCodeForIta))).map((e=>{switch(e.langCode){case"EN-US":return{...e,langCode:"EN_US"};case"EN-GB":return{...e,langCode:"EN_UK"};case"PT-BR":return{...e,langCode:"PT_BR"};case"PT-PT":return{...e,langCode:"PT"};default:return e}})).map((e=>({value:e.langCodeForIta,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage()))),c={label:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),selectedOptionLabel:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),value:a.unavailableLanguage};return e.$$.update=()=>{1&e.$$.dirty&&o(1,i=((e,t,n)=>{const o=[...l];if(e)o.unshift(c);else if(t){const e=o.findIndex((e=>e.value===n)),t={...o[e]},i=chrome.i18n.getMessage("ui_inline_translation_source_language_detected");t.label=`${t.label} ${i}`,t.selectedOptionLabel=`${t.selectedOptionLabel} ${i}`,o[e]=t}return o})(r.isWriteSourceLanguageUnsupported,r.itaWriteSourceLanguageIsAutoDetected,r.itaWriteSourceLanguage))},[r,i,a,e=>{e.detail.selectedOption.value!==r.itaWriteSourceLanguage&&e.detail.selectedOption.value!==a.unavailableLanguage&&NL({type:YC,payload:{language:e.detail.selectedOption.value}})}]}class kk extends cu{constructor(e){super(),lu(this,e,Lk,Ck,kc,{})}}function Ak(e){let t,n,o,i,s,r,a,l,c;return{c(){t=Jc("div"),n=Jc("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_new")}`,o=nd(),i=Jc("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,ad(n,"class","list-entry svelte-o3etn3"),ad(n,"data-qa","dl-toolbar-listener-button-target-lang"),gd(n,"dl-entry-notAvailable",!e[0]),ad(i,"class","list-entry svelte-o3etn3"),ad(i,"data-qa","dl-toolbar-listener-button-source-lang"),gd(i,"dl-entry-notAvailable",!e[0]),ad(t,"class","listen-list svelte-o3etn3"),ad(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,r){Xc(s,t,r),Vc(t,n),Vc(t,o),Vc(t,i),a=!0,l||(c=[id(n,"click",e[5]),id(i,"click",e[6])],l=!0)},p(e,[t]){(!a||1&t)&&gd(n,"dl-entry-notAvailable",!e[0]),(!a||1&t)&&gd(i,"dl-entry-notAvailable",!e[0])},i(e){a||(Ud((()=>{a&&(r&&r.end(1),s=eu(t,Vu,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=tu(t,Vu,{y:-5,duration:500}),a=!1},d(e){e&&Kc(t),e&&r&&r.end(),l=!1,Cc(c)}}}function Ik(e,t,n){let{isRequestedLanguageAvailable:o}=t,{requestedLang:i}=t,{sourceText:s}=t,{improvedText:r}=t,{listen:a=(e,t)=>null}=t;return e.$$set=e=>{"isRequestedLanguageAvailable"in e&&n(0,o=e.isRequestedLanguageAvailable),"requestedLang"in e&&n(1,i=e.requestedLang),"sourceText"in e&&n(2,s=e.sourceText),"improvedText"in e&&n(3,r=e.improvedText),"listen"in e&&n(4,a=e.listen)},[o,i,s,r,a,()=>{a(r,i)},()=>{a(s,i)}]}class Mk extends cu{constructor(e){super(),lu(this,e,Ik,Ak,kc,{isRequestedLanguageAvailable:0,requestedLang:1,sourceText:2,improvedText:3,listen:4})}}function Ok(e){let t,n,o,i,s;return n=new Sp({props:{tooltip:e[6],zIndex:300,$$slots:{default:[Rk]},$$scope:{ctx:e}}}),{c(){t=Jc("fragment"),su(n.$$.fragment),ad(t,"role","navigation")},m(r,a){Xc(r,t,a),ru(n,t,null),o=!0,i||(s=[id(t,"mouseover",e[9]),id(t,"focus",e[9]),id(t,"mouseleave",e[11])],i=!0)},p(e,t){const o={};64&t&&(o.tooltip=e[6]),65599&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n),i=!1,Cc(s)}}}function Nk(e){let t,n;return t=new Mk({props:{isRequestedLanguageAvailable:e[5],requestedLang:e[0],sourceText:e[1],improvedText:e[2],listen:e[7]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.isRequestedLanguageAvailable=e[5]),1&n&&(o.requestedLang=e[0]),2&n&&(o.sourceText=e[1]),4&n&&(o.improvedText=e[2]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function Rk(e){let t,n,o,i,s,r,a=e[4]&&Nk(e);return{c(){t=Jc("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=nd(),a&&a.c(),o=od(),ad(t,"type","button"),ad(t,"class","dl-btn svelte-17suwwx"),ad(t,"data-qa","dl-toolbar-listener-button"),gd(t,"dl-btn-active",e[3]),gd(t,"dl-btn-hovered",e[4])},m(l,c){Xc(l,t,c),Xc(l,n,c),a&&a.m(l,c),Xc(l,o,c),i=!0,s||(r=id(t,"click",e[8]),s=!0)},p(e,n){(!i||8&n)&&gd(t,"dl-btn-active",e[3]),(!i||16&n)&&gd(t,"dl-btn-hovered",e[4]),e[4]?a?(a.p(e,n),16&n&&Kd(a,1)):(a=Nk(e),a.c(),Kd(a,1),a.m(o.parentNode,o)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){i||(Kd(a),i=!0)},o(e){Qd(a),i=!1},d(e){e&&(Kc(t),Kc(n),Kc(o)),a&&a.d(e),s=!1,r()}}}function Dk(e){let t,n,o=e[5]&&Ok(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[5]?o?(o.p(e,n),32&n&&Kd(o,1)):(o=Ok(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function Pk(e,t,n){let{platformBehaviour:o=kt.default}=t,{requestedLang:i=""}=t,{sourceText:s=""}=t,{improvedText:r=""}=t,a=!1,l=!1,c=!1,d=!1;function u(){Xn({action:Gn.dlStopSpeech}),n(3,l=!1)}function p(e){try{Xn({action:qn.dlTrackInlineListen,payload:e})}catch(e){console.error(e)}}async function m(e,t,o){if("dlVoiceOverStopped"===e.action)n(3,l=!1),o();return!0}function g(e){try{Xn({action:qn.dlTrackVoiceOverStops,payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(m),Sd((()=>{u(),chrome.runtime.onMessage.removeListener(m),l&&g({targetLang:i,targetLength:r.length,triggerType:M,nicheIntegration:o})}));return e.$$set=e=>{"platformBehaviour"in e&&n(10,o=e.platformBehaviour),"requestedLang"in e&&n(0,i=e.requestedLang),"sourceText"in e&&n(1,s=e.sourceText),"improvedText"in e&&n(2,r=e.improvedText)},e.$$.update=()=>{25&e.$$.dirty&&(i&&Xn({action:Gn.dlGetSupportedVoices}).then((e=>{n(5,a=e.includes(["EN-US","EN-GB"].includes(i)?"EN":["PT-PT","PT-BR"].includes(i)?"PT":["ZH-CN","ZH-HANT"].includes(i)?"ZH":i))})),!c&&l?setTimeout((()=>{n(6,d=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(6,d=!1))},[i,s,r,l,c,a,d,async function(e,t){l||(Xn({action:Gn.dlTextToSpeech,payload:{text:e,lang:t}}),n(3,l=!0),n(4,c=!1),p({targetLang:t,targetLength:e.length,actionType:ut,nicheIntegration:o}))},function(){l?(u(),n(3,l=!1),g({targetLang:i,targetLength:r.length,triggerType:I,nicheIntegration:o}),p({targetLang:i,targetLength:r.length,actionType:pt,nicheIntegration:o})):n(4,c=!0)},function(){l||n(4,c=!0)},o,()=>n(4,c=!1)]}class Uk extends cu{constructor(e){super(),lu(this,e,Pk,Dk,kc,{platformBehaviour:10,requestedLang:0,sourceText:1,improvedText:2})}}function Gk(e,t,n){const o=e.slice();return o[11]=t[n],o}function Bk(e,t,n){const o=e.slice();return o[14]=t[n],o}function Wk(e){let t,n,o;function i(){return e[8](e[14])}return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage(`writing_style_${e[14]}`)}`,ad(t,"class","svelte-i0wtba"),gd(t,"active",e[14]===e[0])},m(e,s){Xc(e,t,s),n||(o=id(t,"click",i),n=!0)},p(n,o){e=n,1&o&&gd(t,"active",e[14]===e[0])},d(e){e&&Kc(t),n=!1,o()}}}function zk(e){let t,n,o;function i(){return e[9](e[11])}return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage(`writing_tone_${e[11]}`)}`,ad(t,"class","svelte-i0wtba"),gd(t,"active",e[11]===e[1])},m(e,s){Xc(e,t,s),n||(o=id(t,"click",i),n=!0)},p(n,o){e=n,2&o&&gd(t,"active",e[11]===e[1])},d(e){e&&Kc(t),n=!1,o()}}}function Hk(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b,y=ou(In),E=[];for(let t=0;t<y.length;t+=1)E[t]=Wk(Bk(e,y,t));let $=ou(Mn),x=[];for(let t=0;t<$.length;t+=1)x[t]=zk(Gk(e,$,t));return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),o.textContent=`${chrome.i18n.getMessage("write_style_options_headline_style")}`,i=nd(),s=Jc("div");for(let e=0;e<E.length;e+=1)E[e].c();r=nd(),a=Jc("div"),a.textContent=`${chrome.i18n.getMessage("write_style_options_description_style")}`,l=nd(),c=Jc("div"),d=Jc("div"),d.textContent=`${chrome.i18n.getMessage("write_style_options_headline_tone")}`,u=nd(),p=Jc("div");for(let e=0;e<x.length;e+=1)x[e].c();m=nd(),g=Jc("div"),g.textContent=`${chrome.i18n.getMessage("write_style_options_description_tone")}`,h=nd(),f=Jc("div"),_=Jc("button"),_.textContent=`${chrome.i18n.getMessage("write_style_options_cta_reset")}`,v=nd(),w=Jc("button"),w.textContent=`${chrome.i18n.getMessage("write_style_options_cta_apply")}`,ad(o,"class","title svelte-i0wtba"),ad(s,"class","toggles svelte-i0wtba"),ad(a,"class","explanation svelte-i0wtba"),ad(n,"class","writing-style svelte-i0wtba"),ad(d,"class","title svelte-i0wtba"),ad(p,"class","toggles svelte-i0wtba"),ad(g,"class","explanation svelte-i0wtba"),ad(c,"class","tone svelte-i0wtba"),ad(_,"class","reset svelte-i0wtba"),ad(w,"class","apply svelte-i0wtba"),gd(w,"enabled",e[0]||e[1]),ad(f,"class","actions svelte-i0wtba"),ad(t,"class","container svelte-i0wtba")},m(y,$){Xc(y,t,$),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(s,null);Vc(n,r),Vc(n,a),Vc(t,l),Vc(t,c),Vc(c,d),Vc(c,u),Vc(c,p);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(p,null);Vc(c,m),Vc(c,g),Vc(t,h),Vc(t,f),Vc(f,_),Vc(f,v),Vc(f,w),T||(b=[id(_,"click",e[5]),id(w,"click",e[4])],T=!0)},p(e,[t]){if(5&t){let n;for(y=ou(In),n=0;n<y.length;n+=1){const o=Bk(e,y,n);E[n]?E[n].p(o,t):(E[n]=Wk(o),E[n].c(),E[n].m(s,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=y.length}if(10&t){let n;for($=ou(Mn),n=0;n<$.length;n+=1){const o=Gk(e,$,n);x[n]?x[n].p(o,t):(x[n]=zk(o),x[n].c(),x[n].m(p,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=$.length}3&t&&gd(w,"enabled",e[0]||e[1])},i:Ec,o:Ec,d(e){e&&Kc(t),Qc(E,e),Qc(x,e),T=!1,Cc(b)}}}function jk(e,t,n){const o=Cd();let{writingStyle:i}=t,{tone:s}=t,r=i,a=s;function l(e){n(1,a=void 0),n(0,r=e);try{Xn({action:qn.dlTrackWriteTextStylesChanged,payload:{style:r||void 0}})}catch(e){console.error(e)}}function c(e){n(0,r=void 0),n(1,a=e);try{Xn({action:qn.dlTrackWriteTextTonesChanged,payload:{tone:a||void 0}})}catch(e){console.error(e)}}return e.$$set=e=>{"writingStyle"in e&&n(6,i=e.writingStyle),"tone"in e&&n(7,s=e.tone)},[r,a,l,c,function(){n(6,i=r),n(7,s=a);try{Xn({action:qn.dlTrackWriteTextStylesApplied,payload:{style:i||s||void 0}})}catch(e){console.error(e)}o("apply")},function(){n(1,a=void 0),n(0,r=void 0),n(7,s=void 0),n(6,i=void 0),o("reset")},i,s,e=>l(e),e=>c(e)]}class Fk extends cu{constructor(e){super(),lu(this,e,jk,Hk,kc,{writingStyle:6,tone:7})}}function qk(e){let t,n,o,i,s,r;function a(t){e[6](t)}function l(t){e[7](t)}let c={};return void 0!==e[0]&&(c.writingStyle=e[0]),void 0!==e[1]&&(c.tone=e[1]),n=new Fk({props:c}),Md.push((()=>iu(n,"writingStyle",a))),Md.push((()=>iu(n,"tone",l))),n.$on("apply",e[3]),n.$on("reset",e[3]),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","scoped svelte-2jkwvo")},m(e,o){Xc(e,t,o),ru(n,t,null),r=!0},p(e,t){const s={};!o&&1&t&&(o=!0,s.writingStyle=e[0],Gd((()=>o=!1))),!i&&2&t&&(i=!0,s.tone=e[1],Gd((()=>i=!1))),n.$set(s)},i(e){r||(Kd(n.$$.fragment,e),e&&(s||Ud((()=>{s=eu(t,Vu,{y:-5,duration:500}),s.start()}))),r=!0)},o(e){Qd(n.$$.fragment,e),r=!1},d(e){e&&Kc(t),au(n)}}}function Vk(e){let t,n,o,i,s,r,a=e[2]&&qk(e);return{c(){t=Jc("div"),n=Jc("button"),n.textContent=`${chrome.i18n.getMessage("write_style_options_button_label")}`,o=nd(),a&&a.c(),ad(n,"class","style-switch svelte-2jkwvo"),gd(n,"open",e[2]),gd(n,"active",e[0]||e[1]),ad(t,"role","button"),ad(t,"tabindex","-1")},m(l,c){Xc(l,t,c),Vc(t,n),Vc(t,o),a&&a.m(t,null),i=!0,s||(r=[id(n,"click",e[5]),id(t,"mousedown",rd(sd(e[4])))],s=!0)},p(e,[o]){(!i||4&o)&&gd(n,"open",e[2]),(!i||3&o)&&gd(n,"active",e[0]||e[1]),e[2]?a?(a.p(e,o),4&o&&Kd(a,1)):(a=qk(e),a.c(),Kd(a,1),a.m(t,null)):a&&(Yd(),Qd(a,1,1,(()=>{a=null})),Xd())},i(e){i||(Kd(a),i=!0)},o(e){Qd(a),i=!1},d(e){e&&Kc(t),a&&a.d(),s=!1,Cc(r)}}}function Zk(e,t,n){let o,i,s=!1;return[o,i,s,function(){const e=o||i||null;Fh.update({writeState:u,writeStyle:e}),NL({type:XC,payload:{styleVariant:e}}),n(2,s=!1)},function(t){Ad.call(this,e,t)},()=>n(2,s=!s),function(e){o=e,n(0,o)},function(e){i=e,n(1,i)}]}class Yk extends cu{constructor(e){super(),lu(this,e,Zk,Vk,kc,{})}}function Xk(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;n=new kk({}),i=new Yk({});const h=[Jk,Qk],f=[];function _(e,t){return e[2].isWriteSourceLanguageUnsupported?0:1}a=_(e),l=f[a]=h[a](e);let v=!e[2].isWriteSourceLanguageUnsupported&&eA(e);return{c(){t=Jc("div"),su(n.$$.fragment),o=nd(),su(i.$$.fragment),s=nd(),r=Jc("div"),l.c(),d=nd(),v&&v.c(),u=od(),ad(t,"class","write-toolbar-container svelte-1t6fc8d"),ad(r,"class","result-frame svelte-1t6fc8d"),ad(r,"dir",c=es(e[2].itaWriteSourceLanguage))},m(l,c){Xc(l,t,c),ru(n,t,null),Vc(t,o),ru(i,t,null),Xc(l,s,c),Xc(l,r,c),f[a].m(r,null),Xc(l,d,c),v&&v.m(l,c),Xc(l,u,c),p=!0,m||(g=id(r,"mousedown",sd(e[5])),m=!0)},p(e,t){let n=a;a=_(e),a===n?f[a].p(e,t):(Yd(),Qd(f[n],1,1,(()=>{f[n]=null})),Xd(),l=f[a],l?l.p(e,t):(l=f[a]=h[a](e),l.c()),Kd(l,1),l.m(r,null)),(!p||4&t&&c!==(c=es(e[2].itaWriteSourceLanguage)))&&ad(r,"dir",c),e[2].isWriteSourceLanguageUnsupported?v&&(Yd(),Qd(v,1,1,(()=>{v=null})),Xd()):v?(v.p(e,t),4&t&&Kd(v,1)):(v=eA(e),v.c(),Kd(v,1),v.m(u.parentNode,u))},i(e){p||(Kd(n.$$.fragment,e),Kd(i.$$.fragment,e),Kd(l),Kd(v),p=!0)},o(e){Qd(n.$$.fragment,e),Qd(i.$$.fragment,e),Qd(l),Qd(v),p=!1},d(e){e&&(Kc(t),Kc(s),Kc(r),Kc(d),Kc(u)),au(n),au(i),f[a].d(),v&&v.d(e),m=!1,g()}}}function Kk(e){let t,n,o;return n=new Ov({}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","loading-spinner-container svelte-1t6fc8d")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p:Ec,i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function Qk(e){let t,n,o=Nb(e[2].improvedSnippet)+"";return{c(){t=new fd(!1),n=od(),t.a=n},m(e,i){t.m(o,e,i),Xc(e,n,i)},p(e,n){4&n&&o!==(o=Nb(e[2].improvedSnippet)+"")&&t.p(o)},i:Ec,o:Ec,d(e){e&&(Kc(n),t.d())}}}function Jk(e){let t,n;return t=new Jg({props:{error:{error:Fp}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function eA(e){let t,n,o,i,s,r,a,l=e[1]&&tA(e);return i=new Uk({props:{requestedLang:e[2].itaWriteSourceLanguage,sourceText:e[2].originalSnippet,improvedText:e[2].improvedSnippet,platformBehaviour:e[0]}}),r=new Ub({props:{targetLang:e[2].itaWriteSourceLanguage,text:e[2].improvedSnippet,platformBehaviour:e[0]}}),{c(){t=Jc("div"),l&&l.c(),n=nd(),o=Jc("div"),su(i.$$.fragment),s=nd(),su(r.$$.fragment),ad(o,"class","dl-options-container svelte-1t6fc8d"),ad(t,"class","dl-btn-group svelte-1t6fc8d"),gd(t,"is-input",!e[1])},m(e,c){Xc(e,t,c),l&&l.m(t,null),Vc(t,n),Vc(t,o),ru(i,o,null),Vc(o,s),ru(r,o,null),a=!0},p(e,o){e[1]?l?l.p(e,o):(l=tA(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const s={};4&o&&(s.requestedLang=e[2].itaWriteSourceLanguage),4&o&&(s.sourceText=e[2].originalSnippet),4&o&&(s.improvedText=e[2].improvedSnippet),1&o&&(s.platformBehaviour=e[0]),i.$set(s);const c={};4&o&&(c.targetLang=e[2].itaWriteSourceLanguage),4&o&&(c.text=e[2].improvedSnippet),1&o&&(c.platformBehaviour=e[0]),r.$set(c),(!a||2&o)&&gd(t,"is-input",!e[1])},i(e){a||(Kd(i.$$.fragment,e),Kd(r.$$.fragment,e),a=!0)},o(e){Qd(i.$$.fragment,e),Qd(r.$$.fragment,e),a=!1},d(e){e&&Kc(t),l&&l.d(),au(i),au(r)}}}function tA(e){let t,n,o;return{c(){t=Jc("button"),t.textContent=`${chrome.i18n.getMessage("replace_in_field")}`,ad(t,"class","svelte-1t6fc8d")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",e[3]),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function nA(e){let t,n,o,i;const s=[Kk,Xk],r=[];function a(e,t){return null==e[2]||e[2].writeState===u?0:e[2].improvedSnippet?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=Jc("div"),o&&o.c()},m(e,o){Xc(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,[i]){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null)):o=null)},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),~n&&r[n].d()}}}function oA(e,t,n){let o;Ic(e,Fh,(e=>n(2,o=e)));let{platformBehaviour:i}=t,{isInput:s=!1}=t,{closeWindow:r}=t;return e.$$set=e=>{"platformBehaviour"in e&&n(0,i=e.platformBehaviour),"isInput"in e&&n(1,s=e.isInput),"closeWindow"in e&&n(4,r=e.closeWindow)},[i,s,o,()=>{rv(o.inputElement,{html:o.improvedSnippet??"",text:o.improvedSnippet??""},!0),Xn({action:qn.dlTrackReplaceInField,payload:{replacementType:Pn}}),r()},r,function(t){Ad.call(this,e,t)}]}class iA extends cu{constructor(e){super(),lu(this,e,oA,nA,kc,{platformBehaviour:0,isInput:1,closeWindow:4})}}function sA(e){let t,n;return t=new iA({props:{platformBehaviour:e[2],isInput:e[3],closeWindow:e[6]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),8&n&&(o.isInput=e[3]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function rA(e){let t,n;return t=new xk({props:{settings:gu,platformBehaviour:e[2],isInput:e[3],closeWindow:e[6]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),8&n&&(o.isInput=e[3]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function aA(e){let t,n;return t=new Jg({props:{error:e[4].error}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.error=e[4].error),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function lA(e){let t,n,o,i;const s=[aA,rA,sA],r=[];function a(e,t){return e[4].error?0:e[0]===Mt.translate?1:e[0]===Mt.write?2:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=Jc("div"),o&&o.c(),ad(t,"class","tooltip-container svelte-1o980it"),ad(t,"data-qa","deepl-tooltip-container"),gd(t,"error",e[4].error)},m(e,o){Xc(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,l){let c=n;n=a(e),n===c?~n&&r[n].p(e,l):(o&&(Yd(),Qd(r[c],1,1,(()=>{r[c]=null})),Xd()),~n?(o=r[n],o?o.p(e,l):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null)):o=null),(!i||16&l)&&gd(t,"error",e[4].error)},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),~n&&r[n].d()}}}function cA(e){let t,n,o;return n=new YL({props:{closeWindow:e[6],extensionContext:e[5],textProcessingMode:e[0],isInput:e[3],onChangeTextProcessingMode:e[7],error:e[4].error,$$slots:{default:[lA]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),su(n.$$.fragment)},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.textProcessingMode=e[0]),8&t&&(o.isInput=e[3]),16&t&&(o.error=e[4].error),4125&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function dA(e,t,n){let o,i=Ec,s=()=>(i(),i=Ac(a,(e=>n(4,o=e))),a);e.$$.on_destroy.push((()=>i()));let{closeTooltip:r}=t,{websiteSettings:a}=t;s();let{platformBehaviour:l=kt.default}=t,{isInput:c=!1}=t,{textProcessingMode:d}=t,{setPositioningStatus:u}=t,p=C;return e.$$set=e=>{"closeTooltip"in e&&n(8,r=e.closeTooltip),"websiteSettings"in e&&s(n(1,a=e.websiteSettings)),"platformBehaviour"in e&&n(2,l=e.platformBehaviour),"isInput"in e&&n(3,c=e.isInput),"textProcessingMode"in e&&n(0,d=e.textProcessingMode),"setPositioningStatus"in e&&n(9,u=e.setPositioningStatus)},e.$$.update=()=>{532&e.$$.dirty&&!o.translationState&&l===kt.default&&u&&(u(!0),setTimeout((()=>{u(!1)}),600))},[d,a,l,c,o,p,function(){r()},e=>{switch(e){case Mt.translate:n(0,d=Mt.translate),Xn(c?{action:jn.dlTriggerTranslateInput}:{action:jn.dlTriggerTranslateInline});break;case Mt.write:n(0,d=Mt.write),Xn(c?{action:Wn.dlTriggerImproveInput}:{action:Wn.dlTriggerImproveInline});break;default:return}},r,u]}class uA extends cu{constructor(e){super(),lu(this,e,dA,cA,kc,{closeTooltip:8,websiteSettings:1,platformBehaviour:2,isInput:3,textProcessingMode:0,setPositioningStatus:9})}}function pA(e){let t,n,o,i,s,r,a,l;return s=new uA({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[4],setPositioningStatus:e[8],isInput:e[3]}}),{c(){t=Jc("div"),n=Jc("div"),o=nd(),i=Jc("div"),su(s.$$.fragment),ad(n,"class","tooltip-drag-handle svelte-1t6zxdj"),ad(i,"class","review-window-body svelte-1t6zxdj"),ad(t,"data-qa","review-translate-write-window"),ad(t,"class","review-window-wrapper svelte-1t6zxdj"),ad(t,"role","dialog"),ad(t,"style",e[7]),ad(t,"draggable",e[6]),ad(t,"dir",es())},m(c,d){Xc(c,t,d),Vc(t,n),Vc(t,o),Vc(t,i),ru(s,i,null),e[18](t),r=!0,a||(l=[id(n,"mouseover",e[9]),id(n,"mouseout",e[10]),Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[17]),id(t,"dragstart",e[11])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),16&n&&(o.textProcessingMode=e[4]),8&n&&(o.isInput=e[3]),s.$set(o),(!r||128&n)&&ad(t,"style",e[7]),(!r||64&n)&&ad(t,"draggable",e[6])},i(e){r||(Kd(s.$$.fragment,e),r=!0)},o(e){Qd(s.$$.fragment,e),r=!1},d(n){n&&Kc(t),au(s),e[18](null),a=!1,Cc(l)}}}function mA(e,t,n){let o;Ic(e,gu,(e=>n(16,o=e))),Ld("deepl_settings",gu),Ld("text_direction",es());let i,s,r,a,l,c,{closeWindow:d}=t,{websiteSettings:u}=t,{replaceElement:p}=t,{dragContainerTo:m}=t,{platformBehaviour:g=kt.default}=t,{isInput:h=!1}=t,{textProcessingMode:f}=t,_=!1,v=!1,w="visibility: hidden; opacity:0; height:0;";let T={x:0,y:0};function b(e){let t=Ob({dropEvent:e,document:document,dragConfig:{dragOffset:T,dragElementRect:l,dragBarWidth:16}});t&&m(t)}xd((()=>{n(15,c=o.isLoggedIn),setTimeout((()=>{n(7,w="")}),100),document.addEventListener("dragover",Ib),document.addEventListener("drop",b),a=Cp(s,(({clientHeight:e})=>{n(14,r=e)}))})),Sd((()=>{document.removeEventListener("dragover",Ib),document.removeEventListener("drop",b),a&&a()}));return e.$$set=e=>{"closeWindow"in e&&n(0,d=e.closeWindow),"websiteSettings"in e&&n(1,u=e.websiteSettings),"replaceElement"in e&&n(12,p=e.replaceElement),"dragContainerTo"in e&&n(13,m=e.dragContainerTo),"platformBehaviour"in e&&n(2,g=e.platformBehaviour),"isInput"in e&&n(3,h=e.isInput),"textProcessingMode"in e&&n(4,f=e.textProcessingMode)},e.$$.update=()=>{var t,n;98305&e.$$.dirty&&!1===c&&!0===o.isLoggedIn&&d(),65536&e.$$.dirty&&(t=o.inlineTranslateTooltipPosition,i=p(r,t)),16384&e.$$.dirty&&(n=r,i=v||g===kt.gdocs?p(n,o.inlineTranslateTooltipPosition):i)},[d,u,g,h,f,s,_,w,e=>{v=e},function(){n(6,_=!0)},function(){n(6,_=!1)},function(e){const t=Mb(e,g);T=t.dragOffset,l=t.dragElementRect},p,m,r,c,o,()=>d(),function(e){Md[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class gA extends cu{constructor(e){super(),lu(this,e,mA,pA,kc,{closeWindow:0,websiteSettings:1,replaceElement:12,dragContainerTo:13,platformBehaviour:2,isInput:3,textProcessingMode:4})}}class hA{static HTML_TAG_NAME="deepl-review-translate-write-window";static createElement=(e=document)=>{const t=e.createElement(hA.HTML_TAG_NAME),n=new hA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};#e=void 0;constructor(e){this.domElement=e,this.domElement.platformBehaviour=kt.default,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t,n,o=!1)=>{const{deepl_inline_ui:i}=R;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===kt.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let s=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let r="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(i.z_index-100),a=`position: absolute; top: ${s.y}px; left: ${s.x-200}px; z-index: ${i.z_index-100};`;switch(this.domElement.platformBehaviour){case kt.gdocs:a+="top: 600px; left: 10px;";break;case kt.default:default:a+=""}this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new gA({target:this.domElement.container,props:{closeWindow:t,websiteSettings:n,replaceElement:(t,n)=>{s=e(this.domElement.selectionRange);const o={coords:s,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let i=n;const r=kb(o),[a,l]=Ab(n),c=this.#e??{x:0,y:0};if(this.domElement.platformBehaviour===kt.gdocs){for(const e of l)if(Lb(e,o)){Cb(e,o,c);break}}else for(const e of a)if(Lb(e,o)){i="middle"!==e?e:void 0,Sb(e,o,c);break}return{...r,current:i}},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo,isInput:o}})};dragContainerTo=e=>{this.#e={y:parseInt(this.domElement.container.style.top)-e.y+(this.#e?.y??0),x:parseInt(this.domElement.container.style.left)-e.x+(this.#e?.x??0)},this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const fA=async e=>{const t=vo();let n,o=e.ownerDocument,i=tp(e).getSelection();n=t?i&&i.anchorNode&&"#text"==i.anchorNode.nodeName&&"Range"==i.type&&e.contains(i.anchorNode):i&&i.baseNode&&"#text"==i.baseNode.nodeName&&"Range"==i.type&&(e.contains(i.baseNode)||function(e,t){return"IFRAME"===e.nodeName.toUpperCase()&&ip(e)===t.ownerDocument}(e,i.baseNode)),n||(e.focus(),await ap(e)),i=tp(e).getSelection();const{domElements:s,strings:r,container:a}=function({thisDocument:e,selection:t}){let n;t.getRangeAt?n=t.getRangeAt(0):(n=e.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),i=document.createElement("div");i.appendChild(o),i.style.display="block",i.style.position="fixed",i.style.height="0px",i.style.width="0px",i.style.top="-500px",i.style.left="-500px",i.style.overflow="hidden",document.body.appendChild(i);const{domElements:s,strings:r}=Ev(i);return{domElements:s,strings:r,container:i}}({thisDocument:o,selection:i});return{domElements:s,strings:r,container:a,isSubtextSelected:n}};const _A=e=>{const{domElements:t,strings:n,cloneContainer:o}=function(e){const t=e.cloneNode(!0),n=document.createElement("div");n.appendChild(t),n.style.display="none",document.body.appendChild(n);const{domElements:o,strings:i}=Ev(n);return{domElements:o,strings:i,cloneContainer:n}}(e);return{domElements:t,strings:n,cloneContainer:o}};const vA=new DOMParser,wA=(e,t)=>{const n=document.createElement(t),o=Array.from(e.attributes),i=e.tagName;for(;e.firstChild;)n.appendChild(e.firstChild);return e.parentNode?.replaceChild(n,e),{tagName:i.toLowerCase(),attributes:o}},TA=e=>{const t=[],n=new Map;for(let o=0;o<e.length;++o){const i=e[o],s=vA.parseFromString(i,"text/html"),r=Array.from(s.querySelectorAll("body *:not(head):not(html)"));for(let e of r){const t=`a${n.size+1}`,o=wA(e,t);n.set(t,o)}const a=s.body.innerHTML;t.push(a)}return{map:n,simplifiedHtml:t}},bA=(e,t)=>{const n=vA.parseFromString(t,"text/html"),o=Array.from(n.querySelectorAll("body *:not(head):not(html)"));for(const t of o){const n=e.get(t.tagName.toLowerCase());if(!n)continue;const o=document.createElement(n.tagName);for(const e of n.attributes)o.setAttribute(e.name,e.value);for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode?.replaceChild(o,t)}return n.body.innerHTML};async function yA(e,t,n){!function(){const e=window.getSelection();return e.toString()===e.focusNode.textContent}()?await rv(e,t,n):await mp(e,t)}var EA=Object.freeze({__proto__:null,injectContent:async function(e,t,n){await yA(e,t,n)},reassemble:function(e,t){xv({strings:t[0]?.texts,domElements:e.domElements});const n=new Map;let o=0,i=0;for(const t of e.container.children)1===t.children.length&&"BR"===t.children[0].nodeName?i++:(n.set(o,i),o++);const s={text:t[0]?.texts?t[0]?.texts.map(((e,t)=>{const o=n.get(t+1)??0;return e+"\n".repeat(o)})).join("\n"):"",html:e.container.innerHTML};return e.container.remove(),s},split:async function(e,t){const n=await fA(e);t&&(n.strings=n.domElements.map((e=>e.innerText)));const o=n.strings.map((e=>({text:e})));return{textConfig:n,requests:o}}});var $A=Object.freeze({__proto__:null,injectContent:async function(e,t,n){await yA(e,t,n)}});async function xA(e,t){const{isWriteRequest:n,targetLang:o,nicheIntegration:i,sourceLang:s,isHtml:r,clearInnerHTML:a,removeFormatting:l}={isWriteRequest:!1,targetLang:null,nicheIntegration:null,sourceLang:null,isHtml:null,clearInnerHTML:null,removeFormatting:!1,...t};let c,d={},u=[];const p=!iv(e),m=(g=window.location.host).includes("web.whatsapp.com")?EA:g.includes("facebook.com")?$A:void 0;var g;if(m?.split){const t=await m.split(e,l);d=t.textConfig,u=t.requests}else if(p)d=await fA(e),l&&(d.strings=d.domElements.map((e=>e.innerText))),u=d.strings.map((e=>({text:e})));else{const t=e.value;sv(e)&&(d.isSubtextSelected=!0),c=d.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,u.push({text:c})}if(0===u.length)return;let h,f;if(s)h=s;else try{h=document.documentElement.lang}catch(e){console.error(e)}const _=TA(u.map((e=>e.text)));f=n?await Xn({action:Wn.dlRequestImproveWriting,payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:h,sourceLang:s,...r&&{isHtml:!0},nicheIntegration:i}}):await Xn({action:jn.dlRequestInputTranslation,payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:h,targetLang:o,platformBehavior:i}}),f=f.map((e=>({...e,text:bA(_.map,e.text),texts:e.texts.map((e=>bA(_.map,e)))})));let v={text:"",html:""};m?.reassemble?v=m.reassemble(d,f):p?(xv({strings:f[0]?.texts,domElements:d.domElements}),v.text=d.container.innerText,v.html=xi(d.container.innerHTML),d.container.remove()):(v.text=f[0].text,v.html=f[0].text),p&&!d.isSubtextSelected&&(e=>{const t=sp(e),n=np(e);if(vp("keydown",e)){const o=new t.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(o)&&n.execCommand("delete",!1)}vp("keyup",e)})(e),a&&!d.isSubtextSelected&&(e.innerHTML=""),await rv(e,v,d.isSubtextSelected)}const SA="deepl-writing-ui-added",CA=5e3;function LA(e){let t,n,o,i,s,r,a,l;return{c(){t=ed("svg"),n=ed("g"),o=ed("path"),i=ed("path"),s=ed("path"),r=ed("defs"),a=ed("clipPath"),l=ed("rect"),ad(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),ad(o,"fill","#0F2B46"),ad(i,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),ad(i,"fill","white"),ad(s,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),ad(s,"fill","white"),ad(n,"clip-path","url(#clip0)"),ad(l,"width","18.5294"),ad(l,"height","19"),ad(l,"fill","white"),ad(l,"transform","matrix(-1 0 0 1 18.5294 0)"),ad(a,"id","clip0"),ad(t,"width",e[1]),ad(t,"height",e[0]),ad(t,"class","deepl-logo-icon"),ad(t,"viewBox","0 0 19 19"),ad(t,"fill","none"),ad(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){Xc(e,t,c),Vc(t,n),Vc(n,o),Vc(n,i),Vc(n,s),Vc(t,r),Vc(r,a),Vc(a,l)},p(e,[n]){2&n&&ad(t,"width",e[1]),1&n&&ad(t,"height",e[0])},i:Ec,o:Ec,d(e){e&&Kc(t)}}}function kA(e,t,n){let{height:o="16px"}=t,{width:i="16px"}=t;return e.$$set=e=>{"height"in e&&n(0,o=e.height),"width"in e&&n(1,i=e.width)},[o,i]}class AA extends cu{constructor(e){super(),lu(this,e,kA,LA,kc,{height:0,width:1})}}function IA(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Jc("div"),n=nd(),o=Jc("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,i=nd(),s=Jc("div"),r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,c=nd(),d=Jc("button"),d.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,ad(t,"class","close-icon svelte-1pm9ytz"),ad(o,"class","title svelte-1pm9ytz"),ad(s,"class","body svelte-1pm9ytz"),ad(l,"class","secondary svelte-1pm9ytz"),ad(d,"class","primary svelte-1pm9ytz"),ad(a,"class","footer svelte-1pm9ytz")},m(g,h){Xc(g,t,h),Xc(g,n,h),Xc(g,o,h),Xc(g,i,h),Xc(g,s,h),s.innerHTML=m,Xc(g,r,h),Xc(g,a,h),Vc(a,l),Vc(a,c),Vc(a,d),u||(p=[id(t,"click",e[3]),id(l,"click",e[4]),id(d,"click",e[5])],u=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o),Kc(i),Kc(s),Kc(r),Kc(a)),u=!1,Cc(p)}}}function MA(e){let t,n,o,i,s,r,a,l,c,d,u=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Jc("div"),n=nd(),o=Jc("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,i=nd(),s=Jc("div"),r=nd(),a=Jc("div"),l=Jc("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,ad(t,"class","close-icon svelte-1pm9ytz"),ad(o,"class","title svelte-1pm9ytz"),ad(s,"class","body svelte-1pm9ytz"),ad(l,"class","primary svelte-1pm9ytz"),ad(a,"class","footer svelte-1pm9ytz")},m(p,m){Xc(p,t,m),Xc(p,n,m),Xc(p,o,m),Xc(p,i,m),Xc(p,s,m),s.innerHTML=u,Xc(p,r,m),Xc(p,a,m),Vc(a,l),c||(d=[id(t,"click",e[3]),id(l,"click",e[5])],c=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&(Kc(t),Kc(n),Kc(o),Kc(i),Kc(s),Kc(r),Kc(a)),c=!1,Cc(d)}}}function OA(e){let t,n;return t=new Jg({props:{error:{error:e[0]},close:e[3],config:{nicheIntegration:kt.gmail}}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function NA(e){let t,n,o,i,s,r;const a=[OA,MA,IA],l=[];function c(e,t){return e[2]?0:e[1]?1:2}return n=c(e),o=l[n]=a[n](e),{c(){t=Jc("div"),o.c(),ad(t,"class","dl-gmail-character-limit-popup svelte-1pm9ytz"),ad(t,"dir",es()),gd(t,"is-translator-limit",!e[2])},m(o,a){Xc(o,t,a),l[n].m(t,null),i=!0,s||(r=[Gc(Tp.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container",".deepl-gmail-write-toolbar"]})),id(t,"click_outside",e[9])],s=!0)},p(e,[s]){let r=n;n=c(e),n===r?l[n].p(e,s):(Yd(),Qd(l[r],1,1,(()=>{l[r]=null})),Xd(),o=l[n],o?o.p(e,s):(o=l[n]=a[n](e),o.c()),Kd(o,1),o.m(t,null)),(!i||4&s)&&gd(t,"is-translator-limit",!e[2])},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),l[n].d(),s=!1,Cc(r)}}}function RA(e,t,n){let o,i;Ic(e,gu,(e=>n(8,i=e))),Ld("text_direction",es());let{onCloseCharLimitPopup:s}=t,{cleanUpDOM:r}=t,{limitType:a}=t,l=!1,c=!1;const d=()=>{s&&s(),r&&r()};return e.$$set=e=>{"onCloseCharLimitPopup"in e&&n(6,s=e.onCloseCharLimitPopup),"cleanUpDOM"in e&&n(7,r=e.cleanUpDOM),"limitType"in e&&n(0,a=e.limitType)},e.$$.update=()=>{1&e.$$.dirty&&n(2,o=a===Nu||a===Ru),256&e.$$.dirty&&n(1,c=!0===i.isLoggedIn)},[a,c,o,d,()=>{l||(Xn({action:qn.dlTrackUILocationClicked,payload:we}),l=!0,Xn({action:Un.dlRequestLogin}).then((()=>{l=!1,d()})).catch((()=>{l=!1})))},()=>{Xn({action:Zn.dlExternalURLRedirect,payload:{destination:xm,utmContent:"gmail_customization"}}),d()},s,r,i,()=>{d()}]}class DA extends cu{constructor(e){super(),lu(this,e,RA,NA,kc,{onCloseCharLimitPopup:6,cleanUpDOM:7,limitType:0})}}class PA{static HTML_TAG_NAME="deepl-gmail-character-limit-popup";static createElement=(e=document)=>{const t=e.createElement(PA.HTML_TAG_NAME),n=new PA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({onCloseCharLimitPopup:e,limitType:t})=>{this.mainComponent=new DA({target:this.domElement.shadowContainer,props:{cleanUpDOM:this.domElement.cleanupDOM,onCloseCharLimitPopup:e,limitType:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function UA(e){let t,n,o,i;const s=[WA,BA],r=[];function a(e,t){return e[9]?0:1}return n=a(e),o=r[n]=s[n](e),{c(){t=Jc("div"),o.c(),ad(t,"class","dl-gmail-translate-toolbar svelte-eo75ae"),gd(t,"hasLoaded",e[4]),gd(t,"isExpanded",e[5])},m(e,o){Xc(e,t,o),r[n].m(t,null),i=!0},p(e,l){let c=n;n=a(e),n===c?r[n].p(e,l):(Yd(),Qd(r[c],1,1,(()=>{r[c]=null})),Xd(),o=r[n],o?o.p(e,l):(o=r[n]=s[n](e),o.c()),Kd(o,1),o.m(t,null)),(!i||16&l[0])&&gd(t,"hasLoaded",e[4]),(!i||32&l[0])&&gd(t,"isExpanded",e[5])},i(e){i||(Kd(o),i=!0)},o(e){Qd(o),i=!1},d(e){e&&Kc(t),r[n].d()}}}function GA(e){let t,n,o,i,s,r,a,l,c;return o=new Sp({props:{tooltip:chrome.i18n.getMessage("gmail_compose_undo_icon"),zIndex:e[15].z_index,$$slots:{default:[qA]},$$scope:{ctx:e}}}),r=new Sp({props:{tooltip:chrome.i18n.getMessage("gmail_compose_accept_icon"),zIndex:e[15].z_index,$$slots:{default:[VA]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),n=Jc("div"),su(o.$$.fragment),i=nd(),s=Jc("div"),su(r.$$.fragment),ad(n,"class","wrapper undo-wrapper svelte-eo75ae"),ad(s,"class","wrapper accept-wrapper svelte-eo75ae"),ad(t,"class","accept-changes svelte-eo75ae")},m(d,u){Xc(d,t,u),Vc(t,n),ru(o,n,null),Vc(t,i),Vc(t,s),ru(r,s,null),a=!0,l||(c=[Gc(Tp.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),id(t,"click_outside",e[18])],l=!0)},p(e,t){const n={};33554432&t[1]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const i={};33554432&t[1]&&(i.$$scope={dirty:t,ctx:e}),r.$set(i)},i(e){a||(Kd(o.$$.fragment,e),Kd(r.$$.fragment,e),a=!0)},o(e){Qd(o.$$.fragment,e),Qd(r.$$.fragment,e),a=!1},d(e){e&&Kc(t),au(o),au(r),l=!1,Cc(c)}}}function BA(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b;return s=new Rp({props:{selectedOption:e[1],items:e[8],placeholder:"...",allowLabelHtml:!0}}),s.$on("valueselected",e[22]),p=new rf({props:{value:e[13]||e[2].targetLanguageUserInput,disabled:!1,fontSize:"sm"}}),p.$on("selection",e[23]),h=new Sp({props:{isEnabled:e[14],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),zIndex:e[15].z_index,multiline:!0,$$slots:{default:[HA]},$$scope:{ctx:e}}}),T=new Sp({props:{isEnabled:!0,tooltip:oo(e[2],qt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:e[15].z_index,multiline:!0,$$slots:{default:[FA]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),n=Jc("div"),n.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_from")}`,o=nd(),i=Jc("div"),su(s.$$.fragment),r=nd(),a=Jc("div"),l=Jc("div"),l.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_into")}`,c=nd(),d=Jc("div"),u=Jc("div"),su(p.$$.fragment),m=nd(),g=Jc("div"),su(h.$$.fragment),f=nd(),_=Jc("div"),v=nd(),w=Jc("div"),su(T.$$.fragment),ad(n,"class","translation-label svelte-eo75ae"),ad(i,"class","wrapper shortcode-wrapper svelte-eo75ae"),ad(t,"class","translation-selection-wrapper svelte-eo75ae"),ad(l,"class","translation-label svelte-eo75ae"),ad(u,"class","dropdown"),ad(d,"class","wrapper language-wrapper svelte-eo75ae"),ad(a,"class","translation-selection-wrapper svelte-eo75ae"),ad(g,"class","wrapper button-wrapper"),ad(_,"class","divider svelte-eo75ae"),ad(w,"class","wrapper button-wrapper")},m(e,y){Xc(e,t,y),Vc(t,n),Vc(t,o),Vc(t,i),ru(s,i,null),Xc(e,r,y),Xc(e,a,y),Vc(a,l),Vc(a,c),Vc(a,d),Vc(d,u),ru(p,u,null),Xc(e,m,y),Xc(e,g,y),ru(h,g,null),Xc(e,f,y),Xc(e,_,y),Xc(e,v,y),Xc(e,w,y),ru(T,w,null),b=!0},p(e,t){const n={};2&t[0]&&(n.selectedOption=e[1]),256&t[0]&&(n.items=e[8]),s.$set(n);const o={};8196&t[0]&&(o.value=e[13]||e[2].targetLanguageUserInput),p.$set(o);const i={};16384&t[0]&&(i.isEnabled=e[14]),24644&t[0]|33554432&t[1]&&(i.$$scope={dirty:t,ctx:e}),h.$set(i);const r={};4&t[0]&&(r.tooltip=oo(e[2],qt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),196&t[0]|33554432&t[1]&&(r.$$scope={dirty:t,ctx:e}),T.$set(r)},i(e){b||(Kd(s.$$.fragment,e),Kd(p.$$.fragment,e),Kd(h.$$.fragment,e),Kd(T.$$.fragment,e),b=!0)},o(e){Qd(s.$$.fragment,e),Qd(p.$$.fragment,e),Qd(h.$$.fragment,e),Qd(T.$$.fragment,e),b=!1},d(e){e&&(Kc(t),Kc(r),Kc(a),Kc(m),Kc(g),Kc(f),Kc(_),Kc(v),Kc(w)),au(s),au(p),au(h),au(T)}}}function WA(e){let t,n;return t=new Ov({}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p:Ec,i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function zA(e){let t,n;return t=new XT({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function HA(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("gmail_compose_translate_button")+"",c=to(e[2],qt.TRANSLATOR),d=c&&zA();return{c(){t=Jc("button"),n=td(l),o=nd(),d&&d.c(),t.disabled=i=e[6]||!e[13]||e[14],ad(t,"class","svelte-eo75ae"),gd(t,"isTranslating",e[6])},m(i,l){Xc(i,t,l),Vc(t,n),Vc(t,o),d&&d.m(t,null),s=!0,r||(a=id(t,"mousedown",rd(sd(e[16]))),r=!0)},p(e,n){4&n[0]&&(c=to(e[2],qt.TRANSLATOR)),c?d?4&n[0]&&Kd(d,1):(d=zA(),d.c(),Kd(d,1),d.m(t,null)):d&&(Yd(),Qd(d,1,1,(()=>{d=null})),Xd()),(!s||24640&n[0]&&i!==(i=e[6]||!e[13]||e[14]))&&(t.disabled=i),(!s||64&n[0])&&gd(t,"isTranslating",e[6])},i(e){s||(Kd(d),s=!0)},o(e){Qd(d),s=!1},d(e){e&&Kc(t),d&&d.d(),r=!1,a()}}}function jA(e){let t,n;return t=new XT({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function FA(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("gmail_compose_improve_button")+"",c=to(e[2],qt.WRITE),d=c&&jA();return{c(){t=Jc("button"),n=td(l),o=nd(),d&&d.c(),t.disabled=i=oo(e[2],qt.WRITE)||e[6]||!e[7],ad(t,"class","svelte-eo75ae"),gd(t,"isTranslating",e[6])},m(i,l){Xc(i,t,l),Vc(t,n),Vc(t,o),d&&d.m(t,null),s=!0,r||(a=id(t,"mousedown",rd(sd(e[17]))),r=!0)},p(e,n){4&n[0]&&(c=to(e[2],qt.WRITE)),c?d?4&n[0]&&Kd(d,1):(d=jA(),d.c(),Kd(d,1),d.m(t,null)):d&&(Yd(),Qd(d,1,1,(()=>{d=null})),Xd()),(!s||196&n[0]&&i!==(i=oo(e[2],qt.WRITE)||e[6]||!e[7]))&&(t.disabled=i),(!s||64&n[0])&&gd(t,"isTranslating",e[6])},i(e){s||(Kd(d),s=!0)},o(e){Qd(d),s=!1},d(e){e&&Kc(t),d&&d.d(),r=!1,a()}}}function qA(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML='<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',ad(t,"class","confirm-button svelte-eo75ae")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",rd(sd(e[19]))),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function VA(e){let t,n,o;return{c(){t=Jc("button"),t.innerHTML='<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',ad(t,"class","confirm-button right svelte-eo75ae")},m(i,s){Xc(i,t,s),n||(o=id(t,"click",rd(sd(e[18]))),n=!0)},p:Ec,d(e){e&&Kc(t),n=!1,o()}}}function ZA(e){let t,n,o,i,s,r,a,l,c,d,u,p;const m=[GA,UA],g=[];function h(e,t){return e[3]?0:1}return o=h(e),i=g[o]=m[o](e),l=new AA({props:{height:"20px",width:"20px"}}),{c(){t=Jc("div"),n=Jc("div"),i.c(),s=nd(),r=Jc("div"),a=Jc("div"),su(l.$$.fragment),ad(a,"class","wrapper icon-wrapper svelte-eo75ae"),ad(r,"class","dl-toolbar-closed svelte-eo75ae"),ad(n,"class","dl-toolbar-positioner svelte-eo75ae"),ad(t,"class","deepl-gmail-write-toolbar svelte-eo75ae"),ad(t,"style",c=`top: ${e[10]}px; left: ${e[11]}px`),ad(t,"dir",es())},m(i,c){Xc(i,t,c),Vc(t,n),g[o].m(n,null),Vc(n,s),Vc(n,r),Vc(r,a),ru(l,a,null),d=!0,u||(p=[id(a,"click",e[24]),id(t,"click",rd(sd(e[25]))),Gc(Tp.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),id(t,"click_outside",e[26])],u=!0)},p(e,r){let a=o;o=h(e),o===a?g[o].p(e,r):(Yd(),Qd(g[a],1,1,(()=>{g[a]=null})),Xd(),i=g[o],i?i.p(e,r):(i=g[o]=m[o](e),i.c()),Kd(i,1),i.m(n,s)),(!d||3072&r[0]&&c!==(c=`top: ${e[10]}px; left: ${e[11]}px`))&&ad(t,"style",c)},i(e){d||(Kd(i),Kd(l.$$.fragment,e),d=!0)},o(e){Qd(i),Qd(l.$$.fragment,e),d=!1},d(e){e&&Kc(t),g[o].d(),au(l),u=!1,Cc(p)}}}function YA(e,t,n){let o,i;Ic(e,gu,(e=>n(2,i=e))),Ld("text_direction",es());const{deepl_inline_ui:s}=R;let{messageContainer:r}=t,{updateLockStatus:a}=t,{subjectInput:l}=t;const c="WRITE",d="TRANSLATE";let u,p,m,g,h,f,_,v,w,T,b,y,E,$,x=null,S=!1,C=!1,L=!1,k=!1;Ld("deepl_settings",gu),xd((async()=>{r&&(r.addEventListener("input",I),r.addEventListener("paste",I),r.classList.add("deepl-gmail-message-container"),A(),l&&l.value&&(f=l.value)),n(8,g=LI()),n(13,$=i.targetLanguageUserInput),W(),j(),window.addEventListener("popstate",N)})),Sd((()=>{window.removeEventListener("popstate",N),r.removeEventListener("input",I),r.removeEventListener("paste",I),r.classList.remove("deepl-gmail-message-container"),z()}));const A=async()=>{const e=xi(r.innerHTML),t=e.replace(/<[^>]+>/g,"");const o=await Vi(t);o.length&&(e=>{const t=g.find((t=>t.value===e));t&&n(1,x=t)})(o)},I=()=>{S&&O(!1),M()},M=()=>{A()},O=(e,t)=>{if(!e)return n(3,S=!1),p=null,void(u=null);n(3,S=!0),p=t},N=()=>{document.querySelectorAll(PA.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},D=(e,t=!0)=>{for(;null!==e;){const n=e.getAttribute("role");if("TABLE"===e.tagName&&("dialog"===n||"presentation"===n))return t?e.parentElement:e;e=e.parentElement}return null},P=e=>{const t=D(r);t&&(_=PA.createElement(),_.createDOM({onCloseCharLimitPopup:N,limitType:e}),t.appendChild(_))},U=()=>{n(9,v=!0)},G=()=>{n(9,v=!1)},B=e=>{Fh.update({error:e.message?e.message:e})},W=()=>{w=setInterval(H,800)},z=()=>{clearInterval(w)},H=()=>{const e=JSON.stringify(r.getBoundingClientRect());e!==T&&(T=e,j())},j=()=>{const e=es(),t=D(r),o=t.getBoundingClientRect();if(!t||!o)return;const i=(()=>{const e=D(r),t=e.getBoundingClientRect();if(!e||!t)return;return e.querySelector("[role=toolbar]")})(),s=(()=>{const e=D(r),t=e.getBoundingClientRect();if(!e||!t)return;const n=e.querySelector("[role='group']"),o=n.querySelectorAll("[role='button']");if(!n||!o)return;const i=Array.from(o);return i[i.length-1]})();if(i&&0!==i.getBoundingClientRect().top){const t=i.getBoundingClientRect();return s&&s.getBoundingClientRect()?(n(10,b=t.top-10),void n(11,y="ltr"===e?s.getBoundingClientRect().right-30:s.getBoundingClientRect().right+30)):(n(10,b=t.top-10),void n(11,y="ltr"===e?o.right-45:o.left+45))}if(!s||!s.getBoundingClientRect())return;const a=s.getBoundingClientRect();n(10,b=a.top-18),n(11,y="ltr"===e?a.right-30:a.right+30)},F=({lang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={lang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:kt.gmail,trigger:Rn}},q=({sourceLang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={sourceLang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:kt.gmail}},V=e=>{const t=e?on:sn;Xn({action:qn.dlTrackTranslateAcceptOrRevertEvent,payload:{eventType:t,acceptOrRevertMetadata:u}})},Z=e=>{Xn({action:qn.dlTrackGmailCharLimitReached,payload:{gmailActionType:TT(e)}})};return e.$$set=e=>{"messageContainer"in e&&n(20,r=e.messageContainer),"updateLockStatus"in e&&n(0,a=e.updateLockStatus),"subjectInput"in e&&n(21,l=e.subjectInput)},e.$$.update=()=>{2&e.$$.dirty[0]&&n(8,g=LI(x)),2&e.$$.dirty[0]&&x&&x.value&&n(7,k=Qi(x.value)),4&e.$$.dirty[0]&&n(14,o=oo(i,qt.TRANSLATOR))},[a,x,i,S,C,L,m,k,g,v,b,y,E,$,o,s,async()=>{if(!r)return;h=xi(r.innerHTML);const e=l&&l.value;e&&(f=l.value);const t=r.innerText,o=t.length>CA;if(!to(i,qt.TRANSLATOR)&&o)return P(),void Z(pn);U();const s=E?E.value:x.value;try{if(await xA(r,{targetLang:$,nicheIntegration:kt.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await Xn({action:jn.dlRequestInputTranslation,payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:s,targetLang:$,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;n(21,l.value=t,l)}}n(6,m=!1),O(!0,d),G(),q({sourceLang:s,targetLang:$,sourceLength:t.length,targetLength:r.innerText.length})}catch(e){B(e),G(),n(6,m=!1),O(!1)}},async()=>{if(!r)return;const e=l&&l.value;h=xi(r.innerHTML),e&&(f=l.value);const t=r.innerText;n(6,m=!0),U();const o=x.value,i="FR"===o||"ES"===o;try{if(await xA(r,{isWriteRequest:!0,sourceLang:o,nicheIntegration:kt.gmail,isHtml:!0,clearInnerHTML:!0,removeFormatting:i}),e){const e=await Xn({action:Wn.dlRequestImproveWriting,payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:o,sourceLang:o,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;n(21,l.value=t,l)}}F({lang:o,sourceLength:t.length,targetLength:r.innerText.length}),n(6,m=!1),O(!0,c),G()}catch(e){switch(e.error){case Nu:case Ru:P(e.error),Z(mn);break;default:B(e)}n(6,m=!1),O(!1),G()}},()=>{p===d?V(!0):aN({eventType:en,...u}),h=null,f=null,O(!1),A(),n(5,L=!1)},()=>{p===d?V(!1):aN({eventType:tn,...u}),n(20,r.innerHTML=xi(h),r),l&&f&&n(21,l.value=f,l),A(),O(!1)},r,l,e=>{n(12,E=e.detail.selectedOption)},async e=>{n(13,$=e.detail.selectedOption.value)},()=>{a(!0),n(5,L=!L),n(4,C=!0)},()=>{a(!0)},()=>{a(!1),n(5,L=!1)}]}class XA extends cu{constructor(e){super(),lu(this,e,YA,ZA,kc,{messageContainer:20,updateLockStatus:0,subjectInput:21},null,[-1,-1])}}class KA{static HTML_TAG_NAME="deepl-gmail-message-write-ui";static createElement=(e=document)=>{const t=e.createElement(KA.HTML_TAG_NAME),n=new KA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e,subjectInput:t,updateLockStatus:n})=>{this.mainComponent=new XA({target:this.domElement.shadowContainer,props:{messageContainer:e,updateLockStatus:n,subjectInput:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function QA(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b=e[3]&&JA(),y=null!=e[5]&&eI(e);return c=new rf({props:{disabled:e[0],websiteSettings:Fh,value:e[1].selectedTargetLanguage,extraPadding:!0}}),c.$on("selection",e[16]),p=new Sp({props:{tooltip:chrome.i18n.getMessage("gmail_reading_translate_button"),multiline:!1,zIndex:3,isEnabled:e[8]<sI,$$slots:{default:[tI]},$$scope:{ctx:e}}}),h=new Sp({props:{tooltip:chrome.i18n.getMessage("gmail_reading_view_original_button"),multiline:!1,zIndex:3,$$slots:{default:[nI]},$$scope:{ctx:e}}}),v=new Sp({props:{tooltip:chrome.i18n.getMessage("gmail_reading_forward_button"),multiline:!1,zIndex:2,isEnabled:e[8]<sI,$$slots:{default:[oI]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),n=Jc("div"),o=Jc("span"),i=nd(),b&&b.c(),s=nd(),r=Jc("div"),y&&y.c(),a=nd(),l=Jc("div"),su(c.$$.fragment),d=nd(),u=Jc("div"),su(p.$$.fragment),m=nd(),g=Jc("div"),su(h.$$.fragment),f=nd(),_=Jc("div"),su(v.$$.fragment),ad(o,"class","deepl-logo svelte-1lme20r"),ad(r,"class","language-selection-wrapper svelte-1lme20r"),ad(l,"class","language-selection-wrapper svelte-1lme20r"),ad(n,"class","left-side svelte-1lme20r"),ad(_,"class","right-side svelte-1lme20r"),ad(t,"class","dl-gmail-email-toolbar svelte-1lme20r"),ad(t,"dir",es()),Ud((()=>e[17].call(t))),gd(t,"smallMode",e[8]<sI)},m(E,$){Xc(E,t,$),Vc(t,n),Vc(n,o),Vc(n,i),b&&b.m(n,null),Vc(n,s),Vc(n,r),y&&y.m(r,null),Vc(n,a),Vc(n,l),ru(c,l,null),Vc(n,d),Vc(n,u),ru(p,u,null),Vc(n,m),Vc(n,g),ru(h,g,null),Vc(t,f),Vc(t,_),ru(v,_,null),w=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=Jc("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=md();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=id(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=id(n.contentWindow,"resize",t),t()}),Vc(e,n),()=>{(o||i&&n.contentWindow)&&i(),Kc(n)}}(t,e[17].bind(t)),T=!0},p(e,o){e[3]?b?8&o[0]&&Kd(b,1):(b=JA(),b.c(),Kd(b,1),b.m(n,s)):b&&(Yd(),Qd(b,1,1,(()=>{b=null})),Xd()),null!=e[5]?y?(y.p(e,o),32&o[0]&&Kd(y,1)):(y=eI(e),y.c(),Kd(y,1),y.m(r,null)):y&&(Yd(),Qd(y,1,1,(()=>{y=null})),Xd());const i={};1&o[0]&&(i.disabled=e[0]),2&o[0]&&(i.value=e[1].selectedTargetLanguage),c.$set(i);const a={};256&o[0]&&(a.isEnabled=e[8]<sI),1&o[0]|8&o[1]&&(a.$$scope={dirty:o,ctx:e}),p.$set(a);const l={};4&o[0]|8&o[1]&&(l.$$scope={dirty:o,ctx:e}),h.$set(l);const d={};256&o[0]&&(d.isEnabled=e[8]<sI),4&o[0]|8&o[1]&&(d.$$scope={dirty:o,ctx:e}),v.$set(d),(!T||256&o[0])&&gd(t,"smallMode",e[8]<sI)},i(e){T||(Kd(b),Kd(y),Kd(c.$$.fragment,e),Kd(p.$$.fragment,e),Kd(h.$$.fragment,e),Kd(v.$$.fragment,e),T=!0)},o(e){Qd(b),Qd(y),Qd(c.$$.fragment,e),Qd(p.$$.fragment,e),Qd(h.$$.fragment,e),Qd(v.$$.fragment,e),T=!1},d(e){e&&Kc(t),b&&b.d(),y&&y.d(),au(c),au(p),au(h),au(v),w()}}}function JA(e){let t,n;return t=new XT({props:{size:24,translator:!0}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function eI(e){let t,n;return t=new rf({props:{disabled:e[0],value:e[5],websiteSettings:Fh,customClass:"borderless",fontSize:"sm",extraPadding:!0}}),t.$on("selection",e[15]),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),32&n[0]&&(o.value=e[5]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function tI(e){let t,n,o,i,s,r;return{c(){t=Jc("button"),n=Jc("div"),n.innerHTML='<svg width="20px" height="20px" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path id="Icon" d="M1.5 3.16667H11.5M6.5 1.5V3.16667M7.37349 11.0833C6.10069 9.76482 5.06727 8.21371 4.34322 6.5M9.41667 14H15.25M8.16667 16.5L12.3333 8.16667L16.5 16.5M9.62594 3.16667C8.81922 7.97518 5.72474 12.0079 1.5 14.1075" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=nd(),i=Jc("span"),i.textContent=`${chrome.i18n.getMessage("gmail_reading_translate_button")}`,ad(n,"class","icon svelte-1lme20r"),ad(i,"class","svelte-1lme20r"),ad(t,"class","translate-button svelte-1lme20r"),t.disabled=e[0],ad(t,"paddingx","none")},m(a,l){Xc(a,t,l),Vc(t,n),Vc(t,o),Vc(t,i),s||(r=id(t,"click",rd(sd(e[10]))),s=!0)},p(e,n){1&n[0]&&(t.disabled=e[0])},d(e){e&&Kc(t),s=!1,r()}}}function nI(e){let t,n,o,i,s,r;return{c(){t=Jc("button"),n=ed("svg"),o=ed("path"),ad(o,"d","M7 16L3 12M3 12L7 8M3 12L21 12"),ad(o,"stroke",i=e[2]?"#000":"#848F9B"),ad(o,"stroke-width","1.5"),ad(o,"stroke-linecap","round"),ad(o,"stroke-linejoin","round"),ad(n,"width","24"),ad(n,"height","24"),ad(n,"viewBox","0 0 24 24"),ad(n,"fill","none"),ad(n,"xmlns","http://www.w3.org/2000/svg"),ad(n,"class","svelte-1lme20r"),ad(t,"class","show-original-button svelte-1lme20r"),ad(t,"paddingx","none"),gd(t,"enabled",e[2])},m(i,a){Xc(i,t,a),Vc(t,n),Vc(n,o),s||(r=id(t,"click",rd(sd(e[9]))),s=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&ad(o,"stroke",i),4&n[0]&&gd(t,"enabled",e[2])},d(e){e&&Kc(t),s=!1,r()}}}function oI(e){let t,n,o,i,s,r,a,l,c;return{c(){t=Jc("button"),n=ed("svg"),o=ed("path"),s=nd(),r=Jc("span"),r.textContent=`${chrome.i18n.getMessage("gmail_reading_forward_button")}`,ad(o,"d","M17 8L21 12M21 12L17 16M21 12L3 12"),ad(o,"stroke",i=e[2]?"#000":"#848F9B"),ad(o,"stroke-width","1.5"),ad(o,"stroke-linecap","round"),ad(o,"stroke-linejoin","round"),ad(n,"width","24"),ad(n,"height","24"),ad(n,"viewBox","0 0 24 24"),ad(n,"fill","none"),ad(n,"xmlns","http://www.w3.org/2000/svg"),ad(n,"class","svelte-1lme20r"),ad(r,"class","svelte-1lme20r"),t.disabled=a=!e[2],ad(t,"class","forward-button svelte-1lme20r"),ad(t,"paddingx","none")},m(i,a){Xc(i,t,a),Vc(t,n),Vc(n,o),Vc(t,s),Vc(t,r),l||(c=id(t,"click",e[11]),l=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&ad(o,"stroke",i),4&n[0]&&a!==(a=!e[2])&&(t.disabled=a)},d(e){e&&Kc(t),l=!1,c()}}}function iI(e){let t,n,o=e[6]&&e[7]&&QA(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,n){e[6]&&e[7]?o?(o.p(e,n),192&n[0]&&Kd(o,1)):(o=QA(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}const sI=900;function rI(e,t,n){let o,i,s,r,a,l,c,d,u;Ic(e,gu,(e=>n(1,o=e))),Ld("text_direction",es());let p,m,g,h,f,_=!1,v=!1,w=!1,T=!1,b=!1,{container:y}=t;xd((async()=>{L(),k(),await S(),n(4,p=o.selectedTargetLanguage),setTimeout((()=>{n(7,b=!0)}),200),window.addEventListener("popstate",x)})),Sd((()=>{window.removeEventListener("popstate",x)}));const E=()=>{i.innerText=s.innerText,i.innerHTML=xi(s.innerHTML),c.innerText=l,n(13,v=!1)},$=e=>{c&&(e?c.classList.add("deepl-gmail-loading-skeleton"):c.classList.remove("deepl-gmail-loading-skeleton"))},x=()=>{document.querySelectorAll(PA.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},S=async()=>{if(!r)return;if(d=await Vi(r),n(6,h=Fi(d)),!h)return;const e=Xi(qi(d));n(5,g=e)},C=async()=>{const e=`<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;let t;const o=xi(i.innerHTML);if(_)t=o;else{t=`${o}<br>${`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`}`}const s=(new DOMParser).parseFromString(t,"text/html"),r={html:t,text:ep(s.body)},a=document.querySelector("[contenteditable='true']");a.focus(),setTimeout((()=>{a.focus(),fp(a,r,!1),n(14,T=!1)}),500)},L=()=>{const e=Array.from(y.children).filter((e=>"div"===e.tagName.toLowerCase()));if(3!==e.length)return;const t=e[1];if(!t)return;const n=Array.from(t.children).filter((e=>"div"===e.tagName.toLowerCase()));if(!n||!n.length)return;const o=n[2];o&&(s=o.cloneNode(!0),i=o,r=o.innerText)},k=()=>{const e=document.querySelector("[data-thread-perm-id]");e&&(c=e,a=e.innerText,l=e.innerText)};return e.$$set=e=>{"container"in e&&n(12,y=e.container)},e.$$.update=()=>{24577&e.$$.dirty[0]&&n(2,u=v&&!w&&!T),2&e.$$.dirty[0]&&n(3,_=to(o,qt.TRANSLATOR))},[w,o,u,_,p,g,h,b,f,E,async()=>{if(!i)return;const{domElements:e,strings:t,cloneContainer:o}=_A(i),s=t.reduce(((e,t)=>e+t.length),0);if(!_&&s>CA)return Xn({action:qn.dlTrackGmailCharLimitReached,payload:{gmailActionType:TT(un)}}),m=PA.createElement(),m.createDOM({onCloseCharLimitPopup:x}),void document.body.appendChild(m);n(0,w=!0);const r=t.map((e=>({text:e}))),l=[{text:a}],d=TA(r.map((e=>e.text)));(e=>{if(!e)return;const{height:t}=e.getBoundingClientRect(),n=Math.floor(t/20),o=[];for(let e=0;e<n;e++)o.push(`<div style="width: ${i=35,s=99,Math.floor(Math.random()*(s-i+1))+i}%" class="deepl-gmail-loading-skeleton">line</div>`);var i,s;e.innerHTML=xi(o.join(""))})(i),$(!0);try{let[t,s]=await Promise.all([Xn({action:jn.dlRequestGmailReceivedEmailTranslation,payload:{targetLang:p,sourceLang:g,requests:d.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname}}),Xn({action:jn.dlRequestGmailReceivedEmailTranslation,payload:{targetLang:p,sourceLang:g,requests:l,domainName:window.location.hostname}})]);if(t=t.map((e=>({...e,text:bA(d.map,e.text),texts:e.texts.map((e=>bA(d.map,e)))}))),xv({strings:t[0]?.texts,domElements:e}),i.innerText=o.innerText,i.innerHTML=xi(o.innerHTML),$(!1),s[0]?.text){const e=s[0]?.text;a=e,c.innerText=e}n(0,w=!1),n(13,v=!0)}catch(e){(e=>{Fh.update({error:e.message?e.message:e})})(e),n(0,w=!1),E()}},()=>{n(14,T=!0);if(!OI())return void n(14,T=!1);const e=NI();e?(e.scrollIntoView(),setTimeout((()=>{II(e),MI("[contenteditable='true']",C)}),300)):n(14,T=!1)},y,v,T,e=>{n(5,g=e.detail.selectedOption.value)},e=>{n(4,p=e.detail.selectedOption.value)},function(){f=this.offsetWidth,n(8,f)}]}let aI=class extends cu{constructor(e){super(),lu(this,e,rI,iI,kc,{container:12},null,[-1,-1])}};class lI{static HTML_TAG_NAME="deepl-gmail-translate-email-toolbar";static createElement=(e=document)=>{const t=e.createElement(lI.HTML_TAG_NAME),n=new lI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e})=>{this.mainComponent=new aI({target:this.domElement.shadowContainer,props:{container:e}})};cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function cI(e){let t;return{c(){t=Jc("div"),ad(t,"class","dot svelte-o9amr0")},m(e,n){Xc(e,t,n)},d(e){e&&Kc(t)}}}function dI(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=!e[0].wasGmailOnboardingShown&&uI();return c=new dS({props:{checked:e[0].isGmailEnabled}}),c.$on("change",e[6]),{c(){t=Jc("div"),n=Jc("div"),m&&m.c(),o=nd(),i=Jc("div"),s=Jc("div"),r=Jc("div"),r.textContent=`${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,a=nd(),l=Jc("div"),su(c.$$.fragment),ad(n,"class","svelte-o9amr0"),gd(n,"content",!e[0].wasGmailOnboardingShown),ad(r,"class","switch-content svelte-o9amr0"),ad(l,"class","switch"),ad(s,"class","switch-container svelte-o9amr0"),gd(s,"topBorder",!e[0].wasGmailOnboardingShown),ad(i,"class","footer"),ad(t,"class","onboarding-popup svelte-o9amr0")},m(g,h){Xc(g,t,h),Vc(t,n),m&&m.m(n,null),Vc(t,o),Vc(t,i),Vc(i,s),Vc(s,r),Vc(s,a),Vc(s,l),ru(c,l,null),d=!0,u||(p=[Gc(Tp.call(null,t,{isShadow:!0,exceptions:["#dl-gmail-settings-icon"]})),id(t,"click_outside",e[7])],u=!0)},p(e,t){e[0].wasGmailOnboardingShown?m&&(Yd(),Qd(m,1,1,(()=>{m=null})),Xd()):m?(m.p(e,t),1&t&&Kd(m,1)):(m=uI(),m.c(),Kd(m,1),m.m(n,null)),(!d||1&t)&&gd(n,"content",!e[0].wasGmailOnboardingShown);const o={};1&t&&(o.checked=e[0].isGmailEnabled),c.$set(o),(!d||1&t)&&gd(s,"topBorder",!e[0].wasGmailOnboardingShown)},i(e){d||(Kd(m),Kd(c.$$.fragment,e),d=!0)},o(e){Qd(m),Qd(c.$$.fragment,e),d=!1},d(e){e&&Kc(t),m&&m.d(),au(c),u=!1,Cc(p)}}}function uI(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w;return r=new cf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new cf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new cf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Jc("div"),n=Jc("p"),n.textContent=`${chrome.i18n.getMessage("gmail_onboarding_title")}`,o=nd(),i=Jc("div"),s=Jc("div"),su(r.$$.fragment),a=nd(),l=Jc("div"),l.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,c=nd(),d=Jc("div"),su(u.$$.fragment),p=nd(),m=Jc("div"),m.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,g=nd(),h=Jc("div"),su(f.$$.fragment),_=nd(),v=Jc("div"),v.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,ad(n,"class","svelte-o9amr0"),ad(t,"class","title svelte-o9amr0"),ad(l,"class","copy-text svelte-o9amr0"),ad(s,"class","copy svelte-o9amr0"),ad(m,"class","copy-text svelte-o9amr0"),ad(d,"class","copy svelte-o9amr0"),ad(v,"class","copy-text svelte-o9amr0"),ad(h,"class","copy svelte-o9amr0"),ad(i,"class","body svelte-o9amr0")},m(e,T){Xc(e,t,T),Vc(t,n),Xc(e,o,T),Xc(e,i,T),Vc(i,s),ru(r,s,null),Vc(s,a),Vc(s,l),Vc(i,c),Vc(i,d),ru(u,d,null),Vc(d,p),Vc(d,m),Vc(i,g),Vc(i,h),ru(f,h,null),Vc(h,_),Vc(h,v),w=!0},p:Ec,i(e){w||(Kd(r.$$.fragment,e),Kd(u.$$.fragment,e),Kd(f.$$.fragment,e),w=!0)},o(e){Qd(r.$$.fragment,e),Qd(u.$$.fragment,e),Qd(f.$$.fragment,e),w=!1},d(e){e&&(Kc(t),Kc(o),Kc(i)),au(r),au(u),au(f)}}}function pI(e){let t,n,o,i,s,r,a,l=e[2]&&cI(),c=e[1]&&dI(e);return{c(){t=Jc("div"),n=Jc("div"),o=nd(),l&&l.c(),i=nd(),c&&c.c(),ad(n,"class","icon svelte-o9amr0"),ad(n,"id","dl-gmail-settings-icon"),gd(n,"notification",e[2]),gd(n,"isOnboardingPopupOpen",e[1]),gd(n,"enabled",e[0].isGmailEnabled),ad(t,"class","deepl-gmail-header-toolbar svelte-o9amr0"),ad(t,"dir",es())},m(d,u){Xc(d,t,u),Vc(t,n),Vc(t,o),l&&l.m(t,null),Vc(t,i),c&&c.m(t,null),s=!0,r||(a=id(n,"click",rd(sd(e[5]))),r=!0)},p(e,[o]){(!s||4&o)&&gd(n,"notification",e[2]),(!s||2&o)&&gd(n,"isOnboardingPopupOpen",e[1]),(!s||1&o)&&gd(n,"enabled",e[0].isGmailEnabled),e[2]?l||(l=cI(),l.c(),l.m(t,i)):l&&(l.d(1),l=null),e[1]?c?(c.p(e,o),2&o&&Kd(c,1)):(c=dI(e),c.c(),Kd(c,1),c.m(t,null)):c&&(Yd(),Qd(c,1,1,(()=>{c=null})),Xd())},i(e){s||(Kd(c),s=!0)},o(e){Qd(c),s=!1},d(e){e&&Kc(t),l&&l.d(),c&&c.d(),r=!1,a()}}}function mI(e,t,n){let o;Ic(e,gu,(e=>n(0,o=e))),Ld("text_direction",es());let i=!1,s=!1;const r=async e=>{n(1,i=e),e||o.wasGmailOnboardingShown||await gu.set({wasGmailOnboardingShown:!0}),Xn({action:qn.dlTrackUILocationClicked,payload:ve}),e&&Xn({action:qn.dlTrackOnboardingModalShown,payload:{nicheIntegration:kt.gmail}})},a=async e=>{await gu.set({isGmailEnabled:e}),Xn({action:qn.dlTrackCustomizationEnabledEvent,payload:{nicheIntegration:kt.gmail,uiLocation:_e,customizationEnabled:e}})};return e.$$.update=()=>{1&e.$$.dirty&&n(2,s=!o.wasGmailOnboardingShown)},[o,i,s,r,a,()=>{r(!i)},e=>a(e.detail.checked),()=>{r(!1)}]}class gI extends cu{constructor(e){super(),lu(this,e,mI,pI,kc,{})}}class hI{static HTML_TAG_NAME="deepl-gmail-header-toolbar";static createElement=(e=document)=>{const t=e.createElement(hI.HTML_TAG_NAME),n=new hI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new gI({target:this.domElement.shadowContainer})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function fI(e){let t;return{c(){t=Jc("div"),ad(t,"class","dl-gmail"),ad(t,"dir",es())},m(e,n){Xc(e,t,n)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t)}}}function _I(e,t,n){let o,i,s,r,a;Ic(e,gu,(e=>n(5,o=e))),Ld("text_direction",es());let l=!1;const c=()=>{p(),o.isGmailEnabled?d():u()},d=()=>{m(),g()},u=()=>{const e=[PA.HTML_TAG_NAME,lI.HTML_TAG_NAME,KA.HTML_TAG_NAME];yI(e)},p=()=>{const e="data-has-dl-icon",t=document.querySelector("header");if(!t||"banner"!==t.getAttribute("role")||t.hasAttribute(e))return;const n=t.querySelector("[role='search']");if(!n)return;const o=n.parentNode;if(!o)return;const i=hI.createElement();o.insertAdjacentElement("afterend",i),i.createDOM(),t.setAttribute(e,!0)},m=()=>{if(EI()){const e=$I();if(!e)return;e.forEach((e=>{const t=CI(e);if(!t||xI(e))return;const n=t.parentNode;if(!n)return;const o=lI.createElement();n.after(o),o.createDOM({container:e})}))}},g=()=>{const e=document.activeElement;if(!e)return;const t=e.hasAttribute("contenteditable"),n=SI(e),o=e.hasAttribute(SA),i=e!==r,s=!a&&(!t||n||i),c=t&&(!o||i)&&!n;!s||c||l?(l=!1,s&&f(),c&&(f(),h(e))):l=!0},h=e=>{const t=KA.createElement();s=t,r=e,e.setAttribute(SA,"true"),document.body.appendChild(t);const n=(e=>{const t=function(e){let t=e;for(;null!==t;){if("dialog"===t.getAttribute("role"))return t;t=t.parentElement}return null}(e);return t?t.querySelector('input[name="subjectbox"]'):null})(e);t.createDOM({container:e,subjectInput:n,updateLockStatus:_})},f=()=>{s&&s.cleanupDOM();const e=Array.from(document.querySelectorAll(KA.HTML_TAG_NAME));for(const t of e)t.remove();document.querySelectorAll(`[contenteditable][${SA}="true"]`).forEach((e=>e.removeAttribute(SA))),s=null},_=e=>{a=e},v=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?w():T();return!0},w=()=>{i&&clearInterval(i),i=setInterval(c,800)},T=()=>{clearInterval(i)};return xd((()=>{w(),chrome.runtime.onMessage.addListener(v)})),Sd((()=>{u(),i&&T(),chrome.runtime.onMessage.removeListener(v)})),[]}class vI extends cu{constructor(e){super(),lu(this,e,_I,fI,kc,{})}}class wI{static HTML_TAG_NAME="deepl-gmail-controller";static createElement=(e=document)=>{const t=e.createElement(wI.HTML_TAG_NAME),n=new wI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new vI({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()}}const{scope:TI}=y_(),bI=()=>document.querySelector(wI.HTML_TAG_NAME),yI=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM&&t.cleanupDOM(),t.remove()}}catch(e){bs()&&console.error(e),vu(e,TI)}},EI=()=>document.querySelectorAll("[data-message-id]").length>0,$I=()=>document.querySelectorAll("[data-message-id]"),xI=e=>!!e&&!!e.querySelector(lI.HTML_TAG_NAME),SI=e=>{const{bottom:t,right:n}=e.getBoundingClientRect(),o=t-30,i=n-30;let s=!1;return document.querySelectorAll('[role="dialog"]').forEach((t=>{const n=(r=i,a=o,l=t.getBoundingClientRect(),r>=l.left&&r<=l.right&&a>=l.top&&a<=l.bottom);var r,a,l;const c=t.contains(e);n&&!c&&(s=!0)})),s},CI=e=>{if(e)return e.querySelector("table")},LI=e=>{const t=Zi(),n=t.filter((e=>void 0===e.regionalVariant)).map((e=>({value:e.value,label:`<strong>${e.value}</strong> - ${e.label}`,selectedOptionLabel:e.value}))),o=t.find((e=>"EN-GB"===e.value)),i=t.find((e=>"PT-PT"===e.value));return[...[...n,...[{...o,value:"EN",selectedOptionLabel:"EN",label:`<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`},{...i,value:"PT",selectedOptionLabel:"PT",label:`<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`}]].map((t=>e&&t.value===e.value?{...t,label:`${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`}:t))].sort(((e,t)=>e.value.localeCompare(t.value)))},kI=e=>{const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}},AI=(e,t)=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:e,clientY:t});document.elementFromPoint(e,t)?.dispatchEvent(n)},II=e=>{const{x:t,y:n}=kI(e);AI(t,n)},MI=(e,t)=>{const n=document.body;new MutationObserver(((o,i)=>{for(const s of o)if("childList"===s.type&&n.querySelector(e)){i.disconnect(),t(n.querySelector(e));break}})).observe(n,{childList:!0,subtree:!0})},OI=()=>{const e=document.querySelectorAll("[data-message-id]");for(const t of e){const e=t.nextElementSibling;if(e&&"DIV"===e.tagName)return e}return null},NI=()=>{const e=document.querySelectorAll('span[role="link"]');let t;for(let n=0;n<e.length;n++){const o=e[n],i=o.previousElementSibling;if(i&&"SPAN"===i.tagName&&"link"===i.getAttribute("role")){const e=o.parentElement,n=e.querySelectorAll('span[role="link"]'),i=Array.from(e.children).filter((e=>e.matches("span")));2!==(2===n.length&&i.length)&&3!==(3===n.length&&i.length)||(t=o)}}return t};let RI,DI,PI,UI,GI,BI,WI,zI,HI,jI,FI,qI;const{scope:VI}=y_(),{deepl_inline_ui:ZI}=R;function YI({websiteData:e,platformBehaviour:t=kt.default,onRemove:n=()=>{},textProcessingMode:o,isInput:i=!1}){try{let s;switch(XI(),qI=hA.createElement(),qI.platformBehaviour=t,qI.textProcessingMode=o,qI.style.zIndex=ZI.z_index,document.documentElement.appendChild(qI),t){case kt.gdocs:s=Ai;break;case kt.default:default:s=vv}qI.createDOM(s,(()=>XI(n)),e,i),Fh.update({isReviewTranslateWriteWindowInjected:!0})}catch(e){bs()&&console.error(e),vu(e,VI)}}function XI(e){try{qI&&(qI.cleanupDOM(),Array.from(document.getElementsByTagName(hA.HTML_TAG_NAME),(e=>e.remove())),Fh.update({isReviewTranslateWriteWindowInjected:!1}),DI=void 0,e&&e())}catch(e){bs()&&console.error(e),vu(e,VI)}}function KI({websiteData:e,platformBehaviour:t=kt.default,textProcessingMode:n=Mt.translate}){try{let o;switch(QI(),DI=bE.createElement(),DI.platformBehaviour=t,DI.textProcessingMode=n,DI.style.zIndex=ZI.z_index,document.documentElement.appendChild(DI),t){case kt.gdocs:o=Ai;break;case kt.default:default:o=vv}DI.createDOM(o,QI,e),Fh.update({isTranslationTooltipInjected:!0})}catch(e){bs()&&console.error(e),vu(e,VI)}}function QI(){try{DI&&(DI.cleanupDOM(),Array.from(document.getElementsByTagName(bE.HTML_TAG_NAME),(e=>e.remove())),Fh.update({isTranslationTooltipInjected:!1}),DI=void 0)}catch(e){bs()&&console.error(e),vu(e,VI)}}function JI(e=kt.default){try{if(PI)return;let t;switch(PI=yb.createElement(),PI.style.zIndex=ZI.z_index,document.documentElement.appendChild(PI),e){case kt.gdocs:t="deepl-gdocs-icon";break;case kt.default:default:t=T$.HTML_TAG_NAME}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=t;return{x:i-n.left,y:r-n.top,top:o,bottom:r,right:n.width-s,left:i+window.pageXOffset,width:l,height:a}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));PI.createDOM(n,eM),Fh.update({isInlineTranslateSettingsTooltipInjected:!0}),bp((()=>{eM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function eM(){try{if(!PI)return;PI.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),Fh.update({isInlineTranslateSettingsTooltipInjected:!1}),PI=void 0}catch(e){bs()&&console.error(e),vu(e,VI)}}function tM(){try{if(document.querySelector(aS.HTML_TAG_NAME))return;RI=aS.createElement(),document.documentElement.appendChild(RI),RI.createDOM(),document.addEventListener("click",nM),bp((()=>{nM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function nM(){try{RI&&(RI.cleanupDOM(),Array.from(document.getElementsByTagName(aS.HTML_TAG_NAME),(e=>e.remove())),RI=void 0,document.removeEventListener("click",nM))}catch(e){bs()&&console.error(e),vu(e,VI)}}function oM(){try{if(document.querySelector($S.HTML_TAG_NAME))return;zI=$S.createElement(),document.documentElement.appendChild(zI),zI.createDOM(),bp((()=>{sM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function iM(){try{if(document.querySelector(oC.HTML_TAG_NAME))return;HI=oC.createElement(),document.documentElement.appendChild(HI),HI.createDOM(),bp((()=>{rM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function sM(){try{zI&&(zI.cleanupDOM(),Array.from(document.getElementsByTagName($S.HTML_TAG_NAME),(e=>e.remove())),zI=void 0,document.removeEventListener("click",sM))}catch(e){bs()&&console.error(e),vu(e,VI)}}function rM(){try{HI&&(HI.cleanupDOM(),Array.from(document.getElementsByTagName(oC.HTML_TAG_NAME),(e=>e.remove())),HI=void 0,document.removeEventListener("click",rM))}catch(e){bs()&&console.error(e),vu(e,VI)}}function aM(){try{if(x_())return;jI=S_(),document.documentElement.appendChild(jI),jI.createDOM(),bp((()=>{lM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function lM(){try{jI&&(jI.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),jI=void 0,document.removeEventListener("click",lM))}catch(e){bs()&&console.error(e),vu(e,VI)}}function cM(){try{if(document.querySelector(lO.HTML_TAG_NAME))return;BI=lO.createElement(),document.body.appendChild(BI),BI.createDOM({useIconForShortcutOnly:!1}),bp((()=>{pM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function dM(){try{if(bI())return;FI=wI.createElement(),document.documentElement.appendChild(FI),FI.createDOM(),bp((()=>{uM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}function uM(){try{FI&&(FI.cleanupDOM(),Array.from(document.getElementsByTagName(wI.HTML_TAG_NAME),(e=>e.remove())),FI=void 0,document.removeEventListener("click",uM))}catch(e){bs()&&console.error(e),vu(e,VI)}}function pM(){try{if(BI){BI.cleanupDOM();const e=Array.from(document.querySelectorAll(lO.HTML_TAG_NAME));for(const t of e)t.remove();BI=void 0,document.removeEventListener("click",pM)}}catch(e){bs()&&console.error(e),vu(e,VI)}}async function mM(e){try{if(!UI)return;UI.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),UI=void 0;if(!(await IT(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(UI)){try{Xn({action:qn.dlTrackCloseInlineHighlighter,payload:{trigger:Lt}})}catch(e){console.error(e)}gu.set({isInlineHighlighterShown:!0})}}catch(e){bs()&&console.error(e),vu(e,VI)}}async function gM(){try{if(!GI)return;GI.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-input-selection-trigger"),(e=>e.remove())),GI=void 0}catch(e){bs()&&console.error(e),vu(e.message)}}function hM(e,t){mM();try{UI=T$.createElement(),UI.style.zIndex=ZI.z_index,document.documentElement.appendChild(UI),UI.createDOM(e,t),bp((()=>{mM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}async function fM(e,t){await gM();try{GI=b$.createElement(),GI.style.zIndex=ZI.z_index,document.documentElement.appendChild(GI),GI.createDOM(e,t);const n=async()=>{await gM()};e.addEventListener("input",n),bp((async()=>{await gM(),e.removeEventListener("input",n)}))}catch(e){bs()&&console.error(e),vu(e.message)}}async function _M(e){const t=async t=>{requestAnimationFrame((async()=>{if(!t||!t.target)return;const n=window.getSelection();if(!n.toString().trim())return;if(2===t.button)return;const o="TEXTAREA"===t.target.tagName,i=e=>{if(!e)return!1;const t=e.childNodes;for(let e=0;e<t.length;e++)if(t[e].isContentEditable||"TEXTAREA"===t[e].tagName)return t[e];return!1};if(n.isCollapsed||n.anchorNode?.parentNode?.isContentEditable){if(n.anchorNode?.parentNode?.isContentEditable||o||i(n.anchorNode)){let e={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:TM(t)};if(n.anchorNode?.parentNode?.isContentEditable)await fM(n.anchorNode.parentNode,e);else if(o)await fM(t.target,e);else{const t=i(n.anchorNode);await fM(t,e)}}}else{const o=n.getRangeAt(0)?.commonAncestorContainer;if(!o.contains(t.target)&&!t.target.contains(o))return;let i={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:TM(t)};hM(e,i)}}))},n=async()=>{window.getSelection().toString().trim()?await t():(mM(),gM())},o=e=>{"Escape"===e.key&&gM()};document.addEventListener("mouseup",t),document.addEventListener("mousedown",mM),document.addEventListener("selectionchange",n),document.addEventListener("keydown",o),bp((()=>{document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",mM),document.removeEventListener("selectionchange",n),document.removeEventListener("keydown",o)}))}function vM(e,t){try{WI=Z$.createElement(),WI.style.zIndex=ZI.z_index,document.documentElement.appendChild(WI),WI.createDOM(e,t),bp((()=>{WI.cleanupDOM()}))}catch(e){bs()&&console.error(e),vu(e,VI)}}const wM=(e=xt.initial)=>{const t=TC.createElement();document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),bp((()=>{t.cleanupDOM()}))};function TM({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}function bM(e){switch(e){case"web.whatsapp.com":uw();break;case"twitter.com":case"tweetdeck.twitter.com":case"x.com":Aw();break;case"www.linkedin.com":!function(){let e=new MutationObserver((()=>{Yw()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),bp((()=>e.disconnect()))}();break;case"www.youtube.com":gT()}}async function yM(e){const t=e.split(".");if("deepl.com"===t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".")){document.body.dataset.dlBrowserExtensionPresent="true";try{const{requireLogin:e,suggestIdp:t}=await chrome.storage.managed.get(["requireLogin","suggestIdp"]);e&&(document.body.dataset.dlBrowserExtensionRequireLogin="true"),t&&(document.body.dataset.dlBrowserExtensionSuggestIdp=t)}catch{}}}async function EM(e){const t=await IT(["shouldDisplayFeedbackPopup"]);if("https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi"===e)t.shouldDisplayFeedbackPopup&&(gu.set({shouldDisplayFeedbackPopup:!1}),wM(xt.feedback))}function $M(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function xM(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}const SM=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"chatgpt.com"===e.hostname},CM=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&CM.forEach((e=>e.resize.disconnect()))};const{scope:LM}=y_();const kM=e=>"true"===e.contentEditable||"TEXTAREA"===e.nodeName&&(e.rows>1||SM());const AM=({inputArea:e})=>{const t=NM(e);return{position:"absolute",top:t.top,left:t.left,right:t.right,width:t.width,height:t.height,isLanguageToolsPresent:!!document.querySelector("lt-toolbar"),isGrammarlyPresent:!!document.querySelector("grammarly-extension"),isChatGPTPresent:SM()}},IM=({inputArea:e})=>{const t=[];if(e)for(let n=e.parentElement;null!==n;n=n.parentElement)MM(n)&&t.push(n);return t},MM=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)},OM=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},NM=e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=OM(n,e);if(i)n=i;else if(MM(t))return o}return n=OM(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o},RM=[{domain:"zendesk.com",selectors:['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],uniqueDataAttributes:[{key:"testId",value:"ticket-rich-text-editor"}]}];function DM(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1opaki9")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function PM(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1opaki9")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function UM(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1opaki9")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function GM(e){let t;return{c(){t=Jc("span"),ad(t,"class","svelte-1opaki9")},m(e,n){Xc(e,t,n)},p:Ec,d(e){e&&Kc(t)}}}function BM(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w;return o=new Sp({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[DM]},$$scope:{ctx:e}}}),r=new Sp({props:{tooltip:e[9],showProShield:to(e[3],qt.WRITE),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[PM]},$$scope:{ctx:e}}}),u=new Sp({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_select_target_lang"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[UM]},$$scope:{ctx:e}}}),g=new Sp({props:{showProShield:to(e[3],qt.TRANSLATOR),tooltip:e[7],parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[GM]},$$scope:{ctx:e}}}),{c(){t=Jc("div"),n=Jc("div"),su(o.$$.fragment),i=nd(),s=Jc("div"),su(r.$$.fragment),a=nd(),l=Jc("div"),c=nd(),d=Jc("div"),su(u.$$.fragment),p=nd(),m=Jc("div"),su(g.$$.fragment),h=nd(),f=Jc("div"),ad(n,"class","dl-icon-circle dl-on-off svelte-1opaki9"),ad(s,"class","dl-icon-circle dl-improve svelte-1opaki9"),gd(s,"disabled",!e[8]),ad(l,"class","spacer svelte-1opaki9"),ad(d,"class","dl-icon-circle dl-settings svelte-1opaki9"),gd(d,"disabled",e[2]),ad(m,"class","dl-icon-circle dl-icon svelte-1opaki9"),ad(m,"data-qa","input-translation-icon"),gd(m,"disabled",e[2]),ad(f,"class","dl-icon-circle dl-loading svelte-1opaki9"),ad(t,"class","dl-input-icon svelte-1opaki9"),gd(t,"is-input-translation-disabled",e[10]),gd(t,"is-loading",e[6]),gd(t,"is-minimized",e[5])},m(T,b){Xc(T,t,b),Vc(t,n),ru(o,n,null),Vc(t,i),Vc(t,s),ru(r,s,null),Vc(t,a),Vc(t,l),Vc(t,c),Vc(t,d),ru(u,d,null),Vc(t,p),Vc(t,m),ru(g,m,null),e[39](m),Vc(t,h),Vc(t,f),_=!0,v||(w=[id(n,"mousedown",rd(sd(e[30]))),id(n,"mouseenter",e[31]),id(n,"click",e[32]),id(s,"mousedown",rd(sd(e[29]))),id(s,"mouseenter",e[33]),id(s,"click",e[34]),id(d,"mousedown",rd(sd(e[28]))),id(d,"mouseenter",e[35]),id(d,"click",e[36]),id(m,"mousedown",rd(sd(e[27]))),id(m,"click",e[37]),id(m,"mouseenter",e[38])],v=!0)},p(e,n){const i={};2&n[0]&&(i.parentIsRTL=e[1]),16384&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const a={};512&n[0]&&(a.tooltip=e[9]),8&n[0]&&(a.showProShield=to(e[3],qt.WRITE)),2&n[0]&&(a.parentIsRTL=e[1]),16384&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),(!_||256&n[0])&&gd(s,"disabled",!e[8]);const l={};2&n[0]&&(l.parentIsRTL=e[1]),16384&n[1]&&(l.$$scope={dirty:n,ctx:e}),u.$set(l),(!_||4&n[0])&&gd(d,"disabled",e[2]);const c={};8&n[0]&&(c.showProShield=to(e[3],qt.TRANSLATOR)),128&n[0]&&(c.tooltip=e[7]),2&n[0]&&(c.parentIsRTL=e[1]),16384&n[1]&&(c.$$scope={dirty:n,ctx:e}),g.$set(c),(!_||4&n[0])&&gd(m,"disabled",e[2]),(!_||1024&n[0])&&gd(t,"is-input-translation-disabled",e[10]),(!_||64&n[0])&&gd(t,"is-loading",e[6]),(!_||32&n[0])&&gd(t,"is-minimized",e[5])},i(e){_||(Kd(o.$$.fragment,e),Kd(r.$$.fragment,e),Kd(u.$$.fragment,e),Kd(g.$$.fragment,e),_=!0)},o(e){Qd(o.$$.fragment,e),Qd(r.$$.fragment,e),Qd(u.$$.fragment,e),Qd(g.$$.fragment,e),_=!1},d(n){n&&Kc(t),au(o),au(r),au(u),au(g),e[39](null),v=!1,Cc(w)}}}function WM(e,t,n){let o,i,s;const r=kd("deepl_settings");Ic(e,r,(e=>n(3,s=e)));let a,l,c,{inputArea:d}=t,{lockActiveElement:u}=t,{openSettings:p}=t,{closeSettings:m}=t,{hideOnboardingHighlighter:g}=t,{registerIconCallbacks:h}=t,{unregisterIconCallbacks:f}=t,{getActiveElement:v}=t,{setErrorMessage:w}=t,{isInputAreaRTL:T}=t,{useIconForShortcutOnly:b=!1}=t,y=!1,E=!1,$="",x={},S=chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported");const C=()=>{L()},L=()=>{n(5,y=av(d,a))};async function k(e){await r.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),I()}const A=async(e,t,o)=>{const r=v();switch(e.action){case"dlTriggerTranslationShortcut":if(w(void 0),r!==d)return;try{Xn({action:qn.dlTrackUseOfShortcut,payload:{shortcutType:nt,location:X}})}catch(e){console.error(e)}if(i)return void o();if(s&&s.targetLanguageUserInput){n(6,E=!0);try{await xA(d)}catch(e){w(e)}n(6,E=!1)}else p({fromShortcut:!0});o();break;case"dlChangeLanguageShortcut":if(r!==d)return;if(i)return void o();n(6,E=!0);try{p({fromShortcut:!0})}catch(e){w(e)}n(6,E=!1),o()}return!0};async function I(e){if(w(void 0),g(),s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput||e?.isWriteRequest){m(),n(6,E=!0);try{await xA(d,e),l||Kn(D)}catch(e){w(e)}n(6,E=!1)}else p()}function M(e){Xn({action:qn.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host}})}const O=()=>{u(),s.targetLanguageUserInput?I():p(),Xn({action:qn.dlTrackUILocationClicked,payload:X})};async function N(){let e;e=iv(d)?d.value:d.innerText,n(26,x=await Vi(e,!0)),x.isReliable;try{e&&function(e){try{return e.replace(/[^\p{L}]/gu,"").length}catch(t){return e.replace(/[^a-zA-Z]/g,"").length}}(e)>0&&Xn({action:qn.dlTrackLanguageDetectionForTextProcessing,payload:{lang:x.langCode,isReliable:x.isReliable,trigger:_,textLength:e.length,domainName:window.location.hostname}})}catch(e){console.error(e)}}xd((()=>{chrome.runtime.onMessage.addListener(A),h({processRefreshCycle:C,languageChanged:k,triggerTranslation:I})})),Sd((()=>{chrome.runtime.onMessage.removeListener(A),f()}));return e.$$set=e=>{"inputArea"in e&&n(16,d=e.inputArea),"lockActiveElement"in e&&n(17,u=e.lockActiveElement),"openSettings"in e&&n(0,p=e.openSettings),"closeSettings"in e&&n(18,m=e.closeSettings),"hideOnboardingHighlighter"in e&&n(19,g=e.hideOnboardingHighlighter),"registerIconCallbacks"in e&&n(20,h=e.registerIconCallbacks),"unregisterIconCallbacks"in e&&n(21,f=e.unregisterIconCallbacks),"getActiveElement"in e&&n(22,v=e.getActiveElement),"setErrorMessage"in e&&n(23,w=e.setErrorMessage),"isInputAreaRTL"in e&&n(1,T=e.isInputAreaRTL),"useIconForShortcutOnly"in e&&n(24,b=e.useIconForShortcutOnly)},e.$$.update=()=>{if(67108872&e.$$.dirty[0]&&(oo(s,qt.WRITE)?n(9,S=chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin")):Qi(x.langCode)?n(9,S=chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")):n(9,S=chrome.i18n.getMessage("write_language_not_supported")),n(8,c=!x.langCode||Qi(x.langCode)&&!oo(s,qt.WRITE))),8&e.$$.dirty[0]&&n(2,i=oo(s,qt.TRANSLATOR)),12&e.$$.dirty[0])if(i)n(7,$=chrome.i18n.getMessage("contact_admin_info_translate_disabled"));else if(s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput){let e;Xn({action:Hn.dlCheckCommandShortcuts}).then((t=>{e=t?t.filter((e=>e.name==nt))[0].shortcut:"",e?(e=`(${e})`,l=!0):l=!1,n(7,$=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else n(7,$=chrome.i18n.getMessage("input_translation_tooltip_translate_text"));16777224&e.$$.dirty[0]&&n(10,o=b||!s.enableInputTranslation||mv(window.location.host,window.location.href)||s.blacklistDomainsForWriting.includes(window.location.host)||s.isGmailEnabled&&ov())},[p,T,i,s,a,y,E,$,c,S,o,r,I,M,O,N,d,u,m,g,h,f,v,w,b,k,x,function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},function(t){Ad.call(this,e,t)},()=>M(Q),()=>p({page:qE}),()=>{M(K)},()=>{c&&I({isWriteRequest:!0})},()=>M(Q),()=>{!i&&p({page:FE})},()=>i?null:O(),()=>{N(),M(X)},function(e){Md[e?"unshift":"push"]((()=>{a=e,n(4,a)}))}]}class zM extends cu{constructor(e){super(),lu(this,e,WM,BM,kc,{inputArea:16,lockActiveElement:17,openSettings:0,closeSettings:18,hideOnboardingHighlighter:19,registerIconCallbacks:20,unregisterIconCallbacks:21,getActiveElement:22,setErrorMessage:23,isInputAreaRTL:1,useIconForShortcutOnly:24,onLanguageChanged:25},null,[-1,-1])}get onLanguageChanged(){return this.$$.ctx[25]}}function HM(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;return{c(){t=Jc("div"),n=Jc("div"),o=Jc("div"),i=Jc("div"),s=Jc("div"),s.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,r=nd(),a=Jc("div"),a.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,l=nd(),c=Jc("button"),ad(s,"class","headline svelte-1vokldc"),ad(i,"class","text-wrapper svelte-1vokldc"),ad(o,"class","content svelte-1vokldc"),ad(c,"class","close-icon svelte-1vokldc"),ad(n,"class",d=Pc(`body body__${e[0]}`)+" svelte-1vokldc"),ad(t,"class",u="container container__"+e[0]+" svelte-1vokldc")},m(d,u){Xc(d,t,u),Vc(t,n),Vc(n,o),Vc(o,i),Vc(i,s),Vc(i,r),Vc(i,a),Vc(n,l),Vc(n,c),e[13](t),g=!0,h||(f=id(c,"click",e[12]),h=!0)},p(e,o){(!g||1&o&&d!==(d=Pc(`body body__${e[0]}`)+" svelte-1vokldc"))&&ad(n,"class",d),(!g||1&o&&u!==(u="container container__"+e[0]+" svelte-1vokldc"))&&ad(t,"class",u)},i(e){g||(Ud((()=>{g&&(m&&m.end(1),p=eu(t,Vu,{x:100,duration:1e3}),p.start())})),g=!0)},o(e){p&&p.invalidate(),m=tu(t,Vu,{x:100,duration:1e3}),g=!1},d(n){n&&Kc(t),e[13](null),n&&m&&m.end(),h=!1,f()}}}function jM(e){let t,n,o=e[1]&&HM(e);return{c(){o&&o.c(),t=od()},m(e,i){o&&o.m(e,i),Xc(e,t,i),n=!0},p(e,[n]){e[1]?o?(o.p(e,n),2&n&&Kd(o,1)):(o=HM(e),o.c(),Kd(o,1),o.m(t.parentNode,t)):o&&(Yd(),Qd(o,1,1,(()=>{o=null})),Xd())},i(e){n||(Kd(o),n=!0)},o(e){Qd(o),n=!1},d(e){e&&Kc(t),o&&o.d(e)}}}function FM(t,n,o){let i,s,{onClose:r}=n,{icon:a}=n,{position:l="top"}=n,{registerHighlighterCallbacks:c}=n,{unregisterHighlighterCallbacks:d}=n,{textDirection:u}=n,p={top:0,bottom:0,left:0,right:0},m={height:0,width:0},g=190,h=305;const f=()=>{if(a){const e=a.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==p[n]&&(t[n]=e[n]);Object.keys(t).length&&o(8,p={...p,...t});let n={};window.innerHeight!==m.height&&(n.height=window.innerHeight),window.innerWidth!==m.width&&(n.width=window.innerWidth),Object.keys(n).length&&o(9,m={...m,...n})}else o(8,p={top:0,bottom:0,left:0,right:0})};function _(e=St){r();try{Xn({action:qn.dlTrackCloseInputHighlighter,payload:{trigger:e}})}catch(e){console.error(e)}}xd((async()=>{c({recalculateHighlighterCoords:f});try{Xn({action:qn.dlTrackOpenInputHighlighter,payload:{domainName:e.websiteData.hostname}}),f()}catch(e){console.error(e)}s=Cp(i,(({clientHeight:e,clientWidth:t})=>{o(10,g=e),o(11,h=t)}))})),Sd((()=>{d(),s&&s()}));return t.$$set=e=>{"onClose"in e&&o(4,r=e.onClose),"icon"in e&&o(1,a=e.icon),"position"in e&&o(0,l=e.position),"registerHighlighterCallbacks"in e&&o(5,c=e.registerHighlighterCallbacks),"unregisterHighlighterCallbacks"in e&&o(6,d=e.unregisterHighlighterCallbacks),"textDirection"in e&&o(7,u=e.textDirection)},t.$$.update=()=>{3840&t.$$.dirty&&o(0,l=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!a)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:p,viewportSize:m,highlighterHeight:g,highlighterWidth:h}))},[l,a,i,_,r,c,d,u,p,m,g,h,()=>_(),function(e){Md[e?"unshift":"push"]((()=>{i=e,o(2,i)}))}]}class qM extends cu{constructor(e){super(),lu(this,e,FM,jM,kc,{onClose:4,icon:1,position:0,registerHighlighterCallbacks:5,unregisterHighlighterCallbacks:6,textDirection:7})}}function VM(e){let t,n,o,i,s,r;return n=new Jg({props:{error:e[1],config:{small:!0},close:e[2]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class",o="error-container error-container__"+e[0]+" svelte-16e3fjt")},m(o,a){Xc(o,t,a),ru(n,t,null),e[12](t),i=!0,s||(r=[Gc(Tp.call(null,t,{isShadow:!0})),id(t,"click_outside",e[13])],s=!0)},p(e,[s]){const r={};2&s&&(r.error=e[1]),4&s&&(r.close=e[2]),n.$set(r),(!i||1&s&&o!==(o="error-container error-container__"+e[0]+" svelte-16e3fjt"))&&ad(t,"class",o)},i(e){i||(Kd(n.$$.fragment,e),i=!0)},o(e){Qd(n.$$.fragment,e),i=!1},d(o){o&&Kc(t),au(n),e[12](null),s=!1,Cc(r)}}}function ZM(e,t,n){let o,i,{errorMessage:s}=t,{icon:r}=t,{position:a="top"}=t,{registerErrorCallbacks:l}=t,{unregisterErrorCallbacks:c}=t,{close:d}=t,u=140,p=387,m={top:0,bottom:0,left:0,right:0},g={height:0,width:0};const h=()=>{if(r){const e=r.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==m[n]&&(t[n]=e[n]);Object.keys(t).length&&n(10,m={...m,...t});let o={};window.innerHeight!==g.height&&(o.height=window.innerHeight),window.innerWidth!==g.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(11,g={...g,...o})}else n(10,m={top:0,bottom:0,left:0,right:0})};xd((()=>{h(),l({recalculateErrorCoords:h}),i=Cp(o,(({clientHeight:e,clientWidth:t})=>{n(8,u=e),n(9,p=t)}))})),Sd((()=>{c(),i&&i()}));return e.$$set=e=>{"errorMessage"in e&&n(1,s=e.errorMessage),"icon"in e&&n(4,r=e.icon),"position"in e&&n(0,a=e.position),"registerErrorCallbacks"in e&&n(5,l=e.registerErrorCallbacks),"unregisterErrorCallbacks"in e&&n(6,c=e.unregisterErrorCallbacks),"close"in e&&n(2,d=e.close)},e.$$.update=()=>{3840&e.$$.dirty&&n(0,a=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!r)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:m,viewportSize:g,popupHeight:u,popupWidth:p}))},[a,s,d,o,r,l,c,h,u,p,m,g,function(e){Md[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},()=>d()]}class YM extends cu{constructor(e){super(),lu(this,e,ZM,VM,kc,{errorMessage:1,icon:4,position:0,registerErrorCallbacks:5,unregisterErrorCallbacks:6,close:2,recalculateErrorCoords:7})}get recalculateErrorCoords(){return this.$$.ctx[7]}}function XM(e){let t,n,o;return{c(){t=Jc("div")},m(i,s){Xc(i,t,s),n||(o=[id(t,"click_outside",e[17]),Gc(Tp.call(null,t,{isShadow:!0}))],n=!0)},p:Ec,i:Ec,o:Ec,d(e){e&&Kc(t),n=!1,Cc(o)}}}function KM(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;o=new zM({props:{inputArea:e[2],lockActiveElement:e[18],openSettings:e[21],closeSettings:e[22],hideOnboardingHighlighter:e[19],registerIconCallbacks:e[23],unregisterIconCallbacks:e[24],getActiveElement:e[20],isInputAreaRTL:e[10],setErrorMessage:e[35],useIconForShortcutOnly:e[0]}});let g=e[4]&&QM(e),h=e[5]&&JM(e),f=e[8]&&eO(e);return{c(){t=Jc("div"),n=Jc("div"),su(o.$$.fragment),i=nd(),g&&g.c(),s=nd(),h&&h.c(),r=nd(),f&&f.c(),ad(n,"class","dl-input-placeholder svelte-d7i1bp"),gd(n,"disabled",e[13]),gd(n,"reduced-space",!e[14]),gd(n,"other-extension-present",e[12]),gd(n,"chat-gpt-present",e[1].isChatGPTPresent),ad(t,"class","dl-input-positioner svelte-d7i1bp"),ad(t,"dir",c=e[10]?"rtl":"ltr"),ad(t,"style",d=[`top: ${e[1].top}px;`,`left: ${e[1].left}px;`,`height: ${e[1].height}px;`,`width: ${e[1].width}px;`,`position: ${e[1].position};`].join(" ")),gd(t,"debug-mode",nO)},m(a,l){Xc(a,t,l),Vc(t,n),ru(o,n,null),Vc(n,i),g&&g.m(n,null),Vc(n,s),h&&h.m(n,null),Vc(n,r),f&&f.m(n,null),e[39](n),u=!0,p||(m=[Gc(Tp.call(null,n,{isShadow:!0})),id(n,"click_outside",e[38]),id(n,"click",e[18])],p=!0)},p(e,i){const a={};4&i[0]&&(a.inputArea=e[2]),1024&i[0]&&(a.isInputAreaRTL=e[10]),256&i[0]&&(a.setErrorMessage=e[35]),1&i[0]&&(a.useIconForShortcutOnly=e[0]),o.$set(a),e[4]?g?(g.p(e,i),16&i[0]&&Kd(g,1)):(g=QM(e),g.c(),Kd(g,1),g.m(n,s)):g&&(Yd(),Qd(g,1,1,(()=>{g=null})),Xd()),e[5]?h?(h.p(e,i),32&i[0]&&Kd(h,1)):(h=JM(e),h.c(),Kd(h,1),h.m(n,r)):h&&(Yd(),Qd(h,1,1,(()=>{h=null})),Xd()),e[8]?f?(f.p(e,i),256&i[0]&&Kd(f,1)):(f=eO(e),f.c(),Kd(f,1),f.m(n,null)):f&&(Yd(),Qd(f,1,1,(()=>{f=null})),Xd()),(!u||8192&i[0])&&gd(n,"disabled",e[13]),(!u||16384&i[0])&&gd(n,"reduced-space",!e[14]),(!u||4096&i[0])&&gd(n,"other-extension-present",e[12]),(!u||2&i[0])&&gd(n,"chat-gpt-present",e[1].isChatGPTPresent),(!u||1024&i[0]&&c!==(c=e[10]?"rtl":"ltr"))&&ad(t,"dir",c),(!u||2&i[0]&&d!==(d=[`top: ${e[1].top}px;`,`left: ${e[1].left}px;`,`height: ${e[1].height}px;`,`width: ${e[1].width}px;`,`position: ${e[1].position};`].join(" ")))&&ad(t,"style",d)},i(e){u||(Kd(o.$$.fragment,e),Kd(g),Kd(h),Kd(f),Ud((()=>{u&&(l&&l.end(1),a=eu(n,qu,{duration:100}),a.start())})),u=!0)},o(e){Qd(o.$$.fragment,e),Qd(g),Qd(h),Qd(f),a&&a.invalidate(),l=tu(n,qu,{duration:150}),u=!1},d(n){n&&Kc(t),au(o),g&&g.d(),h&&h.d(),f&&f.d(),e[39](null),n&&l&&l.end(),p=!1,Cc(m)}}}function QM(e){let t,n,o,i;return n=new qM({props:{onClose:e[19],position:"top",registerHighlighterCallbacks:e[29],unregisterHighlighterCallbacks:e[30],icon:e[3]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","dl-onboarding-highlighter svelte-d7i1bp"),ad(t,"dir",o=e[10]?"rtl":"ltr")},m(e,o){Xc(e,t,o),ru(n,t,null),i=!0},p(e,s){const r={};8&s[0]&&(r.icon=e[3]),n.$set(r),(!i||1024&s[0]&&o!==(o=e[10]?"rtl":"ltr"))&&ad(t,"dir",o)},i(e){i||(Kd(n.$$.fragment,e),i=!0)},o(e){Qd(n.$$.fragment,e),i=!1},d(e){e&&Kc(t),au(n)}}}function JM(e){let t,n;return t=new JE({props:{icon:e[3],startPage:e[6],fromShortcut:e[7],position:"top",registerSettingsCallbacks:e[25],unregisterSettingsCallbacks:e[26],closeSettings:e[22]}}),t.$on("languageChanged",e[36]),t.$on("close",e[22]),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};8&n[0]&&(o.icon=e[3]),64&n[0]&&(o.startPage=e[6]),128&n[0]&&(o.fromShortcut=e[7]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function eO(e){let t,n;return t=new YM({props:{errorMessage:e[8],icon:e[3],position:"top",registerErrorCallbacks:e[27],unregisterErrorCallbacks:e[28],close:e[37]}}),{c(){su(t.$$.fragment)},m(e,o){ru(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.errorMessage=e[8]),8&n[0]&&(o.icon=e[3]),256&n[0]&&(o.close=e[37]),t.$set(o)},i(e){n||(Kd(t.$$.fragment,e),n=!0)},o(e){Qd(t.$$.fragment,e),n=!1},d(e){au(t,e)}}}function tO(e){let t,n,o,i;const s=[KM,XM],r=[];function a(e,t){return e[11]&&e[1]&&e[15]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=od()},m(e,n){r[t].m(e,n),Xc(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?r[t].p(e,i):(Yd(),Qd(r[l],1,1,(()=>{r[l]=null})),Xd(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Kd(n,1),n.m(o.parentNode,o))},i(e){i||(Kd(n),i=!0)},o(e){Qd(n),i=!1},d(e){e&&Kc(o),r[t].d(e)}}}const nO=!1;function oO(t,n,o){let i,s,r,a,l;const c=kd("deepl_settings");Ic(t,c,(e=>o(34,l=e)));const d=20,u=40;let p,m,g,h,f,_,v,w,T,b,y=!1,E=!1,$=!1,x=!1,S=!1,{trackInputInjectionIfNecessary:C}=n,{registerPositionerCallbacks:L}=n,{unregisterPositionerCallbacks:k}=n,{useIconForShortcutOnly:A=!1}=n,I=!1,M=[],O={top:0,left:0,height:0,width:0,position:"absolute",isLanguageToolsPresent:!1,isGrammarlyPresent:!1,isChatGPTPresent:SM()},N=!1;const R=()=>{o(2,p=document.activeElement);const e=function(e){const t=RM.find((({domain:t})=>{const n=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");return new RegExp(n).test(e)}));return t||null}(window.location.href);if(e?.uniqueDataAttributes&&e.uniqueDataAttributes.length>0)for(let t of e.uniqueDataAttributes)if(p.dataset[t.key]===t.value)return;if(e?.selectors&&e.selectors.length>0)for(let t of e.selectors){const e=document.querySelector(t),n=Av(e),o=Av(p),i=n.toString()===o.toString();if(e===p||e.isSameNode(p)||i)return}M=IM({inputArea:p}),j(),C(),P()},D=()=>{y=!1},P=()=>{if(!r&&!l.isInputHighlighterShown&&!ov()){Uc(c,l.isInputHighlighterShown=!0,l),o(4,E=!0);try{Xn({action:qn.dlTrackOpenInputHighlighter,payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}},U=()=>{o(4,E=!1)},G=()=>{W(),N&&(o(10,I=ts(p)),z(),b&&b(),E&&_&&_(),$&&v&&v(),w&&w())},B=(e=document.activeElement)=>{const t=e.contentDocument;return t&&t.activeElement?B(t.activeElement):e},W=()=>{const e=B(),t=N&&!y&&e!==p,n=!N&&e&&kM(e),i=p&&!p.isConnected;!t||n||S?(S=!1,(t||i)&&(U(),o(8,h=void 0),F(),M=[],o(2,p=void 0)),n&&R()):S=!0},z=()=>{o(1,O=AM({inputArea:p}))},H=()=>{z()},j=()=>{o(11,N=!0),z();for(const e of M)e.addEventListener("scroll",H);window.addEventListener("scroll",H)},F=()=>{o(11,N=!1);for(const e of M)e.removeEventListener("scroll",H);window.removeEventListener("scroll",H),Z()},q=()=>{f&&f()},V=({page:e,fromShortcut:t=!1}={})=>{o(6,g=e),o(7,x=t),$||(o(5,$=!0),Xn({action:qn.dlTrackInlineSettingOpened,payload:{uiFunction:ct,uiLocation:X}}))},Z=()=>{$&&o(5,$=!1)};xd((()=>{M=IM({inputArea:p}),L({processRefreshCycle:G,triggerTranslation:q,openSettings:V})})),Sd((()=>{for(const e of M)e.removeEventListener("scroll",H);k()}));return t.$$set=e=>{"trackInputInjectionIfNecessary"in e&&o(31,C=e.trackInputInjectionIfNecessary),"registerPositionerCallbacks"in e&&o(32,L=e.registerPositionerCallbacks),"unregisterPositionerCallbacks"in e&&o(33,k=e.unregisterPositionerCallbacks),"useIconForShortcutOnly"in e&&o(0,A=e.useIconForShortcutOnly)},t.$$.update=()=>{2&t.$$.dirty[0]&&o(15,i=O.height>=d),2&t.$$.dirty[0]&&o(14,s=O.height>=u),1&t.$$.dirty[0]|8&t.$$.dirty[1]&&o(13,r=A||!l.enableInputTranslation||mv(window.location.host,window.location.href)||l.blacklistDomainsForWriting.includes(window.location.host)||l.isGmailEnabled&&ov()),2&t.$$.dirty[0]&&o(12,a=O.isLanguageToolsPresent||O.isGrammarlyPresent)},[A,O,p,m,E,$,g,x,h,T,I,N,a,r,s,i,c,D,()=>{y=!0},U,B,V,Z,({processRefreshCycle:e,languageChanged:t,triggerTranslation:n})=>{b=e,o(9,T=t),f=n},()=>{b=void 0,o(9,T=void 0),f=void 0},({recalculateSettingsCoords:e})=>{v=e},()=>{v=void 0},({recalculateErrorCoords:e})=>{w=e},()=>{w=void 0},({recalculateHighlighterCoords:e})=>{_=e},()=>{_=void 0},C,L,k,l,e=>{o(8,h=e)},e=>T&&T(e.detail.lang),()=>{o(8,h=void 0)},()=>{D(),Z()},function(e){Md[e?"unshift":"push"]((()=>{m=e,o(3,m)}))}]}class iO extends cu{constructor(e){super(),lu(this,e,oO,tO,kc,{trackInputInjectionIfNecessary:31,registerPositionerCallbacks:32,unregisterPositionerCallbacks:33,useIconForShortcutOnly:0},null,[-1,-1])}}function sO(e){let t,n,o;return n=new iO({props:{trackInputInjectionIfNecessary:e[1],registerPositionerCallbacks:e[2],unregisterPositionerCallbacks:e[3],useIconForShortcutOnly:e[0]}}),{c(){t=Jc("div"),su(n.$$.fragment),ad(t,"class","dl-input-translation-container svelte-95aucy")},m(e,i){Xc(e,t,i),ru(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.useIconForShortcutOnly=e[0]),n.$set(o)},i(e){o||(Kd(n.$$.fragment,e),o=!0)},o(e){Qd(n.$$.fragment,e),o=!1},d(e){e&&Kc(t),au(n)}}}function rO(e,t,n){Ld("deepl_settings",gu),Ld("deepl_website_settings",Fh),Ld("text_direction",es());let o,i,s,r,{useIconForShortcutOnly:a=!1}=t,l=!0,c=!1;const d=()=>{o&&o()},u=async(e,t,o)=>{if("dlChangeActiveTabStatus"===e.action)n(6,l=e.payload.isActive),o();return!0},p=()=>{r&&clearInterval(r),r=setInterval(d,300)},m=()=>{clearInterval(r)};return xd((()=>{p(),chrome.runtime.onMessage.addListener(u)})),Sd((()=>{r&&m(),chrome.runtime.onMessage.removeListener(u)})),e.$$set=e=>{"useIconForShortcutOnly"in e&&n(0,a=e.useIconForShortcutOnly)},e.$$.update=()=>{64&e.$$.dirty&&(l?p():m())},[a,()=>{c||(c=!0,Xn({action:qn.dlTrackInputTranslationInjection,payload:window.location.host}))},({processRefreshCycle:e,triggerTranslation:t,openSettings:n})=>{o=e,i=t,s=n},()=>{o=void 0,i=void 0,s=void 0},()=>{i&&i()},()=>{s&&s({fromShortcut:!1})},l]}class aO extends cu{constructor(e){super(),lu(this,e,rO,sO,kc,{useIconForShortcutOnly:0,triggerTranslation:4,openSettingsFromShortcut:5})}get triggerTranslation(){return this.$$.ctx[4]}get openSettingsFromShortcut(){return this.$$.ctx[5]}}class lO{static HTML_TAG_NAME="deepl-input-controller";static createElement=(e=document)=>{const t=e.createElement(lO.HTML_TAG_NAME),n=new lO(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerTranslation=n.triggerTranslation,t.openSettingsFromShortcut=n.openSettingsFromShortcut,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.shadowContainer.dir="ltr",this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css"));this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({useIconForShortcutOnly:e})=>{this.domElement.mainComponent=new aO({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this.domElement,useIconForShortcutOnly:e}})};triggerTranslation=()=>{this.domElement.mainComponent.triggerTranslation()};openSettingsFromShortcut=()=>{this.domElement.mainComponent.openSettingsFromShortcut()};cleanupDOM(){this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}let cO,dO,uO,pO,mO,gO,hO,fO=0,_O=[];const vO=Fh.subscribe((e=>{cO=e.translationState,e.translatedDOM&&(_O=e.translatedDOM.map((e=>e))),e.translationState!==mO&&(mO=e.translationState,cO===c.showOriginal&&TO())})),wO=gu.subscribe((e=>{if(0!==Object.keys(e).length){if(gO=e.isLoggedIn,hO=e.translatorServiceType,pO&&pO!==e.selectedTargetLanguage){const e=cO!==c.none;e&&TO(),Fh.update({translatedDOM:[]}),_O=[],e&&Fh.update({translationState:c.none})}pO=e.selectedTargetLanguage}}));function TO(){_O.forEach((e=>{kO(e.original,e.clone),CO(e.original,e.clone),bO(e.original,!1)})),uO&&(uO.disconnect(),uO=void 0),dO&&(document.removeEventListener("scroll",dO),dO=void 0),cO=c.none}function bO(e,t){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(const n of e.childNodes)bO(n,t)}}async function yO(e,t,n){try{const o=e.contentDocument||e.contentWindow.document;if(!e||!function(e){return!!e.contentDocument&&MO(e,.3)}(e))return;const i=[];if(OO(i,o.documentElement),0===i.length)return;await NO(i,t.sourceLang,t.noTranslationLanguages,t.trigger,n,window.location.hostname),e.translatedDOM=[...e.translatedDOM||[],...i],Xn({action:qn.dlTrackIframeTranslationSuccessful})}catch(e){console.error("error",e),Xn({action:qn.dlTrackIframeTranslationFailed,payload:{errorCode:e.name,errorMessage:e.message}})}}function EO(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=fO++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(const t of e.childNodes)EO(t)}}function $O(e){if(function(e){if(!e?.attributes)return!1;const t=e.attributes,n=t instanceof NamedNodeMap,o=t.constructor===NamedNodeMap,i=Object.getPrototypeOf(t)===NamedNodeMap.prototype;return n&&o&&i}(e)){if(void 0!==e.attributes){let t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(const t of e.childNodes)$O(t)}}function xO(e,t){EO(t);const n=t.cloneNode(!0);$O(n),e.push({original:t,clone:n}),bO(t,!0)}function SO(e,t){if(void 0===t.dataset)return null;if(e.dataset?.dlUid&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(const n of e.childNodes){const e=SO(n,t);if(null!==e)return e}return null}function CO(e,t){const n=[];for(;e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(const e of n)t.appendChild(e)}function LO(e,t){if(null===e.parentNode||null===t.parentNode)return;const n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),CO(e,t)}function kO(e,t){for(const n of t.childNodes){const t=SO(e,n);if(t){let o;o=t.dataset&&"true"===t.dataset.dlOriginal?t:t.cloneNode(!1),LO(o,n),kO(e,o)}else kO(e,n)}}function AO(t,n=!0){if("#text"==t.nodeName||"#comment"==t.nodeName)return!1;if(!xM(t,e.websiteData.hostname))return!1;if(t.isContentEditable&&n)return!1;if(function(e){switch(e.tagName.toLowerCase()){case"input":return"submit"!==e.getAttribute("type");case"textarea":return!0;default:return!1}}(t))return!1;if(kv(t))return!1;for(const e of t.childNodes)if("#text"==e.nodeName&&""!=e.wholeText.trim()||"font"==e.nodeName)return!0;for(const e of t.childNodes)if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&(!Lv(e)||kv(e)||"inline"!=window.getComputedStyle(e).display||$v(t)))return!1;return!(void 0===t.innerText||""==t.innerText.trim())}function IO(e){if(void 0!==e.dataset&&(void 0===e.dataset.dlTranslated||"false"===e.dataset.dlTranslated))return!1;for(const t of e.childNodes)if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!IO(t))return!1;return!0}function MO(e,t){const n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-i*t||n.right<0-o*t)return!1;if(n.top>i*(1+t))return!1;if(n.left>o*(1+t))return!1;const s=window.getComputedStyle(e).position;return!("absolute"!==s&&"fixed"!==s&&null===e.offsetParent)}function OO(e,t){if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!function(e){if("no"==e.getAttribute("translate"))return!0;const t=e.className;return null!=t&&null!=t.split&&t.split(" ").includes("notranslate")}(t))if(AO(t))MO(t,.3)&&!IO(t)&&xO(e,t);else for(const n of t.childNodes)OO(e,n)}async function NO(e,t,n,o,i,s){if(e.length>0)return Xn({action:jn.dlRequestHtmlTranslation,payload:{sourceLang:t,trigger:o,texts:e.map((e=>xi(e.clone.innerHTML))),isFirstTime:i,domainName:s}}).then((t=>{if(t&&t.length>0)for(let n=0;n<e.length;++n)e[n].clone.innerHTML=xi(t[n]),kO(e[n].original,e[n].clone),CO(e[n].original,e[n].clone),bO(e[n].original,!0)}))}async function RO(e,t){if(!to({isLoggedIn:gO,translatorServiceType:hO},qt.TRANSLATOR))return;const n=[];try{OO(n,document.documentElement);try{document.querySelectorAll("iframe").forEach((n=>yO(n,e,t)))}catch(e){console.error(e)}if(0===n.length)return;Fh.update({translationState:c.ongoingTranslation}),await NO(n,e.sourceLang,e.noTranslationLanguages,e.trigger,t,window.location.hostname)}catch(e){console.error("error",e);for(const e of n)bO(e.original,!1);return Fh.update({translationState:c.none,error:e.name?e.name:e}),uO&&uO.disconnect(),void(dO&&document.removeEventListener("scroll",dO))}Fh.update({translationState:c.isTranslationComplete}),n.length>0&&Fh.update({translatedDOM:[..._O,...n]})}async function DO(e){uO&&(uO.disconnect(),uO=void 0),dO&&(document.removeEventListener("scroll",dO),dO=void 0);let t,n,o=!1;_O.length>0?(Fh.update({translationState:c.ongoingTranslation}),TO(),_O.forEach((e=>{CO(e.original,e.clone),CO(e.original,e.clone),bO(e.original,!0)})),Fh.update({translationState:c.isTranslationComplete})):o=!0,await RO(e,o),dO=async()=>{n=!0,window.clearTimeout(t),t=setTimeout((function(){cO===c.isTranslationComplete&&window.requestAnimationFrame((async()=>{await RO(e,!1),n=!1}))}),100)},document.addEventListener("scroll",dO),uO=new MutationObserver((t=>{if(n)return;if(cO!==c.isTranslationComplete)return;t.filter((e=>e.addedNodes&&e.addedNodes.length>0)).length>0&&window.requestAnimationFrame((async()=>{await RO(e,!1)}))})),uO.observe(document.body,{childList:!0,subtree:!0}),bp((()=>{vO(),wO(),uO&&uO.disconnect(),dO&&document.removeEventListener("scroll",dO)}))}const PO="translate",UO="write",GO=t=>{if(t.targetLang&&window.getSelection()?.toString()){const t=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||KI({websiteData:Fh}),Fh.update({translationState:c.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),Xn({action:"dlRequestInlineTranslation",payload:{requests:[{text:t}],domainName:window.location.hostname,trigger:g,sourceLang:"auto",websiteLanguage:e.websiteData.websiteLanguage}}).then((e=>{Fh.update({translationState:c.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:t,websiteLanguage:e[0].detected_source_language})})).catch((e=>{Fh.update({translationState:c.none,originalSnippet:t,error:e.message?e.message:e})}))}},BO=async e=>{const t=await Xn({action:Hn.dlGetAppSettings});let n=window.getSelection().anchorNode;"#text"===n.nodeName.toLowerCase()&&(n=n.parentNode);const o="textarea"===n.nodeName.toLowerCase(),i=n.closest('[contenteditable="true"]'),s=n.closest("textarea"),r=n.querySelector("textarea"),a=r&&r.selectionStart!==r.selectionEnd,l=o&&n||i||s||a&&r;l?((e,t,n)=>{const o=document.querySelector(lO.HTML_TAG_NAME);o&&(t?o.openSettingsFromShortcut():n?o.triggerTranslation():o.openSettingsFromShortcut())})(0,e,t.targetLanguageUserInput):GO({targetLang:t.selectedTargetLanguage}),Xn({action:qn.dlTrackRightClick,payload:{translationType:l?m:p,domainName:window.location.host}})},WO=async(e,t)=>{QI(),XI();const n=await Xn({action:Hn.dlGetAppSettings});var o;DO({sourceLang:e,trigger:t,isFirstTime:!0,noTranslationLanguages:(o=n.languagesForTranslation,Object.keys(o).filter((e=>o[e]===l)))}).catch((e=>{Fh.update({translationState:c.none,error:e.message?e.message:e})}))},zO=async(e,t)=>{let n=5e3;if(t===qt.WRITE&&(n=2e3),e.length<=n)return!1;const o=await JO();return!to(o,t)},HO=async(e,t)=>{const n=e.length,o=await JO(),i=to(o,qt.TRANSLATOR),s=to(o,qt.WRITE);if(t===Mt.write){const e=o.isLoggedIn?$:E;if(i&&!s&&n>e)throw new Bu(e,"Char limit exceeded (Translator Pro, Write Free)");if(!s&&n>e)throw new Gu(e,"Char limit exceeded (Write Free Or Anonymous)")}if(!o.isLoggedIn&&n>b)throw new Uu(b,"Limit exceeded (anonymous user). Please upgrade");if(o.isLoggedIn&&!to(o,qt.TRANSLATOR)&&n>y)throw new Pu(y,"Limit exceeded (free account). Please upgrade")},jO=async e=>{const{event:t,targetLang:n}=e,o=document.querySelector("deepl-gdocs-icon");if(n&&o){const{originalText:e,textLines:i,entities:s,contentReference:r,originalObject:a}=Oi(t);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||KI({websiteData:Fh,platformBehaviour:kt.gdocs}),await zO(e,qt.TRANSLATOR))return void Fh.update({translationState:c.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:e});Fh.update({translationState:c.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const t=await Xn({action:zn.dlRequestGDocsSplitText,payload:{mode:PO,texts:i}}),l=t.result.lang.detected,d=[],u=[];for(const e of t.result.texts){const t=[];for(const n of e.chunks)for(const e of n.sentences)u.push(e),t.push(u.length-1);d.push(t)}const p=(await Xn({action:jn.dlRequestGDocsProcessContent,payload:{mode:PO,sentences:u,sourceLang:l,targetLang:n,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:u[t].prefix,text:e.beams[0].sentences[0].text})));o.setContentProcessBuildingBlocks({detectedSourceLanguage:l,targetLang:n.substring(0,2),sentences:u,processedSentences:p,textLines:i,textLinesComponents:d,entities:s,contentReference:r,originalObject:a}),Fh.update({translationState:c.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:l,originalSnippet:e,websiteLanguage:l})}catch(t){console.error(t),Fh.update({translationState:c.none,originalSnippet:e,error:t.message?t.message:t})}}},FO=async({event:e,lang:t})=>{const{originalText:n,textLines:o,entities:i,contentReference:s,originalObject:r}=Oi(e);document.getElementsByTagName("deepl-inline-translate-tooltip").length||KI({websiteData:Fh,platformBehaviour:kt.gdocs,textProcessingMode:Mt.write});const a=document.querySelector("deepl-gdocs-icon"),l={lang:t,sourceLength:n.length,targetLength:0,nicheIntegration:kt.gdocs,error:"",trigger:Rn};if(await zO(n,qt.WRITE))return Fh.update({translationState:c.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:n}),void(a&&a.setDeeplWriteTrackingData(l));Fh.update({translationState:c.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const e=await Xn({action:zn.dlRequestGDocsSplitText,payload:{mode:UO,texts:o}}),t=e.result.lang.detected,d=[],u=[];for(const t of e.result.texts){const e=[];for(const n of t.chunks)for(const t of n.sentences)u.push(t),e.push(u.length-1);d.push(e)}const p=(await Xn({action:jn.dlRequestGDocsProcessContent,payload:{mode:UO,sentences:u,sourceLang:t,targetLang:t,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:u[t].prefix,text:e.beams[0].sentences[0].text})));a.setContentProcessBuildingBlocks({detectedSourceLanguage:t,targetLang:t,sentences:u,processedSentences:p,textLines:o,textLinesComponents:d,entities:i,contentReference:s,originalObject:r}),a.setDeeplWriteTrackingData(l),Fh.update({translationState:c.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:t,originalSnippet:n,websiteLanguage:t}),aN({eventType:Xt,...l})}catch(e){const t=e.message?e.message:e;Fh.update({translationState:c.none,originalSnippet:n,error:t}),aN({eventType:nn,...l,error:t})}},qO=async e=>{const{sentences:t,targetLang:n,sourceLang:o,mode:i}=e;if(n){await HO(t.join(""),i);try{const e=await Xn({action:jn.dlRequestInputTranslation,payload:{requests:t.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:n,targetLang:n,sourceLang:o,platformBehavior:kt.gslides,isHtml:!0,isWriteRequest:i===Mt.write}}),s=e[0]?.texts;return s}catch(e){throw console.error(e),Error(e)}}},VO=async({event:e,targetLang:t,sourceLang:n,mode:o})=>{if(t){const{textLines:t,entities:i,contentReference:s,originalObject:r}=Oi(e);await HO(t.join(""),o);try{const e=await Xn({action:"dlRequestInlineTranslation",payload:{requests:t.map((e=>({text:e}))),domainName:window.location.hostname,trigger:g,sourceLang:n,nicheIntegration:kt.gslides,isWriteRequest:o===Mt.write}}),{processedText:a,processedEntities:l}=Ui({textLines:e.map((e=>e.text)),entities:i,contentReference:s});return Hi({entities:l,text:a,originalObject:r})}catch(e){console.error(e)}}},ZO=async e=>{const{element:t,targetLang:n,content:o}=e;let i,s="";if(n)try{const i=await Xn({action:jn.dlRequestZendeskInputTranslation,payload:{content:o,domainName:window.location.hostname,websiteLanguage:n,targetLang:n,...e.formality&&{formality:e.formality}}}),r=i[0]?.texts;s=r?.[0]?.join(""),t.innerHTML="",Xn({action:qn.dlOnSuccessfulZendeskTranslation})}catch(e){console.error(e),i=e}return[s,i]},YO=async e=>{const{targetLang:t,sourceLang:n,text:o,trigger:i}=e;let s,r="";if(n&&t)try{r=await Xn({action:jn.dlRequestZendeskMessageTranslation,payload:{domainName:window.location.hostname,sourceLang:n,targetLang:t,text:o,trigger:i}})}catch(e){console.error(e),s=e}return[r,s]},XO=async()=>{let e,t=[];try{const[n,o]=await Xn({action:Fn.dlRequestTermbases});o?e=o:t=n}catch(t){console.error(t),e=t}return[t,e]},KO=async()=>{let e=document.body.innerText.substring(0,200);if(!e||1===e.length){const t=document.title;t.length>=e.length&&(e=t)}let t="";const n=await chrome.i18n.detectLanguage(e);n&&n.languages?.length>0&&(t=n.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substring(0,2).toUpperCase());try{Xn({action:qn.dlTrackDetectLanguage,payload:{language:t,domainName:window.location.host}})}catch(e){console.error(e)}return t},QO=async()=>{let t=document.documentElement.lang;!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),gv(window.location.href);{const t=async()=>{let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return t.substring(0,2).toUpperCase();try{Fh.update({translationState:c.ongoingAutoDetection});const e=await KO();return Fh.update({translationState:c.none}),e}catch(e){Fh.update({translationState:c.none,error:e.message?e.message:chrome.i18n.getMessage(e)})}},n=()=>{const e=document.documentElement.className;return/translated/g.test(e)},o=gv(window.location.href),i=await t();Fh.update({websiteLanguage:i,hostname:window.location.hostname,isSupportedLanguage:Fi(i),isGoogleTranslatedActive:n(),isValidUrlForPopup:o});const s=new MutationObserver((async()=>{const e=await t();Fh.update({websiteLanguage:e,isSupportedLanguage:Fi(e),isGoogleTranslatedActive:n(),isValidUrlForPopup:o})}));s.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),bp((()=>{s.disconnect()}))}},JO=async()=>await Xn({action:Un.dlGetUserState}),eN=async(t,n=!1)=>{if(t&&!t.isTrusted&&!n)return;const o=await Xn({action:Hn.dlGetAppSettings});oN(),await QO();const i=await JO();var s,r;to(i,qt.TRANSLATOR)&&(Fi(e.websiteData.websiteLanguage)&&(s=o.selectedTargetLanguage,r=e.websiteData.websiteLanguage,(qi(s)!==r||e.websiteData.isGoogleTranslatedActive)&&(Ki(e.websiteData.websiteLanguage,o.languagesForTranslation,l)||o.blacklistDomains.includes(e.websiteData.hostname)||pv(window.location.host,uv)||(Ki(e.websiteData.websiteLanguage,o.languagesForTranslation,a)&&WO(e.websiteData.websiteLanguage,h),o.enableFullPageTranslation&&window===window.parent&&tM()))))},tN=async()=>{await QO(),document.getElementsByTagName("deepl-input-controller").length||cM()},nN=async()=>{await QO(),await _M(Fh)},oN=()=>{Si()&&oM(),ns()&&iM(),$_()&&aM(),ov()&&dM()},iN=e=>{rm.set(e)},sN=async e=>{const t=()=>{for(const t of Object.keys(yt))if(yt[t]&&e.match(yt[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),t=e&&new URL(e.getAttribute("action"))?.hostname?.toLowerCase();if(t)for(const e of Object.keys(Et))if(Et[e]&&t.includes(Et[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys($t))if($t[e]&&document.querySelector(`#${$t[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},n=t();n?Xn({action:qn.dlTrackLandingOnWebsite,payload:{website:n}}):setTimeout((()=>{const e=t();e&&Xn({action:qn.dlTrackLandingOnWebsite,payload:{website:e}})}),2e3)},rN=async({eventType:e,controller:t,sourceTextLength:n,targetTextLength:o,error:i,metaDataOverride:s={}})=>{const r=t?.getTicketLanguageInformation(),a={agentLanguage:(await Xn({action:Hn.dlGetAppSettings})).selectedTargetLanguage,ticketLanguage:r?.language,isTicketLanguageAutodetected:r?.isDetected,isTicketLanguageSupported:r?.isSupported,isAutoTranslateEnabled:t.getIsAutoTranslatedEnabled(),sourceTextLength:n,targetTextLength:o,inputHasSelection:t.getInputHasSelection(),error:i,...s};await Xn({action:qn.dlTrackZendeskCustomizationEvent,payload:{eventType:e,zendeskMetaData:a}})},aN=async({eventType:e,lang:t,sourceLength:n,targetLength:o,nicheIntegration:i=kt.default,error:s,metaDataOverride:r={},trigger:a})=>{await Xn({action:qn.dlTrackDeeplWriteEvent,payload:{eventType:e,deeplWriteMetaData:{lang:t,sourceLength:n,targetLength:o,nicheIntegration:i,error:s,trigger:a,...r}}})};function lN(e){jh(e)}function cN(){const e=wo();e&&Kn(H,{theme:F.ads_theme,matchedWord:e})}const dN=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"deepl.com"===`${e.at(-2)}.${e.at(-1)}`},uN=()=>mN()||pN(),pN=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&("service-now.com"===e.hostname||"servicenow.com"===e.hostname)},mN=()=>/\.service-now\.com$/.test(window.location.hostname),gN=()=>!dN()&&(!$_()&&!uN()),hN=()=>!dN()&&(!$_()&&!uN());bs()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";fu(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";fu(t)&&e.preventDefault()})));const{client:fN,scope:_N}=y_();if(fN.init(),bs()&&{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.HOT_RELOAD.active&&!vo()){new WebSocket(`ws://localhost:${{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.HOT_RELOAD.webSocketServerPort}`).addEventListener("message",(e=>{"file-change"===e.data&&chrome.runtime.sendMessage("reload")}))}document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(IL),bp((()=>{Fh.update({translationState:c.showOriginal}),qh(),chrome.runtime.onMessage.removeListener(IL)}))}catch(e){console.error(e),vu(e,_N)}function vN(e){e.error&&bs()&&console.error(`SERVICE_WORKER_TEST: Port disconnected due to error: ${e.error.message}`),document.hasFocus()?setTimeout((()=>{wN()}),1e3):window.addEventListener("focus",wN)}function wN(){window.removeEventListener("focus",wN);{const e=_s();bs()&&console.log("Connecting to background port",e);const t=chrome.runtime.connect({name:e});return OL(t),$L(t),t.onDisconnect.addListener(vN),t}}try{yM(window.location.host),sN(window.location.host),EM(window.location.href),"complete"===document.readyState?eN(null,!0):window.addEventListener("load",eN),gN()&&tN(),hN()&&nN(),bM(window.location.host),wN(),cN()}catch(e){console.error(e),vu(e,_N)}function TN(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function bN(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function yN(e,t){const n=bN(e),o=bN(t),i=function(e,t){const n=(e,t)=>e===t,o=(()=>{let o=0;for(;n(e[o],t[o])&&o<e.length;)++o;return o})();if(o===e.length&&e.length===t.length)return[o];const i=(()=>{let i=e.length-1,s=t.length-1;for(;n(e[i],t[s])&&i>o&&s>o;)--i,--s;return e.length-i-1})(),s=e.length-o-i+1,r=t.length-o-i+1,a=s+r,l=new Map,c=new Map;l.set(1,0),c.set(1,null);for(let d=0;d<=a;++d)for(let a=-d;a<=d;a+=2){let u,p,m;for(a==-d||a!=d&&l.get(a-1)<l.get(a+1)?(u=l.get(a+1),m=[c.get(a+1),void 0,void 0]):(u=l.get(a-1)+1,m=[c.get(a-1),void 0,void 0]),p=u-a;u<s&&p<r&&n(e[u+o],t[p+o]);)++u,++p;if(u>=s&&p>=r){m[1]=s+i-1,m[2]=r+i-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let a=[],l=null;for(;n.length;){const o=n.pop(),i=o[0],s=o[1],r=i-e,c=s-t,d=Math.min(r,c);r>d&&(l?l[0]+=r-d:(l=[r-d,0],a.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],a.push(l))),d>0&&(a.push(d),l=null),e=i,t=s}return a[0]=a[0]-1+o,a}l.set(a,u),m[1]=u,m[2]=p,c.set(a,m)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let r=0,a=0,l=0;for(;r<i.length;){const e=i[r];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),r+=1,r<i.length){const[e,t]=i[r];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),r+=1,a+=e,l+=t}}return[s,n,o,i]}return e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER=1500,e.GMAIL_CHAR_LIMIT_FREE_USER=CA,e.GMAIL_INTERVAL=800,e.GMAIL_UI_ADDED_ATTRIBUTE=SA,e.autodetectLanguage=KO,e.backgroundPortListener=RL,e.buildGDocsPasteData=Hi,e.calculateNewIconPosition=Ii,e.canInjectInlineTranslation=hN,e.canInjectInputTranslation=gN,e.canTranslateElementForDomain=xM,e.checkForIntersectionWithOpenDialogs=SI,e.checkIfInputHasSelection=ev,e.clearMessageControllers=Q_,e.clickAtCoordinates=AI,e.clickOnElement=II,e.createAlert=jh,e.createGmailController=dM,e.createGmailControllerUtil=()=>document.createElement(wI.HTML_TAG_NAME),e.createGoogleDocsIcon=oM,e.createGoogleSlidesController=iM,e.createHighlightsForSentence=function(e,t){const n=yN(t,e),o=[];let i=0,s=0,r=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=r,c.originalLength=l.length,c.originalOffset=a,r+=t.length,a+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),r+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,s+=e}})),o},e.createInlineTranslateSettingsTooltip=JI,e.createInlineTranslateTooltip=KI,e.createInlineTranslationTrigger=hM,e.createInlineTranslationTriggerListener=_M,e.createInputTranslationController=cM,e.createNotification=vM,e.createPageLoadPopup=tM,e.createReviewTranslateWriteWindow=YI,e.createSubmitButtonTooltip=tv,e.createTicketController=A_,e.createZendeskController=aM,e.createZendeskControllerElement=S_,e.customizePage=bM,e.detectTicketLanguageInLiveChat=j_,e.detectTicketLanguageInTicket=H_,e.detectTicketType=U_,e.disableExtension=O_,e.displayAds=cN,e.elementHasTranslateToolbar=xI,e.extractSentencesAndEntitiesFromData=ss,e.findEditableContent=async function t(n,o){try{if(o.dataset&&"true"===o.dataset.dlInputTranslation||o.dataset&&"true"===o.dataset.dlNoInputTranslation)return;if("true"===o.contentEditable||"TEXTAREA"===o.nodeName&&o.rows>1){if("none"===window.getComputedStyle(o).display)return;if(!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(o))return;if(!$M(o,e.websiteData.hostname))return;o.dataset.dlInputTranslation="true",n.push(o)}for(const e of o.childNodes)t(n,e)}catch(e){bs()&&console.error(e),vu(e,LM)}},e.findEmailToAndFromAddressTable=CI,e.findForwardButtonInDocument=NI,e.findSiblingDivWithAnyMessageId=OI,e.generateLanguagesWithShortcodeForDropdown=LI,e.getActivePane=L_,e.getActiveTermbases=()=>{const e=x_();return e?e.getActiveTermbases():[]},e.getBlocksFromString=function(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,r]=TN(e,t,o);if("end"===s&&(i=!0),o<r&&n.push({block:"main",text:e.substring(o,r)}),i)break;const a=e.indexOf(`</${s}>`,r);-1===a?(n.push({block:s,text:e.substring(r+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(r+`<${s}>`.length,a)}),o=a+`</${s}>`.length)}return n},e.getContextMessages=e=>{const t=[],n=G_(e).map(z_).map((e=>e.innerText)),o=[],i=[];for(let e=0;e<n.length;e++){const s=e%2==0?"start":"end";let r=Math.floor(e/2);if("end"===s&&(r=n.length-1-r),t.includes(r))break;if([...o,...i].reduce(((e,t)=>e+t.length),0)+n[r].length>3e3)break;"end"===s?i.unshift(n[r]):o.push(n[r]),t.push(r)}return[...o,...i]},e.getControllerFromMessage=X_,e.getCoordsOfWord=(e,t,n,o,i)=>{const s=document.createRange();if("#text"===e.nodeName)s.setStart(e,t),s.setEnd(e,t+n);else{if(!e.firstChild||"#text"!==e.firstChild.nodeName)return console.error("Invalid textNode with no child text node."),null;{const o=e.firstChild;s.setStart(o,t),s.setEnd(o,t+n)}}const r=s.getBoundingClientRect();return{top:r.top,left:r.left,right:r.right,bottom:r.bottom,original:o,replace:i,textNode:e,changeIndex:t,changeLength:n}},e.getElementCenterCoordinates=kI,e.getEnableAdvancedTriggerIcon=w$,e.getGDocsisEditMode=Mi,e.getGmailControllerUtil=bI,e.getIFrameAndEditable=Ci,e.getIconCoordinates=Ai,e.getItaInputEnabled=function(){return!0},e.getItaTranslateEnabled=function(){return!0},e.getItaWriteEnabled=v$,e.getMessageContent=z_,e.getMessageViewContainers=$I,e.getMessageWriteContainers=()=>{const e=Array.from(document.querySelectorAll('[role="textbox"]')).filter((e=>"true"===e.getAttribute("contenteditable")));return e},e.getMessagesFromTicket=G_,e.getScrollableElements=IM,e.getSelectionContent=ki,e.getSentryClient=y_,e.getSourceLangFromSlide=os,e.getTermbases=XO,e.getTicketController=k_,e.getTicketId=C_,e.getTicketStartingMessage=B_,e.getTicketStartingMessages=W_,e.getUserState=JO,e.getWebsiteSettings=QO,e.getWordsFromSentence=Bi,e.getZendeskController=x_,e.handleInlineTrigger=uL,e.handleItaTranslateBackendIdle=mL,e.handleItaWriteBackendIdle=gL,e.improveGDocsSelectionContent=FO,e.injectAskAReviewPopup=wM,e.injectControllerInMessage=K_,e.injectInlineTranslation=nN,e.injectInputTranslation=tN,e.injectMissingMessageControllers=Y_,e.injectMissingUIElements=I_,e.isChatGPT=SM,e.isDeepLCom=dN,e.isGDocs=Si,e.isGSlides=ns,e.isGmail=ov,e.isIncludedInTheText=function(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)},e.isInputArea=kM,e.isOnMessageViewScreen=EI,e.isServiceNow=uN,e.isZendesk=$_,e.onOpenPage=eN,e.pageListener=IL,e.processEntityAfterTranslation=rs,e.processGDocsCopyEvent=Oi,e.reassembleGDocsTranslatedResult=Ui,e.reconnectItaSessionIfPresent=$L,e.removeAllDeeplElements=function(){!function(e){const t=document.getElementsByTagName(e);if(!t.length)return;for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}("deepl-input-controller")},e.removeGDocsEntities=Gi,e.removeGmailController=uM,e.removeGoogleDocsIcon=sM,e.removeGoogleSlidesController=rM,e.removeInlineTranslateSettingsTooltip=eM,e.removeInlineTranslateTooltip=QI,e.removeInlineTranslateTrigger=mM,e.removeInputTextProcessorTrigger=gM,e.removeInputTranslationController=pM,e.removePageLoadPopup=nM,e.removeReviewTranslateWriteWindow=XI,e.removeUIElementsFromList=yI,e.removeZendeskController=lM,e.removeZendeskToolbar=nv,e.removeZendeskUIElements=M_,e.replaceTranslatedGDocsContent=Wi,e.runCustomScriptsForDomain=yM,e.runCustomScriptsForSpecificUrl=EM,e.scanForTranslatables=DO,e.sendMessageToBackgroundPort=NL,e.setBackgroundPort=OL,e.setErrorVisibility=iN,e.shouldBeTranslated=AO,e.shouldInjectInputIcon=$M,e.showAlert=lN,e.simulateGSLidesSelectAll=is,e.trackDeeplWriteEvent=aN,e.trackPageLandingIfNeeded=sN,e.trackZendeskCustomizationEvent=rN,e.translateGDocsSelectionContent=jO,e.translateGSlidesInbloxkSelectionContent=VO,e.translateGSlidesSelectionContent=qO,e.translateInlineText=GO,e.translateSelectionRightClick=BO,e.translateWebsite=WO,e.translateZendeskMessage=YO,e.translateZendeskSelectionContent=ZO,e.triggerCopyEvent=Li,e.twitterState=gw,e.unsubscribeToWebsiteState=qh,e.updateInputIconLanguageInformation=Z_,e.updateInputPositionerCoords=AM,e.updateIntegrationPanelIfExists=J_,e.updateToolbarAutoTranslateStatus=q_,e.updateToolbarLanguageInformation=F_,e.updateTopIconLanguageInformation=V_,e.updateWebsiteStateWithError=aL,e.updateWebsiteStateWithITADocumentState=yL,e.updateWebsiteStateWithITAFormality=e=>{Fh.update({formality:e})},e.updateWebsiteStateWithITASourceLanguage=_L,e.updateWebsiteStateWithITASourceLanguageAutoDetected=TL,e.updateWebsiteStateWithITATargetText=hL,e.updateWebsiteStateWithITATranslateSourceLanguageUnsupported=xL,e.updateWebsiteStateWithITATranslateTargetLanguage=vL,e.updateWebsiteStateWithITATranslateTargetTextAlternatives=AL,e.updateWebsiteStateWithITAWriteDocumentState=EL,e.updateWebsiteStateWithITAWriteSourceLanguage=wL,e.updateWebsiteStateWithITAWriteSourceLanguageAutoDetected=bL,e.updateWebsiteStateWithITAWriteSourceLanguageUnsupported=SL,e.updateWebsiteStateWithITAWriteTargetText=fL,e.updateWebsiteStateWithITAWriteTargetTextAlternatives=kL,e.updateWebsiteStateWithTranslateGenericError=CL,e.updateWebsiteStateWithWriteGenericError=LL,e.waitForElement=MI,e.websiteState=Fh,e.whatsAppState=Fv,e.youTubeState=Kw,e}({});
//# sourceMappingURL=content.js.map
