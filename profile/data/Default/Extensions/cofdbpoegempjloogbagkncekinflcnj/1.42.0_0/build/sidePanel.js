var sidePanel=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(e,t,n){e.$$.on_destroy.push(s(t,n))}function l(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function d(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function p(e,t,n,r,o,i){if(o){const a=u(t,n,r,i);e.p(a,o)}}function h(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function f(e){return null==e?"":e}function g(e,t,n){return e.set(n),t}function m(t){return t&&i(t.destroy)?t.destroy:e}function v(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const y="undefined"!=typeof window;let _=y?()=>window.performance.now():()=>Date.now(),S=y?e=>requestAnimationFrame(e):e;const b=new Set;function w(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&S(w)}function T(e){let t;return 0===b.size&&S(w),{promise:new Promise((n=>{b.add(t={c:e,f:n})})),abort(){b.delete(t)}}}function E(e,t){e.appendChild(t)}function A(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function I(e){const t=O("style");return t.textContent="/* empty */",function(e,t){E(e.head||e,t),t.sheet}(A(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function C(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function O(e){return document.createElement(e)}function R(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function N(){return P(" ")}function L(){return P("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function M(e){return function(t){return t.preventDefault(),e.call(this,t)}}function D(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function U(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function V(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function G(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function j(e,t,n){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function q(e,t,n){e.classList.toggle(t,!!n)}function B(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class W{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=R(t.nodeName):this.e=O(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)x(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function H(e,t){return new e(t)}const J=new Map;let z,Y=0;function X(e,t,n,r,o,i,a,s=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);l+=100*e+`%{${a(r,1-r)}}\n`}const u=l+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,p=A(e),{stylesheet:h,rules:f}=J.get(p)||function(e,t){const n={stylesheet:I(t),rules:{}};return J.set(e,n),n}(p,e);f[d]||(f[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${o}ms 1 both`,Y+=1,d}function K(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Y-=o,Y||S((()=>{Y||(J.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&k(t)})),J.clear())})))}function Q(e){z=e}function Z(){if(!z)throw new Error("Function called outside component initialization");return z}function ee(e){Z().$$.on_mount.push(e)}function te(e){Z().$$.on_destroy.push(e)}function ne(){const e=Z();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=B(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function re(e,t){return Z().$$.context.set(e,t),t}function oe(e){return Z().$$.context.get(e)}function ie(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ae=[],se=[];let ce=[];const le=[],ue=Promise.resolve();let de=!1;function pe(e){ce.push(e)}function he(e){le.push(e)}const fe=new Set;let ge,me=0;function ve(){if(0!==me)return;const e=z;do{try{for(;me<ae.length;){const e=ae[me];me++,Q(e),ye(e.$$)}}catch(e){throw ae.length=0,me=0,e}for(Q(null),ae.length=0,me=0;se.length;)se.pop()();for(let e=0;e<ce.length;e+=1){const t=ce[e];fe.has(t)||(fe.add(t),t())}ce.length=0}while(ae.length);for(;le.length;)le.pop()();de=!1,fe.clear(),Q(e)}function ye(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}function _e(){return ge||(ge=Promise.resolve(),ge.then((()=>{ge=null}))),ge}function Se(e,t,n){e.dispatchEvent(B(`${t?"intro":"outro"}${n}`))}const be=new Set;let we;function Te(){we={r:0,c:[],p:we}}function Ee(){we.r||o(we.c),we=we.p}function Ae(e,t){e&&e.i&&(be.delete(e),e.i(t))}function Ie(e,t,n,r){if(e&&e.o){if(be.has(e))return;be.add(e),we.c.push((()=>{be.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const xe={duration:0};function ke(n,r,o){const a={direction:"in"};let s,c,l=r(n,o,a),u=!1,d=0;function p(){s&&K(n,s)}function h(){const{delay:r=0,duration:o=300,easing:i=t,tick:a=e,css:h}=l||xe;h&&(s=X(n,0,1,o,r,i,h,d++)),a(0,1);const f=_()+r,g=f+o;c&&c.abort(),u=!0,pe((()=>Se(n,!0,"start"))),c=T((e=>{if(u){if(e>=g)return a(1,0),Se(n,!0,"end"),p(),u=!1;if(e>=f){const t=i((e-f)/o);a(t,1-t)}}return u}))}let f=!1;return{start(){f||(f=!0,K(n),i(l)?(l=l(a),_e().then(h)):h())},invalidate(){f=!1},end(){u&&(p(),u=!1)}}}function Ce(n,r,a,s){let c,l=r(n,a,{direction:"both"}),u=s?0:1,d=null,p=null,h=null;function f(){h&&K(n,h)}function g(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:a=300,easing:s=t,tick:m=e,css:v}=l||xe,y={start:_()+i,b:r};r||(y.group=we,we.r+=1),"inert"in n&&(r?void 0!==c&&(n.inert=c):(c=n.inert,n.inert=!0)),d||p?p=y:(v&&(f(),h=X(n,u,r,a,i,s,v)),r&&m(0,1),d=g(y,a),pe((()=>Se(n,r,"start"))),T((e=>{if(p&&e>p.start&&(d=g(p,a),p=null,Se(n,d.b,"start"),v&&(f(),h=X(n,u,d.b,d.duration,0,s,l.css))),d)if(e>=d.end)m(u=d.b,1-u),Se(n,d.b,"end"),p||(d.b?f():--d.group.r||o(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),m(u,1-u)}return!(!d&&!p)})))}return{run(e){i(l)?_e().then((()=>{l=l({direction:e?"in":"out"}),m(e)})):m(e)},end(){f(),d=p=null}}}function Oe(e){return void 0!==e?.length?e:Array.from(e)}function Re(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Pe(e){e&&e.c()}function Ne(e,t,r){const{fragment:a,after_update:s}=e.$$;a&&a.m(t,r),pe((()=>{const t=e.$$.on_mount.map(n).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),s.forEach(pe)}function Le(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];ce.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),ce=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){-1===e.$$.dirty[0]&&(ae.push(e),de||(de=!0,ue.then(ve)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(t,n,i,a,s,c,l=null,u=[-1]){const d=z;Q(t);const p=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(p.root);let h=!1;if(p.ctx=i?i(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),h&&$e(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(k)}else p.fragment&&p.fragment.c();n.intro&&Ae(t.$$.fragment),Ne(t,n.target,n.anchor),ve()}Q(d)}class De{$$=void 0;$$set=void 0;$destroy(){Le(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Ue=function(e,t){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ue(e,t)};function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ue(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Fe(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Ge(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function je(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Be(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function We(e){return this instanceof We?(this.v=e,this):new We(e)}function He(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof We?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Je(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=je(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const ze=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google espaÃ±ol",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],Ye=[{langCode:"EN",langCodeForIta:"en"},{langCode:"PT",langCodeForIta:"pt"}],Xe=["EN-GB","EN-US","EN","DE","FR","ES","PT-PT","PT-BR","PT","IT"],Ke="EN",Qe=0,Ze=1,et=2,tt={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},nt="inline",rt="automatic",ot="manual",it="input",at="input_alternatives",st="side_panel",ct="customization",lt=1,ut=2,dt=3,pt={notLoggedIn:1500,loggedInFree:5e3},ht={notLoggedIn:2e3,loggedInFree:2e3},ft={deepl_inline_ui:{z_index:2147483650}},gt="NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY",mt="INLINE_TRANSLATION_TRIGGER_ICON",vt="INLINE_TRANSLATION_SETTINGS_ICON",yt="INLINE_TRANSLATION_SETTING_POPUP",_t="INPUT_TRANSLATION_SETTING_USE_ADVANCED_WINDOW",St="INPUT_TRANSLATION_TRIGGER_ICON",bt="INPUT_IMPROVE_TRIGGER_ICON",wt="INPUT_TRANSLATION_SETTINGS_ICON",Tt="INPUT_TRANSLATION_SETTING_POPUP",Et="SETTINGS_PAGE_FPT",At="SETTINGS_PAGE_READING",It="SETTINGS_PAGE_WRITING",xt="SETTINGS_PAGE_INTEGRATIONS",kt="FPT_HIDE_MODAL",Ct="INPUT_TRANSLATION_READ_MORE_LINK",Ot="INLINE_TRANSLATION_READ_MORE_LINK",Rt="FPT_TRANSLATION_READ_MORE_LINK",Pt="EXTENSION_HUB_TOGGLE_SWITCH",Nt="HUB_CUSTOMIZE_SHORTCUT",Lt="HUB_LOGIN_BUTTON",$t="HUB_UPGRADE_TO_PRO_LINK",Mt="HUB_TRY_PRO_LINK",Dt="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",Ut="HUB_FPT_ENABLE_CHECKBOX",Vt="HUB_FPT_DISABLE_CHECKBOX",Ft="DEEPL_WRITE_ICON",Gt="gmailOnboardingPopup",jt="gmailOnboardingIcon",qt="gmailCharLimitLogin",Bt="gmailFeedbackSurvey",Wt="HUB_VIEW_INTEGRATIONS",Ht="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",Jt="GSLIDES_FEEDBACK_SURVEY",zt="GSLIDES_CHAR_LIMIT_LOGIN",Yt="ZENDESK_TRY_PRO_LINK",Xt="ONBOARDING_SIGN_UP",Kt="ONBOARDING_SKIP_SIGN_UP",Qt="ONBOARDING_LOGIN_LINK",Zt="ONBOARDING_SEE_ALL_INTEGRATIONS",en="ICON_TOGGLE_IN_HUB_TRANSLATOR",tn="ICON_TOGGLE_IN_HUB_WRITE",nn="MANAGE_ICON_SETTINGS",rn="WRITE_LANGUAGE_SWITCHED_IN_HUB",on="WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",an="SIDE_PANEL_ICON_ON_WEBSITE",sn="HUB_ONBOARDING_LINK",cn="INLINE_SELECTION_TRANSLATE_ICON",ln="INLINE_SELECTION__WRITE_ICON",un="INPUT_SELECTION_TRANSLATE_ICON",dn="INPUT_SELECTION__WRITE_ICON",pn="INLINE_SELECTION_TRIGGER_OFF_ICON",hn="INPUT_SELECTION_TRIGGER_OFF_ICON",fn="SIDE_PANEL_LOGIN_BUTTON",gn="SIDE_PANEL_SETTINGS_BUTTON",mn="SIDE_PANEL_LOGOUT_BUTTON",vn="SIDE_PANEL_UPGRADE_BUTTON",yn="SIDE_PANEL_TRANSLATOR_TAB",_n="SIDE_PANEL_TRANSLATOR_TARGET_LANG",Sn="SIDE_PANEL_TRANSLATOR_SOURCE_LANG",bn="SIDE_PANEL_TRANSLATION_DIR_INDICATOR",wn="SIDE_PANEL_SOURCE_TEXT_FIELD",Tn="SIDE_PANEL_TARGET_TEXT_FIELD",En="REVIEW_WINDOW_CLOSE_ICON",An="REVIEW_WINDOW_TRANSLATE_ALTERNATIVES",In="REVIEW_WINDOW_WRITE_ALTERNATIVES",xn=0,kn=1,Cn=2,On=3,Rn=4,Pn="cofdbpoegempjloogbagkncekinflcnj",Nn="fancfknaplihpclbhbpclnmmjcjanbaf",Ln="ocpdpnakdghopjcifldjidbdmfobmmoi",$n="firefox-extension@deepl.com",Mn="DEFAULT",Dn="GDOCS",Un="ZENDESK",Vn="WHATSAPP_WEB",Fn="TWITTER",Gn="GMAIL",jn="GSLIDES",qn="LINKEDIN",Bn="YOUTUBE",Wn="USER",Hn="EXTENSION",Jn="TRANSLATOR",zn={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},Yn="free",Xn="pro",Kn="none",Qn="ANONYMOUS_USER_LIMIT_EXCEEDED",Zn="FREE_ACCOUNT_LIMIT_EXCEEDED",er="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",tr="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",nr="PRO_TRIAL",rr="LOGIN",or="SIGNUP",ir="None",ar="Pro",sr="Free",cr="translate",lr="write",ur="new_session",dr="recreated_session",pr="error",hr="user_interaction",fr="connection",gr="session",mr="update_target_language",vr="update_source_language",yr="update_formality",_r="update_style",Sr="select_alternative",br={dlRequestLogin:"dlRequestLogin",dlRequestLogout:"dlRequestLogout",dlGetUserState:"dlGetUserState",dlGetClientState:"dlGetClientState",dlManipulateGetClientState:"dlManipulateGetClientState",dlGetUsersCharacterLimit:"dlGetUsersCharacterLimit"},wr={dlRequestTermbases:"dlRequestTermbases",dlGetDictionary:"dlGetDictionary"},Tr={dlTrackInlineSettingOpened:"dlTrackInlineSettingOpened",dlTrackPolicyLoginRequiredNotification:"dlTrackPolicyLoginRequiredNotification",dlTrackUpgradeNotificationAction:"dlTrackUpgradeNotificationAction",dlTrackLogoClickedEvent:"dlTrackLogoClickedEvent",dlTrackDetectLanguage:"dlTrackDetectLanguage",dlTrackSidePanelOpened:"dlTrackSidePanelOpened",dlTrackFormalitySelected:"dlTrackFormalitySelected",dlTrackWriteTextTonesChanged:"dlTrackWriteTextTonesChanged",dlTrackWriteTextStylesApplied:"dlTrackWriteTextStylesApplied",dlTrackWriteTextStylesChanged:"dlTrackWriteTextStylesChanged",dlTrackAdsShown:"dlTrackAdsShown",dlTrackClicksOnAdsButton:"dlTrackClicksOnAdsButton",dlTrackIframeTranslationFailed:"dlTrackIframeTranslationFailed",dlTrackSeeAlternativesClicked:"dlTrackSeeAlternativesClicked",dlTrackAlternativeSelected:"dlTrackAlternativeSelected",dlTrackLanguageDetectionForTextProcessing:"dlTrackLanguageDetectionForTextProcessing",dlTrackUpgradeNotificationClosed:"dlTrackUpgradeNotificationClosed",dlTrackUpgradeNotificationIsDisplayed:"dlTrackUpgradeNotificationIsDisplayed",dlOnSuccessfulZendeskTranslation:"dlOnSuccessfulZendeskTranslation",dlTrackAlternativesEvent:"dlTrackAlternativesEvent",dlTrackGmailCharLimitReached:"dlTrackGmailCharLimitReached",dlTrackCustomizationEnabledEvent:"dlTrackCustomizationEnabledEvent",dlTrackTranslateAcceptOrRevertEvent:"dlTrackTranslateAcceptOrRevertEvent",dlTrackGDocsReplaceText:"dlTrackGDocsReplaceText",dlTrackLandingOnWebsite:"dlTrackLandingOnWebsite",dlTrackReadMore:"dlTrackReadMore",dlTrackOnboardingOpenExternalLink:"dlTrackOnboardingOpenExternalLink",dlTrackOnboardingStepChange:"dlTrackOnboardingStepChange",dlTrackIconHover:"dlTrackIconHover",dlTrackVoiceOverStops:"dlTrackVoiceOverStops",dlTrackInlineListen:"dlTrackInlineListen",dlTrackInlineCopy:"dlTrackInlineCopy",dlTrackFptHide:"dlTrackFptHide",dlTrackInlineDragStart:"dlTrackInlineDragStart",dlTrackInlinePositionChange:"dlTrackInlinePositionChange",dlTrackRightClick:"dlTrackRightClick",dlTrackRecommendToAFriendClick:"dlTrackRecommendToAFriendClick",dlTrackDocTransClick:"dlTrackDocTransClick",dlTrackExtensionOpenedEvent:"dlTrackExtensionOpenedEvent",dlTrackInputTranslationInjection:"dlTrackInputTranslationInjection",dlTrackUseOfShortcut:"dlTrackUseOfShortcut",dlTrackUiAction:"dlTrackUiAction",dlTrackSettingChanged:"dlTrackSettingChanged",dlTrackOpenInputHighlighter:"dlTrackOpenInputHighlighter",dlTrackOpenInlineHighlighter:"dlTrackOpenInlineHighlighter",dlTrackCloseInputHighlighter:"dlTrackCloseInputHighlighter",dlTrackCloseInlineHighlighter:"dlTrackCloseInlineHighlighter",dlTrackDictionaryStatus:"dlTrackDictionaryStatus",dlTrackOpenDictionarySection:"dlTrackOpenDictionarySection",dlTrackDisabledDictionaryHover:"dlTrackDisabledDictionaryHover",dlTrackZendeskCustomizationEvent:"dlTrackZendeskCustomizationEvent",dlTrackZendeskGlossaryOpened:"dlTrackZendeskGlossaryOpened",dlTrackGlossaryEnabled:"dlTrackGlossaryEnabled",dlTrackGlossaryDisabled:"dlTrackGlossaryDisabled",dlTrackDeeplWriteEvent:"dlTrackDeeplWriteEvent",dlTrackLingueeErrorData:"dlTrackLingueeErrorData",dlTrackGdocsMaxCharExceededShown:"dlTrackGdocsMaxCharExceededShown",dlTrackGDocsMaxCharExceededTryProClicked:"dlTrackGDocsMaxCharExceededTryProClicked",dlTrackOnboardingModalShown:"dlTrackOnboardingModalShown",dlTrackUILocationClicked:"dlTrackUILocationClicked",dlTrackIframeTranslationSuccessful:"dlTrackIframeTranslationSuccessful",dlTrackReplaceInField:"dlTrackReplaceInField"},Er={dlGetExperiments:"dlGetExperiments"},Ar={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",dlExternalURLRedirect:"dlExternalURLRedirect"};function Ir(e){return function(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}(e)}function xr(e){return Fe(this,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}))}function kr(e){return new Promise(((t,n)=>{chrome.tabs.query({active:!0,currentWindow:!0},(async r=>{if(0===r.length)return void n(new Error("No active tab found."));const o=r[0].id;try{await async function(e){return new Promise(((t,n)=>{chrome.tabs.sendMessage(e,{action:"ping"},(e=>{chrome.runtime.lastError?n(new Error("Content script not found or invalid.")):e&&"active"===e.status?t("Content script is active and valid."):n(new Error("No response from content script."))}))}))}(o),console.log("Content script is active and valid."),e.fetchCurrentWebsiteSettings(),chrome.tabs.sendMessage(o,{action:"dlDefaultPopUpMounting"}),t("Content script is active and valid.")}catch(e){n(new Error("Content script is not valid or missing.",{cause:e}))}}))}))}const Cr=[];function Or(t,n=e){let r;const o=new Set;function i(e){if(a(t,e)&&(t=e,r)){const e=!Cr.length;for(const e of o)e[1](),Cr.push(e,t);if(e){for(let e=0;e<Cr.length;e+=2)Cr[e][0](Cr[e+1]);Cr.length=0}}}function s(e){i(e(t))}return{set:i,update:s,subscribe:function(a,c=e){const l=[a,c];return o.add(l),1===o.size&&(r=n(i,s)||e),a(t),()=>{o.delete(l),0===o.size&&r&&(r(),r=null)}}}}const Rr=()=>{if(!chrome?.i18n?.getUILanguage)return(()=>{let e=navigator.languages?navigator.languages[0].substring(0,2).toUpperCase():Ke;var t;return e="EN"===(t=e)?"EN-GB":"PT"===t?"PT-PT":t,ze.map((e=>e.langCode)).includes(e)?e:Ke})();{let e=chrome.i18n.getUILanguage();if(!e)return Ke;switch(e){case"en-US":return"EN-US";case"en-GB":return"EN-GB";case"pt-PT":return"PT-PT";case"pt-BR":return"PT-BR";case"zh-CN":return"ZH-CN";default:{const t=e.substring(0,2).toUpperCase();return ze.filter((e=>t===e.langCode)).length>0?t:Ke}}}};const Pr=e=>e.substring(0,2).toUpperCase(),Nr=()=>{let e,t,n=!1;return ze.map((r=>{let o;return n=["EN-US","EN-GB","PT-PT","PT-BR","ZH-HANT"].includes(r.langCode),n&&(({optionLabel:e,selectedLabel:t}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(r)),o=r.langCode.slice(0,2).toLowerCase()+r.langCode.slice(2)),{value:r.langCode,label:n?e:chrome.i18n.getMessage(`supported_languages_${r.langCode}`),selectedOptionLabel:n?t:chrome.i18n.getMessage(`supported_languages_${r.langCode}`),regionalVariant:o}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function Lr(e){return"EN"===e?["EN-GB","EN-US"]:"PT"===e?["PT-PT","PT-BR"]:"ZH"===e?["ZH-CN","ZH-HANT"]:null}const $r=e=>{const t=chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"};function Mr(e){return[...ze,...Ye].find((t=>t.langCode===e.toUpperCase())).langCodeForIta}const Dr="production",Ur="development";function Vr(){return Dr}function Fr(){return Vr()===Ur}function Gr(){return Vr()===Dr}const jr={idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger"},qr={activeTermbaseId:"activeTermbaseId",isGlossaryEnabled:"isGlossaryEnabled",hasTermbaseService:"hasTermbaseService"};const Br=function(){const{subscribe:e,set:t,update:n}=Or({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",jr.translatorServiceType,jr.writeServiceType,jr.apiServiceType,jr.docTranslatorServiceType,"browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t",jr.accountId];let r={};for(const[n,o]of Object.entries(e))!1===t.includes(n)&&(r[n]=o.newValue);if(Fr()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,r)}return n((e=>Object.assign(Object.assign({},e),r))),!0})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),Wr=function(){const{subscribe:e,update:t}=Or({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})})));break;case"resetWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)})))}return!0})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}(),Hr=function(t,n,r){const a=!Array.isArray(t),c=a?[t]:t;if(!c.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=n.length<2;return u=(t,r)=>{let u=!1;const d=[];let p=0,h=e;const f=()=>{if(p)return;h();const o=n(a?d[0]:d,t,r);l?t(o):h=i(o)?o:e},g=c.map(((e,t)=>s(e,(e=>{d[t]=e,p&=~(1<<t),u&&f()}),(()=>{p|=1<<t}))));return u=!0,f(),function(){o(g),h(),u=!1}},{subscribe:Or(r,u).subscribe};var u}(Wr,((e,t)=>Fe(void 0,void 0,void 0,(function*(){if(!chrome.tabs)return;const n=yield chrome.tabs.query({active:!0,currentWindow:!0});t(e[n[0].id])}))));!function(){const{subscribe:e,set:t}=Or([]);Ir({action:Er.dlGetExperiments,payload:{forceFetch:!1}}),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments);return!0}))}();const Jr="Unidentified service name supplied to getServiceType",zr=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(zn).includes(t))throw new Error(Jr);if(!e.isLoggedIn)return Yn;switch(t){case zn.TRANSLATOR:return e.translatorServiceType;case zn.WRITE:return e.writeServiceType;case zn.API:return e.apiServiceType;case zn.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(Jr)},Yr=(e,t)=>zr(e,t)===Xn,Xr=e=>!!e.isLoggedIn&&((e,t)=>zr(e,t)===Yn)(e,zn.WRITE),Kr=e=>e.isLoggedIn&&e.hasTermbaseService,Qr=Object.prototype.toString;function Zr(e){switch(Qr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return uo(e,Error)}}function eo(e,t){return Qr.call(e)===`[object ${t}]`}function to(e){return eo(e,"ErrorEvent")}function no(e){return eo(e,"DOMError")}function ro(e){return eo(e,"String")}function oo(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function io(e){return null===e||oo(e)||"object"!=typeof e&&"function"!=typeof e}function ao(e){return eo(e,"Object")}function so(e){return"undefined"!=typeof Event&&uo(e,Event)}function co(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function lo(e){return"number"==typeof e&&e!=e}function uo(e,t){try{return e instanceof t}catch(e){return!1}}function po(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function ho(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function fo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function go(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{po(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function mo(e,t,n=!1){return!!ro(e)&&(eo(t,"RegExp")?t.test(e):!!ro(t)&&(n?e===t:e.includes(t)))}function vo(e,t=[],n=!1){return t.some((t=>mo(e,t,n)))}function yo(e,t,n=250,r,o,i,a){if(!(i.exception&&i.exception.values&&a&&uo(a.originalException,Error)))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,l;s&&(i.exception.values=(c=_o(e,t,o,a.originalException,r,i.exception.values,s,0),l=n,c.map((e=>(e.value&&(e.value=ho(e.value,l)),e)))))}function _o(e,t,n,r,o,i,a,s){if(i.length>=n+1)return i;let c=[...i];if(uo(r[o],Error)){So(a,s);const i=e(t,r[o]),l=c.length;bo(i,o,l,s),c=_o(e,t,n,r[o],o,[i,...c],i,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(uo(r,Error)){So(a,s);const l=e(t,r),u=c.length;bo(l,`errors[${i}]`,u,s),c=_o(e,t,n,r,o,[l,...c],l,u)}})),c}function So(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function bo(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function wo(e){return e&&e.Math==Math?e:void 0}const To="object"==typeof globalThis&&wo(globalThis)||"object"==typeof window&&wo(window)||"object"==typeof self&&wo(self)||"object"==typeof global&&wo(global)||function(){return this}()||{};function Eo(){return To}function Ao(e,t,n){const r=n||To,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const Io=Eo();function xo(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,a=0;const s=" > ",c=s.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(l=ko(n,u),!("html"===l||i>1&&a+o.length*c+l.length>=d));)o.push(l),a+=l.length,n=n.parentNode;return o.reverse().join(s)}catch(e){return"<unknown>"}}function ko(e,t){const n=e,r=[];let o,i,a,s,c;if(!n||!n.tagName)return"";if(Io.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&ro(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)a=u[c],s=n.getAttribute(a),s&&r.push(`[${a}="${s}"]`);return r.join("")}function Co(){try{return Io.document.location.href}catch(e){return""}}function Oo(e){return Io.document&&Io.document.querySelector?Io.document.querySelector(e):null}function Ro(e){if(!Io.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Po="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,No=["debug","info","warn","error","log","assert","trace"],Lo={};function $o(e){if(!("console"in To))return e();const t=To.console,n={},r=Object.keys(Lo);r.forEach((e=>{const r=Lo[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Mo=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Po?No.forEach((n=>{t[n]=(...t)=>{e&&$o((()=>{To.console[n](`Sentry Logger [${n}]:`,...t)}))}})):No.forEach((e=>{t[e]=()=>{}})),t}(),Do=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Uo(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function Vo(e){const t=Do.exec(e);if(!t)return void $o((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",i,a="",s]=t.slice(1);let c="",l=s;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return Fo({host:i,pass:o,path:c,projectId:l,port:a,protocol:n,publicKey:r})}function Fo(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Go(e){const t="string"==typeof e?Vo(e):Fo(e);if(t&&function(e){if(!Po)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Mo.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(Mo.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Mo.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Mo.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class jo extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function qo(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&Wo(o,r),e[t]=o}function Bo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){Po&&Mo.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Wo(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Bo(e,"__sentry_original__",t)}catch(e){}}function Ho(e){return e.__sentry_original__}function Jo(e){if(Zr(e))return{message:e.message,name:e.name,stack:e.stack,...Yo(e)};if(so(e)){const t={type:e.type,target:zo(e.target),currentTarget:zo(e.currentTarget),...Yo(e)};return"undefined"!=typeof CustomEvent&&uo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function zo(e){try{return t=e,"undefined"!=typeof Element&&uo(t,Element)?xo(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Yo(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Xo(e){return Ko(e,new Map)}function Ko(e,t){if(function(e){if(!ao(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=Ko(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(Ko(e,t))})),r}return e}const Qo=/\(error: (.*)\)/,Zo=/captureMessage|captureException/;function ei(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=Qo.test(n)?n.replace(Qo,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),Zo.test(t[t.length-1].function||"")&&(t.pop(),Zo.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const ti="<anonymous>";function ni(e){try{return e&&"function"==typeof e&&e.name||ti}catch(e){return ti}}const ri={},oi={};function ii(e,t){ri[e]=ri[e]||[],ri[e].push(t)}function ai(e,t){oi[e]||(t(),oi[e]=!0)}function si(e,t){const n=e&&ri[e];if(n)for(const r of n)try{r(t)}catch(t){Po&&Mo.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ni(r)}\nError:`,t)}}function ci(e){const t="console";ii(t,e),ai(t,li)}function li(){"console"in To&&No.forEach((function(e){e in To.console&&qo(To.console,e,(function(t){return Lo[e]=t,function(...t){si("console",{args:t,level:e});const n=Lo[e];n&&n.apply(To.console,t)}}))}))}function ui(){const e=To,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function di(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function pi(e){const{message:t,event_id:n}=e;if(t)return t;const r=di(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function hi(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function fi(e,t){const n=di(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function gi(e){if(e&&e.__sentry_captured__)return!0;try{Bo(e,"__sentry_captured__",!0)}catch(e){}return!1}function mi(e){return Array.isArray(e)?e:[e]}const vi=To;let yi,_i,Si;function bi(e){ii("dom",e),ai("dom",wi)}function wi(){if(!vi.document)return;const e=si.bind(null,"dom"),t=Ti(e,!0);vi.document.addEventListener("click",t,!1),vi.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=vi[t]&&vi[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(qo(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=i[n]=i[n]||{refCount:0};if(!a.handler){const r=Ti(e);a.handler=r,t.call(this,n,r,o)}a.refCount++}catch(e){}return t.call(this,n,r,o)}})),qo(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Ti(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Bo(n,"_sentryCaptured",!0),r&&!r._sentryId&&Bo(r,"_sentryId",ui());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==_i)return!1;try{if(!e.target||e.target._sentryId!==Si)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),_i=n.type,Si=r?r._sentryId:void 0}clearTimeout(yi),yi=vi.setTimeout((()=>{Si=void 0,_i=void 0}),1e3)}}const Ei=Eo();function Ai(){if(!("fetch"in Ei))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Ii(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function xi(){if("string"==typeof EdgeRuntime)return!0;if(!Ai())return!1;if(Ii(Ei.fetch))return!0;let e=!1;const t=Ei.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ii(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Po&&Mo.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function ki(e){const t="fetch";ii(t,e),ai(t,Ci)}function Ci(){xi()&&qo(To,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Ri(t),method:Oi(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Ri(t),method:Oi(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return si("fetch",{...o}),e.apply(To,t).then((e=>(si("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw si("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}))}function Oi(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Ri(e){return"string"==typeof e?e:e?Oi(e,"url")?e.url:e.toString?e.toString():"":""}let Pi=null;function Ni(e){const t="error";ii(t,e),ai(t,Li)}function Li(){Pi=To.onerror,To.onerror=function(e,t,n,r,o){return si("error",{column:r,error:o,line:n,msg:e,url:t}),!(!Pi||Pi.__SENTRY_LOADER__)&&Pi.apply(this,arguments)},To.onerror.__SENTRY_INSTRUMENTED__=!0}let $i=null;function Mi(e){const t="unhandledrejection";ii(t,e),ai(t,Di)}function Di(){$i=To.onunhandledrejection,To.onunhandledrejection=function(e){return si("unhandledrejection",e),!($i&&!$i.__SENTRY_LOADER__)||$i.apply(this,arguments)},To.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ui=Eo();const Vi=To;let Fi;function Gi(e){const t="history";ii(t,e),ai(t,ji)}function ji(){if(!function(){const e=Ui.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ui&&!!Ui.history.pushState&&!!Ui.history.replaceState;return!t&&n}())return;const e=Vi.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Fi,t=String(n);Fi=t;si("history",{from:e,to:t})}return e.apply(this,t)}}Vi.onpopstate=function(...t){const n=Vi.location.href,r=Fi;Fi=n;if(si("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},qo(Vi.history,"pushState",t),qo(Vi.history,"replaceState",t)}const qi=To,Bi="__sentry_xhr_v3__";function Wi(e){ii("xhr",e),ai("xhr",Hi)}function Hi(){if(!qi.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;qo(e,"open",(function(e){return function(...t){const n=Date.now(),r=ro(t[0])?t[0].toUpperCase():void 0,o=function(e){if(ro(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!o)return e.apply(this,t);this[Bi]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[Bi];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}si("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?qo(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),qo(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[Bi];return o&&ro(n)&&ro(r)&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),qo(e,"send",(function(e){return function(...t){const n=this[Bi];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return si("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function Ji(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function zi(){return"undefined"!=typeof window&&(!Ji()||void 0!==To.process&&"renderer"===To.process.type)}function Yi(e,t=100,n=1/0){try{return Ki("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Xi(e,t=3,n=102400){const r=Yi(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?Xi(e,t-1,n):r;var o}function Ki(e,t,n=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,a]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&!lo(t))return t;const s=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(po(t))return"[VueViewModel]";if(ao(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${ni(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return s.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return Ki("",l.toJSON(),c-1,r,o)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=Jo(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]="[MaxProperties ~]";break}const t=p[e];u[e]=Ki(e,t,c-1,r,o),d++}return a(t),u}const Qi=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Zi(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n="/"===o.charAt(0))}return t=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function ea(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function ta(e,t){return function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Qi.exec(t);return n?n.slice(1):[]}(e)[2]}var na;function ra(e){return new ia((t=>{t(e)}))}function oa(e){return new ia(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(na||(na={}));class ia{constructor(e){ia.prototype.__init.call(this),ia.prototype.__init2.call(this),ia.prototype.__init3.call(this),ia.prototype.__init4.call(this),this._state=na.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ia(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ia(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(na.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(na.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===na.PENDING&&(co(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===na.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===na.RESOLVED&&e[1](this._value),this._state===na.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function aa(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return oa(new jo("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new ia(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{ra(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function sa(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const ca=["fatal","error","warning","log","info","debug"];function la(e){return"warn"===e?"warning":ca.includes(e)?e:"log"}function ua(){return Date.now()/1e3}const da=function(){const{performance:e}=To;if(!e||!e.now)return ua;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),pa=(()=>{const{performance:e}=To;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+n-r):t;return i||s<t?o<=s?e.timeOrigin:a:r})(),ha="baggage",fa="sentry-",ga=/^sentry-/;function ma(e){if(!ro(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=ya(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=ya(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(ga)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function va(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,i=0===r?o:`${e},${o}`;return i.length>8192?(Po&&Mo.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):i}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${fa}${t}`]=n),e)),{}))}function ya(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const _a=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Sa(e){if(!e)return;const t=e.match(_a);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ba(e,t){const n=Sa(e),r=ma(t),{traceId:o,parentSpanId:i,parentSampled:a}=n||{};return n?{traceId:o||ui(),parentSpanId:i||ui().substring(16),spanId:ui().substring(16),sampled:a,dsc:r||{}}:{traceId:o||ui(),spanId:ui().substring(16)}}function wa(e=ui(),t=ui().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ta(e,t=[]){return[e,t]}function Ea(e,t){const[n,r]=e;return[n,[...r,t]]}function Aa(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Ia(e,t){return(t||new TextEncoder).encode(e)}function xa(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[Ia(o,t),e]:o.push("string"==typeof e?Ia(e,t):e)}for(const e of r){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Yi(n))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function ka(e,t){const n="string"==typeof e.data?Ia(e.data,t):e.data;return[Xo({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Ca={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Oa(e){return Ca[e]}function Ra(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Pa(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Uo(r)},...o&&{trace:Xo({...o})}}}function Na(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function La(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function $a(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,i]=e.split(":",5),a=parseInt(t,10),s=1e3*(isNaN(a)?60:a);if(n)for(const e of n.split(";"))"metric_bucket"===e&&i&&!i.split(";").includes("custom")||(o[e]=r+s);else o.all=r+s}else a?o.all=r+Na(a,r):429===t&&(o.all=r+6e4);return o}function Ma(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=function(e,t){return e(t.stack||"",1)}(e,t);return r.length&&(n.stacktrace={frames:r}),n}function Da(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const Ua="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Va="production";function Fa(){return Ao("globalEventProcessors",(()=>[]))}function Ga(e){Fa().push(e)}function ja(e,t,n,r=0){return new ia(((o,i)=>{const a=e[r];if(null===t||"function"!=typeof a)o(t);else{const s=a({...t},n);Ua&&a.id&&null===s&&Mo.log(`Event processor "${a.id}" dropped event`),co(s)?s.then((t=>ja(e,t,n,r+1).then(o))).then(null,i):ja(e,s,n,r+1).then(o).then(null,i)}}))}function qa(e){const t=da(),n={sid:ui(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Xo({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Ba(n,e),n}function Ba(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||da(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ui()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Wa(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),Ba(e,n)}function Ha(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:a,tags:s,origin:c}=Xa(e);return Xo({data:r,op:o,parent_span_id:i,span_id:t,status:a,tags:s,trace_id:n,origin:c})}function Ja(e){const{traceId:t,spanId:n}=e.spanContext();return wa(t,n,Ka(e))}function za(e){return"number"==typeof e?Ya(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ya(e.getTime()):da()}function Ya(e){return e>9999999999?e/1e3:e}function Xa(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function Ka(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function Qa(e,t,n,r,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ui(),timestamp:t.timestamp||ua()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Va);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=ho(e.message,i));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=ho(a.value,i));const s=e.request;s&&s.url&&(s.url=ho(s.url,i))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),void 0===t.type&&function(e,t){const n=To._sentryDebugIds;if(!n)return;let r;const o=Za.get(t);o?r=o:(r=new Map,Za.set(t,r));const i=Object.keys(n).reduce(((e,o)=>{let i;const a=r.get(o);a?i=a:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new bs;return n.update(t),n}(r,n.captureContext);n.mechanism&&fi(c,n.mechanism);const d=o&&o.getEventProcessors?o.getEventProcessors():[],p=function(){Ss||(Ss=new bs);return Ss}().getScopeData();if(i){ys(p,i.getScopeData())}if(u){ys(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),vs(c,p);return ja([...d,...Fa(),...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Yi(e.data,t,n)}})))},...e.user&&{user:Yi(e.user,t,n)},...e.contexts&&{contexts:Yi(e.contexts,t,n)},...e.extra&&{extra:Yi(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Yi(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=Xa(e).data;return r&&(e.data=Yi(r,t,n)),e})));return r}(e,a,s):e)))}const Za=new WeakMap;function es(e){if(e)return function(e){return e instanceof bs||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>ts.includes(e)))}(e)?{captureContext:e}:e}const ts=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ns(e,t){return Cs().captureException(e,es(t))}function rs(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Cs().captureMessage(e,n,r)}function os(e,t){return Cs().captureEvent(e,t)}function is(e,t){Cs().addBreadcrumb(e,t)}function as(e,t){Cs().setContext(e,t)}function ss(...e){const t=Cs();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function cs(){return Cs().getClient()}function ls(){return Cs().getScope()}function us(e){const t=cs(),n=Os(),r=ls(),{release:o,environment:i=Va}=t&&t.getOptions()||{},{userAgent:a}=To.navigator||{},s=qa({release:o,environment:i,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),c=n.getSession();return c&&"ok"===c.status&&Ba(c,{status:"exited"}),ds(),n.setSession(s),r.setSession(s),s}function ds(){const e=Os(),t=ls(),n=t.getSession()||e.getSession();n&&Wa(n),ps(),e.setSession(),t.setSession()}function ps(){const e=Os(),t=ls(),n=cs(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function hs(e=!1){e?ds():ps()}function fs(e){return e.transaction}function gs(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},a=Xo({environment:r.environment||Va,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function ms(e){const t=cs();if(!t)return{};const n=gs(Xa(e).trace_id||"",t,ls()),r=fs(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:i,source:a}=r.metadata;null!=i&&(n.sample_rate=`${i}`);const s=Xa(r);return a&&"url"!==a&&(n.transaction=s.description),n.sampled=String(Ka(r)),t.emit&&t.emit("createDsc",n),n}function vs(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:s}=t,c=Xo(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=Xo(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=Xo(o);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Xo(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});a&&(e.level=a);s&&(e.transaction=s)}(e,t),r&&function(e,t){e.contexts={trace:Ha(t),...e.contexts};const n=fs(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:ms(t),...e.sdkProcessingMetadata};const r=Xa(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?mi(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function ys(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:f}=t;_s(e,"extra",n),_s(e,"tags",r),_s(e,"user",o),_s(e,"contexts",i),_s(e,"sdkProcessingMetadata",s),a&&(e.level=a),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function _s(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let Ss;class bs{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ws()}static clone(e){return e?e.clone():new bs}clone(){const e=new bs;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Ba(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof bs){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(ao(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=ws(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:ua(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:i,_level:a,_fingerprint:s,_eventProcessors:c,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:i,level:a,fingerprint:s||[],eventProcessors:c,propagationContext:l,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){vs(e,this.getScopeData());return ja([...n,...Fa(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:ui();if(!this._client)return Mo.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:ui();if(!this._client)return Mo.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ui();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Mo.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function ws(){return{traceId:ui(),spanId:ui().substring(16)}}const Ts="7.120.3",Es=parseFloat(Ts),As=100;class Is{constructor(e,t,n,r=Es){let o,i;this._version=r,t?o=t:(o=new bs,o.setClient(e)),n?i=n:(i=new bs,i.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return co(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:ui(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:ui(),o=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ui();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=As}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const a={timestamp:ua(),...e},s=o?$o((()=>o(a,t))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,t),n.addBreadcrumb(s,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=ks(this);try{e(this)}finally{ks(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Ua&&Mo.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(Ua&&!n){this.getClient()?Mo.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Mo.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&Wa(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=Va}=n&&n.getOptions()||{},{userAgent:i}=To.navigator||{},a=qa({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),s=t.getSession&&t.getSession();return s&&"ok"===s.status&&Ba(s,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=xs().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);Ua&&Mo.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function xs(){return To.__SENTRY__=To.__SENTRY__||{extensions:{},hub:void 0},To}function ks(e){const t=xs(),n=Ps(t);return Ns(t,e),n}function Cs(){const e=xs();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=xs()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!Ps(e).isOlderThan(Es)||Ns(e,new Is);var t;return Ps(e)}(e)}function Os(){return Cs().getIsolationScope()}function Rs(e,t={}){const n=xs();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function Ps(e){return Ao("hub",(()=>new Is),e)}function Ns(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function Ls(e){return(e||Cs()).getScope().getTransaction()}const $s=Sa;let Ms=!1;function Ds(){const e=Ls();if(e){const t="internal_error";Ua&&Mo.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var Us;function Vs(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}Ds.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(Us||(Us={}));const Fs=Vs;function Gs(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Vs(t);"unknown_error"!==n&&e.setStatus(n)}function js(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(co(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function qs(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=cs(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Bs(e){if(!qs())return;const t=Js(e),n=Cs(),r=e.scope?e.scope.getSpan():Ws();if(e.onlyIfParent&&!r)return;const o=(e.scope||ls()).clone();return Hs(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function Ws(){return ls().getSpan()}function Hs(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!qs())return;const i=Os();let a;if(t&&!r)a=t.startChild(n);else if(t){const r=ms(t),{traceId:o,spanId:i}=t.spanContext(),s=Ka(t);a=e.startTransaction({traceId:o,parentSpanId:i,parentSampled:s,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:s,sampled:c}={...i.getPropagationContext(),...o.getPropagationContext()};a=e.startTransaction({traceId:t,parentSpanId:s,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return o.setSpan(a),function(e,t,n){e&&(Bo(e,Ys,n),Bo(e,zs,t))}(a,o,i),a}function Js(e){if(e.startTime){const t={...e};return t.startTimestamp=za(e.startTime),delete t.startTime,t}return e}const zs="_sentryScope",Ys="_sentryIsolationScope";let Xs;function Ks(e){return Xs?Xs.get(e):void 0}function Qs(e){const t=Ks(e);if(!t)return;const n={};for(const[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(Xo(r));return n}const Zs="sentry.source",ec="sentry.sample_rate",tc="sentry.op",nc="sentry.origin";class rc{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class oc{constructor(e={}){this._traceId=e.traceId||ui(),this._spanId=e.spanId||ui().substring(16),this._startTime=e.startTimestamp||da(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[nc]:e.origin||"manual",[tc]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[tc]}set op(e){this.setAttribute(tc,e)}get origin(){return this._attributes[nc]}set origin(e){this.setAttribute(nc,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){const t=new oc({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=fs(this);if(t.transaction=n,Ua&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${Xa(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;Mo.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return Gs(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=fs(this);if(Ua&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&Mo.log(e.replace("Starting","Finishing"))}this._endTime=za(e)}toTraceparent(){return Ja(this)}toContext(){return Xo({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Ha(this)}getSpanJSON(){return Xo({data:this._getData(),description:this._name,op:this._attributes[tc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[nc],_metrics_summary:Qs(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class ic extends oc{constructor(e,t){super(e),this._contexts={},this._hub=t||Cs(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Zs]&&{source:this._attributes[Zs]},...this._attributes[ec]&&{sampleRate:this._attributes[ec]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(Zs,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new rc(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=za(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return Xo({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return ms(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(Ua&&Mo.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return Ua&&Mo.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&Xa(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>Xa(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:o}={scope:(i=this)[zs],isolationScope:i[Ys]};var i;const{metadata:a}=this,{source:s}=a,c={contexts:{...this._contexts,trace:Ha(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:r,capturedSpanIsolationScope:o,...Xo({dynamicSamplingContext:ms(this)})},_metrics_summary:Qs(this),...s&&{transaction_info:{source:s}}};return Object.keys(this._measurements).length>0&&(Ua&&Mo.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),Ua&&Mo.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const ac={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},sc=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class cc extends rc{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===Xa(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class lc extends ic{constructor(e,t,n=ac.idleTimeout,r=ac.finalTimeout,o=ac.heartbeatInterval,i=!1,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=sc[4],this._autoFinishAllowed=!a,i&&(Ua&&Mo.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=sc[3],this.end())}),this._finalTimeout)}end(e){const t=za(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){Ua&&Mo.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;Xa(e).timestamp||(e.setStatus("cancelled"),e.end(t),Ua&&Mo.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=Xa(e),o=n&&n<t,i=(this._finalTimeout+this._idleTimeout)/1e3,a=r&&n&&r-n<i;if(Ua){const t=JSON.stringify(e,void 0,2);o?a||Mo.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):Mo.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return o&&a})),Ua&&Mo.log("[Tracing] flushing IdleTransaction")}else Ua&&Mo.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new cc(t,n,this.spanContext().spanId,e),Ua&&Mo.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=sc[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(Ua&&Mo.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=sc[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Ua&&Mo.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,Ua&&Mo.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(Ua&&Mo.log(`[Tracing] popActivity ${e}`),delete this.activities[e],Ua&&Mo.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=da();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=sc[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(Ua&&Mo.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=sc[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){Ua&&Mo.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function uc(e,t,n){if(!qs(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(ec,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(ec,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(ec,Number(r))):(r=1,e.setAttribute(ec,r)),dc(r)?r?(e.sampled=Math.random()<r,e.sampled?(Ua&&Mo.log(`[Tracing] starting ${e.op} transaction - ${Xa(e).description}`),e):(Ua&&Mo.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(Ua&&Mo.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(Ua&&Mo.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function dc(e){return lo(e)||"number"!=typeof e&&"boolean"!=typeof e?(Ua&&Mo.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(Ua&&Mo.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function pc(){const e=this.getScope().getSpan();return e?{"sentry-trace":Ja(e)}:{}}function hc(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",i=e.instrumenter||"sentry";o!==i&&(Ua&&Mo.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let a=new ic(e,this);return a=uc(a,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),a.isRecording()&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function fc(e,t,n,r,o,i,a,s=!1){const c=e.getClient(),l=c&&c.getOptions()||{};let u=new lc(t,e,n,r,a,o,s);return u=uc(u,l,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function gc(){const e=xs();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=hc),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=pc),Ms||(Ms=!0,Ni(Ds),Mi(Ds)))}function mc(e,t,n){const r=Ls();r&&r.setMeasurement(e,t,n)}function vc(e,t,n,r){const o=Ra(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=Pa(e,o,r,t);delete e.sdkProcessingMetadata;return Ta(a,[[{type:i},e]])}function yc(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function _c(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function Sc(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${yc(e)}${e.projectId}/envelope/`}(e)}?${_c(e,r)}`}const bc=[];function wc(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?mi(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function Tc(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ec(e,t,n){if(n[t.name])Ua&&Mo.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===bc.indexOf(t.name)&&(t.setupOnce(Ga,Cs),bc.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}Ua&&Mo.log(`Integration installed: ${t.name}`)}}function Ac(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function Ic(e){return e.replace(/[^\w\-./]+/gi,"")}const xc=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function kc(e){return[...e].reduce(((e,t)=>e+function(e){for(const[t,n]of xc)if(e===t)return n;return e}(t)),"")}function Cc(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=Uo(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Ta(o,[i])}const Oc="Not capturing exception because it's already been captured.";class Rc{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Go(e.dsn):Ua&&Mo.warn("No DSN provided, client will not send events."),this._dsn){const t=Sc(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(gi(e))return void(Ua&&Mo.log(Oc));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=oo(e)?e:String(e),a=io(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(a.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&gi(t.originalException))return void(Ua&&Mo.log(Oc));let r=t&&t.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?Ua&&Mo.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ba(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):ra(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return Ua&&Mo.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Ec(this,e,this._integrations),t||Tc(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=vc(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Ea(n,ka(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=Ra(n);return Ta({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:Uo(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${e}:${t}`;Ua&&Mo.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(e){Ua&&Mo.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=Cc(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Ec(e,t,n)})),n}(this,e),Tc(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(Ba(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ia((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=Os()){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),Qa(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:i,dsc:a}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:i},...e.contexts};const s=a||gs(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(Ua){const t=e;"log"===t.logLevel?Mo.log(t.message):Mo.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=Nc(e),a=Pc(e),s=e.type||"error",c=`before send for type \`${s}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),oa(new jo(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===s?"replay":s,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new jo("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(Pc(t)&&r)return r(t,n);if(Nc(t)&&o){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(co(e))return e.then((e=>{if(!ao(e)&&null!==e)throw new jo(n);return e}),(e=>{throw new jo(`${t} rejected with ${e}`)}));if(!ao(e)&&null!==e)throw new jo(n);return e}(o,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new jo(`${c} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=r.transaction_info;if(i&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof jo)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new jo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{Ua&&Mo.error("Error while sending event:",e)}));Ua&&Mo.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function Pc(e){return void 0===e.type}function Nc(e){return"transaction"===e.type}function Lc(e){const t=cs();t&&t.addEventProcessor&&t.addEventProcessor(e)}const $c="c",Mc="g",Dc="s",Uc="d";const Vc={[$c]:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},[Mc]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},[Uc]:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},[Dc]:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};function Fc(e){const t=Cs().getStackTop();t.client=e,t.scope.setClient(e)}function Gc(e,t,n=aa(e.bufferSize||30)){let r={};function o(o){const i=[];if(Aa(o,((t,n)=>{const o=Oa(n);if(La(r,o)){const r=jc(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return ra();const a=Ta(o[0],i),s=t=>{Aa(a,((n,r)=>{const o=jc(n,r);e.recordDroppedEvent(t,Oa(r),o)}))};return n.add((()=>t({body:xa(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Ua&&Mo.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=$a(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof jo)return Ua&&Mo.error("Skipped sending event because buffer is full."),s("queue_overflow"),ra();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function jc(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function qc(e,t){Ua&&Mo.info(`[Offline]: ${e}`,t)}function Bc(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let o,i=5e3;function a(e,n,r){return o=["replay_event","replay_recording","client_report"],!Aa(e,((e,t)=>o.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var o}function s(e){r&&(o&&clearTimeout(o),o=setTimeout((async()=>{o=void 0;const e=await r.pop();e&&(qc("Attempting to send previously queued event"),l(e).catch((e=>{qc("Failed to retry sending",e)})))}),e),"number"!=typeof o&&o.unref&&o.unref())}function c(){o||(s(i),i=Math.min(2*i,36e5))}async function l(e){try{const t=await n.send(e);let r=100;if(t)if(t.headers&&t.headers["retry-after"])r=Na(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return s(r),i=5e3,t}catch(t){if(r&&await a(e,t,i))return await r.insert(e),c(),qc("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&c(),{send:l,flush:e=>n.flush(e)}}}function Wc(e,t){let n;return Aa(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function Hc(e){return[{type:"span"},e]}function Jc(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return zc(e)===zc(t)}(e,o)}function zc(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const Yc=new Map,Xc=new Set;function Kc(e,t){return function(e){if(To._sentryModuleMetadata)for(const t of Object.keys(To._sentryModuleMetadata)){const n=To._sentryModuleMetadata[t];if(Xc.has(t))continue;Xc.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){Yc.set(e.filename,n);break}}}(e),Yc.get(t)}const Qc="ModuleMetadata",Zc=()=>({name:Qc,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{Aa(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=Kc(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)}),el=Ac(Qc,Zc),tl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],nl=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],rl="InboundFilters",ol=(e={})=>({name:rl,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:tl],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:nl],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return Ua&&Mo.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${pi(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));Ua&&0===t.length&&Mo.error(`Could not extract message for event ${pi(e)}`);return t}(e).some((e=>vo(e,t)))}(e,t.ignoreErrors))return Ua&&Mo.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${pi(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&vo(n,t)}(e,t.ignoreTransactions))return Ua&&Mo.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${pi(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=al(e);return!!n&&vo(n,t)}(e,t.denyUrls))return Ua&&Mo.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${pi(e)}.\nUrl: ${al(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=al(e);return!n||vo(n,t)}(e,t.allowUrls))return Ua&&Mo.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${pi(e)}.\nUrl: ${al(e)}`),!0;return!1}(t,i)?null:t}}),il=Ac(rl,ol);function al(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return Ua&&Mo.error(`Cannot extract url for event ${pi(e)}`),null}}let sl;const cl="FunctionToString",ll=new WeakMap,ul=()=>({name:cl,setupOnce(){sl=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ho(this),n=ll.has(cs())&&void 0!==t?t:this;return sl.apply(n,e)}}catch(e){}},setup(e){ll.set(e,!0)}}),dl=Ac(cl,ul),pl="LinkedErrors",hl=Ac(pl,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:pl,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();yo(Ma,i.stackParser,i.maxValueLength,n,t,e,r)}}}));var fl=Object.freeze({__proto__:null,FunctionToString:dl,InboundFilters:il,LinkedErrors:hl});class gl{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",o={},i=da()){const a=Math.floor(i),s=t.replace(/[^\w\-.]+/gi,"_");const c=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[Ic(n)]=kc(String(e[n])));return t}(o),l=function(e){return e.replace(/[^\w]+/gi,"_")}(r),u=function(e,t,n,r){return`${e}${t}${n}${Object.entries(Xo(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,s,l,c);let d=this._buckets.get(u);const p=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<a&&(d.timestamp=a)):(d={metric:new Vc[e](n),timestamp:a,metricType:e,name:s,unit:l,tags:c},this._buckets.set(u,d));!function(e,t,n,r,o,i){const a=Ws();if(a){const s=Ks(a)||new Map,c=`${e}:${t}@${r}`,l=s.get(i);if(l){const[,e]=l;s.set(i,[c,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else s.set(i,[c,{min:n,max:n,count:1,sum:n,tags:o}]);Xs||(Xs=new WeakMap),Xs.set(a,s)}}(e,s,"string"==typeof n?d.metric.weight-p:n,l,o,u)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const ml="MetricsAggregator",vl=()=>({name:ml,setupOnce(){},setup(e){e.metricsAggregator=new gl(e)}});function yl(e,t,n,r={}){const o=cs(),i=ls();if(o){if(!o.metricsAggregator)return void(Ua&&Mo.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:a,tags:s,timestamp:c}=r,{release:l,environment:u}=o.getOptions(),d=i.getTransaction(),p={};l&&(p.release=l),u&&(p.environment=u),d&&(p.transaction=Xa(d).description||""),Ua&&Mo.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,a,{...p,...s},c)}}const _l={increment:function(e,t=1,n){yl("c",e,t,n)},distribution:function(e,t,n){yl("d",e,t,n)},set:function(e,t,n){yl("s",e,t,n)},gauge:function(e,t,n){yl("g",e,t,n)},MetricsAggregator:Ac(ml,vl),metricsAggregatorIntegration:vl},Sl=fl,bl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,wl=To;function Tl(){wl.document?wl.document.addEventListener("visibilitychange",(()=>{const e=Ls();if(wl.document.hidden&&e){const t="cancelled",{op:n,status:r}=Xa(e);bl&&Mo.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):bl&&Mo.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const El=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},Al=()=>wl.__WEB_VITALS_POLYFILL__?wl.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=wl.performance.timing,t=wl.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):wl.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Il=()=>{const e=Al();return e&&e.activationStart||0},xl=(e,t)=>{const n=Al();let r="navigate";return n&&(r=wl.document&&wl.document.prerendering||Il()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},kl=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Cl=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==wl.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};wl.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let Ol=-1;const Rl=()=>(Ol<0&&(wl.document&&wl.document.visibilityState&&(Ol="hidden"!==wl.document.visibilityState||wl.document.prerendering?1/0:0),Cl((({timeStamp:e})=>{Ol=e}),!0)),{get firstHiddenTime(){return Ol}});let Pl=0,Nl=1/0,Ll=0;const $l=e=>{e.forEach((e=>{e.interactionId&&(Nl=Math.min(Nl,e.interactionId),Ll=Math.max(Ll,e.interactionId),Pl=Ll?(Ll-Nl)/7+1:0)}))};let Ml;const Dl=()=>{"interactionCount"in performance||Ml||(Ml=kl("event",$l,{type:"event",buffered:!0,durationThreshold:0}))},Ul=()=>Ml?Pl:performance.interactionCount||0,Vl=[],Fl={},Gl=e=>{const t=Vl[Vl.length-1],n=Fl[e.interactionId];if(n||Vl.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};Fl[t.id]=t,Vl.push(t)}Vl.sort(((e,t)=>t.latency-e.latency)),Vl.splice(10).forEach((e=>{delete Fl[e.id]}))}},jl=(e,t)=>{t=t||{},Dl();const n=xl("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&Gl(e),"first-input"===e.entryType){!Vl.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&Gl(e)}}));const t=(()=>{const e=Math.min(Vl.length-1,Math.floor(Ul()/50));return Vl[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=kl("event",o,{durationThreshold:t.durationThreshold||40});r=El(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Cl((()=>{o(i.takeRecords()),n.value<0&&Ul()>0&&(n.value=0,n.entries=[]),r(!0)})))},ql={},Bl=e=>{wl.document&&(wl.document.prerendering?addEventListener("prerenderingchange",(()=>Bl(e)),!0):"complete"!==wl.document.readyState?addEventListener("load",(()=>Bl(e)),!0):setTimeout(e,0))},Wl={},Hl={};let Jl,zl,Yl,Xl,Kl;function Ql(e,t=!1){return au("lcp",e,ru,Yl,t)}function Zl(e,t){return su(e,t),Hl[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);kl(e,(t=>{eu(e,{entries:t})}),t)}(e),Hl[e]=!0),cu(e,t)}function eu(e,t){const n=Wl[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){bl&&Mo.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ni(r)}\nError:`,t)}}function tu(){return((e,t={})=>{const n=xl("CLS",0);let r,o=0,i=[];const a=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],a=i[i.length-1];o&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e]),o>n.value&&(n.value=o,n.entries=i,r&&r())}}))},s=kl("layout-shift",a);if(s){r=El(e,n,t.reportAllChanges);const o=()=>{a(s.takeRecords()),r(!0)};return Cl(o),o}})((e=>{eu("cls",{metric:e}),Jl=e}),{reportAllChanges:!0})}function nu(){return(e=>{const t=Rl(),n=xl("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(o)},a=kl("first-input",i);r=El(e,n),a&&Cl((()=>{i(a.takeRecords()),a.disconnect()}),!0)})((e=>{eu("fid",{metric:e}),zl=e}))}function ru(){return(e=>{const t=Rl(),n=xl("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-Il(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},i=kl("largest-contentful-paint",o);if(i){r=El(e,n);const t=()=>{ql[n.id]||(o(i.takeRecords()),i.disconnect(),ql[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{wl.document&&addEventListener(e,t,{once:!0,capture:!0})})),Cl(t,!0),t}})((e=>{eu("lcp",{metric:e}),Yl=e}))}function ou(){return((e,t)=>{t=t||{};const n=xl("TTFB"),r=El(e,n,t.reportAllChanges);Bl((()=>{const e=Al();if(e){if(n.value=Math.max(e.responseStart-Il(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{eu("ttfb",{metric:e}),Xl=e}))}function iu(){return jl((e=>{eu("inp",{metric:e}),Kl=e}))}function au(e,t,n,r,o=!1){let i;return su(e,t),Hl[e]||(i=n(),Hl[e]=!0),r&&t({metric:r}),cu(e,t,o?i:void 0)}function su(e,t){Wl[e]=Wl[e]||[],Wl[e].push(t)}function cu(e,t,n){return()=>{n&&n();const r=Wl[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}function lu(e){return"number"==typeof e&&isFinite(e)}function uu(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function du(e){return e/1e3}function pu(){return wl.addEventListener&&wl.performance}let hu,fu,gu=0,mu={};function vu(){const e=pu();if(e&&pa){e.mark&&wl.performance.mark("sentry-tracing-init");const t=au("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=du(pa),r=du(t.startTime);bl&&Mo.log("[Measurements] Adding FID"),mu.fid={value:e.value,unit:"millisecond"},mu["mark.fid"]={value:n+r,unit:"second"}}),nu,zl),n=function(e,t=!1){return au("cls",e,tu,Jl,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(bl&&Mo.log("[Measurements] Adding CLS"),mu.cls={value:e.value,unit:""},fu=t)}),!0),r=Ql((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(bl&&Mo.log("[Measurements] Adding LCP"),mu.lcp={value:e.value,unit:"millisecond"},hu=t)}),!0),o=function(e){return au("ttfb",e,ou,Xl)}((({metric:e})=>{e.entries[e.entries.length-1]&&(bl&&Mo.log("[Measurements] Adding TTFB"),mu.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),o()}}return()=>{}}function yu(){Zl("longtask",(({entries:e})=>{for(const t of e){const e=Ls();if(!e)return;const n=du(pa+t.startTime),r=du(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}))}function _u(){Zl("event",(({entries:e})=>{for(const t of e){const e=Ls();if(!e)return;if("click"===t.name){const n=du(pa+t.startTime),r=du(t.duration),o={description:xo(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=Ro(t.target);i&&(o.attributes={"ui.component_name":i}),e.startChild(o)}}}))}function Su(e,t){if(pu()&&pa){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find((e=>e.duration===n.value&&void 0!==bu[e.name])),o=cs();if(!r||!o)return;const i=bu[r.name],a=o.getOptions(),s=du(pa+r.startTime),c=du(n.value),l=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===l)return;const{routeName:u,parentContext:d,activeTransaction:p,user:h,replayId:f}=l,g=void 0!==h?h.email||h.id||h.ip_address:void 0,m=void 0!==p?p.getProfileId():void 0,v=new oc({startTimestamp:s,endTimestamp:s+c,op:`ui.interaction.${i}`,name:xo(r.target),attributes:{release:a.release,environment:a.environment,transaction:u,...void 0!==g&&""!==g?{user:g}:{},...void 0!==m?{profile_id:m}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=function(e,t,n){if(!qs(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:wl.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,dc(r)?!0===r?n:!1===r?0:r*n:(bl&&Mo.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,a,t);if(y&&Math.random()<y){const e=v?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=Uo(t)),Ta(n,e.map(Hc))}([v],o.getDsn()):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,(e=>{bl&&Mo.error("Error while sending interaction:",e)}))}},au("inp",n,iu,Kl);var n}(e,t);return()=>{n()}}return()=>{}}const bu={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function wu(e){const t=pu();if(!t||!wl.performance.getEntries||!pa)return;bl&&Mo.log("[Tracing] Adding & adjusting spans using Performance API");const n=du(pa),r=t.getEntries(),{op:o,start_timestamp:i}=Xa(e);if(r.slice(gu).forEach((t=>{const r=du(t.startTime),o=du(t.duration);if(!("navigation"===e.op&&i&&n+r<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Tu(e,t,r,n)})),Tu(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Tu(e,t,"fetch",n,"cache","domainLookupStart"),Tu(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(uu(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+du(t.requestStart),endTimestamp:n+du(t.responseEnd)}),uu(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+du(t.responseStart),endTimestamp:n+du(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const i=o+n,a=i+r;uu(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,r,o,n);const i=Rl(),a=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&a&&(bl&&Mo.log("[Measurements] Adding FP"),mu.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&a&&(bl&&Mo.log("[Measurements] Adding FCP"),mu.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=sa(n),s={};Eu(s,t,"transferSize","http.response_transfer_size"),Eu(s,t,"encodedBodySize","http.response_content_length"),Eu(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop());a.host&&(s["server.address"]=a.host);s["url.same_origin"]=n.includes(wl.location.origin);const c=i+r,l=c+o;uu(e,{description:n.replace(wl.location.origin,""),endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:s})}(e,t,t.name,r,o,n)}})),gu=Math.max(r.length-1,0),function(e){const t=wl.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),lu(n.rtt)&&(mu["connection.rtt"]={value:n.rtt,unit:"millisecond"}));lu(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);lu(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=Al();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(bl&&Mo.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(mu),["fcp","fp","lcp"].forEach((e=>{if(!mu[e]||!i||n>=i)return;const t=mu[e].value,r=n+du(t),o=Math.abs(1e3*(r-i)),a=o-t;bl&&Mo.log(`[Measurements] Normalized ${e} from ${t} to ${o} (${a})`),mu[e].value=o}));const t=mu["mark.fid"];t&&mu.fid&&(uu(e,{description:"first input delay",endTimestamp:t.value+du(mu.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete mu["mark.fid"]),"fcp"in mu||delete mu.cls,Object.keys(mu).forEach((e=>{mc(e,mu[e].value,mu[e].unit)})),function(e){hu&&(bl&&Mo.log("[Measurements] Adding LCP Data"),hu.element&&e.setTag("lcp.element",xo(hu.element)),hu.id&&e.setTag("lcp.id",hu.id),hu.url&&e.setTag("lcp.url",hu.url.trim().slice(0,200)),e.setTag("lcp.size",hu.size));fu&&fu.sources&&(bl&&Mo.log("[Measurements] Adding CLS Data"),fu.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,xo(t.node)))))}(e)}hu=void 0,fu=void 0,mu={}}function Tu(e,t,n,r,o,i){const a=i?t[i]:t[`${n}End`],s=t[`${n}Start`];s&&a&&uu(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+du(s),endTimestamp:r+du(a)})}function Eu(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}function Au(e,t,n,r,o="auto.http.browser"){if(!qs()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){Gs(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const a=ls(),s=cs(),{method:c,url:l}=e.fetchData,u=function(e){try{return new URL(e).href}catch(e){return}}(l),d=u?sa(u).host:void 0,p=i?Bs({name:`${c} ${l}`,onlyIfParent:!0,attributes:{url:l,type:"fetch","http.method":c,"http.url":u,"server.address":d,[nc]:o},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&s){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const i=o||n.getSpan(),a=Os(),{traceId:s,spanId:c,sampled:l,dsc:u}={...a.getPropagationContext(),...n.getPropagationContext()},d=i?Ja(i):wa(s,c,l),p=va(u||(i?ms(i):gs(s,t,n))),h=r.headers||("undefined"!=typeof Request&&uo(e,Request)?e.headers:void 0);if(h){if("undefined"!=typeof Headers&&uo(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",d),p&&e.append(ha,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",d]];return p&&e.push([ha,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,s,a,n,p)}return p}const Iu=["localhost",/^\/(?!\/)/],xu={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Iu,tracePropagationTargets:Iu};function ku(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:a}={traceFetch:xu.traceFetch,traceXHR:xu.traceXHR,...e},s="function"==typeof i?i:e=>!0,c=e=>function(e,t){return vo(e,t||Iu)}(e,r||o),l={};t&&ki((e=>{const t=Au(e,s,c,l);if(t){const n=Ru(e.fetchData.url),r=n?sa(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}a&&t&&Cu(t)})),n&&Wi((e=>{const t=function(e,t,n,r){const o=e.xhr,i=o&&o[Bi];if(!qs()||!o||o.__sentry_own_request__||!i)return;const a=t(i.url);if(e.endTimestamp&&a){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(Gs(t,i.status_code),t.end(),delete r[e]))}const s=ls(),c=Os(),l=Ru(i.url),u=l?sa(l).host:void 0,d=a?Bs({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":l,url:i.url,"server.address":u,[nc]:"auto.http.browser"},op:"http.client"}):void 0;d&&(o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d);const p=cs();if(o.setRequestHeader&&n(i.url)&&p){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...s.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ha,n)}catch(e){}}(o,d?Ja(d):wa(e,t,n),va(r||(d?ms(d):gs(e,p,s))))}return d}(e,s,c,l);a&&t&&Cu(t)}))}function Cu(e){const{url:t}=Xa(e).data||{};if(!t||"string"!=typeof t)return;const n=Zl("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!pa)return r;return[...r,["http.request.redirect_start",Ou(e.redirectStart)],["http.request.fetch_start",Ou(e.fetchStart)],["http.request.domain_lookup_start",Ou(e.domainLookupStart)],["http.request.domain_lookup_end",Ou(e.domainLookupEnd)],["http.request.connect_start",Ou(e.connectStart)],["http.request.secure_connection_start",Ou(e.secureConnectionStart)],["http.request.connection_end",Ou(e.connectEnd)],["http.request.request_start",Ou(e.requestStart)],["http.request.response_start",Ou(e.responseStart)],["http.request.response_end",Ou(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function Ou(e=0){return((pa||performance.timeOrigin)+e)/1e3}function Ru(e){try{return new URL(e,wl.location.origin).href}catch(e){return}}const Pu={...ac,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!wl||!wl.location)return void(bl&&Mo.warn("Could not initialize routing instrumentation due to invalid location"));let r,o=wl.location.href;t&&(r=e({name:wl.location.pathname,startTimestamp:pa?pa/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Gi((({to:t,from:n})=>{void 0===n&&o&&-1!==o.indexOf(t)?o=void 0:n!==t&&(o=void 0,r&&(bl&&Mo.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:wl.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...xu};function Nu(e){const t=Oo(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Lu(e){const t=e.attributes&&e.attributes[Zs],n=e.data&&e.data[Zs],r=e.metadata&&e.metadata.source;return t||n||r}const $u={...ac,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...xu};function Mu(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Ws();return"pageload"===(n&&Xa(n).op)?n:void 0}function Du(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Ws();return"navigation"===(n&&Xa(n).op)?n:void 0}function Uu(e){const t=Oo(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const Vu=10;function Fu(e){const t=e.attributes&&e.attributes[Zs],n=e.data&&e.data[Zs],r=e.metadata&&e.metadata.source;return t||n||r}const Gu=To;let ju=0;function qu(){return ju>0}function Bu(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(Ho(e))return e}catch(t){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map((e=>Bu(e,t)));return e.apply(this,r)}catch(e){throw ju++,setTimeout((()=>{ju--})),ss((r=>{r.addEventProcessor((e=>(t.mechanism&&(hi(e,void 0),fi(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),ns(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}Wo(r,e),Bo(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const Wu="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Hu(e,t){const n=zu(e,t),r={type:t&&t.name,value:Xu(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Ju(e,t){return{exception:{values:[Hu(e,t)]}}}function zu(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Yu.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Yu=/Minified React error #\d+;/i;function Xu(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Ku(e,t,n,r){const o=Zu(e,t,n&&n.syntheticException||void 0,r);return fi(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),ra(o)}function Qu(e,t,n="info",r,o){const i=ed(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),ra(i)}function Zu(e,t,n,r,o){let i;if(to(t)&&t.error){return Ju(e,t.error)}if(no(t)||eo(t,"DOMException")){const o=t;if("stack"in t)i=Ju(e,t);else{const t=o.name||(no(o)?"DOMError":"DOMException"),a=o.message?`${t}: ${o.message}`:t;i=ed(e,a,n,r),hi(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(Zr(t))return Ju(e,t);if(ao(t)||so(t)){return i=function(e,t,n,r){const o=cs(),i=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:so(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:td(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Xi(t,i)}};if(n){const t=zu(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,o),fi(i,{synthetic:!0}),i}return i=ed(e,t,n,r),hi(i,`${t}`),fi(i,{synthetic:!0}),i}function ed(e,t,n,r){const o={};if(r&&n){const r=zu(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(oo(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function td(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Jo(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return ho(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:ho(r,t)}return""}(e),r=t?"promise rejection":"exception";if(to(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(so(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function nd(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Uo(r)}},i=function(e){return[{type:"user_report"},e]}(e);return Ta(o,[i])}class rd extends Rc{constructor(e){!function(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Ts}))),version:Ts}),e._metadata=o}(e,"browser",["browser"],Gu.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Gu.document&&Gu.document.addEventListener("visibilitychange",(()=>{"hidden"===Gu.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return Ku(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Qu(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Wu&&Mo.warn("SDK not enabled, will not capture user feedback."));const t=nd(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(Wu&&Mo.log("No outcomes to send"));if(!this._dsn)return void(Wu&&Mo.log("No dsn provided, will not send outcomes"));Wu&&Mo.log("Sending outcomes:",e);const t=(n=e,Ta((r=this._options.tunnel&&Uo(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:ua(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}let od;function id(e,t=function(){if(od)return od;if(Ii(Gu.fetch))return od=Gu.fetch.bind(Gu);const e=Gu.document;let t=Gu.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){Wu&&Mo.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return od=t.bind(Gu)}()){let n=0,r=0;return Gc(e,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return od=void 0,n-=i,r--,oa(e)}}))}function ad(e){return Gc(e,(function(t){return new ia(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const sd="?";function cd(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const ld=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ud=/\((\S*)(?::(\d+))(?::(\d+))\)/,dd=[30,e=>{const t=ld.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=ud.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Td(t[1]||sd,t[2]);return cd(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],pd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,hd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fd=[50,e=>{const t=pd.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=hd.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||sd;return[n,e]=Td(n,e),cd(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],gd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,md=[40,e=>{const t=gd.exec(e);return t?cd(t[2],t[1]||sd,+t[3],t[4]?+t[4]:void 0):void 0}],vd=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,yd=[10,e=>{const t=vd.exec(e);return t?cd(t[2],t[3]||sd,+t[1]):void 0}],_d=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Sd=[20,e=>{const t=_d.exec(e);return t?cd(t[5],t[3]||t[4]||sd,+t[1],+t[2]):void 0}],bd=[dd,fd,md],wd=ei(...bd),Td=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:sd,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ed=1024,Ad="Breadcrumbs",Id=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ad,setupOnce(){},setup(e){t.console&&ci(function(e){return function(t){if(cs()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:la(t.level),message:go(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${go(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}is(n,{input:t.args,level:t.level})}}(e)),t.dom&&bi(function(e,t){return function(n){if(cs()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>Ed&&(Wu&&Mo.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Ed),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=xo(t,{keyAttrs:i,maxStringLength:a}),o=Ro(t)}catch(e){r="<unknown>"}if(0===r.length)return;const s={category:`ui.${n.name}`,message:r};o&&(s.data={"ui.component_name":o}),is(s,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&Wi(function(e){return function(t){if(cs()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[Bi];if(!n||!r||!o)return;const{method:i,url:a,status_code:s,body:c}=o;is({category:"xhr",data:{method:i,url:a,status_code:s},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&ki(function(e){return function(t){if(cs()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){is({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;is({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&Gi(function(e){return function(t){if(cs()!==e)return;let n=t.from,r=t.to;const o=sa(Gu.location.href);let i=n?sa(n):void 0;const a=sa(r);i&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),is({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){cs()===e&&is({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:pi(t)},{event:t})}}(e))}}},xd=Ac(Ad,Id);const kd="Dedupe",Cd=()=>{let e;return{name:kd,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Pd(e,t))return!1;if(!Rd(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Nd(t),r=Nd(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Pd(e,t))return!1;if(!Rd(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Wu&&Mo.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},Od=Ac(kd,Cd);function Rd(e,t){let n=Ld(e),r=Ld(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function Pd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Nd(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ld(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const $d="GlobalHandlers",Md=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:$d,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){Ni((t=>{const{stackParser:n,attachStacktrace:r}=Fd();if(cs()!==e||qu())return;const{msg:o,url:i,line:a,column:s,error:c}=t,l=void 0===c&&ro(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=to(e)?e.message:e,a="Error";const s=i.match(o);s&&(a=s[1],i=s[2]);const c={exception:{values:[{type:a,value:i}]}};return Ud(c,t,n,r)}(o,i,a,s):Ud(Zu(n,c||o,void 0,r,!1),i,a,s);l.level="error",os(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(e),Vd("onerror")),t.onunhandledrejection&&(!function(e){Mi((t=>{const{stackParser:n,attachStacktrace:r}=Fd();if(cs()!==e||qu())return;const o=function(e){if(io(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),i=io(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Zu(n,o,void 0,r,!0);i.level="error",os(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Vd("onunhandledrejection"))}}},Dd=Ac($d,Md);function Ud(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=ro(t)&&t.length>0?t:Co();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function Vd(e){Wu&&Mo.log(`Global Handler attached: ${e}`)}function Fd(){const e=cs();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Gd="HttpContext",jd=()=>({name:Gd,setupOnce(){},preprocessEvent(e){if(!Gu.navigator&&!Gu.location&&!Gu.document)return;const t=e.request&&e.request.url||Gu.location&&Gu.location.href,{referrer:n}=Gu.document||{},{userAgent:r}=Gu.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}),qd=Ac(Gd,jd),Bd="LinkedErrors",Wd=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Bd,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();yo(Hu,i.stackParser,i.maxValueLength,n,t,e,r)}}},Hd=Ac(Bd,Wd),Jd=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],zd="TryCatch",Yd=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:zd,setupOnce(){t.setTimeout&&qo(Gu,"setTimeout",Kd),t.setInterval&&qo(Gu,"setInterval",Kd),t.requestAnimationFrame&&qo(Gu,"requestAnimationFrame",Qd),t.XMLHttpRequest&&"XMLHttpRequest"in Gu&&qo(XMLHttpRequest.prototype,"send",Zd);const e=t.eventTarget;if(e){(Array.isArray(e)?e:Jd).forEach(ep)}}}},Xd=Ac(zd,Yd);function Kd(e){return function(...t){const n=t[0];return t[0]=Bu(n,{mechanism:{data:{function:ni(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Qd(e){return function(t){return e.apply(this,[Bu(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ni(e)},handled:!1,type:"instrument"}})])}}function Zd(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&qo(n,e,(function(t){const n={mechanism:{data:{function:e,handler:ni(t)},handled:!1,type:"instrument"}},r=Ho(t);return r&&(n.mechanism.data.handler=ni(r)),Bu(t,n)}))})),e.apply(this,t)}}function ep(e){const t=Gu,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(qo(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Bu(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ni(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Bu(r,{mechanism:{data:{function:"addEventListener",handler:ni(r),target:e},handled:!1,type:"instrument"}}),o])}})),qo(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}const tp=[ol(),ul(),Yd(),Id(),Md(),Wd(),Cd(),jd()];function np(e){return[...tp]}function rp(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=np()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Gu.SENTRY_RELEASE&&Gu.SENTRY_RELEASE.id&&(e.release=Gu.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||wd,Array.isArray(n)?ei(...n):n),integrations:wc(e),transport:e.transport||(Ai()?id:ad)};var n;!function(e,t){!0===t.debug&&(Ua?Mo.enable():$o((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),ls().update(t.initialScope);const n=new e(t);Fc(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}(rd,t),e.autoSessionTracking&&function(){if(void 0===Gu.document)return void(Wu&&Mo.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));us({ignoreDuration:!0}),hs(),Gi((({from:e,to:t})=>{void 0!==e&&e!==t&&(us({ignoreDuration:!0}),hs())}))}()}var op=Object.freeze({__proto__:null,Breadcrumbs:xd,Dedupe:Od,GlobalHandlers:Dd,HttpContext:qd,LinkedErrors:Hd,TryCatch:Xd});const ip=To,ap="sentryReplaySession",sp="Unable to send Replay",cp=15e4,lp=5e3,up=2e7,dp=36e5;function pp(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}var hp;function fp(e){const t=pp([e,"optionalAccess",e=>e.host]);return Boolean(pp([t,"optionalAccess",e=>e.shadowRoot])===e)}function gp(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function mp(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,vp).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function vp(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=mp(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(hp||(hp={}));class yp{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=pp([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function _p({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Sp({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function bp(e){return e.toLowerCase()}function wp(e){return e.toUpperCase()}const Tp="__rrweb_original__";function Ep(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?bp(t):null}function Ap(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Ip=1;const xp=new RegExp("[^a-z0-9-_:]");function kp(){return Ip++}let Cp,Op;const Rp=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Pp=/^(?:[a-z+]+:)?\/\//i,Np=/^www\..*/i,Lp=/^(data:)([^,]*),(.*)/i;function $p(e,t){return(e||"").replace(Rp,((e,n,r,o,i,a)=>{const s=r||i||a,c=n||o||"";if(!s)return e;if(Pp.test(s)||Np.test(s))return`url(${c}${s}${c})`;if(Lp.test(s))return`url(${c}${s}${c})`;if("/"===s[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+s}${c})`;const l=t.split("/"),u=s.split("/");l.pop();for(const e of u)"."!==e&&(".."===e?l.pop():l.push(e));return`url(${c}${l.join("/")}${c})`}))}const Mp=/^[^ \t\n\r\u000c]+/,Dp=/^[, \t\n\r\u000c]+/;function Up(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function Vp(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Fp(){const e=document.createElement("a");return e.href="",e.href}function Gp(e,t,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Up(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(Dp),!(n>=t.length);){let i=r(Mp);if(","===i.slice(-1))i=Up(e,i.substring(0,i.length-1)),o.push(i);else{let r="";i=Up(e,i);let a=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((i+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,o.push((i+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?$p(r,Fp()):"object"===t&&"data"===n?Up(e,r):"function"==typeof i?i(n,r,o):r:Up(e,r):r}function jp(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function qp(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:qp(e.parentNode,t,n,r+1):-1}function Bp(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function Wp(e,t,n,r,o,i){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let s=-1,c=-1;if(i){if(c=qp(a,Bp(r,o)),c<0)return!0;s=qp(a,Bp(t,n),c>=0?c:1/0)}else{if(s=qp(a,Bp(t,n)),s<0)return!1;c=qp(a,Bp(r,o),s>=0?s:1/0)}return s>=0?!(c>=0)||s<=c:!(c>=0)&&!!i}catch(e){}return!!i}function Hp(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:g,maskInputFn:m,dataURLOptions:v={},inlineImages:y,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:b=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:hp.Document,childNodes:[],compatMode:e.compatMode}:{type:hp.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:hp.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:g,maskAllText:m,maskTextClass:v,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:S}=t,b=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,o,i),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=bp(e.tagName);return xp.test(t)?"div":t}(e);let T={};const E=e.attributes.length;for(let t=0;t<E;t++){const r=e.attributes[t];r.name&&!jp(w,r.name,r.value)&&(T[r.name]=Gp(n,w,bp(r.name),r.value,e,c))}if("link"===w&&a){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=mp(t)),r&&(delete T.rel,delete T.href,T._cssText=$p(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=mp(e.sheet);t&&(T._cssText=$p(t,Fp()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=Ep(t),r=Ap(t,wp(w),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=Wp(t,v,_,y,S,_p({type:n,tagName:wp(w),maskInputOptions:s}));T.value=Sp({isMasked:e,element:t,value:r,maskInputFn:l})}o&&(T.checked=o)}"option"===w&&(e.selected&&!s.select?T.selected=!0:delete T.selected);if("canvas"===w&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,i=Tp in o?o[Tp]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(T.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(T.rr_dataURL=t)}if("img"===w&&d){Cp||(Cp=n.createElement("canvas"),Op=Cp.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const o=()=>{t.removeEventListener("load",o);try{Cp.width=t.naturalWidth,Cp.height=t.naturalHeight,Op.drawImage(t,0,0),T.rr_dataURL=Cp.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?T.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==w&&"video"!==w||(T.rr_mediaState=e.paused?"paused":"played",T.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(T.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(T.rr_scrollTop=e.scrollTop));if(b){const{width:t,height:n}=e.getBoundingClientRect();T={class:T.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||h(T.src)||(e.contentDocument||(T.rr_src=T.src),delete T.src);let A;try{customElements.get(w)&&(A=!0)}catch(e){}return{type:hp.Element,tagName:w,attributes:T,childNodes:[],isSVG:Vp(e)||void 0,needBlock:b,rootId:g,isCustom:A}}(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:a,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:m,dataURLOptions:v,inlineImages:y,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:b,rootId:w,maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||pp([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=mp(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=$p(p,Fp())}f&&(p="SCRIPT_PLACEHOLDER");const m=Wp(e,r,i,o,a,n);h||f||g||!p||!m||(p=s?s(p,e.parentElement):p.replace(/[\S]/g,"*"));g&&p&&(c.textarea||m)&&(p=l?l(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=Sp({isMasked:Wp(e,r,i,o,a,_p({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:l})}return{type:hp.Text,textContent:p||"",isStyle:h,rootId:u}}(e,{maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:f,maskInputFn:m,rootId:w});case e.CDATA_SECTION_NODE:return{type:hp.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:hp.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function Jp(e){return null==e?"":e.toLowerCase()}function zp(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_={},inlineImages:S=!1,recordCanvas:b=!1,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E=5e3,onStylesheetLoad:A,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:k=!1}=t;let{preserveWhiteSpace:C=!0}=t;const O=Hp(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,dataURLOptions:_,inlineImages:S,recordCanvas:b,keepIframeSrcFn:x,newlyAddedElement:k});if(!O)return console.warn(e,"not serialized"),null;let R;R=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===hp.Comment)return!0;if(e.type===hp.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(Jp(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Jp(e.attributes.name)||"icon"===Jp(e.attributes.rel)||"apple-touch-icon"===Jp(e.attributes.rel)||"shortcut icon"===Jp(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&Jp(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Jp(e.attributes.property).match(/^(og|twitter|fb):/)||Jp(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===Jp(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===Jp(e.attributes.name)||"googlebot"===Jp(e.attributes.name)||"bingbot"===Jp(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===Jp(e.attributes.name)||"generator"===Jp(e.attributes.name)||"framework"===Jp(e.attributes.name)||"publisher"===Jp(e.attributes.name)||"progid"===Jp(e.attributes.name)||Jp(e.attributes.property).match(/^article:/)||Jp(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===Jp(e.attributes.name)||"yandex-verification"===Jp(e.attributes.name)||"csrf-token"===Jp(e.attributes.name)||"p:domain_verify"===Jp(e.attributes.name)||"verify-v1"===Jp(e.attributes.name)||"verification"===Jp(e.attributes.name)||"shopify-checkout-api-token"===Jp(e.attributes.name)))return!0}}return!1}(O,y)&&(C||O.type!==hp.Text||O.isStyle||O.textContent.replace(/^\s+|\s+$/gm,"").length)?kp():-2;const P=Object.assign(O,{id:R});if(r.add(e,P),-2===R)return null;w&&w(e);let N=!p;if(P.type===hp.Element){N=N&&!P.needBlock,delete P.needBlock;const t=e.shadowRoot;t&&gp(t)&&(P.isShadowHost=!0)}if((P.type===hp.Document||P.type===hp.Element)&&N){y.headWhitespace&&P.type===hp.Element&&"head"===P.tagName&&(C=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:S,recordCanvas:b,preserveWhiteSpace:C,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:x};for(const n of Array.from(e.childNodes)){const e=zp(n,t);e&&P.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=zp(n,t);r&&(gp(e.shadowRoot)&&(r.isShadow=!0),P.childNodes.push(r))}}return e.parentNode&&fp(e.parentNode)&&gp(e.parentNode)&&(P.isShadow=!0),P.type===hp.Element&&"iframe"===P.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(e){return}if("complete"!==o){const r=setTimeout((()=>{i||(t(),i=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),i=!0,t()}))}const a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&T){const n=zp(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:S,recordCanvas:b,preserveWhiteSpace:C,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:x});n&&T(e,n)}}),E),P.type===hp.Element&&"link"===P.tagName&&"stylesheet"===P.attributes.rel&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(e){return}if(r)return;const i=setTimeout((()=>{o||(t(),o=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(i),o=!0,t()}))}(e,(()=>{if(A){const t=zp(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:S,recordCanvas:b,preserveWhiteSpace:C,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:x});t&&A(e,t)}}),I),P}function Yp(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function Xp(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Kp="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Qp={map:{},getId:()=>(console.error(Kp),-1),getNode:()=>(console.error(Kp),null),removeNodeFromMap(){console.error(Kp)},has:()=>(console.error(Kp),!1),reset(){console.error(Kp)}};function Zp(e,t,n={}){let r=null,o=0;return function(...i){const a=Date.now();o||!1!==n.leading||(o=a);const s=t-(a-o),c=this;s<=0||s>t?(r&&(!function(...e){_h("clearTimeout")(...e)}(r),r=null),o=a,e.apply(c,i)):r||!1===n.trailing||(r=Sh((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(c,i)}),s))}}function eh(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){Sh((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>eh(e,t,i||{},!0)}function th(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Qp=new Proxy(Qp,{get:(e,t,n)=>("map"===t&&console.error(Kp),Reflect.get(e,t,n))}));let nh=Date.now;function rh(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:Yp([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||Yp([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||Yp([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:Yp([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||Yp([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||Yp([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function oh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ih(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ah(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function sh(e,t,n,r,o){if(!e)return!1;const i=ah(e);if(!i)return!1;const a=Bp(t,n);if(!o){const e=r&&i.matches(r);return a(i)&&!e}const s=qp(i,a);let c=-1;return!(s<0)&&(r&&(c=qp(i,Bp(null,r))),s>-1&&c<0||s<c)}function ch(e,t){return-2===t.getId(e)}function lh(e,t){if(fp(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||lh(e.parentNode,t))}function uh(e){return Boolean(e.changedTouches)}function dh(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function ph(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function hh(e){return Boolean(Yp([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(nh=()=>(new Date).getTime());class fh{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function gh(e){let t=null;return Yp([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function mh(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=gh(n);)n=t;return n}(e);return t.contains(n)}function vh(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||mh(e))}const yh={};function _h(e){const t=yh[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return yh[e]=r.bind(window)}function Sh(...e){return _h("setTimeout")(...e)}var bh=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(bh||{}),wh=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(wh||{}),Th=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Th||{}),Eh=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Eh||{});function Ah(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function Ih(e){return"__ln"in e}class xh{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Ah([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ih(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Ih(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const kh=(e,t)=>`${e}@${t}`;class Ch{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new xh,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!vh(o))return;const i=fp(o.parentNode)?this.mirror.getId(gh(o)):this.mirror.getId(o.parentNode),a=r(o);if(-1===i||-1===a)return n.addNode(o);const s=zp(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{dh(e,this.mirror)&&this.iframeManager.addIframe(e),ph(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),hh(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});s&&(e.push({parentId:i,nextId:a,node:s}),t.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Rh(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||o(e);for(const e of this.addedSet)Nh(this.droppedSet,e)||Rh(this.removes,e,this.mirror)?Nh(this.movedSet,e)?o(e):this.droppedSet.add(e):o(e);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),o(e.value)}const a={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!ch(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;sh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:Wp(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,ah(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=Ep(t),o=t.tagName;r=Ap(t,o,n);const i=_p({maskInputOptions:this.maskInputOptions,tagName:o,type:n});r=Sp({isMasked:Wp(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:t,value:r,maskInputFn:this.maskInputFn})}if(sh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!jp(t.tagName,n)&&(o.attributes[n]=Gp(this.doc,bp(t.tagName),bp(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?r:[r,i]:o._unchangedStyles[e]=[r,i]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(sh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=fp(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);sh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ch(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Oh(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||lh(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[kh(n,r)]?Oh(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!fp(e.target)||!gp(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(ch(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[kh(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);sh(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),hh(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Oh(e,t){e.delete(t),t.childNodes.forEach((t=>Oh(e,t)))}function Rh(e,t,n){return 0!==e.length&&Ph(e,t,n)}function Ph(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return!!e.some((e=>e.id===o))||Ph(e,r,n)}function Nh(e,t){return 0!==e.size&&Lh(e,t)}function Lh(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Lh(e,n))}let $h;const Mh=e=>{if(!$h)return e;return(...t)=>{try{return e(...t)}catch(e){if($h&&!0===$h(e))return()=>{};throw e}}};function Dh(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const Uh=[];function Vh(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Fh(e,t){const n=new Ch;Uh.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=Dh([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);o&&window[o]&&(r=window[o]);const i=new r(Mh((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Gh({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:a}){if(!1===a.mouseInteraction)return()=>{};const s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];let l=null;return Object.keys(Th).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((a=>{let s=bp(a);const u=(t=>a=>{const s=Vh(a);if(sh(s,r,o,i,!0))return;let c=null,u=t;if("pointerType"in a){switch(a.pointerType){case"mouse":c=Eh.Mouse;break;case"touch":c=Eh.Touch;break;case"pen":c=Eh.Pen}c===Eh.Touch?Th[t]===Th.MouseDown?u="TouchStart":Th[t]===Th.MouseUp&&(u="TouchEnd"):Eh.Pen}else uh(a)&&(c=Eh.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===Eh.Touch||u.startsWith("Mouse")&&c===Eh.Mouse)&&(c=null)):Th[t]===Th.Click&&(c=l,l=null);const d=uh(a)?a.changedTouches[0]:a;if(!d)return;const p=n.getId(s),{clientX:h,clientY:f}=d;Mh(e)({type:Th[u],id:p,x:h,y:f,...null!==c&&{pointerType:c}})})(a);if(window.PointerEvent)switch(Th[a]){case Th.MouseDown:case Th.MouseUp:s=s.replace("mouse","pointer");break;case Th.TouchStart:case Th.TouchEnd:return}c.push(Xp(s,u,t))})),Mh((()=>{c.forEach((e=>e()))}))}function jh({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:a}){return Xp("scroll",Mh(Zp(Mh((a=>{const s=Vh(a);if(!s||sh(s,r,o,i,!0))return;const c=n.getId(s);if(s===t&&t.defaultView){const n=rh(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:s.scrollLeft,y:s.scrollTop})})),a.scroll||100)),t)}const qh=["INPUT","TEXTAREA","SELECT"],Bh=new WeakMap;function Wh({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:a,ignoreSelector:s,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:g}){function m(e){let n=Vh(e);const u=e.isTrusted,m=n&&wp(n.tagName);if("OPTION"===m&&(n=n.parentElement),!n||!m||qh.indexOf(m)<0||sh(n,r,o,i,!0))return;const y=n;if(y.classList.contains(a)||s&&y.matches(s))return;const _=Ep(n);let S=Ap(y,m,_),b=!1;const w=_p({maskInputOptions:c,tagName:m,type:_}),T=Wp(n,p,f,h,g,w);"radio"!==_&&"checkbox"!==_||(b=n.checked),S=Sp({isMasked:T,element:n,value:S,maskInputFn:l}),v(n,d?{text:S,isChecked:b,userTriggered:u}:{text:S,isChecked:b});const E=n.name;"radio"===_&&E&&b&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach((e=>{if(e!==n){const t=Sp({isMasked:T,element:e,value:Ap(e,m,_),maskInputFn:l});v(e,d?{text:t,isChecked:!b,userTriggered:!1}:{text:t,isChecked:!b})}}))}function v(t,r){const o=Bh.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){Bh.set(t,r);const o=n.getId(t);Mh(e)({...r,id:o})}}const y=("last"===u.input?["change"]:["input","change"]).map((e=>Xp(e,Mh(m),t))),_=t.defaultView;if(!_)return()=>{y.forEach((e=>e()))};const S=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),b=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&y.push(...b.map((e=>eh(e[0],e[1],{set(){Mh(m)({target:this,isTrusted:!1})}},!1,_)))),Mh((()=>{y.forEach((e=>e()))}))}function Hh(e){return function(e,t){if(Xh("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Xh("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Xh("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Xh("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Jh(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function zh({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const o="#document"===n.nodeName?Dh([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):Dh([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),i=Dh([o,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(Dh([o,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&o&&i?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Dh([i,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=Dh([i,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),Mh((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))):()=>{}}function Yh(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Fh(e,e.doc),o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let a,s=[];const c=Zp(Mh((t=>{const n=Date.now()-a;e(s.map((e=>(e.timeOffset-=n,e))),t),s=[],a=null})),i),l=Mh(Zp(Mh((e=>{const t=Vh(e),{clientX:n,clientY:o}=uh(e)?e.changedTouches[0]:e;a||(a=nh()),s.push({x:n,y:o,id:r.getId(t),timeOffset:nh()-a}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?wh.Drag:e instanceof MouseEvent?wh.MouseMove:wh.TouchMove)})),o,{trailing:!1})),u=[Xp("mousemove",l,n),Xp("touchmove",l,n),Xp("drag",l,n)];return Mh((()=>{u.forEach((e=>e()))}))}(e),i=Gh(e),a=jh(e),s=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return Xp("resize",Mh(Zp(Mh((()=>{const t=oh(),o=ih();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)})),200)),t)}(e,{win:n}),c=Wh(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:a}){const s=Mh((a=>Zp(Mh((i=>{const s=Vh(i);if(!s||sh(s,t,n,r,!0))return;const{currentTime:c,volume:l,muted:u,playbackRate:d}=s;e({type:a,id:o.getId(s),currentTime:c,volume:l,muted:u,playbackRate:d})})),i.media||500))),c=[Xp("play",s(0),a),Xp("pause",s(1),a),Xp("seeked",s(2),a),Xp("volumechange",s(3),a),Xp("ratechange",s(4),a)];return Mh((()=>{c.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Mh(((r,o,i)=>{const[a,s]=i,{id:c,styleId:l}=Jh(o,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:a,index:s}]}),r.apply(o,i)}))});const i=r.CSSStyleSheet.prototype.deleteRule;let a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Mh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=Jh(o,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:a}]}),r.apply(o,i)}))}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Mh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=Jh(o,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replace:a}),r.apply(o,i)}))})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:Mh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=Jh(o,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replaceSync:a}),r.apply(o,i)}))}));const c={};Kh("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Kh("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Kh("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Kh("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const l={};return Object.entries(c).forEach((([r,o])=>{l[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(l[r].insertRule,{apply:Mh(((r,o,i)=>{const[a,s]=i,{id:c,styleId:l}=Jh(o.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:a,index:[...Hh(o),s||0]}]}),r.apply(o,i)}))}),o.prototype.deleteRule=new Proxy(l[r].deleteRule,{apply:Mh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=Jh(o.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:[...Hh(o),a]}]}),r.apply(o,i)}))})})),Mh((()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule}))}))}(e,{win:n}),d=zh(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Mh(((o,a,s)=>{const[c,l,u]=s;if(n.has(c))return i.apply(a,[c,l,u]);const{id:d,styleId:p}=Jh(Dh([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:l,priority:u},index:Hh(a.parentRule)}),o.apply(a,s)}))});const a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:Mh(((o,i,s)=>{const[c]=s;if(n.has(c))return a.apply(i,[c]);const{id:l,styleId:u}=Jh(Dh([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,remove:{property:c},index:Hh(i.parentRule)}),o.apply(i,s)}))}),Mh((()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=a}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,n){const r=new i(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=th(t.fonts,"add",(function(t){return function(n){return Sh(Mh((()=>{const t=o.get(n);t&&(e(t),o.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=i})),r.push(a),Mh((()=>{r.forEach((e=>e()))}))}(e):()=>{},f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:a}=e;let s=!0;const c=Mh((()=>{const e=t.getSelection();if(!e||s&&Dh([e,"optionalAccess",e=>e.isCollapsed]))return;s=e.isCollapsed||!1;const c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const a=e.getRangeAt(t),{startContainer:s,startOffset:l,endContainer:u,endOffset:d}=a;sh(s,r,o,i,!0)||sh(u,r,o,i,!0)||c.push({start:n.getId(s),startOffset:l,end:n.getId(u),endOffset:d})}a({ranges:c})}));return c(),Xp("selectionchange",c)}(e),g=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?th(n.customElements,"define",(function(e){return function(n,r,o){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,o])}})):()=>{}}(e),m=[];for(const t of e.plugins)m.push(t.observer(t.callback,n,t.options));return Mh((()=>{Uh.forEach((e=>e.reset())),r.disconnect(),o(),i(),a(),s(),c(),l(),u(),d(),p(),h(),f(),g(),m.forEach((e=>e()))}))}function Xh(e){return void 0!==window[e]}function Kh(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Qh{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let a=o.get(t);return a||(a=this.generateIdFn(),o.set(t,a),i.set(a,t)),a}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function Zh(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}class ef{constructor(){this.crossOriginIframeMirror=new Qh(kp),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class tf{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Qh(kp),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qh(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Zh([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case bh.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:bh.IncrementalSnapshot,data:{source:wh.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case bh.Meta:case bh.Load:case bh.DomContentLoaded:return!1;case bh.Plugin:return t;case bh.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case bh.IncrementalSnapshot:switch(t.data.source){case wh.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case wh.Drag:case wh.TouchMove:case wh.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case wh.ViewportResize:return!1;case wh.MediaInteraction:case wh.MouseInteraction:case wh.Scroll:case wh.CanvasMutation:case wh.Input:return this.replaceIds(t.data,e,["id"]),t;case wh.StyleSheetRule:case wh.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case wh.Font:return t;case wh.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case wh.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),Zh([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===hp.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class nf{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class rf{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!gp(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Fh({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(jh({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Sh((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(zh({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(th(e.prototype,"attachShadow",(function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&vh(this)&&n.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class of{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class af{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new fh,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:vp(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class sf{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){_h("requestAnimationFrame")(...e)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let cf,lf;const uf=new yp;function df(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:g,maskInputOptions:m,slimDOMOptions:v,maskAttributeFn:y,maskInputFn:_,maskTextFn:S,maxCanvasSize:b=null,packFn:w,sampling:T={},dataURLOptions:E={},mousemoveWait:A,recordCanvas:I=!1,recordCrossOriginIframes:x=!1,recordAfter:k=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:C=!1,collectFonts:O=!1,inlineImages:R=!1,plugins:P,keepIframeSrcFn:N=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:$,onMutation:M,getCanvasManager:D}=e;$h=$;const U=!x||window.parent===window;let V=!1;if(!U)try{window.parent.document&&(V=!1)}catch(e){V=!0}if(U&&!t)throw new Error("emit function is required");void 0!==A&&void 0===T.mousemove&&(T.mousemove=A),uf.reset();const F=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==m?m:{},G=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let j;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let q=0;const B=e=>{for(const t of P||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!V&&(e=w(e)),e};cf=(e,o)=>{const i=e;if(i.timestamp=nh(),!Da([Uh,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||i.type===bh.FullSnapshot||i.type===bh.IncrementalSnapshot&&i.data.source===wh.Mutation||Uh.forEach((e=>e.unfreeze())),U)Da([t,"optionalCall",e=>e(B(i),o)]);else if(V){const e={type:"rrweb",event:B(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(i.type===bh.FullSnapshot)j=i,q=0;else if(i.type===bh.IncrementalSnapshot){if(i.data.source===wh.Mutation&&i.data.isAttachIframe)return;q++;const e=r&&q>=r,t=n&&j&&i.timestamp-j.timestamp>n;(e||t)&&Z(!0)}};const W=e=>{cf({type:bh.IncrementalSnapshot,data:{source:wh.Mutation,...e}})},H=e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.Scroll,...e}}),J=e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.CanvasMutation,...e}}),z=new af({mutationCb:W,adoptedStyleSheetCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.AdoptedStyleSheet,...e}})}),Y="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new ef:new tf({mirror:uf,mutationCb:W,stylesheetManager:z,recordCrossOriginIframes:x,wrappedEmit:cf});for(const e of P||[])e.getMirror&&e.getMirror({nodeMirror:uf,crossOriginIframeMirror:Y.crossOriginIframeMirror,crossOriginIframeStyleMirror:Y.crossOriginIframeStyleMirror});const X=new sf,K=function(e,t){try{return e?e(t):new of}catch(e){return console.warn("Unable to initialize CanvasManager"),new of}}(D,{mirror:uf,win:window,mutationCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.CanvasMutation,...e}}),recordCanvas:I,blockClass:o,blockSelector:i,unblockSelector:a,maxCanvasSize:b,sampling:T.canvas,dataURLOptions:E,errorHandler:$}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new nf:new rf({mutationCb:W,scrollCb:H,bypassOptions:{onMutation:M,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:F,dataURLOptions:E,maskAttributeFn:y,maskTextFn:S,maskInputFn:_,recordCanvas:I,inlineImages:R,sampling:T,slimDOMOptions:G,iframeManager:Y,stylesheetManager:z,canvasManager:K,keepIframeSrcFn:N,processedNodeManager:X},mirror:uf}),Z=(e=!1)=>{cf({type:bh.Meta,data:{href:window.location.href,width:ih(),height:oh()}},e),z.reset(),Q.init(),Uh.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new yp,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:y=!1,dataURLOptions:_,preserveWhiteSpace:S,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:I=()=>!1}=t;return zp(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:s,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:_,inlineImages:p,recordCanvas:h,preserveWhiteSpace:S,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:I,newlyAddedElement:!1})}(document,{mirror:uf,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:F,maskAttributeFn:y,maskInputFn:_,maskTextFn:S,slimDOM:G,dataURLOptions:E,recordCanvas:I,inlineImages:R,onSerialize:e=>{dh(e,uf)&&Y.addIframe(e),ph(e,uf)&&z.trackLinkElement(e),hh(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Y.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{z.attachLinkElement(e,t)},keepIframeSrcFn:N});if(!t)return console.warn("Failed to snapshot the document");cf({type:bh.FullSnapshot,data:{node:t,initialOffset:rh(window)}}),Uh.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&z.adoptStyleSheets(document.adoptedStyleSheets,uf.getId(document))};lf=Z;try{const e=[],t=e=>Mh(Yh)({onMutation:M,mutationCb:W,mousemoveCb:(e,t)=>cf({type:bh.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.MouseInteraction,...e}}),scrollCb:H,viewportResizeCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.ViewportResize,...e}}),inputCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.Input,...e}}),mediaInteractionCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.MediaInteraction,...e}}),styleSheetRuleCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.StyleSheetRule,...e}}),styleDeclarationCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.StyleDeclaration,...e}}),canvasMutationCb:J,fontCb:e=>cf({type:bh.IncrementalSnapshot,data:{source:wh.Font,...e}}),selectionCb:e=>{cf({type:bh.IncrementalSnapshot,data:{source:wh.Selection,...e}})},customElementCb:e=>{cf({type:bh.IncrementalSnapshot,data:{source:wh.CustomElement,...e}})},blockClass:o,ignoreClass:s,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:F,inlineStylesheet:f,sampling:T,recordCanvas:I,inlineImages:R,userTriggeredOnInput:C,collectFonts:O,doc:e,maskAttributeFn:y,maskInputFn:_,maskTextFn:S,keepIframeSrcFn:N,blockSelector:i,unblockSelector:a,slimDOMOptions:G,dataURLOptions:E,mirror:uf,iframeManager:Y,stylesheetManager:z,shadowDomManager:Q,processedNodeManager:X,canvasManager:K,ignoreCSSAttributes:L,plugins:Da([P,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>cf({type:bh.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});Y.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Z(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(Xp("DOMContentLoaded",(()=>{cf({type:bh.DomContentLoaded,data:{}}),"DOMContentLoaded"===k&&n()}))),e.push(Xp("load",(()=>{cf({type:bh.Load,data:{}}),"load"===k&&n()}),window))),()=>{e.forEach((e=>e())),X.destroy(),lf=void 0,$h=void 0}}catch(e){console.warn(e)}}df.mirror=uf,df.takeFullSnapshot=function(e){if(!lf)throw new Error("please take full snapshot after start recording");lf(e)};function pf(e){return e>9999999999?e:1e3*e}function hf(e){return e>9999999999?e/1e3:e}function ff(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:bh.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Yi(t,10,1e3)}}),"console"===t.category))))}function gf(e){return e.closest("button,a")||e}function mf(e){const t=vf(e);return t&&t instanceof Element?gf(t):t}function vf(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let yf;function _f(e){return yf||(yf=[],qo(ip,"open",(function(e){return function(...t){if(yf)try{yf.forEach((e=>e()))}catch(e){}return e.apply(ip,t)}}))),yf.push(e),()=>{const t=yf?yf.indexOf(e):-1;t>-1&&yf.splice(t,1)}}class Sf{constructor(e,t,n=ff){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=_f((()=>{this._lastMutation=wf()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!bf.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:hf(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=hf(e)}registerScroll(e=Date.now()){this._lastScroll=hf(e)}registerClick(e){const t=gf(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=wf();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:i,clickBreadcrumb:a}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ip.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,o)}else if(i>1){const e={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ip.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const bf=["A","BUTTON","INPUT"];function wf(){return Date.now()/1e3}function Tf(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===wh.Mutation&&e.registerMutation(t.timestamp),n===wh.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===wh.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=df.mirror.getNode(r);o instanceof HTMLElement&&n===Th.Click&&e.registerClick(o)}}catch(e){}}function Ef(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Af;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Af||(Af={}));const If=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function xf(e){const t={};for(const n in e)if(If.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const kf=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?mf(e.event):vf(e.event),n=xo(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Ef({category:`ui.${e.name}`,...Cf(t,n)})}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;var i,a,s;!(r&&e.clickDetector&&o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||(i=e.clickDetector,a=n,s=mf(t.event),i.handleClick(a,s)),ff(e,n)};function Cf(e,t){const n=df.mirror.getId(e),r=n&&df.mirror.getNode(n),o=r&&df.mirror.getMeta(r),i=o&&function(e){return e.type===Af.Element}(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((e=>e.type===Af.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:xf(i.attributes)}}:{}}}function Of(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!i)return null;const s=t||r||o,c=1===i.length;if(!s&&c)return null;const l=xo(a,{maxStringLength:200})||"<unknown>",u=Cf(a,l);return Ef({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}(t);n&&ff(e,n)}const Rf={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:a,encodedBodySize:s,responseStatus:c,transferSize:l}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:Nf(i),end:Nf(o),name:r,data:{size:l,statusCode:c,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=Nf(o);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:g}=e;if(0===o)return null;return{type:`${t}.${g}`,start:Nf(h),end:Nf(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:a,duration:o,domInteractive:l,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:p}}}};function Pf(e){return Rf[e.entryType]?Rf[e.entryType](e):null}function Nf(e){return((pa||ip.performance.timeOrigin)+e)/1e3}function Lf(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(Zl(e,n))})),r.push(Ql((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,i=Nf(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:o,size:o,nodeId:r?df.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const $f="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Mf(e,t){$f&&(Mo.info(e),t&&Uf(e))}function Df(e,t){$f&&(Mo.info(e),t&&setTimeout((()=>{Uf(e)}),0))}function Uf(e){is({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Vf extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Ff{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>up)throw new Vf;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?pf(e):null}}class Gf{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){Mf("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const i=({data:t})=>{const a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success)return $f&&Mo.error("[Replay]",a.response),void o(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class jf{constructor(e){this._worker=new Gf(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=pf(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>up?Promise.reject(new Vf):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{$f&&Mo.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class qf{constructor(e){this._fallback=new Ff,this._compression=new jf(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void Mf("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){$f&&Mo.warn("[Replay] Failed to add events when switching buffers.",e)}}}function Bf({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;Mf("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new qf(n)}catch(e){Mf("[Replay] Failed to create compression worker")}}(t);if(e)return e}return Mf("[Replay] Using simple buffer"),new Ff}function Wf(){try{return"sessionStorage"in ip&&!!ip.sessionStorage}catch(e){return!1}}function Hf(e){!function(){if(!Wf())return;try{ip.sessionStorage.removeItem(ap)}catch(e){}}(),e.session=void 0}function Jf(e){return void 0!==e&&Math.random()<e}function zf(e){const t=Date.now();return{id:e.id||ui(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function Yf(e){if(Wf())try{ip.sessionStorage.setItem(ap,JSON.stringify(e))}catch(e){}}function Xf({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=function(e,t){return Jf(e)?"session":!!t&&"buffer"}(e,t),i=zf({sampled:o,previousSessionId:r});return n&&Yf(i),i}function Kf(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function Qf(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Kf(e.started,t,r)||Kf(e.lastActivity,n,r)}function Zf(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!Qf(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function eg({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){const i=o.stickySession&&function(e){if(!Wf())return null;try{const t=ip.sessionStorage.getItem(ap);if(!t)return null;const n=JSON.parse(t);return Df("[Replay] Loading existing session",e),zf(n)}catch(e){return null}}(e);return i?Zf(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Df("[Replay] Session in sessionStorage is expired, creating new one..."),Xf(o,{previousSessionId:i.id})):i:(Df("[Replay] Creating new session",e),Xf(o,{previousSessionId:r}))}function tg(e,t,n){return!!rg(e,t)&&(ng(e,t,n),!0)}async function ng(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===bh.Custom}(e))return t(e)}catch(e){return $f&&Mo.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof Vf?"addEventSizeExceeded":"addEvent";$f&&Mo.error(t),await e.stop({reason:n});const r=cs();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function rg(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=pf(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(Mf(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function og(e){return!e.type}function ig(e){return"transaction"===e.type}function ag(e){return"feedback"===e.type}function sg(e){const t=function(){const e=cs();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!og(n)&&!ig(n))return;const o=r&&r.statusCode;t&&(!o||o<200||o>=300)||(ig(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function cg(e){return t=>{e.isEnabled()&&og(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){ff(e,Ef({category:"replay.hydrate-error"}))}}(e,t)}}function lg(e,t=!1){const n=t?sg(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!og(t)&&!ig(t)&&!ag(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(ag(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:bh.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return $f&&Mo.log("[Replay] Ignoring error from rrweb internals",t),null;const o=function(e,t){return"buffer"===e.recordingMode&&t.message!==sp&&!(!t.exception||t.type)&&Jf(e.getOptions().errorSampleRate)}(e,t);return(o||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function ug(e,t){return t.map((({type:t,start:n,end:r,name:o,data:i})=>{const a=e.throttledAddEvent({type:bh.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:o,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof a?Promise.resolve(null):a}))}function dg(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(ug(e,[n]),!1))))}}function pg(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!$f||!e.getOptions()._experiments.traceInternals)&&Jc(t,cs())}(e,t.name)||e.addUpdate((()=>(ug(e,[t]),!0))))}function hg(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[Bi];if(!t||!n||!o)return null;const{method:i,url:a,status_code:s}=o;return void 0===a?null:{type:"resource.xhr",name:a,start:t/1e3,end:n/1e3,data:{method:i,statusCode:s}}}(t);pg(e,n)}}function fg(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=wg(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function gg(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function mg(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[wg(e)];if(!e)return[void 0]}catch(t){return $f&&Mo.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $f&&Mo.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function vg(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function yg(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:a,request:s,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:Xo({method:i,statusCode:a,request:s,response:c})}}function _g(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Sg(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>cp,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,cp);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}â¦`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function bg(e,t){return Object.keys(e).reduce(((n,r)=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n}),{})}function wg(e){return new URLSearchParams(e).toString()}function Tg(e,t){const n=function(e,t=ip.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ip.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return vo(n,t)}async function Eg(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:a,method:s,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=Tg(a,n.networkDetailAllowUrls)&&!Tg(a,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return xg(e[0],t);if(2===e.length)return xg(e[1],t);return{}}(n,t):{};if(!e)return Sg(o,r,void 0);const i=Ag(n),[a,s]=mg(i),c=Sg(o,r,a);if(s)return vg(c,s);return c}(n,t.input,l):_g(l),h=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,i){if(!e&&void 0!==i)return _g(i);const a=o?Ig(o.headers,r):{};if(!o||!t&&void 0!==i)return Sg(a,i,void 0);const[s,c]=await async function(e){const t=function(e){try{return e.clone()}catch(e){$f&&Mo.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return $f&&Mo.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(o),l=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:i}){try{const a=e&&e.length&&void 0===r?fg(e,n):r;return o?Sg(i,a,t?e:void 0):_g(a)}catch(e){return $f&&Mo.warn("[Replay] Failed to serialize response body",e),Sg(i,r,void 0)}}(s,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:a});if(c)return vg(l,c);return l}(d,n,t.response,u);return{startTimestamp:o,endTimestamp:i,url:a,method:s,statusCode:c,request:p,response:h}}(e,t,n),o=yg("resource.fetch",r);pg(n.replay,o)}catch(e){$f&&Mo.error("[Replay] Failed to capture fetch breadcrumb",e)}}function Ag(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Ig(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function xg(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Ig(n,t):Array.isArray(n)?{}:bg(n,t):{}}async function kg(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:a,xhr:s}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!s||!Tg(c,n.networkDetailAllowUrls)||Tg(c,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:u,request:_g(d),response:_g(p)}}const h=s[Bi],f=h?bg(h.request_headers,n.networkRequestHeaders):{},g=bg(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(s),n.networkResponseHeaders),[m,v]=n.networkCaptureBodies?mg(a):[void 0],[y,_]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return $f&&Mo.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $f&&Mo.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return $f&&Mo.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(s):[void 0],S=Sg(f,d,m),b=Sg(g,p,y);return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:u,request:v?vg(S,v):S,response:_?vg(b,_):b}}(e,t,n),o=yg("resource.xhr",r);pg(n.replay,o)}catch(e){$f&&Mo.error("[Replay] Failed to capture xhr breadcrumb",e)}}function Cg(e,t,n){const{xhr:r,input:o}=t;if(!r)return;const i=fg(o,n.textEncoder),a=r.getResponseHeader("content-length")?gg(r.getResponseHeader("content-length")):function(e,t,n){try{return fg("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}function Og(e){const t=cs();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Cg(t,n,e),kg(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:o}=t,i=fg(r?Ag(r):void 0,n.textEncoder),a=o?gg(o.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n,e),Eg(t,n,e))}catch(e){$f&&Mo.warn("Error when enriching network breadcrumb")}}(c,e,t))):(ki(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;const{method:i,url:a}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:a,data:{method:i,statusCode:o?o.status:void 0}}}(t);pg(e,n)}}(e)),Wi(hg(e)))}catch(e){}}let Rg=null;const Pg=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Rg===t||!t)return null;if(Rg=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Ef(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>lp?(n=!0,`${e.slice(0,lp)}â¦`):e;if("object"==typeof e)try{const t=Yi(e,7);return JSON.stringify(t).length>lp?(n=!0,`${JSON.stringify(t,null,2).slice(0,lp)}â¦`):t}catch(e){}return e}));return Ef({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Ef(t)}(t);n&&ff(e,n)};function Ng(e){return!(!e||!e.on)}function Lg(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function $g(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void($f&&Mo.warn("[Replay] Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&Tf(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!tg(e,n,o))return!0;if(!o)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;tg(e,function(e){const t=e.getOptions();return{type:bh.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(Mf(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&Yf(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function Mg({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){const a=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:c,traceIds:l,initialTimestamp:u}=r,d=cs(),p=ls(),h=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&h&&f&&i.sampled))return;const g={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:o/1e3,error_ids:c,trace_ids:l,urls:s,replay_id:t,segment_id:n,replay_type:i.sampled},m=await async function({client:e,scope:t,replayId:n,event:r}){const o={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,o);const i=await Qa(e.getOptions(),r,o,t,e,Os());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:s,version:c}=a&&a.sdk||{};return i.sdk={...i.sdk,name:s||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:p,client:d,replayId:t,event:g});if(!m)return d.recordDroppedEvent("event_processor","replay",g),void Mf("An event processor returned `null`, will not send event.");delete m.sdkProcessingMetadata;const v=function(e,t,n,r){return Ta(Pa(e,Ra(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(m,a,f,d.getOptions().tunnel);let y;try{y=await h.send(v)}catch(e){const t=new Error(sp);try{t.cause=e}catch(e){}throw t}if(!y)return y;if("number"==typeof y.statusCode&&(y.statusCode<200||y.statusCode>=300))throw new Dg(y.statusCode);const _=$a({},y);if(La(_,"replay"))throw new Ug(_);return y}class Dg extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Ug extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Vg(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await Mg(e),!0}catch(n){if(n instanceof Dg||n instanceof Ug)throw n;if(as("Replays",{_retryCount:t.count}),$f&&r._experiments&&r._experiments.captureExceptions&&ns(n),t.count>=3){const e=new Error(`${sp} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await Vg(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const Fg="__THROTTLED";function Gg(e,t,n){const r=new Map;let o=!1;return(...i)=>{const a=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(a),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=o;return o=!0,e?"__SKIPPED":Fg}o=!1;const s=r.get(a)||0;return r.set(a,s+1),e(...i)}}class jg{constructor({options:e,recordingOptions:t}){jg.prototype.__init.call(this),jg.prototype.__init2.call(this),jg.prototype.__init3.call(this),jg.prototype.__init4.call(this),jg.prototype.__init5.call(this),jg.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,o,i;const a=n.maxWait?Math.max(n.maxWait,t):0;function s(){return c(),r=e(),r}function c(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function l(){return o&&clearTimeout(o),o=setTimeout(s,t),a&&void 0===i&&(i=setTimeout(s,a)),r}return l.cancel=c,l.flush=function(){return void 0!==o||void 0!==i?s():r},l}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Gg(((e,t)=>function(e,t,n){return rg(e,t)?ng(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;o&&(this.clickDetector=new Sf(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Df(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Df("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=eg({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Df("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=eg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=df({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:$g(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{Mf("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Hf(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Mf("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Mf("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();Mf("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Kf(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${ip.location.pathname}${ip.location.hash}${ip.location.search}`,t=`${ip.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Fg){const e=Ef({category:"replay.throttled"});this.addUpdate((()=>!tg(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||ls().getTransaction(),t=(e&&Xa(e).data||{})[Zs];if(e&&t&&["route","custom"].includes(t))return Xa(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Bf({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){$f&&Mo.error("[Replay]",e),$f&&this._options._experiments&&this._options._experiments.captureExceptions&&ns(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=eg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!Zf(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{ip.document.addEventListener("visibilitychange",this._handleVisibilityChange),ip.addEventListener("blur",this._handleWindowBlur),ip.addEventListener("focus",this._handleWindowFocus),ip.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=ls(),n=cs();t.addScopeListener(Pg(e)),bi(kf(e)),Gi(dg(e)),Og(e);const r=lg(e,!Ng(n));n&&n.addEventProcessor?n.addEventProcessor(r):Lc(r),Ng(n)&&(n.on("beforeSendEvent",cg(e)),n.on("afterSendEvent",sg(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=Lf(this)}_removeListeners(){try{ip.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ip.removeEventListener("blur",this._handleWindowBlur),ip.removeEventListener("focus",this._handleWindowFocus),ip.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===ip.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Ef({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Ef({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Of(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;Qf(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):Mf("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:bh.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=function(e){return e.map(Pf).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(ug(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(ug(e,[Lg(ip.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Vg({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=cs();t&&t.recordDroppedEvent("send_error","replay")}}else $f&&Mo.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void($f&&Mo.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return Mf(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&Mf("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){$f&&Mo.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Yf(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Ef({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function qg(e,t,n,r){const o=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&o.push(`.${n}`),$o((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}const Bg='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Wg=["content-length","content-type","accept"];let Hg=!1;class Jg{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:s={},sessionSampleRate:c,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:y=[],networkCaptureBodies:_=!0,networkRequestHeaders:S=[],networkResponseHeaders:b=[],mask:w=[],maskAttributes:T=["title","placeholder"],unmask:E=[],block:A=[],unblock:I=[],ignore:x=[],maskFn:k,beforeAddRecordingEvent:C,beforeErrorSampling:O,blockClass:R,blockSelector:P,maskInputOptions:N,maskTextClass:L,maskTextSelector:$,ignoreClass:M}={}){this.name=Jg.id;const D=function({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:c,ignoreClass:l}){const u={maskTextSelector:qg(e,[".sentry-mask","[data-sentry-mask]"],s,c),unmaskTextSelector:qg(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:qg(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,a),unblockSelector:qg(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:qg(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return i instanceof RegExp&&(u.blockClass=i),s instanceof RegExp&&(u.maskTextClass=s),u}({mask:w,unmask:E,block:A,unblock:I,ignore:x,blockClass:R,blockSelector:P,maskTextClass:L,maskTextSelector:$,ignoreClass:M});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...N||{},password:!0},maskTextFn:k,maskInputFn:k,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return r?o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:T,maskAllText:u,privacyOptions:D,key:e,value:t,el:n}),...D,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,dp),stickySession:o,sessionSampleRate:c,errorSampleRate:l,useCompression:i,workerUrl:a,blockAllMedia:p,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:v,networkDetailDenyUrls:y,networkCaptureBodies:_,networkRequestHeaders:zg(S),networkResponseHeaders:zg(b),beforeAddRecordingEvent:C,beforeErrorSampling:O,_experiments:s},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof l&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Bg}`:Bg),this._isInitialized&&zi())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Hg}set _isInitialized(e){Hg=e}setupOnce(){zi()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=cs(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Xo(e)};if(!n)return $o((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&$o((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new jg({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=cs().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function zg(e){return[...Wg,...e.map((e=>e.toLowerCase()))]}var Yg;function Xg(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Xg(e.parentNode,t,n,r+1):-1}function Kg(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}Jg.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Yg||(Yg={}));const Qg="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Zg={map:{},getId:()=>(console.error(Qg),-1),getNode:()=>(console.error(Qg),null),removeNodeFromMap(){console.error(Qg)},has:()=>(console.error(Qg),!1),reset(){console.error(Qg)}};function em(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){am((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>em(e,t,i||{},!0)}function tm(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}function nm(e,t,n,r,o){if(!e)return!1;const i=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}(e);if(!i)return!1;const a=Xg(i,Kg(t,n));let s=-1;return!(a<0)&&(r&&(s=Xg(i,Kg(null,r))),a>-1&&s<0||a<s)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Zg=new Proxy(Zg,{get:(e,t,n)=>("map"===t&&console.error(Qg),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const rm={};function om(e){const t=rm[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return rm[e]=r.bind(window)}function im(...e){return om("requestAnimationFrame")(...e)}function am(...e){return om("setTimeout")(...e)}var sm=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(sm||{});let cm;function lm(e){cm=e}const um=e=>{if(!cm)return e;return(...t)=>{try{return e(...t)}catch(e){if(cm&&!0===cm(e))return()=>{};throw e}}};for(var dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pm="undefined"==typeof Uint8Array?[]:new Uint8Array(256),hm=0;hm<64;hm++)pm[dm.charCodeAt(hm)]=hm;const fm=new Map;const gm=(e,t,n)=>{if(!e||!ym(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=fm.get(e);return n||(n=new Map,fm.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let o=r.indexOf(e);return-1===o&&(o=r.length,r.push(e)),o};function mm(e,t,n){if(e instanceof Array)return e.map((e=>mm(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=dm[n[t]>>2],o+=dm[(3&n[t])<<4|n[t+1]>>4],o+=dm[(15&n[t+1])<<2|n[t+2]>>6],o+=dm[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[mm(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[mm(e.data,t,n),e.width,e.height]}}if(ym(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:gm(e,t,n)}}return e}const vm=(e,t,n)=>e.map((e=>mm(e,t,n))),ym=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function _m(e,t,n,r,o){const i=[];try{const a=tm(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...a){if(!nm(this,t,n,r)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),o&&["webgl","webgl2"].includes(e))if(a[0]&&"object"==typeof a[0]){const e=a[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...a])}}));i.push(a)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}function Sm(e,t,n,r,o,i,a,s){const c=[],l=Object.getOwnPropertyNames(e);for(const a of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof e[a])continue;const l=tm(e,a,(function(e){return function(...c){const l=e.apply(this,c);if(gm(l,s,this),"tagName"in this.canvas&&!nm(this.canvas,r,o,i)){const e=vm(c,s,this),r={type:t,property:a,args:e};n(this.canvas,r)}return l}}));c.push(l)}catch(r){const o=em(e,a,{set(e){n(this.canvas,{type:t,property:a,args:[e],setter:!0})}});c.push(o)}return c}class bm{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:s,dataURLOptions:c,errorHandler:l}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,l&&lm(l),e.enableManualSnapshot||um((()=>{s&&"all"===t&&this.initCanvasMutationObserver(n,r,o,i),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,o,i,a,{dataURLOptions:c})}))()}initCanvasFPSObserver(e,t,n,r,o,i,a){const s=_m(t,n,r,o,!0),c=this.takeSnapshot(!1,e,t,n,r,o,i,a.dataURLOptions);this.resetObservers=()=>{s(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=_m(e,t,n,r,!1),i=function(e,t,n,r,o){const i=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of a)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[s])continue;const a=tm(t.CanvasRenderingContext2D.prototype,s,(function(i){return function(...a){return nm(this.canvas,n,r,o)||am((()=>{const n=vm(a,t,this);e(this.canvas,{type:sm["2D"],property:s,args:n})}),0),i.apply(this,a)}}));i.push(a)}catch(n){const r=em(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:sm["2D"],property:s,args:[t],setter:!0})}});i.push(r)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r),a=function(e,t,n,r,o){const i=[];return i.push(...Sm(t.WebGLRenderingContext.prototype,sm.WebGL,e,n,r,o,0,t)),void 0!==t.WebGL2RenderingContext&&i.push(...Sm(t.WebGL2RenderingContext.prototype,sm.WebGL2,e,n,r,o,0,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.resetObservers=()=>{o(),i(),a()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,r,o,i,a,s,c){const l=new Map,u=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());u.onmessage=e=>{const t=e.data,{id:n}=t;if(l.set(n,!1),!("base64"in t))return;const{base64:r,type:o,width:i,height:a}=t;this.mutationCb({id:n,type:sm["2D"],commands:[{property:"clearRect",args:[0,0,i,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:o}]},0,0,i,a]}]})};const d=1e3/t;let p,h=0;const f=t=>{h&&t-h<d||(h=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{nm(e,r,o,i)||t.push(e)})),t})(c).forEach((t=>{const n=this.mirror.getId(t);if(!l.get(n)&&t.width&&t.height){if(l.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===Da([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{u.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:s,maxCanvasSize:a},[e])})).catch((e=>{um((()=>{throw e}))()}))}}))),p=im(f)};return p=im(f),p}startPendingCanvasMutationFlusher(){im((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,im(e)};im(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),im((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const{type:t,...n}=e;return n})),{type:o}=n[0];this.mutationCb({id:t,type:o,commands:r}),this.pendingCanvasMutations.delete(e)}}const wm={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Tm="ReplayCanvas",Em=1280,Am=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Em):Em,n?Math.min(n,Em):Em]};let o;const i=new Promise((e=>o=e));return{name:Tm,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const r=new bm({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return o(r),r},...wm[e||"medium"]||wm.medium}},async snapshot(e){(await i).snapshot(e)}}},Im=Ac(Tm,Am),xm=To,km="#ffffff",Cm="inherit",Om="rgba(108, 95, 199, 1)",Rm={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:km,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Om,submitBorder:Om,submitOutlineFocus:"#29232f",submitForeground:km,submitForegroundHover:km,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Cm,inputForeground:Cm,inputBorder:"var(--border)",inputOutlineFocus:Om,formBorderRadius:"20px",formContentBorderRadius:"6px"},Pm=Rm,Nm={...Rm,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},Lm="widget",$m="api";async function Mm({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:i=!0}={}){const a=cs(),s=a&&a.getTransport(),c=a&&a.getDsn();if(!a||!s||!c)return;const l={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return ss((async e=>{e.clearBreadcrumbs(),[$m,Lm].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const o=await Qa(e.getOptions(),n,r,t,e,Os());return null===o?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}({scope:e,client:a,event:l});if(!t)return;a.emit&&a.emit("beforeSendFeedback",t,{includeReplay:Boolean(i)});const n=vc(t,c,a.getOptions()._metadata,a.getOptions().tunnel);let o;try{o=await s.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(o){if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new Error("Unable to send Feedback");return o}}))}function Dm({name:e,email:t,message:n,source:r=$m,url:o=Co()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Mm({feedback:{name:e,email:t,message:n,url:o,source:r}},i)}const Um="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Vm(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Fm(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function Gm({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const o=xm.document,i=o.createElement("div");i.id=e;const a=i.attachShadow({mode:"open"});return a.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Fm("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Fm(n.dark)}\n  }\n}`:""}\n}`,r}(o,t,{dark:n,light:r})),a.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(o)),{shadow:a,host:i}}catch(e){throw Mo.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function jm(e,t,n){if(!e)return;e.hideError();try{return await Dm({...t,source:Lm},n)}catch(t){Um&&Mo.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function qm(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function Bm(e,t,...n){const r=xm.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)Wm(r,e);return r}function Wm(e,t){const n=xm.document;if(null!=t)if(Array.isArray(t))for(const n of t)Wm(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function Hm({buttonLabel:e,onClick:t}){const n=Bm("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>xm.document.createElementNS("http://www.w3.org/2000/svg",e),t=qm(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),n=qm(e("g"),{clipPath:"url(#clip0_57_80)"}),r=qm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),i=qm(e("clipPath"),{id:"clip0_57_80"}),a=qm(e("rect"),{width:"20",height:"20",fill:"white"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}().el,e?Bm("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function Jm(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function zm({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:i,isRequiredLabel:a,cancelButtonLabel:s,submitButtonLabel:c,showName:l,showEmail:u,isNameRequired:d,isEmailRequired:p,defaultName:h,defaultEmail:f,onCancel:g,onSubmit:m}){const{el:v}=function({label:e}){return{el:Bm("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:c});const y=Bm("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const _=Bm("input",{id:"name",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:h}),S=Bm("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:p,className:"form__input",placeholder:r,value:f}),b=Bm("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),w=Bm("button",{type:"button",className:"btn btn--default","aria-label":s,onClick:e=>{g&&g(e)}},s),T=Bm("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(m){const t=new FormData(e.target),n={name:Jm(t,"name"),email:Jm(t,"email"),message:Jm(t,"message")};m(n)}}catch(e){}}},[y,l&&Bm("label",{htmlFor:"name",className:"form__label"},[Bm("span",{className:"form__label__text"},e,d&&Bm("span",{className:"form__label__text--required"},` ${a}`)),_]),!l&&_,u&&Bm("label",{htmlFor:"email",className:"form__label"},[Bm("span",{className:"form__label__text"},n,p&&Bm("span",{className:"form__label__text--required"},` ${a}`)),S]),!u&&S,Bm("label",{htmlFor:"message",className:"form__label"},[Bm("span",{className:"form__label__text"},o,Bm("span",{className:"form__label__text--required"},` ${a}`)),b]),Bm("div",{className:"btn-group"},[v,w])]);return{get el(){return T},showError:function(e){y.textContent=e,y.classList.remove("form__error-container--hidden"),y.setAttribute("aria-hidden","false")},hideError:function(){y.textContent="",y.classList.add("form__error-container--hidden"),y.setAttribute("aria-hidden","true")}}}function Ym({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:i,colorScheme:a,defaultName:s,defaultEmail:c,onClosed:l,onCancel:u,onSubmit:d,...p}){let h=null;function f(){h&&(h.open=!1)}const{el:g,showError:m,hideError:v}=zm({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:o,defaultName:s,defaultEmail:c,onSubmit:d,onCancel:u,...p});return h=Bm("dialog",{className:"dialog",open:!0,onClick:function(){f(),l&&l()}},Bm("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},Bm("h2",{className:"dialog__header"},e,t&&Bm("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>xm.document.createElementNS("http://www.w3.org/2000/svg",e),n=qm(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=qm(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const o=t("defs"),i=t("style");return i.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(i.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),o.append(i),n.append(o),{get el(){return n}}}({colorScheme:a}).el)),g)),{get el(){return h},showError:m,hideError:v,open:function(){h&&(h.open=!0)},close:f,checkIsOpen:function(){return h&&!0===h.open||!1}}}function Xm({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=Bm("div",{className:"success-message",onClick:n},function(){const e=e=>xm.document.createElementNS("http://www.w3.org/2000/svg",e),t=qm(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),n=qm(e("g"),{clipPath:"url(#clip0_57_156)"}),r=qm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=qm(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const i=e("defs"),a=qm(e("clipPath"),{id:"clip0_57_156"}),s=qm(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),i.appendChild(a),t.appendChild(i).appendChild(a).appendChild(s),{get el(){return t}}}().el,e);return{el:r,remove:n}}function Km({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,i,a=!1;async function s(t){if(!i)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void i.showError(`Please enter in the following required fields: ${r.join(", ")}`);await jm(i,t)?(h(),function(){if(e)try{const t=Xm({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),l()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){Mo.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){const e=cs(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{Um&&Mo.error(e)}))}function l(){o&&o.show()}function u(){o&&o.hide()}function d(){try{if(i)return i.open(),a=!0,n.onFormOpen&&n.onFormOpen(),void c();const t=n.useSentryUser,r=ls(),o=r&&r.getUser();if(i=Ym({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:t&&o&&o[t.name]||"",defaultEmail:t&&o&&o[t.email]||"",onClosed:()=>{l(),a=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),l()},onSubmit:s}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),u(),n.onFormOpen&&n.onFormOpen(),c()}catch(e){Mo.error(e)}}function p(){i&&(i.close(),a=!1,n.onFormClose&&n.onFormClose())}function h(){if(i){p();const e=i.el;e&&e.remove(),i=void 0}}function f(){a||d(),u()}return r?r.addEventListener("click",f):t&&(o=Hm({buttonLabel:n.buttonLabel,onClick:f}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return i},showActor:l,hideActor:u,removeActor:function(){o&&o.el&&o.el.remove()},openDialog:d,closeDialog:p,removeDialog:h}}const Qm=xm.document;class Zm{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:r=!1,showBranding:o=!0,showEmail:i=!0,showName:a=!0,useSentryUser:s={email:"email",name:"username"},themeDark:c,themeLight:l,colorScheme:u="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:f="Report a Bug",emailPlaceholder:g="your.email@example.org",emailLabel:m="Email",messagePlaceholder:v="What's the bug? What did you expect?",messageLabel:y="Description",namePlaceholder:_="Your Name",nameLabel:S="Name",isRequiredLabel:b="(required)",successMessageText:w="Thank you for your report!",onFormClose:T,onFormOpen:E,onSubmitError:A,onSubmitSuccess:I}={}){this.name=Zm.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:o,id:t,isEmailRequired:n,isNameRequired:r,showEmail:i,showName:a,useSentryUser:s,colorScheme:u,themeDark:{...Nm,...c},themeLight:{...Pm,...l},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:f,emailLabel:m,emailPlaceholder:g,messageLabel:y,messagePlaceholder:v,nameLabel:S,namePlaceholder:_,isRequiredLabel:b,successMessageText:w,onFormClose:T,onFormOpen:E,onSubmitError:A,onSubmitSuccess:I}}setupOnce(){if(zi())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){Um&&Mo.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=Vm(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?Qm.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return Um&&Mo.error("[Feedback] Unable to attach to target element"),null;const o=Km({shadow:t,options:n,attachTo:r});return this._widgets.add(o),this._widget||(this._widget=o),o}))}catch(e){return Um&&Mo.error(e),null}}createWidget(e){try{return this._createWidget(Vm(this.options,e||{}))}catch(e){return Um&&Mo.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){Um&&Mo.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=Qm.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=Km({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(Qm)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:o,themeDark:i}=e,{shadow:a,host:s}=Gm({id:t,colorScheme:r,themeLight:o,themeDark:i});this._shadow=a,this._host=s,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&Qm.body.appendChild(this._host),r}}Zm.__initStatic();const ev="CaptureConsole",tv=(e={})=>{const t=e.levels||No;return{name:ev,setupOnce(){},setup(e){"console"in To&&ci((({args:n,level:r})=>{cs()===e&&t.includes(r)&&function(e,t){const n={level:la(t),extra:{arguments:e}};ss((r=>{if(r.addEventProcessor((e=>(e.logger="console",fi(e,{handled:!1,type:"console"}),e))),"assert"===t&&!1===e[0]){const t=`Assertion failed: ${go(e.slice(1)," ")||"console.assert"}`;return r.setExtra("arguments",e.slice(1)),void rs(t,n)}const o=e.find((e=>e instanceof Error));if("error"===t&&o)return void ns(o,n);rs(go(e," "),n)}))}(n,r)}))}}};Ac(ev,tv);const nv="Debug",rv=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:nv,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",((e,n)=>{t.debugger,$o((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}};Ac(nv,rv);const ov="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,iv="Dedupe",av=()=>{let e;return{name:iv,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!cv(e,t))return!1;if(!sv(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=lv(t),r=lv(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!cv(e,t))return!1;if(!sv(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return ov&&Mo.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function sv(e,t){let n=uv(e),r=uv(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function cv(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function lv(e){return e.exception&&e.exception.values&&e.exception.values[0]}function uv(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Ac(iv,av);const dv="ExtraErrorData",pv=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:dv,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!Zr(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const o=e[t];r[t]=Zr(o)?o.toString():o}if(t&&void 0!==e.cause&&(r.cause=Zr(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=Zr(n)?n.toString():n}}return r}catch(e){ov&&Mo.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r);if(i){const t={...e.contexts},r=Yi(i,n);return ao(r)&&(Bo(r,"__sentry_skip_normalization__",!0),t[o]=r),{...e,contexts:t}}return e}(e,r,t,n)}};Ac(dv,pv);const hv=To,fv="ReportingObserver",gv=new WeakMap,mv=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(e){if(gv.has(cs()))for(const t of e)ss((e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let r="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;r=[e.crashId||"",e.reason||""].join(" ").trim()||r}else{r=t.body.message||r}}rs(`${n}: ${r}`)}))}return{name:fv,setupOnce(){if(!("ReportingObserver"in Ei))return;new hv.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){gv.set(e,!0)}}};Ac(fv,mv);const vv="RewriteFrames",yv=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;const r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),o=/^\//.test(e.filename);if(r||o){const o=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,i=t?function(e,t){e=Zi(e).slice(1),t=Zi(t).slice(1);const n=ea(e.split("/")),r=ea(t.split("/")),o=Math.min(n.length,r.length);let i=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){i=e;break}let a=[];for(let e=i;e<n.length;e++)a.push("..");return a=a.concat(r.slice(i)),a.join("/")}(t,o):ta(o);e.filename=`${n}${i}`}return e});return{name:vv,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>r(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}};Ac(vv,yv);const _v="SessionTiming",Sv=()=>{const e=Date.now();return{name:_v,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}};Ac(_v,Sv);const bv="HttpClient",wv=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:bv,setupOnce(){},setup(e){!function(e,t){if(!xi())return;ki((n=>{if(cs()!==e)return;const{response:r,args:o}=n,[i,a]=o;r&&function(e,t,n,r){if(Av(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,r);let o,i,a,s;xv()&&([{headers:o,cookies:a},{headers:i,cookies:s}]=[{cookieHeader:"Cookie",obj:e},{cookieHeader:"Set-Cookie",obj:n}].map((({cookieHeader:e,obj:t})=>{const n=function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(t.headers);let r;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=Ev(t))}catch(t){ov&&Mo.log(`Could not extract cookies from header ${e}`)}return{headers:n,cookies:r}})));os(Iv({url:e.url,method:e.method,status:n.status,requestHeaders:o,responseHeaders:i,requestCookies:a,responseCookies:s}))}}(t,i,r,a)}))}(e,t),function(e,t){if(!("XMLHttpRequest"in To))return;Wi((n=>{if(cs()!==e)return;const r=n.xhr,o=r[Bi];if(!o)return;const{method:i,request_headers:a}=o;try{!function(e,t,n,r){if(Av(e,t.status,t.responseURL)){let e,o,i;if(xv()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(o=Ev(e))}catch(e){ov&&Mo.log("Could not extract cookies from response headers")}try{i=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n]=r,e}),{})}(t)}catch(e){ov&&Mo.log("Could not extract headers from response")}e=r}os(Iv({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:i,responseCookies:o}))}}(t,r,i,a)}catch(e){ov&&Mo.warn("Error while extracting response event form XHR response",e)}}))}(e,t)}}};function Tv(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Ev(e){return e.split("; ").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}function Av(e,t,n){return function(e,t){return e.some((e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]))}(e.failedRequestStatusCodes,t)&&(r=e.failedRequestTargets,o=n,r.some((e=>"string"==typeof e?o.includes(e):e.test(o))))&&!Jc(n,cs());var r,o}function Iv(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Tv(e.responseHeaders)}}};return fi(n,{type:"http.client",handled:!1}),n}function xv(){const e=cs();return!!e&&Boolean(e.getOptions().sendDefaultPii)}Ac(bv,wv);const kv=To,Cv="ContextLines",Ov=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:Cv,setupOnce(){},processEvent:e=>function(e,t){const n=kv.document,r=kv.location&&(o=kv.location.href,o.split(/[\?#]/,1)[0]);var o;if(!n||!r)return e;const i=e.exception&&e.exception.values;if(!i||!i.length)return e;const a=n.documentElement.innerHTML;if(!a)return e;const s=["<!DOCTYPE html>","<html>",...a.split("\n"),"</html>"];return i.forEach((e=>{const n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map((e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>fo(e,0))),t.context_line=fo(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>fo(e,0)))}(t,e,r),e}(e,s,r,t))))})),e}(e,t)}};function Rv(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function Pv(e){return Rv(e.getAllKeys())}function Nv(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Rv(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await xa(t,e.textEncoder);await function(e,t,n){return e((e=>Pv(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),Rv(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>Pv(e).then((t=>{if(0!==t.length)return Rv(e.get(t[0])).then((n=>(e.delete(t[0]),Rv(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function o(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function i(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(o(e)))}const a=i(),s=[];for(;r.length;){const e=i(),t="number"==typeof e.length?e.length:void 0;s.push([e,t?o(t):i()])}return[a,s]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}Ac(Cv,Ov);const Lv=1e6,$v=String(0),Mv="main";let Dv="",Uv="",Vv="",Fv=Gu.navigator&&Gu.navigator.userAgent||"",Gv="";const jv=Gu.navigator&&Gu.navigator.language||Gu.navigator&&Gu.navigator.languages&&Gu.navigator.languages[0]||"";const qv=Gu.navigator&&Gu.navigator.userAgentData;var Bv;function Wv(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[$v]:{name:Mv}}};if(!e.samples.length)return r;const o=e.samples[0].timestamp,i="number"==typeof performance.timeOrigin?performance.timeOrigin:pa||0,a=i-(pa||i);for(let i=0;i<e.samples.length;i++){const s=e.samples[i];if(void 0===s.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[i]={elapsed_since_start_ns:((s.timestamp+a-o)*Lv).toFixed(0),stack_id:t,thread_id:$v};continue}let c=e.stacks[s.stackId];const l=[];for(;c;){l.push(c.frameId);const t=e.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId]}const u={elapsed_since_start_ns:((s.timestamp+a-o)*Lv).toFixed(0),stack_id:n,thread_id:$v};r.stacks[n]=l,r.samples[i]=u,n++}return r}(e):e}function Hv(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&Wu&&Mo.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),i=Wv(n),a=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),s="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Va,runtime:{name:"javascript",version:Gu.navigator.userAgent},os:{name:Dv,version:Uv,build_number:Fv},device:{locale:jv,model:Gv,manufacturer:Fv,architecture:Vv,is_emulator:!1},debug_meta:{images:Yv(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||ui(),trace_id:o,active_thread_id:$v,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]}}function Jv(e){return"pageload"===e.op}"object"==typeof(Bv=qv)&&null!==Bv&&"getHighEntropyValues"in Bv&&qv.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(Dv=e.platform||"",Vv=e.architecture||"",Gv=e.model||"",Uv=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Fv=`${t.brand} ${t.version}`}})).catch((e=>{}));const zv=new WeakMap;function Yv(e){const t=To._sentryDebugIds;if(!t)return[];const n=cs(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i;const a=zv.get(o);a?i=a:(i=new Map,zv.set(o,i));const s=Object.keys(t).reduce(((e,n)=>{let r;const a=i.get(n);a?r=a:(r=o(n),i.set(n,r));for(let o=r.length-1;o>=0;o--){const i=r[o],a=i&&i.filename;if(i&&a){e[a]=t[n];break}}return e}),{}),c=[];for(const t of e)t&&s[t]&&c.push({type:"sourcemap",code_file:t,debug_id:s[t]});return c}let Xv=!1;function Kv(e){if(Xv)return Wu&&Mo.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return Wu&&Mo.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=cs(),n=t&&t.getOptions();if(!n)return Wu&&Mo.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(o=r)&&"boolean"!=typeof o||"number"==typeof o&&isNaN(o)?(Wu&&Mo.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),0):!0===o||!1===o||!(o<0||o>1)||(Wu&&Mo.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${o}.`),0)))return Wu&&Mo.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var o;if(!r)return Wu&&Mo.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(Wu&&Mo.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Qv(e,t,n,r){return function(e){return e.samples.length<2?(Wu&&Mo.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(Wu&&Mo.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?Hv(e,t,n,r):null}const Zv=new Map;function ey(e){const t=Zv.get(e);return t&&Zv.delete(e),t}function ty(e){let t;Jv(e)&&(t=1e3*da());const n=function(){const e=Gu.Profiler;if("function"!=typeof e)return void(Wu&&Mo.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){Wu&&(Mo.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),Mo.log("[Profiling] Disabling profiling for current user session.")),Xv=!0}}();if(!n)return e;Wu&&Mo.log(`[Profiling] started profiling transaction: ${Xa(e).description}`);const r=ui();async function o(){return e&&n?n.stop().then((t=>(i&&(Gu.clearTimeout(i),i=void 0),Wu&&Mo.log(`[Profiling] stopped profiling of transaction: ${Xa(e).description}`),t?(function(e,t){if(Zv.set(e,t),Zv.size>30){const e=Zv.keys().next().value;Zv.delete(e)}}(r,t),null):(Wu&&Mo.log(`[Profiling] profiler returned null profile for: ${Xa(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(Wu&&Mo.log("[Profiling] error while stopping profiler:",e),null))):null}let i=Gu.setTimeout((()=>{Wu&&Mo.log("[Profiling] max profile duration elapsed, stopping profiling for:",Xa(e).description),o()}),3e4);const a=e.end.bind(e);return e.end=function(){return e?(o().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),a()}),(()=>{a()})),e):a()},e}const ny="BrowserProfiling",ry=()=>({name:ny,setupOnce(){},setup(e){const t=ls().getTransaction();t&&Jv(t)&&Kv(t)&&ty(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{Kv(e)&&ty(e)})),e.on("beforeEnvelope",(e=>{if(!Zv.size)return;const t=function(e){const t=[];return Aa(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,o=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){Wu&&Mo.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){Wu&&Mo.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const i=ey(r);if(!i){Wu&&Mo.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const a=Qv(r,o,i,e);a&&n.push(a)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):Mo.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),oy=Ac(ny,ry);let iy={};Gu.Sentry&&Gu.Sentry.Integrations&&(iy=Gu.Sentry.Integrations);const ay={...iy,...Sl,...op};var sy=Object.freeze({__proto__:null,Breadcrumbs:xd,BrowserClient:rd,BrowserProfilingIntegration:oy,BrowserTracing:class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,gc(),bl&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...Pu,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=vu(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Su(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&yu(),this.options._experiments.enableInteractions&&_u(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:i,startTransactionOnPageLoad:a,markBackgroundTransactions:s,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,f=h||this.options.tracePropagationTargets;bl&&this._hasSetTracePropagationTargets&&h&&Mo.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),a,i),s&&Tl(),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),ku({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(bl&&Mo.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=this.options,a="pageload"===e.op;let s;if(a){const t=a?Nu("sentry-trace"):"",n=a?Nu("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:c}=ba(t,n);s={traceId:r,parentSpanId:i,parentSampled:c,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else s={trimEnd:!0,...e};const c="function"==typeof n?n(s):s,l=void 0===c?{...s,sampled:!1}:c;l.metadata=l.name!==s.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,!1===l.sampled&&bl&&Mo.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),bl&&Mo.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:u}=wl,d=fc(t,l,r,o,!0,{location:u},i,a);return a&&wl.document&&(wl.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(wl.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(wl.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),wu(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,o="ui.action.click",i=Ls();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(bl&&Mo.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(bl&&Mo.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(bl&&Mo.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:s}=wl,c={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[Zs]:this._latestRoute.context?Lu(this._latestRoute.context):"url"}};e=fc(a,c,t,n,!0,{location:s},r)};["click"].forEach((e=>{wl.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=({entries:e})=>{const t=cs(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,o=Ls(),i=ls(),a=void 0!==i?i.getUser():void 0;e.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],i=e.duration,s=e.startTime,c=Object.keys(this._interactionIdToRouteNameMapping),l=c.length>0?c.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){if(c.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===i&&e.startTime===s)))return}if(!t)return;if(n)n.duration=Math.max(n.duration,i);else if(c.length<10||void 0===l||i>this._interactionIdToRouteNameMapping[l].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(l&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[l],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:i,parentContext:n,user:a,activeTransaction:o,replayId:r,startTime:s})}}}))};Zl("event",e),Zl("first-input",e)}},Dedupe:Od,Feedback:Zm,FunctionToString:dl,GlobalHandlers:Dd,HttpContext:qd,Hub:Is,InboundFilters:il,Integrations:ay,LinkedErrors:Hd,ModuleMetadata:el,Replay:Jg,ReplayCanvas:Im,SDK_VERSION:Ts,SEMANTIC_ATTRIBUTE_SENTRY_OP:tc,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:nc,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:ec,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:Zs,Scope:bs,TryCatch:Xd,WINDOW:Gu,addBreadcrumb:is,addEventProcessor:Lc,addGlobalEventProcessor:Ga,addIntegration:function(e){const t=cs();t&&t.addIntegration?t.addIntegration(e):Ua&&Mo.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},addTracingExtensions:gc,breadcrumbsIntegration:Id,browserApiErrorsIntegration:Yd,browserProfilingIntegration:ry,browserTracingIntegration:(e={})=>{const t=!!bl&&!(!e.tracePropagationTargets&&!e.tracingOrigins);gc(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...$u,...e},r=vu(),o={};n.enableInp&&Su(o,n.interactionsSampleRate),n.enableLongTask&&yu(),n._experiments.enableInteractions&&_u();const i={name:void 0,context:void 0};function a(e){const t=Cs(),{beforeStartSpan:o,idleTimeout:a,finalTimeout:s,heartbeatInterval:c}=n,l="pageload"===e.op;let u;if(l){const t=l?Uu("sentry-trace"):"",n=l?Uu("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:a}=ba(t,n);u={traceId:r,parentSpanId:i,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else u={trimEnd:!0,...e};const d=o?o(u):u;d.metadata=d.name!==u.name?{...d.metadata,source:"custom"}:d.metadata,i.name=d.name,i.context=d,!1===d.sampled&&bl&&Mo.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),bl&&Mo.log(`[Tracing] Starting ${d.op} transaction on scope`);const{location:p}=wl,h=fc(t,d,a,s,!0,{location:p},c,l);return l&&wl.document&&(wl.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(wl.document.readyState)&&h.sendAutoFinishSignal()})),["interactive","complete"].includes(wl.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((e=>{r(),wu(e)})),h}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const r=e.getOptions(),{markBackgroundSpan:s,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=n,h=r&&r.tracePropagationTargets,f=h||n.tracePropagationTargets;let g;bl&&t&&h&&Mo.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let m=wl.location&&wl.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{g&&(bl&&Mo.log(`[Tracing] Finishing current transaction with op: ${Xa(g).op}`),g.end()),g=a({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{g&&(bl&&Mo.log(`[Tracing] Finishing current transaction with op: ${Xa(g).op}`),g.end()),g=a({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&wl.location){const t={name:wl.location.pathname,startTimestamp:pa?pa/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Zs]:"url"}};Mu(e,t)}n.instrumentNavigation&&e.emit&&wl.location&&Gi((({to:t,from:n})=>{if(void 0===n&&m&&-1!==m.indexOf(t))m=void 0;else if(n!==t){m=void 0;const t={name:wl.location.pathname,origin:"auto.navigation.browser",attributes:{[Zs]:"url"}};Du(e,t)}})),s&&Tl(),p.enableInteractions&&function(e,t){let n;const r=()=>{const{idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=e,a="ui.action.click",s=Ls();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void(bl&&Mo.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(bl&&Mo.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`));const{location:c}=wl,l={name:t.name,op:a,trimEnd:!0,data:{[Zs]:t.context?Fu(t.context):"url"}};n=fc(Cs(),l,r,o,!0,{location:c},i)};["click"].forEach((e=>{wl.document&&addEventListener(e,r,{once:!1,capture:!0})}))}(n,i),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=cs(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,i=void 0!==o?o.getReplayId():void 0,a=Ls(),s=ls(),c=void 0!==s?s.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],s=n.duration,l=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===s&&e.startTime===l)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,s);else if(u.length<Vu||void 0===d||s>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=Vu&&delete e[d],e[r]={routeName:n,duration:s,parentContext:o,user:c,activeTransaction:a,replayId:i,startTime:l})}}}))};Zl("event",n),Zl("first-input",n)}(o,i),ku({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:n}},captureConsoleIntegration:tv,captureEvent:os,captureException:ns,captureMessage:rs,captureSession:hs,captureUserFeedback:function(e){const t=cs();t&&t.captureUserFeedback(e)},chromeStackLineParser:dd,close:async function(e){const t=cs();return t?t.close(e):(Ua&&Mo.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},configureScope:function(e){Cs().configureScope(e)},contextLinesIntegration:Ov,continueTrace:({sentryTrace:e,baggage:t},n)=>{const r=ls(),{traceparentData:o,dynamicSamplingContext:i,propagationContext:a}=function(e,t){const n=Sa(e),r=ma(t),{traceId:o,parentSpanId:i,parentSampled:a}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:o||ui(),parentSpanId:i||ui().substring(16),spanId:ui().substring(16),sampled:a,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:o||ui(),spanId:ui().substring(16)}}}(e,t);r.setPropagationContext(a),Ua&&o&&Mo.log(`[Tracing] Continuing trace ${o.traceId}.`);const s={...o,metadata:Xo({dynamicSamplingContext:i})};return n?Rs((()=>n(s))):s},createTransport:Gc,createUserFeedbackEnvelope:nd,debugIntegration:rv,dedupeIntegration:av,defaultIntegrations:tp,defaultRequestInstrumentationOptions:xu,defaultStackLineParsers:bd,defaultStackParser:wd,endSession:ds,eventFromException:Ku,eventFromMessage:Qu,exceptionFromError:Hu,extraErrorDataIntegration:pv,extractTraceparentData:$s,feedbackIntegration:e=>new Zm(e),flush:async function(e){const t=cs();return t?t.flush(e):(Ua&&Mo.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},forceLoad:function(){},functionToStringIntegration:ul,geckoStackLineParser:fd,getActiveSpan:Ws,getActiveTransaction:Ls,getClient:cs,getCurrentHub:Cs,getCurrentScope:ls,getDefaultIntegrations:np,getHubFromCarrier:Ps,getReplay:function(){const e=cs();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")},getSpanStatusFromHttpCode:Vs,globalHandlersIntegration:Md,httpClientIntegration:wv,httpContextIntegration:jd,inboundFiltersIntegration:ol,init:rp,instrumentOutgoingRequests:ku,isInitialized:function(){return!!cs()},lastEventId:function(){return Cs().lastEventId()},linkedErrorsIntegration:Wd,makeBrowserOfflineTransport:function(e){return function(e){return t=>e({...t,createStore:Nv})}(Bc(e))},makeFetchTransport:id,makeMain:ks,makeMultiplexedTransport:function(e,t){return n=>{const r=e(n),o=new Map;function i(t,r){const i=r?`${t}:${r}`:t;let a=o.get(i);if(!a){const s=Vo(t);if(!s)return;const c=Sc(s,n.tunnel);a=r?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=Wc(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,r)({...n,url:c}):e({...n,url:c}),o.set(i,a)}return[t,a]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return Wc(e,n)}}).map((e=>"string"==typeof e?i(e,void 0):i(e.dsn,e.release))).filter((e=>!!e));0===n.length&&n.push(["",r]);return(await Promise.all(n.map((([t,n])=>n.send(function(e,t){return Ta(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[await r.flush(e)];for(const[,n]of o)t.push(await n.flush(e));return t.every((e=>e))}}}},makeXHRTransport:ad,metrics:_l,moduleMetadataIntegration:Zc,onLoad:function(e){e()},onProfilingStartRouteTransaction:function(e){return e?Kv(e)?ty(e):e:(Wu&&Mo.log("[Profiling] Transaction is undefined, skipping profiling"),e)},opera10StackLineParser:yd,opera11StackLineParser:Sd,parameterize:function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n},replayCanvasIntegration:Am,replayIntegration:e=>new Jg(e),reportingObserverIntegration:mv,rewriteFramesIntegration:yv,sendFeedback:Dm,sessionTimingIntegration:Sv,setContext:as,setCurrentClient:Fc,setExtra:function(e,t){Cs().setExtra(e,t)},setExtras:function(e){Cs().setExtras(e)},setHttpStatus:Gs,setMeasurement:mc,setTag:function(e,t){Cs().setTag(e,t)},setTags:function(e){Cs().setTags(e)},setUser:function(e){Cs().setUser(e)},showReportDialog:(e={},t=Cs())=>{if(!Gu.document)return void(Wu&&Mo.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o)return void(Wu&&Mo.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=Gu.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(e,t){const n=Go(e);if(!n)return"";const r=`${yc(n)}embed/error-page/`;let o=`dsn=${Uo(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${o}`}(o,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:a}=e;if(a){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{a()}finally{Gu.removeEventListener("message",e)}};Gu.addEventListener("message",e)}const s=Gu.document.head||Gu.document.body;s?s.appendChild(i):Wu&&Mo.error("Not injecting report dialog. No injection point found in HTML")},spanStatusfromHttpCode:Fs,startBrowserTracingNavigationSpan:Du,startBrowserTracingPageLoadSpan:Mu,startInactiveSpan:Bs,startSession:us,startSpan:function(e,t){const n=Js(e);return Rs((()=>ss(e.scope,(r=>{const o=Cs(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:Hs(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return js((()=>t(a)),(()=>{if(a){const{status:e}=Xa(a);e&&"ok"!==e||a.setStatus("internal_error")}}),(()=>a&&a.end()))}))))},startSpanManual:function(e,t){const n=Js(e);return Rs((()=>ss(e.scope,(r=>{const o=Cs(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:Hs(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function s(){a&&a.end()}return js((()=>t(a,s)),(()=>{if(a&&a.isRecording()){const{status:e}=Xa(a);e&&"ok"!==e||a.setStatus("internal_error")}}))}))))},startTransaction:function(e,t){return Cs().startTransaction({...e},t)},trace:function(e,t,n=()=>{},r=()=>{}){const o=Cs(),i=ls(),a=i.getSpan(),s=Js(e),c=Hs(o,{parentSpan:a,spanContext:s,forceTransaction:!1,scope:i});return i.setSpan(c),js((()=>t(c)),(e=>{c&&c.setStatus("internal_error"),n(e,c)}),(()=>{c&&c.end(),i.setSpan(a),r()}))},winjsStackLineParser:md,withActiveSpan:function(e,t){return ss((n=>(n.setSpan(e),t(n))))},withIsolationScope:function(e){return Rs((()=>e(Os())))},withScope:ss,wrap:function(e){return Bu(e)()}});const cy=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((t=>t.test(e))),ly={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.42.0",environment:Vr(),tracesSampleRate:Gr()?.1:1,sampleRate:Gr()?.1:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return cy(t)?null:(Fr()&&console.error(e),e)}};const uy=e=>{chrome.storage.sync.get(["installationId","session",jr.isLoggedIn,jr.translatorServiceType,jr.writeServiceType],(function(t){e.setTag("internal_session_id",t?.session?.id),e.setTag("is_translator_pro",Yr(t,zn.TRANSLATOR)),e.setTag("is_write_pro",Yr(t,zn.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>(t?.session?.newValue&&e.setTag("internal_session_id",t.session.newValue.id),t?.installationId&&e.setUser({id:t.installationId}),t?.browser_instance_id&&e.setTag("browser_instance_id",Br.browserInstanceId.newValue),!0!==t.isLoggedIn?.newValue&&!1!==t.isLoggedIn?.newValue||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.sync.get([jr.isLoggedIn],e.setTag("is_translator_pro",Yr({...Br,translatorServiceType:t.translatorServiceType.newValue},zn.TRANSLATOR))),t.writeServiceType&&chrome.storage.sync.get([jr.isLoggedIn],e.setTag("is_write_pro",Yr({...Br,writeServiceType:t.writeServiceType.newValue},zn.WRITE))),!0)))};const dy="NETWORK_ERROR",py="PROTOCOL_ERROR",hy="NETWORK_ERROR",fy="FULL_PAGE_SERVER_ERROR",gy="-32003",my="429",vy="403",yy="1045601",_y="1042902",Sy="TRANSLATED_INPUT_NOT_SET",by="HTML_NODE_CHAR_LENGTH_TOO_LONG",wy="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",Ty="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",Ey="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",Ay="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",Iy="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED",xy="LOGIN_REQUIRED";class ky extends Error{constructor(e){super(e),this.name=xy,this.message=e}}class Cy extends Error{constructor(e,t){super(t),this.name=wy,this.limit=e,this.message=t}}class Oy extends Error{constructor(e,t){super(t),this.name=Ty,this.limit=e,this.message=t}}class Ry extends Error{constructor(e,t){super(t),this.name=Ay,this.limit=e,this.message=t}}class Py extends Error{constructor(e,t){super(t),this.name=Iy,this.limit=e,this.message=t}}class Ny extends Error{constructor(e,t){super(t),this.name=Ey,this.limit=e,this.message=t}}function Ly(e){if(void 0!==e)try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}const $y={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function My(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Dy(e,t){let n;try{switch(e){case $y.chrome:case $y.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case $y.edge:n=t.split("Edg/")[1].split(" ")[0];break;case $y.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case $y.opera:n=t.split("OPR/")[1].split(" ")[0];break;case $y.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===$y.chrome||e===$y.edge||e===$y.brave||e===$y.opera}(e)&&(n=Uy(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function Uy(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const Vy="unknown_user_agent",Fy="unknown_platform",Gy="unknown_browser",jy="unknown_browser_version",qy="unknown_browser_language";function By(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||Vy,r=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||Fy;let o=Gy,i=jy,a=(null===navigator||void 0===navigator?void 0:navigator.language)||qy;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(a=chrome.i18n.getUILanguage());try{o=Wy(n),i=Dy(o,n)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:n,platform:r,browser:o,browserVersion:i,browserLang:a}}const Wy=e=>{let t=Gy;try{const n=e.match(/chrome|chromium|crios/i),r=e.match(/edg/i)||Uy($y.edge),o=e.match(/firefox|fxios/i),i=e.match(/opr\//i)||Uy($y.opera),a=e.match(/safari/i),s=Uy($y.brave);n?(t=$y.chrome,r&&(t=$y.edge),i&&(t=$y.opera),s&&(t=$y.brave)):r?t=$y.edge:o?t=$y.firefox:i?t=$y.opera:a&&(t=$y.safari)}catch(e){console.error("Could not get the name of the brower",e)}return t};function Hy(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild.toLowerCase()===$y.firefox.toLowerCase();const e=chrome.runtime.getURL("");return By().browser===$y.firefox||/moz-extension:\/\//gm.test(e)}const Jy="NEW_FEEDBACK_FORM",zy="DEEPL_COM_PRO",Yy="DEEPL_COM_PRO_WRITE",Xy="DEEPL_COM_HOMEPAGE",Ky="DEEPL_SUPPORT",Qy=60001,Zy=60003,e_=60055,t_=60059,n_=60067,r_=60069,o_=60106,i_=60109,a_=0,s_=1,c_=2,l_=0,u_=1,d_=2,p_=3,h_=4,f_=0,g_=1,m_=2,v_=0,y_=1,__=2,S_=3,b_=4,w_=5;function T_(e){switch(e){case ot:return 1;case rt:return 2;case nt:return 3;case it:return 4;case at:return 5;case st:return 6;case ct:return 7;default:return 0}}function E_(e){switch(e){case St:return 1;case mt:return 2;case yt:return 3;case Tt:return 4;case Et:return 5;case At:return 6;case It:return 7;case kt:return 8;case wt:return 9;case vt:return 10;case Ct:return 11;case Ot:return 12;case Rt:return 13;case Pt:return 14;case Nt:return 15;case Lt:return 16;case $t:return 17;case Mt:return 18;case Dt:return 19;case Ut:return 20;case Vt:return 21;case Ft:return 22;case Wt:return 23;case Ht:return 24;case Gt:return 25;case jt:return 26;case qt:return 27;case Bt:return 28;case Jt:return 29;case zt:return 30;case Yt:return 31;case xt:return 32;case Xt:return 33;case Kt:return 34;case Qt:return 35;case Zt:return 36;case bt:return 37;case en:return 38;case tn:return 39;case nn:return 40;case rn:return 41;case on:return 42;case an:return 43;case sn:return 44;case cn:return 45;case ln:return 46;case un:return 47;case dn:return 48;case pn:return 49;case hn:return 50;case fn:return 51;case gn:return 52;case mn:return 53;case vn:return 54;case yn:return 55;case _n:return 56;case Sn:return 57;case bn:return 58;case wn:return 59;case Tn:return 60;case _t:return 61;case En:return 62;case An:return 63;case In:return 64;default:return 0}}function A_(e){switch(e){case Pn:return kn;case Nn:return Cn;case $n:return Rn;case Ln:return On;default:return xn}}function I_(e){switch(e){case Mn:return 1;case Dn:return 2;case Vn:return 3;case Fn:return 4;case Un:return 5;case Gn:return 6;case jn:return 7;case qn:return 8;case Bn:return 9;default:return 0}}function x_(e){switch(e){case Wn:return 1;case Hn:return 2;default:return 0}}function k_(e){switch(e){case Yn:return 1;case Xn:return 2;case Kn:return 3;default:return 0}}function C_(e){switch(e){case ir:return 1;case ar:return 2;case sr:return 3;default:return 0}}function O_(e){switch(e){case cr:return s_;case lr:return c_;default:return a_}}function R_(e){switch(e){case ur:return u_;case dr:return d_;case pr:return p_;case hr:return h_;default:return l_}}function P_(e){switch(e){case fr:return g_;case gr:return m_;default:return f_}}function N_(e){switch(e){case mr:return y_;case vr:return __;case yr:return S_;case _r:return b_;case Sr:return w_;default:return v_}}const L_=["accountData","domainName"],$_=[60067,60068,60069],M_=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>M_(e,t))):Object.keys(e).reduce(((n,r)=>(t.includes(r)||(n[r]=M_(e[r],t)),n)),{}):e;function D_(e){return Fe(this,void 0,void 0,(function*(){let t,n,r,o,i,a,s,c,l,u,d,p=!1;try{const e=yield K_(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);n=e.session.id,t=e.installationId,u=e.firefoxAnonPermissionGranted,d=e.firefoxPersonalPermissionGranted}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=yield eS();p=!!e.accountId,r=k_(e.translatorServiceType),o=k_(e.apiServiceType),i=k_(e.docTranslatorServiceType),l=k_(e.writeServiceType),s=p?2===r||2===o||2===l||2===i?ut:dt:lt,c=e.sessionType?C_(e.sessionType):C_(ir)}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{a=yield function(){return Fe(this,void 0,void 0,(function*(){return(yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}))}()}catch(e){console.error(e)}const h=By(),f=yield function(){return Fe(this,void 0,void 0,(function*(){let e=[];try{e=yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield Y_(J_,W_);if(!e||!e.meta)return[];return(Date.now()-e.meta.createdAt)/6e4>9?[]:e.data&&0!==e.data.length?e.data:[]}))}()}catch(e){}if(!e||0===e.length)return[];const t=e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})));return t}))}();let g,m;try{g=yield tS()}catch(e){console.error(e)}try{m=yield function(){return Fe(this,void 0,void 0,(function*(){if(Hy())return;const e=yield chrome.cookies.get({name:"dapUid",url:"https://www.deepl.com"});return e?e.value:void 0}))}()}catch(e){console.error(e)}const v=Object.assign({eventId:void 0,extensionVersion:"1.42.0",sessionId:n,sessionType:c,installationId:t,browserInstanceId:a,originStore:A_(chrome.runtime.id),userInfos:Object.assign(Object.assign({},g&&{accountData:{accountId:g}}),{userType:s,translatorServiceType:r,apiServiceType:o,docTranslatorServiceType:i,writeServiceType:l}),userAgent:h.userAgent,platform:h.platform,browser:h.browser,browserVersion:h.browserVersion,browserLang:h.browserLang,clientExperiments:f},m&&{webInstanceId:m});let y=e?e(v):v;if(Hy()){if(!((e=!1,t=!1)=>!(!e&&!t)&&!(!e&&t)&&(!(!e||t)||!(!e||!t)||void 0))(u,d))return;if(y=((e,t=!1,n=!1)=>e?n&&t?e:!n&&$_.includes(e?.eventId)?null:M_(e,L_):null)(y,u,d),!y)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${y.eventId} request failed: ${e}`)}))}))}function U_(e){return Fe(this,void 0,void 0,(function*(){return D_((t=>Object.assign(Object.assign({},t),{eventId:Zy,translationErrorData:{errorData:{extensionVersion:"1.42.0",errorCode:e.errorCode,errorMessage:e.errorMessage},targetLang:e.targetLang,domainName:e.domainName,websiteLanguage:e.websiteLanguage,sourceLength:e.characterCount,translationTrigger:T_(e.trigger),nicheIntegration:I_(e.nicheIntegration||Mn)}})))}))}function V_(e){return Fe(this,void 0,void 0,(function*(){const t=Math.round((yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get(["last_login"]);return e&&e.last_login?(Date.now()-e.last_login)/1e3:0}))}())/60);return D_((n=>Object.assign(Object.assign({},n),{eventId:e_,logoutData:{trigger:x_(e.trigger),minutesSinceLastLogin:t,reason:e.reason}})))}))}function F_(e){return Fe(this,void 0,void 0,(function*(){return D_((t=>Object.assign(Object.assign({},t),{eventId:t_,UILocationClickedData:{uiLocation:E_(e)}})))}))}function G_(){return Fe(this,void 0,void 0,(function*(){if(!(yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([jr.isLoggedIn]);return!(!e||!e.isLoggedIn)}))}()))return;const e=yield tS();return D_((t=>Object.assign(Object.assign({},t),{eventId:n_,accountData:{accountUuid:e}})))}))}function j_(e){return Fe(this,void 0,void 0,(function*(){return D_((t=>Object.assign(Object.assign({},t),{eventId:i_,itaSessionData:Object.assign(Object.assign(Object.assign({itaSessionType:O_(e.itaSessionType),itaSessionEventType:R_(e.itaSessionEventType)},e.itaErrorType&&{itaErrorType:P_(e.itaErrorType)}),e.itaErrorMessage&&{itaErrorMessage:e.itaErrorMessage}),e.itaUserInteractionType&&{itaUserInteractionType:N_(e.itaUserInteractionType)})})))}))}let q_;const B_="dlBrowserExtension",W_="dlCache",H_="dlclientstate",J_="dlexperiments";function z_(){return new Promise(((e,t)=>{let n=indexedDB.open(B_,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){q_=t.target.result,e()},n.onupgradeneeded=function(t){q_=t.target.result,q_.objectStoreNames.contains(W_)||q_.createObjectStore(W_,{keyPath:"id"}),e()}}))}function Y_(e,t){return Fe(this,void 0,void 0,(function*(){return q_||(yield z_()),new Promise(((n,r)=>{let o=q_.transaction(t,"readonly").objectStore(t).get(e);o.onerror=function(e){r(e)},o.onsuccess=function(){o.result?n(o.result):n(null)}}))}))}function X_(e){return Fe(this,void 0,void 0,(function*(){try{yield function(e,t,n){return Fe(this,void 0,void 0,(function*(){return q_||(yield z_()),new Promise(((r,o)=>{let i=q_.transaction(n,"readwrite").objectStore(n).put({id:e,data:t,meta:{createdAt:Date.now()}});i.onsuccess=function(){r()},i.onerror=function(e){o(e)}}))}))}(H_,e,W_)}catch(e){t=e,sy.captureException(t)}var t}))}function K_(e){return Fe(this,void 0,void 0,(function*(){if(e.includes("session")){const e=yield chrome.storage.sync.get(["session"]);e&&!e.session&&(yield function(){return Fe(this,void 0,void 0,(function*(){const e=crypto.randomUUID();yield chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{yield G_()}catch(e){console.error(e)}}))}())}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(r=>{r?t(r):n(`Can not get ${e}`)}))}))}))}function Q_(e,t,n){return Fe(this,void 0,void 0,(function*(){const r=Ly(e);return yield chrome.storage.local.set({a_t:e,r_t:t,[jr.idToken]:n,isLoggedIn:!(!e||!t),isProUser:!(!r||"Pro"!==r.sessionType),sessionType:null==r?void 0:r.sessionType}),null==r?void 0:r.sessionType}))}function Z_(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get(["a_t","r_t",jr.idToken]);return{access_token:e?e.a_t:void 0,refresh_token:e?e.r_t:void 0,id_token:e?e[jr.idToken]:void 0}}))}function eS(){return Fe(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([jr.isLoggedIn,"isProUser","sessionType",jr.translatorServiceType,jr.writeServiceType,jr.apiServiceType,jr.docTranslatorServiceType,jr.accountId,qr.hasTermbaseService])}))}function tS(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([jr.accountId,"a_t",jr.idToken]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=Ly(e.a_t),n=Ly(e[jr.idToken]);return t.sub||n.sub}}))}function nS(){return Fe(this,arguments,void 0,(function*(e=jr.translatorServiceType){const t=yield eS(),n=!!t.accountId,r=t[e];return n?r===Xn?ut:dt:lt}))}function rS(e){return Fe(this,void 0,void 0,(function*(){const t=yield chrome.storage.local.get([jr.translatorServiceType,jr.writeServiceType,jr.apiServiceType,jr.docTranslatorServiceType,jr.isLoggedIn]);return Yr(t,e)}))}function oS(){return Fe(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([jr.translatorServiceType,jr.writeServiceType,jr.apiServiceType,jr.docTranslatorServiceType,jr.isLoggedIn])}))}const iS=["requireLogin","suggestIdp"],aS=()=>Fe(void 0,void 0,void 0,(function*(){const e=yield Fe(void 0,void 0,void 0,(function*(){try{return yield chrome.storage.managed.get(iS)}catch(e){return}}));if(void 0===e)return;const{isLoggedIn:t}=yield eS();if(e.requireLogin&&!t)throw new ky}));function sS(e){const t=e-1;return t*t*t+1}function cS(e,{delay:t=0,duration:n=400,easing:r=sS,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(e),c=+s.opacity,l="none"===s.transform?"":s.transform,u=c*(1-a),[d,p]=v(o),[h,f]=v(i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*d}${p}, ${(1-e)*h}${f});\n\t\t\topacity: ${c-u*t}`}}function lS(e,{isShadow:t=!1,exceptions:n=[]}={}){const r=r=>{const o=t?r.composedPath()[0]:r.target;!e||e.contains(o)||r.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(o,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}}function uS(e){document.addEventListener("deepl-reset-event",e)}const dS="DEVELOPER_TOOLS",pS="SETTINGS_PAGE",hS="SETTINGS_GLOSSARY";function fS(t){let n,r,i,a,s=t[1]&&mS(t),c=t[2]&&vS(t);return{c(){s&&s.c(),n=N(),r=O("div"),c&&c.c(),U(r,"class","user-icon svelte-m8fsmk"),U(r,"data-testid","user-menu-icon")},m(e,o){s&&s.m(e,o),x(e,n,o),x(e,r,o),c&&c.m(r,null),i||(a=[m(lS.call(null,r)),$(r,"click_outside",t[14]),$(r,"mousedown",D(M(t[10]))),$(r,"click",t[15])],i=!0)},p(e,t){e[1]?s?s.p(e,t):(s=mS(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),e[2]?c?(c.p(e,t),4&t&&Ae(c,1)):(c=vS(e),c.c(),Ae(c,1),c.m(r,null)):c&&(c.d(1),c=null)},i(e){Ae(c)},o:e,d(e){e&&(k(n),k(r)),s&&s.d(e),c&&c.d(),i=!1,o(a)}}}function gS(t){let n,r,i;return{c(){n=O("button"),n.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,U(n,"class","user-action-button svelte-m8fsmk")},m(e,o){x(e,n,o),r||(i=[$(n,"mousedown",M(t[9])),$(n,"click",t[12])],r=!0)},p:e,i:e,o:e,d(e){e&&k(n),r=!1,o(i)}}}function mS(t){let n,r,i;return{c(){n=O("button"),n.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,U(n,"class","user-action-button svelte-m8fsmk")},m(e,o){x(e,n,o),r||(i=[$(n,"mousedown",M(t[11])),$(n,"click",t[13])],r=!0)},p:e,d(e){e&&k(n),r=!1,o(i)}}}function vS(t){let n,r,o,i;return{c(){n=O("div"),n.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,U(n,"class","user-menu svelte-m8fsmk")},m(e,r){x(e,n,r),o||(i=$(n,"click",t[6]),o=!0)},p:e,i(e){r||pe((()=>{r=ke(n,cS,{y:-5,duration:500}),r.start()}))},o:e,d(e){e&&k(n),o=!1,i()}}}function yS(t){let n,r,i,a,s,c,l,u;function d(e,t){return e[0]?fS:gS}let p=d(t),h=p(t);return{c(){n=O("div"),r=O("button"),i=N(),a=O("div"),h.c(),s=N(),c=O("button"),U(r,"class","dl-logo svelte-m8fsmk"),U(r,"data-testid","deepl-logo"),U(r,"aria-label",chrome.i18n.getMessage("deepl_logo")),U(c,"class","dl-settings-icon svelte-m8fsmk"),U(c,"data-qa","deepl-layour-header-settings-link"),U(c,"aria-label",chrome.i18n.getMessage("menu_open_settings")),U(a,"class","action-container svelte-m8fsmk"),U(n,"class","dl-header svelte-m8fsmk")},m(e,o){x(e,n,o),E(n,r),E(n,i),E(n,a),h.m(a,null),E(a,s),E(a,c),l||(u=[$(r,"click",t[3]),$(c,"click",t[4])],l=!0)},p(e,[t]){p===(p=d(e))&&h?h.p(e,t):(h.d(1),h=p(e),h&&(h.c(),Ae(h,1),h.m(a,s)))},i(e){Ae(h)},o:e,d(e){e&&k(n),h.d(),l=!1,o(u)}}}function _S(e,t,n){let{isLoggedIn:r=!1}=t,{showUpgradeButton:o=!1}=t,{isProTranslator:i=!1}=t,a=!1;function s(){Ir({action:br.dlRequestLogin}),F_(fn)}function c(){const e=i?Yy:zy;Ir({action:Ar.dlExternalURLRedirect,payload:{destination:e,utmContent:"sidePanel"}}),F_(vn)}return e.$$set=e=>{"isLoggedIn"in e&&n(0,r=e.isLoggedIn),"showUpgradeButton"in e&&n(1,o=e.showUpgradeButton),"isProTranslator"in e&&n(8,i=e.isProTranslator)},[r,o,a,function(){let e=Xy;Ir({action:Tr.dlTrackLogoClickedEvent,payload:{extensionContext:"sidePanel"}}),Ir({action:Ar.dlExternalURLRedirect,payload:{destination:e,utmContent:"sidePanel"}})},function(){Ir({action:Ar.dlOpenInternalPage,payload:{destination:pS}}),F_(gn)},s,function(){Ir({action:br.dlRequestLogout}),F_(mn)},c,i,function(t){ie.call(this,e,t)},function(t){ie.call(this,e,t)},function(t){ie.call(this,e,t)},()=>{s()},()=>{c()},()=>n(2,a=!1),()=>n(2,a=!a)]}class SS extends De{constructor(e){super(),Me(this,e,_S,yS,a,{isLoggedIn:0,showUpgradeButton:1,isProTranslator:8})}}function bS(e){let t,n;return{c(){t=R("svg"),n=R("path"),U(n,"fill-rule","evenodd"),U(n,"clip-rule","evenodd"),U(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),U(n,"fill","#007E5E"),U(t,"width","16"),U(t,"height","17"),U(t,"viewBox","0 0 16 17"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){x(e,t,r),E(t,n)},d(e){e&&k(t)}}}function wS(e){let t,n;return{c(){t=R("svg"),n=R("path"),U(n,"fill-rule","evenodd"),U(n,"clip-rule","evenodd"),U(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),U(n,"fill","white"),U(t,"width","16"),U(t,"height","17"),U(t,"viewBox","0 0 16 17"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){x(e,t,r),E(t,n)},d(e){e&&k(t)}}}function TS(t){let n;function r(e,t){return e[0]?wS:bS}let o=r(t),i=o(t);return{c(){i.c(),n=L()},m(e,t){i.m(e,t),x(e,n,t)},p(e,[t]){o!==(o=r(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){e&&k(n),i.d(e)}}}function ES(e,t,n){let{isActive:r}=t;return e.$$set=e=>{"isActive"in e&&n(0,r=e.isActive)},[r]}class AS extends De{constructor(e){super(),Me(this,e,ES,TS,a,{isActive:0})}}function IS(e){let t,n;return t=new AS({}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function xS(e){let t,n,r,o,i,a,s,c,l=e[0]&&IS();return{c(){t=O("div"),n=O("div"),r=N(),o=O("span"),o.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,i=N(),l&&l.c(),U(n,"class","translate-icon svelte-wsox0h"),U(o,"class","svelte-wsox0h"),U(t,"class","container svelte-wsox0h")},m(u,d){x(u,t,d),E(t,n),E(t,r),E(t,o),E(t,i),l&&l.m(t,null),a=!0,s||(c=$(t,"click",e[1]),s=!0)},p(e,[n]){e[0]?l?1&n&&Ae(l,1):(l=IS(),l.c(),Ae(l,1),l.m(t,null)):l&&(Te(),Ie(l,1,1,(()=>{l=null})),Ee())},i(e){a||(Ae(l),a=!0)},o(e){Ie(l),a=!1},d(e){e&&k(t),l&&l.d(),s=!1,c()}}}function kS(e,t,n){let{isProTranslator:r=!1}=t;return e.$$set=e=>{"isProTranslator"in e&&n(0,r=e.isProTranslator)},[r,()=>F_(yn)]}class CS extends De{constructor(e){super(),Me(this,e,kS,xS,a,{isProTranslator:0})}}const OS=e=>({}),RS=e=>({}),PS=e=>({}),NS=e=>({});function LS(e){let t,n,r,o,i,a,s,c,u,f;r=new SS({props:{isLoggedIn:e[1],showUpgradeButton:e[2],isProTranslator:e[0]}}),i=new CS({props:{isProTranslator:e[0]}});const g=e[4]["main-content"],m=l(g,e,e[3],NS),v=e[4].footer,y=l(v,e,e[3],RS);return{c(){t=O("div"),n=O("header"),Pe(r.$$.fragment),o=N(),Pe(i.$$.fragment),a=N(),s=O("main"),m&&m.c(),c=N(),u=O("footer"),y&&y.c(),U(n,"class","header svelte-1kyh4fl"),U(s,"class","main-content svelte-1kyh4fl"),U(u,"class","footer svelte-1kyh4fl"),U(t,"class","layout svelte-1kyh4fl")},m(e,l){x(e,t,l),E(t,n),Ne(r,n,null),E(t,o),Ne(i,t,null),E(t,a),E(t,s),m&&m.m(s,null),E(t,c),E(t,u),y&&y.m(u,null),f=!0},p(e,[t]){const n={};2&t&&(n.isLoggedIn=e[1]),4&t&&(n.showUpgradeButton=e[2]),1&t&&(n.isProTranslator=e[0]),r.$set(n);const o={};1&t&&(o.isProTranslator=e[0]),i.$set(o),m&&m.p&&(!f||8&t)&&p(m,g,e,e[3],f?d(g,e[3],t,PS):h(e[3]),NS),y&&y.p&&(!f||8&t)&&p(y,v,e,e[3],f?d(v,e[3],t,OS):h(e[3]),RS)},i(e){f||(Ae(r.$$.fragment,e),Ae(i.$$.fragment,e),Ae(m,e),Ae(y,e),f=!0)},o(e){Ie(r.$$.fragment,e),Ie(i.$$.fragment,e),Ie(m,e),Ie(y,e),f=!1},d(e){e&&k(t),Le(r),Le(i),m&&m.d(e),y&&y.d(e)}}}function $S(e,t,n){let{$$slots:r={},$$scope:o}=t,{isProTranslator:i=!1}=t,{isLoggedIn:a=!1}=t,{showUpgradeButton:s=!1}=t;return e.$$set=e=>{"isProTranslator"in e&&n(0,i=e.isProTranslator),"isLoggedIn"in e&&n(1,a=e.isLoggedIn),"showUpgradeButton"in e&&n(2,s=e.showUpgradeButton),"$$scope"in e&&n(3,o=e.$$scope)},[i,a,s,o,r]}class MS extends De{constructor(e){super(),Me(this,e,$S,LS,a,{isProTranslator:0,isLoggedIn:1,showUpgradeButton:2})}}function DS(e){let t,n;const r=e[12].default,o=l(r,e,e[11],null);return{c(){t=O("div"),o&&o.c()},m(e,r){x(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2048&t)&&p(o,r,e,e[11],n?d(r,e[11],t,null):h(e[11]),null)},i(e){n||(Ae(o,e),n=!0)},o(e){Ie(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function US(e){let t,n,r;const o=e[12].default,i=l(o,e,e[11],null);return{c(){t=O("div"),i&&i.c(),U(t,"data-tooltip",e[0]),U(t,"style",n=`z-index: ${e[2]}; ${e[6]}`),U(t,"class","svelte-1a71ske"),q(t,"multiline",e[1]),q(t,"isFlexItem",e[4]),q(t,"isRTL",e[7]),q(t,"showProShield",e[5])},m(e,n){x(e,t,n),i&&i.m(t,null),r=!0},p(e,a){i&&i.p&&(!r||2048&a)&&p(i,o,e,e[11],r?d(o,e[11],a,null):h(e[11]),null),(!r||1&a)&&U(t,"data-tooltip",e[0]),(!r||68&a&&n!==(n=`z-index: ${e[2]}; ${e[6]}`))&&U(t,"style",n),(!r||2&a)&&q(t,"multiline",e[1]),(!r||16&a)&&q(t,"isFlexItem",e[4]),(!r||128&a)&&q(t,"isRTL",e[7]),(!r||32&a)&&q(t,"showProShield",e[5])},i(e){r||(Ae(i,e),r=!0)},o(e){Ie(i,e),r=!1},d(e){e&&k(t),i&&i.d(e)}}}function VS(e){let t,n,r,o;const i=[US,DS],a=[];function s(e,t){return e[3]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,[o]){let c=t;t=s(e),t===c?a[t].p(e,o):(Te(),Ie(a[c],1,1,(()=>{a[c]=null})),Ee(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){o||(Ae(n),o=!0)},o(e){Ie(n),o=!1},d(e){e&&k(r),a[t].d(e)}}}function FS(e,t,n){let r,o,{$$slots:i={},$$scope:a}=t;const{deepl_inline_ui:s}=ft;let{tooltip:c=!1}=t,{multiline:l=!1}=t,{zIndex:u=s.z_index}=t,{isEnabled:d=!0}=t,{isFlexItem:p=!1}=t,{width:h=null}=t,{parentIsRTL:f=!1}=t,{ignoreTextDirection:g=!1}=t,{showProShield:m=!1}=t;return e.$$set=e=>{"tooltip"in e&&n(0,c=e.tooltip),"multiline"in e&&n(1,l=e.multiline),"zIndex"in e&&n(2,u=e.zIndex),"isEnabled"in e&&n(3,d=e.isEnabled),"isFlexItem"in e&&n(4,p=e.isFlexItem),"width"in e&&n(8,h=e.width),"parentIsRTL"in e&&n(9,f=e.parentIsRTL),"ignoreTextDirection"in e&&n(10,g=e.ignoreTextDirection),"showProShield"in e&&n(5,m=e.showProShield),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(7,r=f||!g&&"rtl"===$r()),256&e.$$.dirty&&n(6,o=h?`width: ${h}px`:"")},[c,l,u,d,p,m,o,r,h,f,g,a,i]}class GS extends De{constructor(e){super(),Me(this,e,FS,VS,a,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:8,parentIsRTL:9,ignoreTextDirection:10,showProShield:5})}}function jS(e){let t,n,r,o,i;const a=e[7].default,s=l(a,e,e[6],null);return{c(){t=O("div"),s&&s.c(),n=N(),r=O("span"),o=P(e[0]),U(r,"style",e[4]),U(r,"class","tooltiptext svelte-2vtihy"),q(r,"position-below","below"===e[2]),U(t,"class","tooltip svelte-2vtihy"),U(t,"z-index",e[3]),q(t,"align-start","start"===e[1]),q(t,"align-center","center"===e[1]),q(t,"align-end","end"===e[1])},m(e,a){x(e,t,a),s&&s.m(t,null),E(t,n),E(t,r),E(r,o),i=!0},p(e,[n]){s&&s.p&&(!i||64&n)&&p(s,a,e,e[6],i?d(a,e[6],n,null):h(e[6]),null),(!i||1&n)&&V(o,e[0]),(!i||16&n)&&U(r,"style",e[4]),(!i||4&n)&&q(r,"position-below","below"===e[2]),(!i||8&n)&&U(t,"z-index",e[3]),(!i||2&n)&&q(t,"align-start","start"===e[1]),(!i||2&n)&&q(t,"align-center","center"===e[1]),(!i||2&n)&&q(t,"align-end","end"===e[1])},i(e){i||(Ae(s,e),i=!0)},o(e){Ie(s,e),i=!1},d(e){e&&k(t),s&&s.d(e)}}}function qS(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{text:a=""}=t,{alignment:s="center"}=t,{position:c="above"}=t,{zIndex:l="99999"}=t,{width:u=120}=t;return e.$$set=e=>{"text"in e&&n(0,a=e.text),"alignment"in e&&n(1,s=e.alignment),"position"in e&&n(2,c=e.position),"zIndex"in e&&n(3,l=e.zIndex),"width"in e&&n(5,u=e.width),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{34&e.$$.dirty&&n(4,r="expanded"!==s?"center"===s?`width: ${u}px; margin-left:-${u/2+12}px;`:`width: ${u}px;`:"")},[a,s,c,l,r,u,i,o]}class BS extends De{constructor(e){super(),Me(this,e,qS,jS,a,{text:0,alignment:1,position:2,zIndex:3,width:5})}}function WS(){return!!chrome&&!!chrome.tabs}const{entries:HS,setPrototypeOf:JS,isFrozen:zS,getPrototypeOf:YS,getOwnPropertyDescriptor:XS}=Object;
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:KS,seal:QS,create:ZS}=Object,{apply:eb,construct:tb}="undefined"!=typeof Reflect&&Reflect;KS||(KS=function(e){return e}),QS||(QS=function(e){return e}),eb||(eb=function(e,t,n){return e.apply(t,n)}),tb||(tb=function(e,t){return new e(...t)});const nb=vb(Array.prototype.forEach),rb=vb(Array.prototype.lastIndexOf),ob=vb(Array.prototype.pop),ib=vb(Array.prototype.push),ab=vb(Array.prototype.splice),sb=vb(String.prototype.toLowerCase),cb=vb(String.prototype.toString),lb=vb(String.prototype.match),ub=vb(String.prototype.replace),db=vb(String.prototype.indexOf),pb=vb(String.prototype.trim),hb=vb(Object.prototype.hasOwnProperty),fb=vb(RegExp.prototype.test),gb=(mb=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(mb,t)});var mb;function vb(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return eb(e,t,r)}}function yb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sb;JS&&JS(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(zS(t)||(t[r]=e),o=e)}e[o]=!0}return e}function _b(e){for(let t=0;t<e.length;t++){hb(e,t)||(e[t]=null)}return e}function Sb(e){const t=ZS(null);for(const[n,r]of HS(e)){hb(e,n)&&(Array.isArray(r)?t[n]=_b(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Sb(r):t[n]=r)}return t}function bb(e,t){for(;null!==e;){const n=XS(e,t);if(n){if(n.get)return vb(n.get);if("function"==typeof n.value)return vb(n.value)}e=YS(e)}return function(){return null}}const wb=KS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Tb=KS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Eb=KS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ab=KS(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ib=KS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xb=KS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),kb=KS(["#text"]),Cb=KS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ob=KS(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rb=KS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pb=KS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Nb=QS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Lb=QS(/<%[\w\W]*|[\w\W]*%>/gm),$b=QS(/\$\{[\w\W]*/gm),Mb=QS(/^data-[\-\w.\u00B7-\uFFFF]+$/),Db=QS(/^aria-[\-\w]+$/),Ub=QS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vb=QS(/^(?:\w+script|data):/i),Fb=QS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gb=QS(/^html$/i),jb=QS(/^[a-z][.\w]*(-[.\w]+)+$/i);var qb=Object.freeze({__proto__:null,ARIA_ATTR:Db,ATTR_WHITESPACE:Fb,CUSTOM_ELEMENT:jb,DATA_ATTR:Mb,DOCTYPE_NAME:Gb,ERB_EXPR:Lb,IS_ALLOWED_URI:Ub,IS_SCRIPT_OR_DATA:Vb,MUSTACHE_EXPR:Nb,TMPLIT_EXPR:$b});const Bb=1,Wb=3,Hb=7,Jb=8,zb=9,Yb=function(){return"undefined"==typeof window?null:window};var Xb=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yb();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==zb||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const o=r,i=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:c,Element:l,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:f}=t,g=l.prototype,m=bb(g,"cloneNode"),v=bb(g,"remove"),y=bb(g,"nextSibling"),_=bb(g,"childNodes"),S=bb(g,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let b,w="";const{implementation:T,createNodeIterator:E,createDocumentFragment:A,getElementsByTagName:I}=r,{importNode:x}=o;let k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof HS&&"function"==typeof S&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:C,ERB_EXPR:O,TMPLIT_EXPR:R,DATA_ATTR:P,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:M}=qb;let{IS_ALLOWED_URI:D}=qb,U=null;const V=yb({},[...wb,...Tb,...Eb,...Ib,...kb]);let F=null;const G=yb({},[...Cb,...Ob,...Rb,...Pb]);let j=Object.seal(ZS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,B=null,W=!0,H=!0,J=!1,z=!0,Y=!1,X=!0,K=!1,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!1,ie=!0,ae=!1,se={},ce=null;const le=yb({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=yb({},["audio","video","img","source","image","track"]);let pe=null;const he=yb({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml";let ve=me,ye=!1,_e=null;const Se=yb({},[fe,ge,me],cb);let be=yb({},["mi","mo","mn","ms","mtext"]),we=yb({},["annotation-xml"]);const Te=yb({},["title","style","font","a","script"]);let Ee=null;const Ae=["application/xhtml+xml","text/html"];let Ie=null,xe=null;const ke=r.createElement("form"),Ce=function(e){return e instanceof RegExp||e instanceof Function},Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!xe||xe!==e){if(e&&"object"==typeof e||(e={}),e=Sb(e),Ee=-1===Ae.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ie="application/xhtml+xml"===Ee?cb:sb,U=hb(e,"ALLOWED_TAGS")?yb({},e.ALLOWED_TAGS,Ie):V,F=hb(e,"ALLOWED_ATTR")?yb({},e.ALLOWED_ATTR,Ie):G,_e=hb(e,"ALLOWED_NAMESPACES")?yb({},e.ALLOWED_NAMESPACES,cb):Se,pe=hb(e,"ADD_URI_SAFE_ATTR")?yb(Sb(he),e.ADD_URI_SAFE_ATTR,Ie):he,ue=hb(e,"ADD_DATA_URI_TAGS")?yb(Sb(de),e.ADD_DATA_URI_TAGS,Ie):de,ce=hb(e,"FORBID_CONTENTS")?yb({},e.FORBID_CONTENTS,Ie):le,q=hb(e,"FORBID_TAGS")?yb({},e.FORBID_TAGS,Ie):{},B=hb(e,"FORBID_ATTR")?yb({},e.FORBID_ATTR,Ie):{},se=!!hb(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,H=!1!==e.ALLOW_DATA_ATTR,J=e.ALLOW_UNKNOWN_PROTOCOLS||!1,z=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,D=e.ALLOWED_URI_REGEXP||Ub,ve=e.NAMESPACE||me,be=e.MATHML_TEXT_INTEGRATION_POINTS||be,we=e.HTML_INTEGRATION_POINTS||we,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(H=!1),te&&(ee=!0),se&&(U=yb({},kb),F=[],!0===se.html&&(yb(U,wb),yb(F,Cb)),!0===se.svg&&(yb(U,Tb),yb(F,Ob),yb(F,Pb)),!0===se.svgFilters&&(yb(U,Eb),yb(F,Ob),yb(F,Pb)),!0===se.mathMl&&(yb(U,Ib),yb(F,Rb),yb(F,Pb))),e.ADD_TAGS&&(U===V&&(U=Sb(U)),yb(U,e.ADD_TAGS,Ie)),e.ADD_ATTR&&(F===G&&(F=Sb(F)),yb(F,e.ADD_ATTR,Ie)),e.ADD_URI_SAFE_ATTR&&yb(pe,e.ADD_URI_SAFE_ATTR,Ie),e.FORBID_CONTENTS&&(ce===le&&(ce=Sb(ce)),yb(ce,e.FORBID_CONTENTS,Ie)),ie&&(U["#text"]=!0),K&&yb(U,["html","head","body"]),U.table&&(yb(U,["tbody"]),delete q.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw gb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw gb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,w=b.createHTML("")}else void 0===b&&(b=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,i)),null!==b&&"string"==typeof w&&(w=b.createHTML(""));KS&&KS(e),xe=e}},Re=yb({},[...Tb,...Eb,...Ab]),Pe=yb({},[...Ib,...xb]),Ne=function(e){ib(n.removed,{element:e});try{S(e).removeChild(e)}catch(t){v(e)}},Le=function(e,t){try{ib(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ib(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Ne(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},$e=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=lb(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ee&&ve===me&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=b?b.createHTML(e):e;if(ve===me)try{t=(new h).parseFromString(o,Ee)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(ve,"template",null);try{t.documentElement.innerHTML=ye?w:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ve===me?I.call(t,K?"html":"body")[0]:K?t.documentElement:i},Me=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},De=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ue=function(e){return"function"==typeof c&&e instanceof c};function Ve(e,t,r){nb(e,(e=>{e.call(n,t,r,xe)}))}const Fe=function(e){let t=null;if(Ve(k.beforeSanitizeElements,e,null),De(e))return Ne(e),!0;const r=Ie(e.nodeName);if(Ve(k.uponSanitizeElement,e,{tagName:r,allowedTags:U}),e.hasChildNodes()&&!Ue(e.firstElementChild)&&fb(/<[/\w]/g,e.innerHTML)&&fb(/<[/\w]/g,e.textContent))return Ne(e),!0;if(e.nodeType===Hb)return Ne(e),!0;if(X&&e.nodeType===Jb&&fb(/<[/\w]/g,e.data))return Ne(e),!0;if(!U[r]||q[r]){if(!q[r]&&je(r)){if(j.tagNameCheck instanceof RegExp&&fb(j.tagNameCheck,r))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(r))return!1}if(ie&&!ce[r]){const t=S(e)||e.parentNode,n=_(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const o=m(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,y(e))}}}return Ne(e),!0}return e instanceof l&&!function(e){let t=S(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=sb(e.tagName),r=sb(t.tagName);return!!_e[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===me?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||be[r]):Boolean(Re[n]):e.namespaceURI===fe?t.namespaceURI===me?"math"===n:t.namespaceURI===ge?"math"===n&&we[r]:Boolean(Pe[n]):e.namespaceURI===me?!(t.namespaceURI===ge&&!we[r])&&!(t.namespaceURI===fe&&!be[r])&&!Pe[n]&&(Te[n]||!Re[n]):!("application/xhtml+xml"!==Ee||!_e[e.namespaceURI]))}(e)?(Ne(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!fb(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&e.nodeType===Wb&&(t=e.textContent,nb([C,O,R],(e=>{t=ub(t,e," ")})),e.textContent!==t&&(ib(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ve(k.afterSanitizeElements,e,null),!1):(Ne(e),!0)},Ge=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in ke))return!1;if(H&&!B[t]&&fb(P,t));else if(W&&fb(N,t));else if(!F[t]||B[t]){if(!(je(e)&&(j.tagNameCheck instanceof RegExp&&fb(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&fb(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&fb(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(pe[t]);else if(fb(D,ub(n,$,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==db(n,"data:")||!ue[e]){if(J&&!fb(L,ub(n,$,"")));else if(n)return!1}else;return!0},je=function(e){return"annotation-xml"!==e&&lb(e,M)},qe=function(e){Ve(k.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||De(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let o=t.length;for(;o--;){const i=t[o],{name:a,namespaceURI:s,value:c}=i,l=Ie(a);let u="value"===a?c:pb(c);if(r.attrName=l,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Ve(k.uponSanitizeAttribute,e,r),u=r.attrValue,!oe||"id"!==l&&"name"!==l||(Le(a,e),u="user-content-"+u),X&&fb(/((--!?|])>)|<\/(style|title)/i,u)){Le(a,e);continue}if(r.forceKeepAttr)continue;if(Le(a,e),!r.keepAttr)continue;if(!z&&fb(/\/>/i,u)){Le(a,e);continue}Y&&nb([C,O,R],(e=>{u=ub(u,e," ")}));const d=Ie(e.nodeName);if(Ge(d,l,u)){if(b&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(s);else switch(f.getAttributeType(d,l)){case"TrustedHTML":u=b.createHTML(u);break;case"TrustedScriptURL":u=b.createScriptURL(u)}try{s?e.setAttributeNS(s,a,u):e.setAttribute(a,u),De(e)?Ne(e):ob(n.removed)}catch(e){}}}Ve(k.afterSanitizeAttributes,e,null)},Be=function e(t){let n=null;const r=Me(t);for(Ve(k.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Ve(k.uponSanitizeShadowNode,n,null),Fe(n),qe(n),n.content instanceof a&&e(n.content);Ve(k.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,l=null;if(ye=!e,ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ue(e)){if("function"!=typeof e.toString)throw gb("toString is not a function");if("string"!=typeof(e=e.toString()))throw gb("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Oe(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Ie(e.nodeName);if(!U[t]||q[t])throw gb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)r=$e("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),i.nodeType===Bb&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ee&&!Y&&!K&&-1===e.indexOf("<"))return b&&ne?b.createHTML(e):e;if(r=$e(e),!r)return ee?null:ne?w:""}r&&Z&&Ne(r.firstChild);const u=Me(ae?e:r);for(;s=u.nextNode();)Fe(s),qe(s),s.content instanceof a&&Be(s.content);if(ae)return e;if(ee){if(te)for(l=A.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(F.shadowroot||F.shadowrootmode)&&(l=x.call(o,l,!0)),l}let d=K?r.outerHTML:r.innerHTML;return K&&U["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&fb(Gb,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Y&&nb([C,O,R],(e=>{d=ub(d,e," ")})),b&&ne?b.createHTML(d):d},n.setConfig=function(){Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){xe=null,Q=!1},n.isValidAttribute=function(e,t,n){xe||Oe({});const r=Ie(e),o=Ie(t);return Ge(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&ib(k[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=rb(k[e],t);return-1===n?void 0:ab(k[e],n,1)[0]}return ob(k[e])},n.removeHooks=function(e){k[e]=[]},n.removeAllHooks=function(){k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Kb=(e,t={})=>Xb.sanitize(e,{USE_PROFILES:{html:!0},...t});function Qb(e,t,n){const r=e.slice();return r[46]=t[n],r[48]=n,r}function Zb(t){let n,r,o,i=Oe(t[3]),a=[];for(let e=0;e<i.length;e+=1)a[e]=nw(Qb(t,i,e));return{c(){n=O("ul");for(let e=0;e<a.length;e+=1)a[e].c();U(n,"id","dropdown_list"),U(n,"role","listbox"),U(n,"aria-labelledby","dropdown_option"),U(n,"tabindex","-1"),U(n,"style",r="up"===t[12]?"bottom: 30px":`height: ${t[16].height}; top: ${t[16].top};`),U(n,"data-qa",t[6]),U(n,"class","svelte-1tk603q"),q(n,"alternate-dropdown-list","sm"===t[8]),q(n,"align-right",t[9])},m(e,r){x(e,n,r);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(n,null);t[37](n)},p(e,t){if(4726795&t[0]){let r;for(i=Oe(e[3]),r=0;r<i.length;r+=1){const o=Qb(e,i,r);a[r]?a[r].p(o,t):(a[r]=nw(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}69632&t[0]&&r!==(r="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`)&&U(n,"style",r),64&t[0]&&U(n,"data-qa",e[6]),256&t[0]&&q(n,"alternate-dropdown-list","sm"===e[8]),512&t[0]&&q(n,"align-right",e[9])},i(e){o||pe((()=>{o=ke(n,cS,{y:-5,duration:500}),o.start()}))},o:e,d(e){e&&k(n),C(a,e),t[37](null)}}}function ew(e){let t,n=e[46].label+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){8&r[0]&&n!==(n=e[46].label+"")&&V(t,n)},d(e){e&&k(t)}}}function tw(e){let t,n,r=Kb(e[46].label)+"";return{c(){t=new W(!1),n=L(),t.a=n},m(e,o){t.m(r,e,o),x(e,n,o)},p(e,n){8&n[0]&&r!==(r=Kb(e[46].label)+"")&&t.p(r)},d(e){e&&(k(n),t.d())}}}function nw(e){let t,n,r,i,a,s,c;function l(e,t){return e[13]?tw:ew}let u=l(e),d=u(e);function p(){return e[36](e[46])}return{c(){t=O("li"),d.c(),n=N(),U(t,"role","option"),U(t,"data-option-value",r=e[46].value),U(t,"data-option-regionalvariant",i=e[46].regionalVariant),U(t,"aria-selected",a=e[0]===e[46]),U(t,"class","svelte-1tk603q"),q(t,"selected",e[0]===e[46]),q(t,"keyboardSelected",e[48]===e[19])},m(r,o){x(r,t,o),d.m(t,null),E(t,n),s||(c=[$(t,"click",p),$(t,"mousedown",D(M(e[33])))],s=!0)},p(o,s){u===(u=l(e=o))&&d?d.p(e,s):(d.d(1),d=u(e),d&&(d.c(),d.m(t,n))),8&s[0]&&r!==(r=e[46].value)&&U(t,"data-option-value",r),8&s[0]&&i!==(i=e[46].regionalVariant)&&U(t,"data-option-regionalvariant",i),9&s[0]&&a!==(a=e[0]===e[46])&&U(t,"aria-selected",a),9&s[0]&&q(t,"selected",e[0]===e[46]),524288&s[0]&&q(t,"keyboardSelected",e[48]===e[19])},d(e){e&&k(t),d.d(),s=!1,o(c)}}}function rw(t){let n,r,i,a,s,c,l,u=t[1]&&Zb(t);return{c(){n=O("div"),r=O("button"),i=P(t[17]),a=N(),u&&u.c(),U(r,"aria-haspopup","listbox"),U(r,"id","dropdown_button"),U(r,"aria-labelledby","dropdown_option dropdown_button"),U(r,"aria-expanded",t[1]),U(r,"data-qa",t[5]),U(r,"data-testid",t[5]),U(r,"class","svelte-1tk603q"),q(r,"dropdown-label","original"===t[7]),q(r,"dropdown-label-alternate","alternate"===t[7]),q(r,"dropdown-label-zendesk","zendesk"===t[7]),q(r,"dropdown-label-input-selection-result","input-selection-result"===t[7]),q(r,"dropdown-label-full-width",t[10]),q(r,"dropdown-label-borderless",t[11]),q(r,"dropup","up"===t[12]),q(r,"extra-padding",t[14]),U(n,"class",s=f(`dropdown__wrapper ${t[4]}`)+" svelte-1tk603q"),U(n,"style",t[21]),q(n,"disabled",t[2])},m(e,o){x(e,n,o),E(n,r),E(r,i),t[35](r),E(n,a),u&&u.m(n,null),t[39](n),c||(l=[$(r,"click",t[23]),$(r,"mousedown",D(M(t[34]))),$(r,"keydown",t[24]),m(lS.call(null,n,{isShadow:!0})),$(n,"click_outside",t[38])],c=!0)},p(e,t){131072&t[0]&&V(i,e[17]),2&t[0]&&U(r,"aria-expanded",e[1]),32&t[0]&&U(r,"data-qa",e[5]),32&t[0]&&U(r,"data-testid",e[5]),128&t[0]&&q(r,"dropdown-label","original"===e[7]),128&t[0]&&q(r,"dropdown-label-alternate","alternate"===e[7]),128&t[0]&&q(r,"dropdown-label-zendesk","zendesk"===e[7]),128&t[0]&&q(r,"dropdown-label-input-selection-result","input-selection-result"===e[7]),1024&t[0]&&q(r,"dropdown-label-full-width",e[10]),2048&t[0]&&q(r,"dropdown-label-borderless",e[11]),4096&t[0]&&q(r,"dropup","up"===e[12]),16384&t[0]&&q(r,"extra-padding",e[14]),e[1]?u?(u.p(e,t),2&t[0]&&Ae(u,1)):(u=Zb(e),u.c(),Ae(u,1),u.m(n,null)):u&&(u.d(1),u=null),16&t[0]&&s!==(s=f(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q")&&U(n,"class",s),2097152&t[0]&&U(n,"style",e[21]),20&t[0]&&q(n,"disabled",e[2])},i(e){Ae(u)},o:e,d(e){e&&k(n),t[35](null),u&&u.d(),t[39](null),c=!1,o(l)}}}function ow(e,t,n){let{isOpen:r=!1}=t,{disabled:o=!1}=t,{items:i=[]}=t,{placeholder:a=""}=t,{customClass:s=""}=t,{selectedOption:c}=t,{defaultOption:l}=t,{dataQaButton:u="dl-dropdown-button"}=t,{dataQaList:d="dl-dropdown-list"}=t,{variant:p="original"}=t,{fontSize:h="default"}=t,{alignRight:f=!0}=t,{extraText:g=""}=t,{isFullWidth:m=!1}=t,{isBorderless:v=!1}=t,{direction:y="down"}=t,{allowLabelHtml:_=!1}=t,{showSortCode:S=!1}=t,{extraPadding:b=!1}=t,{dropdownMaxHeight:w=300}=t,{autoHeight:T=!1}=t;const E=oe("deepl_settings");let A,I,x,k,C,O=0,R={},P={},N={},L=-1,$="visibility: hidden; opacity:0; height:0;";const M=ne();function D(){R.spaceAbove=Math.abs(A.getBoundingClientRect().top),R.spaceBelow=Math.abs(window.innerHeight-A.getBoundingClientRect().bottom)}ee((()=>{setTimeout((()=>{n(21,$="")}),100),k=((e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}})(x,(({clientWidth:e})=>{n(31,O=e)}))})),te((()=>{k&&k()}));return e.$$set=e=>{"isOpen"in e&&n(1,r=e.isOpen),"disabled"in e&&n(2,o=e.disabled),"items"in e&&n(3,i=e.items),"placeholder"in e&&n(25,a=e.placeholder),"customClass"in e&&n(4,s=e.customClass),"selectedOption"in e&&n(0,c=e.selectedOption),"defaultOption"in e&&n(26,l=e.defaultOption),"dataQaButton"in e&&n(5,u=e.dataQaButton),"dataQaList"in e&&n(6,d=e.dataQaList),"variant"in e&&n(7,p=e.variant),"fontSize"in e&&n(8,h=e.fontSize),"alignRight"in e&&n(9,f=e.alignRight),"extraText"in e&&n(27,g=e.extraText),"isFullWidth"in e&&n(10,m=e.isFullWidth),"isBorderless"in e&&n(11,v=e.isBorderless),"direction"in e&&n(12,y=e.direction),"allowLabelHtml"in e&&n(13,_=e.allowLabelHtml),"showSortCode"in e&&n(28,S=e.showSortCode),"extraPadding"in e&&n(14,b=e.extraPadding),"dropdownMaxHeight"in e&&n(29,w=e.dropdownMaxHeight),"autoHeight"in e&&n(30,T=e.autoHeight)},e.$$.update=()=>{67108864&e.$$.dirty[0]&&l&&n(0,c=l),1&e.$$.dirty[0]|3&e.$$.dirty[1]&&(c&&((null==N?void 0:N.value)===(null==c?void 0:c.value)&&(null==N?void 0:N.regionalVariant)===(null==c?void 0:c.regionalVariant)||(n(32,N=c),M("valueselected",{selectedOption:c}))),O&&D()),436207617&e.$$.dirty[0]&&n(17,I=c?`${S?c.value:c.selectedOptionLabel}${g?` ${g}`:""}`:`${a}${g?` ${g}`:""}`)},[c,r,o,i,s,u,d,p,h,f,m,v,y,_,b,A,P,I,x,L,C,$,E,function(){"down"===y&&function(){if(T)return;if(D(),n(16,P.top="auto",P),n(16,P.height=`${w}px`,P),R.spaceBelow>R.spaceAbove)R.spaceBelow<=w&&n(16,P.height=Math.ceil(.8*R.spaceBelow)+"px",P);else{let e=w;R.spaceAbove<=w&&(e=Math.ceil(.8*R.spaceAbove)),n(16,P.height=`${e}px`,P),n(16,P.top="-"+(e+2)+"px",P)}}(),n(1,r=!r),function(){let e=A.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{null==e||e.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!r)return;if("ArrowUp"===e.key&&L>0)n(19,L-=1);else if("ArrowDown"===e.key&&L<i.length-1)n(19,L+=1);else if("Enter"===e.key&&-1!==L){const t=i[L];n(1,r=!1),n(0,c=t),n(19,L=-1),E.set({regionalVariant:t.regionalVariant||""}),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(1,r=!1),n(19,L=-1)}const t=i[L];var o=C.querySelector(`[data-option-value="${t.value}"]`).offsetTop-C.offsetTop;C.scrollTo({top:o,behavior:"smooth"})},a,l,g,S,w,T,O,N,function(t){ie.call(this,e,t)},function(t){ie.call(this,e,t)},function(e){se[e?"unshift":"push"]((()=>{A=e,n(15,A)}))},e=>{n(1,r=!1),n(0,c=e),n(19,L=-1),E.set({regionalVariant:e.regionalVariant||""})},function(e){se[e?"unshift":"push"]((()=>{C=e,n(20,C)}))},()=>{n(1,r=!1)},function(e){se[e?"unshift":"push"]((()=>{x=e,n(18,x)}))}]}class iw extends De{constructor(e){super(),Me(this,e,ow,rw,a,{isOpen:1,disabled:2,items:3,placeholder:25,customClass:4,selectedOption:0,defaultOption:26,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:27,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:28,extraPadding:14,dropdownMaxHeight:29,autoHeight:30},null,[-1,-1])}}function aw(e,t,n){const r=e.slice();return r[27]=t[n],r}function sw(e,t,n){const r=e.slice();return r[27]=t[n],r}function cw(e){let t,n,r,o,i;return n=new iw({props:{disabled:e[1],items:e[16],defaultOption:e[18],placeholder:e[17],dataQaButton:e[15],dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11],autoHeight:e[12]}}),n.$on("valueselected",e[20]),{c(){t=O("div"),Pe(n.$$.fragment)},m(a,s){x(a,t,s),Ne(n,t,null),r=!0,o||(i=$(t,"mousedown",D(M(e[25]))),o=!0)},p(e,t){const r={};2&t[0]&&(r.disabled=e[1]),65536&t[0]&&(r.items=e[16]),262144&t[0]&&(r.defaultOption=e[18]),131072&t[0]&&(r.placeholder=e[17]),32768&t[0]&&(r.dataQaButton=e[15]),8&t[0]&&(r.customClass=e[3]),32&t[0]&&(r.variant=e[5]),64&t[0]&&(r.fontSize=e[6]),128&t[0]&&(r.alignRight=e[7]),256&t[0]&&(r.isBorderless=e[8]),512&t[0]&&(r.showSortCode=e[9]),1024&t[0]&&(r.extraPadding=e[10]),2048&t[0]&&(r.dropdownMaxHeight=e[11]),4096&t[0]&&(r.autoHeight=e[12]),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),Le(n),o=!1,i()}}}function lw(t){let n,r,o,i,a,s;function c(e,t){return e[0]?pw:e[14]?dw:void 0}let l=c(t),u=l&&l(t),d=Oe(t[16]),p=[];for(let e=0;e<d.length;e+=1)p[e]=hw(aw(t,d,e));return{c(){n=O("div"),r=O("select"),u&&u.c(),o=L();for(let e=0;e<p.length;e+=1)p[e].c();U(r,"data-qa","deepl-language-selection"),U(r,"data-testid",t[15]),U(r,"aria-label","Select Language"),U(r,"class","svelte-1gzvenb"),U(n,"class",i=f("alternate"===t[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")},m(e,i){x(e,n,i),E(n,r),u&&u.m(r,null),E(r,o);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(r,null);j(r,t[2]),a||(s=$(r,"change",M(t[26])),a=!0)},p(e,t){if(l===(l=c(e))&&u?u.p(e,t):(u&&u.d(1),u=l&&l(e),u&&(u.c(),u.m(r,o))),65536&t[0]){let n;for(d=Oe(e[16]),n=0;n<d.length;n+=1){const o=aw(e,d,n);p[n]?p[n].p(o,t):(p[n]=hw(o),p[n].c(),p[n].m(r,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}65540&t[0]&&j(r,e[2]),32768&t[0]&&U(r,"data-testid",e[15]),32&t[0]&&i!==(i=f("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")&&U(n,"class",i)},i:e,o:e,d(e){e&&k(n),u&&u.d(),C(p,e),a=!1,s()}}}function uw(t){let n,r,o,i,a=Oe(t[16]),s=[];for(let e=0;e<a.length;e+=1)s[e]=fw(sw(t,a,e));return{c(){n=O("div"),r=O("select");for(let e=0;e<s.length;e+=1)s[e].c();r.disabled=!0,U(r,"data-qa","deepl-language-selection-readonly"),U(r,"aria-label","Select Language - dropdown disabled"),U(r,"class","svelte-1gzvenb"),U(n,"class","language-selector read-only svelte-1gzvenb")},m(e,a){x(e,n,a),E(n,r);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(r,null);j(r,t[2]),o||(i=$(r,"change",M(mw)),o=!0)},p(e,t){if(65536&t[0]){let n;for(a=Oe(e[16]),n=0;n<a.length;n+=1){const o=sw(e,a,n);s[n]?s[n].p(o,t):(s[n]=fw(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}65540&t[0]&&j(r,e[2])},i:e,o:e,d(e){e&&k(n),C(s,e),o=!1,i()}}}function dw(e){let t,n,r;return{c(){t=O("option"),n=P(e[14]),r=N(),t.__value=void 0,F(t,t.__value),U(t,"data-option-regionalvariant",void 0)},m(e,o){x(e,t,o),E(t,n),E(t,r)},p(e,t){16384&t[0]&&V(n,e[14])},d(e){e&&k(t)}}}function pw(t){let n,r,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){n=O("option"),r=P(i),o=N(),n.__value=void 0,F(n,n.__value),U(n,"data-option-regionalvariant",void 0)},m(e,t){x(e,n,t),E(n,r),E(n,o)},p:e,d(e){e&&k(n)}}}function hw(e){let t,n,r,o,i,a=e[27].label+"";return{c(){t=O("option"),n=P(a),r=N(),t.__value=o=e[27].value,F(t,t.__value),U(t,"data-option-regionalvariant",i=e[27].regionalVariant)},m(e,o){x(e,t,o),E(t,n),E(t,r)},p(e,r){65536&r[0]&&a!==(a=e[27].label+"")&&V(n,a),65536&r[0]&&o!==(o=e[27].value)&&(t.__value=o,F(t,t.__value)),65536&r[0]&&i!==(i=e[27].regionalVariant)&&U(t,"data-option-regionalvariant",i)},d(e){e&&k(t)}}}function fw(e){let t,n,r,o,i,a=e[27].label+"";return{c(){t=O("option"),n=P(a),r=N(),t.__value=o=e[27].value,F(t,t.__value),U(t,"data-option-regionalvariant",i=e[27].regionalVariant)},m(e,o){x(e,t,o),E(t,n),E(t,r)},p(e,r){65536&r[0]&&a!==(a=e[27].label+"")&&V(n,a),65536&r[0]&&o!==(o=e[27].value)&&(t.__value=o,F(t,t.__value)),65536&r[0]&&i!==(i=e[27].regionalVariant)&&U(t,"data-option-regionalvariant",i)},d(e){e&&k(t)}}}function gw(e){let t,n,r,o,i;const a=[uw,lw,cw],s=[];function c(e,n){return e[13]?0:(null==t&&(t=!!WS()),t?1:2)}return n=c(e),r=s[n]=a[n](e),{c(){r.c(),o=L()},m(e,t){s[n].m(e,t),x(e,o,t),i=!0},p(e,t){let i=n;n=c(e),n===i?s[n].p(e,t):(Te(),Ie(s[i],1,1,(()=>{s[i]=null})),Ee(),r=s[n],r?r.p(e,t):(r=s[n]=a[n](e),r.c()),Ae(r,1),r.m(o.parentNode,o))},i(e){i||(Ae(r),i=!0)},o(e){Ie(r),i=!1},d(e){e&&k(o),s[n].d(e)}}}const mw=()=>{};function vw(t,n,r){let o,i,a=e,c=()=>(a(),a=s(h,(e=>r(24,i=e))),h);t.$$.on_destroy.push((()=>a()));const l=ne();let{value:u}=n,{showChooseLanguageOption:d=!1}=n,{customClass:p=""}=n,{websiteSettings:h}=n;c();let f,g,{disabled:m=!1}=n,{variant:v="original"}=n,{fontSize:y="default"}=n,{alignRight:_=!1}=n,{isBorderless:S=!1}=n,{showSortCode:b=!1}=n,{extraPadding:w=!1}=n,{showRegionalVariants:T=!0}=n,{dropdownMaxHeight:E=300}=n,{onlyShowWriteEnabledLanguages:A=!1}=n,{autoHeight:I}=n,{readOnly:x=!1}=n,{placeholderText:k}=n,{dataQaButton:C="deepl-language-selection-button"}=n,{languages:O}=n;f=d?chrome.i18n.getMessage("supported_languages_undefined"):void 0,k&&(d=!1,f=k);return t.$$set=e=>{"value"in e&&r(2,u=e.value),"showChooseLanguageOption"in e&&r(0,d=e.showChooseLanguageOption),"customClass"in e&&r(3,p=e.customClass),"websiteSettings"in e&&c(r(4,h=e.websiteSettings)),"disabled"in e&&r(1,m=e.disabled),"variant"in e&&r(5,v=e.variant),"fontSize"in e&&r(6,y=e.fontSize),"alignRight"in e&&r(7,_=e.alignRight),"isBorderless"in e&&r(8,S=e.isBorderless),"showSortCode"in e&&r(9,b=e.showSortCode),"extraPadding"in e&&r(10,w=e.extraPadding),"showRegionalVariants"in e&&r(21,T=e.showRegionalVariants),"dropdownMaxHeight"in e&&r(11,E=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&r(22,A=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&r(12,I=e.autoHeight),"readOnly"in e&&r(13,x=e.readOnly),"placeholderText"in e&&r(14,k=e.placeholderText),"dataQaButton"in e&&r(15,C=e.dataQaButton),"languages"in e&&r(23,O=e.languages)},t.$$.update=()=>{14745600&t.$$.dirty[0]&&(O?r(16,g=O):(r(16,g=T?Nr():ze.filter((e=>!["PT-BR","EN-US","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?{...e,langCode:"EN"}:"PT-PT"===e.langCode?{...e,langCode:"PT"}:e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))),A&&r(16,g=g.filter((e=>{return t=e.value,Xe.includes(t?.substr(0,2).toUpperCase());var t}))))),65540&t.$$.dirty[0]&&r(18,o=u?g.find((e=>e.value===u)):void 0),16777216&t.$$.dirty[0]&&(i&&i.translationState===tt.ongoingTranslation?r(1,m=!0):i&&[tt.none,tt.isTranslationComplete].includes(i.translationState)&&r(1,m=!1))},[d,m,u,p,h,v,y,_,S,b,w,E,I,x,k,C,g,f,o,l,function(e){m||l("selection",e.detail)},T,A,O,i,function(e){ie.call(this,t,e)},e=>{if(m)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;l("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class yw extends De{constructor(e){super(),Me(this,e,vw,gw,a,{value:2,showChooseLanguageOption:0,customClass:3,websiteSettings:4,disabled:1,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:21,dropdownMaxHeight:11,onlyShowWriteEnabledLanguages:22,autoHeight:12,readOnly:13,placeholderText:14,dataQaButton:15,languages:23},null,[-1,-1])}}function _w(t){let n;return{c(){n=O("div"),U(n,"class","loader svelte-i1g3gv"),q(n,"small",t[0])},m(e,t){x(e,n,t)},p(e,[t]){1&t&&q(n,"small",e[0])},i:e,o:e,d(e){e&&k(n)}}}function Sw(e,t,n){let{small:r=!1}=t;return e.$$set=e=>{"small"in e&&n(0,r=e.small)},[r]}class bw extends De{constructor(e){super(),Me(this,e,Sw,_w,a,{small:0})}}const ww="ACCESS_DENIED",Tw="INVALID_REQUEST",Ew="INVALID_GRANT",Aw="GET_TOKEN_ERROR",Iw="INVALID_NONCE";class xw extends Error{constructor(e,t){super(e),this.name=Tw,this.message=e,this.httpStatusCode=t}}class kw extends Error{constructor(e,t){super(e),this.name=Ew,this.message=e,this.httpStatusCode=t}}class Cw extends Error{constructor(e,t){super(e),this.name=Aw,this.message=e,this.httpStatusCode=t}}const Ow="ITA_RATE_LIMITED",Rw="ITA_RATE_LIMITED_RESTRICTED",Pw="ITA_WRITE_LANGUAGE_NOT_SUPPORTED",Nw="ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",Lw="ITA_WRITE_GENERIC_ERROR",$w="ITA_TRANSLATE_GENERIC_ERROR",Mw="ITA_TOKEN_EXPIRED",Dw="802_quota_exceeded",Uw="800_rate_limited",Vw="801_rate_limited_restricted",Fw="1300_session_ended_internal_error",Gw="1301_session_ended_manual_eviction",jw="1600_session_ended_authentication_token_expired",qw="1601_missing_or_invalid_authentication",Bw="300_unsupported_session_mode",Ww="1200_obsolete_version_unavailable",Hw="1302_unhandled_internal_error",Jw="301_invalid_session_token",zw="302_invalid_session_version",Yw="303_unknown_session",Xw="305_invalid_participant_id",Kw="700_service_level_mismatch",Qw="900_multiple_invocations_forbidden",Zw="304_message_validation_failed";const eT="PROTOCOL_ERROR",tT="NETWORK_ERROR",nT="FULL_PAGE_SERVER_ERROR",rT="-32003",oT="429",iT="403",aT="401",sT="1045601",cT="1042902";class lT extends Error{constructor(e){super(e),this.name=eT,this.message=e}}class uT extends Error{constructor(e,t){super(t),this.name=e,this.message=t}}class dT extends Error{constructor(e){super(e),this.name=nT,this.message=e}}const pT=Or(!1);function hT(e){let t,n,r;return{c(){t=O("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',U(t,"class","dl-close-icon svelte-nsrzuc")},m(o,a){x(o,t,a),n||(r=$(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,r()}}}function fT(e){let t,n,r,o,i,a;const s=e[2].default,c=l(s,e,e[1],null);let u=e[0]&&hT(e);return{c(){t=O("div"),n=O("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=N(),o=O("div"),c&&c.c(),i=N(),u&&u.c(),U(n,"class","icon-container svelte-nsrzuc"),U(o,"class","message svelte-nsrzuc"),U(t,"class","error-msg svelte-nsrzuc")},m(e,s){x(e,t,s),E(t,n),E(t,r),E(t,o),c&&c.m(o,null),E(t,i),u&&u.m(t,null),a=!0},p(e,[n]){c&&c.p&&(!a||2&n)&&p(c,s,e,e[1],a?d(s,e[1],n,null):h(e[1]),null),e[0]?u?u.p(e,n):(u=hT(e),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i(e){a||(Ae(c,e),a=!0)},o(e){Ie(c,e),a=!1},d(e){e&&k(t),c&&c.d(e),u&&u.d()}}}function gT(e,t,n){let{$$slots:r={},$$scope:o}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class mT extends De{constructor(e){super(),Me(this,e,gT,fT,a,{close:0})}}function vT(e){let t,n,r;return{c(){t=O("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',U(t,"class","dl-close-icon svelte-kyufep")},m(o,a){x(o,t,a),n||(r=$(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,r()}}}function yT(e){let t,n,r,o,i,a;const s=e[2].default,c=l(s,e,e[1],null);let u=e[0]&&vT(e);return{c(){t=O("div"),n=O("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=N(),o=O("div"),c&&c.c(),i=N(),u&&u.c(),U(n,"class","icon-container svelte-kyufep"),U(o,"class","message svelte-kyufep"),U(t,"class","warn-msg svelte-kyufep")},m(e,s){x(e,t,s),E(t,n),E(t,r),E(t,o),c&&c.m(o,null),E(t,i),u&&u.m(t,null),a=!0},p(e,[n]){c&&c.p&&(!a||2&n)&&p(c,s,e,e[1],a?d(s,e[1],n,null):h(e[1]),null),e[0]?u?u.p(e,n):(u=vT(e),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i(e){a||(Ae(c,e),a=!0)},o(e){Ie(c,e),a=!1},d(e){e&&k(t),c&&c.d(e),u&&u.d()}}}function _T(e,t,n){let{$$slots:r={},$$scope:o}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class ST extends De{constructor(e){super(),Me(this,e,_T,yT,a,{close:0})}}function bT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,U(n,"data-qa","error-message-generic")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class wT extends De{constructor(e){super(),Me(this,e,null,bT,a,{})}}function TT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("error_message_generic_write_error")}`,U(n,"data-qa","error-message-generic")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class ET extends De{constructor(e){super(),Me(this,e,null,TT,a,{})}}function AT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class IT extends De{constructor(e){super(),Me(this,e,null,AT,a,{})}}function xT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class kT extends De{constructor(e){super(),Me(this,e,null,xT,a,{})}}function CT(t){let n,r,o,i,a,s;return{c(){n=O("div"),r=O("div"),r.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=N(),i=O("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,U(i,"class","link svelte-1mpkjv7"),U(n,"class","container svelte-1mpkjv7")},m(e,c){x(e,n,c),E(n,r),E(n,o),E(n,i),a||(s=$(i,"click",t[0]),a=!0)},p:e,i:e,o:e,d(e){e&&k(n),a=!1,s()}}}function OT(e){return[function(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:zy,utmContent:"warning_user_unauthorised"}})}]}class RT extends De{constructor(e){super(),Me(this,e,OT,CT,a,{})}}function PT(t){let n,r,o,i,a,s;return{c(){n=O("div"),r=O("div"),r.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=N(),i=O("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,U(i,"class","link svelte-1mpkjv7"),U(n,"class","container svelte-1mpkjv7")},m(e,c){x(e,n,c),E(n,r),E(n,o),E(n,i),a||(s=$(i,"click",t[0]),a=!0)},p:e,i:e,o:e,d(e){e&&k(n),a=!1,s()}}}function NT(e){return[function(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:zy,utmContent:"warning_user_blocked"}})}]}class LT extends De{constructor(e){super(),Me(this,e,NT,PT,a,{})}}function $T(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class MT extends De{constructor(e){super(),Me(this,e,null,$T,a,{})}}function DT(e,t,n){let r={block:"end",position:e.length};return t.forEach((t=>{const o=e.indexOf(`<${t}>`,n);o>-1&&o<r.position&&(r={block:t,position:o})})),[r.block,r.position]}function UT(e,t=[]){const n=[];let r=0,o=!1;for(;!o;){const[i,a]=DT(e,t,r);if("end"===i&&(o=!0),r<a&&n.push({block:"main",text:e.substring(r,a)}),o)break;const s=e.indexOf(`</${i}>`,a);-1===s?(n.push({block:i,text:e.substring(a+`<${i}>`.length)}),o=!0):(n.push({block:i,text:e.substring(a+`<${i}>`.length,s)}),r=s+`</${i}>`.length)}return n}function VT(e,t,n){const r=e.slice();return r[1]=t[n],r}function FT(t){let n,r=t[1].text+"";return{c(){n=P(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function GT(t){let n,r,o;return{c(){n=O("span"),n.textContent=`${t[1].text} `,U(n,"class","link svelte-1mpkjv7")},m(e,i){x(e,n,i),r||(o=$(n,"click",t[0]),r=!0)},p:e,d(e){e&&k(n),r=!1,o()}}}function jT(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?GT:FT}(e),r=n(e);return{c(){r.c(),t=L()},m(e,n){r.m(e,n),x(e,t,n)},p(e,t){r.p(e,t)},d(e){e&&k(t),r.d(e)}}}function qT(t){let n,r=Oe(UT(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let e=0;e<r.length;e+=1)o[e]=jT(VT(t,r,e));return{c(){n=O("div");for(let e=0;e<o.length;e+=1)o[e].c();U(n,"class","container svelte-1mpkjv7")},m(e,t){x(e,n,t);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,[t]){if(1&t){let i;for(r=Oe(UT(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),i=0;i<r.length;i+=1){const a=VT(e,r,i);o[i]?o[i].p(a,t):(o[i]=jT(a),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){e&&k(n),C(o,e)}}}function BT(e){return[function(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:Ky}})}]}class WT extends De{constructor(e){super(),Me(this,e,BT,qT,a,{})}}function HT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class JT extends De{constructor(e){super(),Me(this,e,null,HT,a,{})}}function zT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class YT extends De{constructor(e){super(),Me(this,e,null,zT,a,{})}}function XT(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class KT extends De{constructor(e){super(),Me(this,e,null,XT,a,{})}}function QT(e,t,n){const r=e.slice();return r[5]=t[n],r}function ZT(e){let t,n=e[5].text+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){4&r&&n!==(n=e[5].text+"")&&V(t,n)},d(e){e&&k(t)}}}function eE(e){let t,n,r=e[5].text+"";return{c(){t=O("strong"),n=P(r)},m(e,r){x(e,t,r),E(t,n)},p(e,t){4&t&&r!==(r=e[5].text+"")&&V(n,r)},d(e){e&&k(t)}}}function tE(e){let t;function n(e,t){return"strong"===e[5].block?eE:ZT}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function nE(e){let t,n,r,o;return{c(){t=R("svg"),n=R("path"),U(n,"d","M4 12L12 4M4 4L12 12"),U(n,"stroke","white"),U(n,"stroke-width","1.5"),U(n,"stroke-linecap","round"),U(n,"stroke-linejoin","round"),U(t,"width","16"),U(t,"height","16"),U(t,"viewBox","0 0 16 16"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"class","svelte-1mvy8b2")},m(a,s){x(a,t,s),E(t,n),r||(o=$(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&k(t),r=!1,o()}}}function rE(t){let n,r,i,a,s,c,l,u,d,p,h,f,g,m=Oe(UT(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",t[2]),["strong"])),v=[];for(let e=0;e<m.length;e+=1)v[e]=tE(QT(t,m,e));let y=t[1]&&nE(t);return{c(){n=O("div"),r=O("div"),i=O("h1"),i.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,a=N(),s=O("p");for(let e=0;e<v.length;e+=1)v[e].c();c=N(),l=O("div"),u=O("button"),u.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,d=N(),p=O("button"),p.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,h=N(),y&&y.c(),U(i,"class","svelte-1mvy8b2"),U(s,"class","description svelte-1mvy8b2"),U(r,"class","messages svelte-1mvy8b2"),q(r,"small",t[0].small),U(u,"class","log-in svelte-1mvy8b2"),U(p,"class","sign-up svelte-1mvy8b2"),U(l,"class","actions svelte-1mvy8b2"),q(l,"small",t[0].small),U(n,"class","container svelte-1mvy8b2"),U(n,"data-testid","error-message-anonymous-limit-exceeded"),q(n,"small",t[0].small)},m(e,o){x(e,n,o),E(n,r),E(r,i),E(r,a),E(r,s);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(s,null);E(n,c),E(n,l),E(l,u),E(l,d),E(l,p),E(n,h),y&&y.m(n,null),f||(g=[$(u,"click",t[3]),$(p,"click",t[4])],f=!0)},p(e,[t]){if(4&t){let n;for(m=Oe(UT(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),n=0;n<m.length;n+=1){const r=QT(e,m,n);v[n]?v[n].p(r,t):(v[n]=tE(r),v[n].c(),v[n].m(s,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=m.length}1&t&&q(r,"small",e[0].small),1&t&&q(l,"small",e[0].small),e[1]?y?y.p(e,t):(y=nE(e),y.c(),y.m(n,null)):y&&(y.d(1),y=null),1&t&&q(n,"small",e[0].small)},i:e,o:e,d(e){e&&k(n),C(v,e),y&&y.d(),f=!1,o(g)}}}function oE(e,t,n){let{config:r}=t,{close:o}=t,i="";return ee((()=>{Ir({action:br.dlGetUsersCharacterLimit}).then((e=>n(2,i=e.toString()))),Ir({action:Tr.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Qn}})})),te((()=>{Ir({action:Tr.dlTrackUpgradeNotificationClosed,payload:{type:Qn}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,i,function(){Ir({action:br.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:Qn,cta:rr}})},function(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:zy,utmContent:"notification_anonymous_user_limit_exceeded"}}),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:Qn,cta:or}})}]}class iE extends De{constructor(e){super(),Me(this,e,oE,rE,a,{config:0,close:1})}}function aE(e,t,n){const r=e.slice();return r[4]=t[n],r}function sE(e){let t,n=e[4].text+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){4&r&&n!==(n=e[4].text+"")&&V(t,n)},d(e){e&&k(t)}}}function cE(e){let t,n,r=e[4].text+"";return{c(){t=O("strong"),n=P(r)},m(e,r){x(e,t,r),E(t,n)},p(e,t){4&t&&r!==(r=e[4].text+"")&&V(n,r)},d(e){e&&k(t)}}}function lE(e){let t;function n(e,t){return"strong"===e[4].block?cE:sE}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function uE(e){let t,n,r,o;return{c(){t=R("svg"),n=R("path"),U(n,"d","M4 12L12 4M4 4L12 12"),U(n,"stroke","white"),U(n,"stroke-width","1.5"),U(n,"stroke-linecap","round"),U(n,"stroke-linejoin","round"),U(t,"width","16"),U(t,"height","16"),U(t,"viewBox","0 0 16 16"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"class","svelte-1i5r4eu")},m(a,s){x(a,t,s),E(t,n),r||(o=$(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&k(t),r=!1,o()}}}function dE(t){let n,r,o,i,a,s,c,l,u,d,p,h=Oe(UT(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",t[2]),["strong"])),f=[];for(let e=0;e<h.length;e+=1)f[e]=lE(aE(t,h,e));let g=t[1]&&uE(t);return{c(){n=O("div"),r=O("div"),o=O("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=N(),a=O("p");for(let e=0;e<f.length;e+=1)f[e].c();s=N(),c=O("div"),l=O("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,u=N(),g&&g.c(),U(o,"class","svelte-1i5r4eu"),U(a,"class","description svelte-1i5r4eu"),U(r,"class","messages svelte-1i5r4eu"),q(r,"small",t[0].small),U(l,"class","sign-up svelte-1i5r4eu"),U(c,"class","actions svelte-1i5r4eu"),q(c,"small",t[0].small),U(n,"class","container svelte-1i5r4eu"),U(n,"data-testid","error-message-limit-exceeded-free-account"),q(n,"small",t[0].small)},m(e,h){x(e,n,h),E(n,r),E(r,o),E(r,i),E(r,a);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(a,null);E(n,s),E(n,c),E(c,l),E(n,u),g&&g.m(n,null),d||(p=$(l,"click",t[3]),d=!0)},p(e,[t]){if(4&t){let n;for(h=Oe(UT(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),n=0;n<h.length;n+=1){const r=aE(e,h,n);f[n]?f[n].p(r,t):(f[n]=lE(r),f[n].c(),f[n].m(a,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}1&t&&q(r,"small",e[0].small),1&t&&q(c,"small",e[0].small),e[1]?g?g.p(e,t):(g=uE(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null),1&t&&q(n,"small",e[0].small)},i:e,o:e,d(e){e&&k(n),C(f,e),g&&g.d(),d=!1,p()}}}function pE(e,t,n){let{config:r}=t,{close:o}=t,i="";return ee((()=>{Ir({action:br.dlGetUsersCharacterLimit}).then((e=>n(2,i=e.toString()))),Ir({action:Tr.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Zn}})})),te((()=>{Ir({action:Tr.dlTrackUpgradeNotificationClosed,payload:{type:Zn}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,i,function(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:zy,utmContent:"notification_free_account_limit_exceeded"}}),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:Zn,cta:nr}})}]}class hE extends De{constructor(e){super(),Me(this,e,pE,dE,a,{config:0,close:1})}}function fE(e){let t,n,r,o;return{c(){t=R("svg"),n=R("path"),U(n,"d","M4 12L12 4M4 4L12 12"),U(n,"stroke","white"),U(n,"stroke-width","1.5"),U(n,"stroke-linecap","round"),U(n,"stroke-linejoin","round"),U(t,"width","16"),U(t,"height","16"),U(t,"viewBox","0 0 16 16"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"class","svelte-1uko7yn")},m(a,s){x(a,t,s),E(t,n),r||(o=$(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&k(t),r=!1,o()}}}function gE(t){let n,r,o,i,a,s,c,l,u,d,p,h=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",f=t[1]&&fE(t);return{c(){n=O("div"),r=O("div"),o=O("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=N(),a=O("p"),s=N(),c=O("div"),l=O("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,u=N(),f&&f.c(),U(o,"class","svelte-1uko7yn"),U(a,"class","description svelte-1uko7yn"),U(r,"class","messages small svelte-1uko7yn"),q(r,"small",t[0].small),U(l,"class","sign-up svelte-1uko7yn"),U(c,"class","actions svelte-1uko7yn"),q(c,"small",t[0].small),U(n,"class","container svelte-1uko7yn"),U(n,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),q(n,"small",t[0].small)},m(e,g){x(e,n,g),E(n,r),E(r,o),E(r,i),E(r,a),a.innerHTML=h,E(n,s),E(n,c),E(c,l),E(n,u),f&&f.m(n,null),d||(p=$(l,"click",t[2]),d=!0)},p(e,[t]){1&t&&q(r,"small",e[0].small),1&t&&q(c,"small",e[0].small),e[1]?f?f.p(e,t):(f=fE(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),1&t&&q(n,"small",e[0].small)},i:e,o:e,d(e){e&&k(n),f&&f.d(),d=!1,p()}}}function mE(e,t,n){let{config:r}=t,{close:o}=t;return ee((()=>{Ir({action:Tr.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Zn}})})),te((()=>{Ir({action:Tr.dlTrackUpgradeNotificationClosed,payload:{type:Zn}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,function(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:zy,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:Zn,cta:nr}})}]}class vE extends De{constructor(e){super(),Me(this,e,mE,gE,a,{config:0,close:1})}}function yE(t){let n,r,o;return{c(){n=O("button"),n.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,U(n,"class","log-in svelte-1tmoo4x")},m(e,i){x(e,n,i),r||(o=$(n,"click",t[4]),r=!0)},p:e,d(e){e&&k(n),r=!1,o()}}}function _E(e){let t,n,r,o;return{c(){t=R("svg"),n=R("path"),U(n,"d","M4 12L12 4M4 4L12 12"),U(n,"stroke","white"),U(n,"stroke-width","1.5"),U(n,"stroke-linecap","round"),U(n,"stroke-linejoin","round"),U(t,"width","16"),U(t,"height","16"),U(t,"viewBox","0 0 16 16"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"class","svelte-1tmoo4x")},m(a,s){x(a,t,s),E(t,n),r||(o=$(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&k(t),r=!1,o()}}}function SE(t){let n,r,o,i,a,s,c,l,u,d,p,h,f=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!t[2]&&yE(t),m=t[1]&&_E(t);return{c(){n=O("div"),r=O("div"),o=O("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=N(),a=O("p"),s=N(),c=O("div"),g&&g.c(),l=N(),u=O("button"),u.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=N(),m&&m.c(),U(o,"class","svelte-1tmoo4x"),U(a,"class","description svelte-1tmoo4x"),U(r,"class","messages svelte-1tmoo4x"),q(r,"small",t[0].small),U(u,"class","sign-up svelte-1tmoo4x"),U(c,"class","actions svelte-1tmoo4x"),q(c,"small",t[0].small),U(n,"class","container svelte-1tmoo4x"),U(n,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),q(n,"small",t[0].small)},m(e,v){x(e,n,v),E(n,r),E(r,o),E(r,i),E(r,a),a.innerHTML=f,E(n,s),E(n,c),g&&g.m(c,null),E(c,l),E(c,u),E(n,d),m&&m.m(n,null),p||(h=$(u,"click",t[3]),p=!0)},p(e,[t]){1&t&&q(r,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,t):(g=yE(e),g.c(),g.m(c,l)),1&t&&q(c,"small",e[0].small),e[1]?m?m.p(e,t):(m=_E(e),m.c(),m.m(n,null)):m&&(m.d(1),m=null),1&t&&q(n,"small",e[0].small)},i:e,o:e,d(e){e&&k(n),g&&g.d(),m&&m.d(),p=!1,h()}}}function bE(e,t,n){let r,o;c(e,Br,(e=>n(5,o=e)));let{config:i}=t,{close:a}=t;return ee((()=>{Ir({action:Tr.dlTrackUpgradeNotificationIsDisplayed,payload:{type:r?tr:er}})})),te((()=>{Ir({action:Tr.dlTrackUpgradeNotificationClosed,payload:{type:r?tr:er}})})),e.$$set=e=>{"config"in e&&n(0,i=e.config),"close"in e&&n(1,a=e.close)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=Xr(o))},[i,a,r,function(){let e="notification_free_account_limit_exceeded_write";if(i&&i.nicheIntegration)switch(i.nicheIntegration){case Gn:e="gmail_customization_write";break;case jn:e="gslides_customization_write"}Ir({action:Ar.dlExternalURLRedirect,payload:{destination:Yy,utmContent:e}}),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:r?tr:er,cta:nr}})},function(){Ir({action:br.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:r?tr:er,cta:rr}})},o]}class wE extends De{constructor(e){super(),Me(this,e,bE,SE,a,{config:0,close:1})}}function TE(e){let t,n,r,o;return{c(){t=R("svg"),n=R("path"),U(n,"d","M4 12L12 4M4 4L12 12"),U(n,"stroke","white"),U(n,"stroke-width","1.5"),U(n,"stroke-linecap","round"),U(n,"stroke-linejoin","round"),U(t,"width","16"),U(t,"height","16"),U(t,"viewBox","0 0 16 16"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"class","svelte-1i5r4eu")},m(a,s){x(a,t,s),E(t,n),r||(o=$(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&k(t),r=!1,o()}}}function EE(t){let n,r,o,i,a,s,c,l,u,d,p,h=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",f=t[1]&&TE(t);return{c(){n=O("div"),r=O("div"),o=O("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=N(),a=O("p"),s=N(),c=O("div"),l=O("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,u=N(),f&&f.c(),U(o,"class","svelte-1i5r4eu"),U(a,"class","description svelte-1i5r4eu"),U(r,"class","messages svelte-1i5r4eu"),q(r,"small",t[0].small),U(l,"class","sign-up svelte-1i5r4eu"),U(c,"class","actions svelte-1i5r4eu"),q(c,"small",t[0].small),U(n,"class","container svelte-1i5r4eu"),U(n,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),q(n,"small",t[0].small)},m(e,g){x(e,n,g),E(n,r),E(r,o),E(r,i),E(r,a),a.innerHTML=h,E(n,s),E(n,c),E(c,l),E(n,u),f&&f.m(n,null),d||(p=$(l,"click",t[2]),d=!0)},p(e,[t]){1&t&&q(r,"small",e[0].small),1&t&&q(c,"small",e[0].small),e[1]?f?f.p(e,t):(f=TE(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),1&t&&q(n,"small",e[0].small)},i:e,o:e,d(e){e&&k(n),f&&f.d(),d=!1,p()}}}function AE(e,t,n){let r,o;c(e,Br,(e=>n(3,o=e)));let{config:i}=t,{close:a}=t;return ee((()=>{Ir({action:Tr.dlTrackUpgradeNotificationIsDisplayed,payload:{type:r?tr:er}})})),te((()=>{Ir({action:Tr.dlTrackUpgradeNotificationClosed,payload:{type:r?tr:er}})})),e.$$set=e=>{"config"in e&&n(0,i=e.config),"close"in e&&n(1,a=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(r=Xr(o))},[i,a,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(i&&i.nicheIntegration)switch(i.nicheIntegration){case Gn:e="gmail_customization_write";break;case jn:e="gslides_customization_write"}Ir({action:Ar.dlExternalURLRedirect,payload:{destination:Yy,utmContent:e}}),Ir({action:Tr.dlTrackUpgradeNotificationAction,payload:{type:r?tr:er,cta:nr}})},o]}class IE extends De{constructor(e){super(),Me(this,e,AE,EE,a,{config:0,close:1})}}function xE(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("write_language_not_supported")}`,U(n,"data-qa","error-message-write-language-not-supported")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class kE extends De{constructor(e){super(),Me(this,e,null,xE,a,{})}}function CE(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("translate_language_not_supported")}`,U(n,"data-qa","error-message-translate-language-not-supported")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class OE extends De{constructor(e){super(),Me(this,e,null,CE,a,{})}}function RE(e){let t,n,r,o;return{c(){t=R("svg"),n=R("path"),U(n,"d","M4 12L12 4M4 4L12 12"),U(n,"stroke","white"),U(n,"stroke-width","1.5"),U(n,"stroke-linecap","round"),U(n,"stroke-linejoin","round"),U(t,"width","16"),U(t,"height","16"),U(t,"viewBox","0 0 16 16"),U(t,"fill","none"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"class","svelte-1mvy8b2")},m(a,s){x(a,t,s),E(t,n),r||(o=$(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&k(t),r=!1,o()}}}function PE(t){let n,r,o,i,a,s,c,l,u,d,p,h=t[1]&&RE(t);return{c(){n=O("div"),r=O("div"),o=O("h1"),o.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,i=N(),a=O("p"),a.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,s=N(),c=O("div"),l=O("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_login_cta")}`,u=N(),h&&h.c(),U(o,"class","svelte-1mvy8b2"),U(a,"class","description svelte-1mvy8b2"),U(r,"class","messages svelte-1mvy8b2"),q(r,"small",t[0].small),U(l,"class","sign-up svelte-1mvy8b2"),U(c,"class","actions svelte-1mvy8b2"),q(c,"small",t[0].small),U(n,"class","container svelte-1mvy8b2"),U(n,"data-testid","error-message-policy-login-required"),q(n,"small",t[0].small)},m(e,f){x(e,n,f),E(n,r),E(r,o),E(r,i),E(r,a),E(n,s),E(n,c),E(c,l),E(n,u),h&&h.m(n,null),d||(p=$(l,"click",t[2]),d=!0)},p(e,[t]){1&t&&q(r,"small",e[0].small),1&t&&q(c,"small",e[0].small),e[1]?h?h.p(e,t):(h=RE(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null),1&t&&q(n,"small",e[0].small)},i:e,o:e,d(e){e&&k(n),h&&h.d(),d=!1,p()}}}function NE(e,t,n){let{config:r}=t,{close:o}=t;return ee((()=>{Ir({action:Tr.dlTrackPolicyLoginRequiredNotification,payload:{notificationType:gt}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,function(){Ir({action:br.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)}))}]}class LE extends De{constructor(e){super(),Me(this,e,NE,PE,a,{config:0,close:1})}}function $E(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1],close:e[0]}}}return o&&(t=H(o,i(e))),{c(){t&&Pe(t.$$.fragment),n=L()},m(e,o){t&&Ne(t,e,o),x(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Te();const e=t;Ie(e.$$.fragment,1,0,(()=>{Le(e,1)})),Ee()}o?(t=H(o,i(e)),Pe(t.$$.fragment),Ae(t.$$.fragment,1),Ne(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),1&r&&(n.close=e[0]),t.$set(n)}},i(e){r||(t&&Ae(t.$$.fragment,e),r=!0)},o(e){t&&Ie(t.$$.fragment,e),r=!1},d(e){e&&k(n),t&&Le(t,e)}}}function ME(e){let t,n;return t=new ST({props:{close:e[0],config:e[1],$$slots:{default:[UE]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.close=e[0]),2&n&&(r.config=e[1]),262&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function DE(e){let t,n;return t=new mT({props:{close:e[0],config:e[1],$$slots:{default:[VE]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.close=e[0]),2&n&&(r.config=e[1]),262&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function UE(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1]}}}return o&&(t=H(o,i(e))),{c(){t&&Pe(t.$$.fragment),n=L()},m(e,o){t&&Ne(t,e,o),x(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Te();const e=t;Ie(e.$$.fragment,1,0,(()=>{Le(e,1)})),Ee()}o?(t=H(o,i(e)),Pe(t.$$.fragment),Ae(t.$$.fragment,1),Ne(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),t.$set(n)}},i(e){r||(t&&Ae(t.$$.fragment,e),r=!0)},o(e){t&&Ie(t.$$.fragment,e),r=!1},d(e){e&&k(n),t&&Le(t,e)}}}function VE(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1]}}}return o&&(t=H(o,i(e))),{c(){t&&Pe(t.$$.fragment),n=L()},m(e,o){t&&Ne(t,e,o),x(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Te();const e=t;Ie(e.$$.fragment,1,0,(()=>{Le(e,1)})),Ee()}o?(t=H(o,i(e)),Pe(t.$$.fragment),Ae(t.$$.fragment,1),Ne(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),t.$set(n)}},i(e){r||(t&&Ae(t.$$.fragment,e),r=!0)},o(e){t&&Ie(t.$$.fragment,e),r=!1},d(e){e&&k(n),t&&Le(t,e)}}}function FE(e){let t,n,r,o;const i=[DE,ME,$E],a=[];function s(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=s(e))&&(n=a[t]=i[t](e)),{c(){n&&n.c(),r=L()},m(e,n){~t&&a[t].m(e,n),x(e,r,n),o=!0},p(e,[o]){let c=t;t=s(e),t===c?~t&&a[t].p(e,o):(n&&(Te(),Ie(a[c],1,1,(()=>{a[c]=null})),Ee()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(Ae(n),o=!0)},o(e){Ie(n),o=!1},d(e){e&&k(r),~t&&a[t].d(e)}}}function GE(e,t,n){let r,o,{error:i}=t,{close:a}=t,{config:s={}}=t;const c={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},l={[py]:wT,[hy]:IT,[fy]:kT,[vy]:MT,[ww]:YT,[Ew]:YT,[Tw]:YT,[Iw]:YT,[my]:LT,[_y]:LT,[by]:KT,[gy]:RT,[yy]:WT,[Sy]:JT,[wy]:hE,[Ty]:iE,[Ey]:vE,[Ay]:wE,[Iy]:IE,[eT]:wT,[tT]:IT,[dy]:IT,[nT]:kT,[iT]:RT,[oT]:LT,[cT]:LT,[rT]:RT,[sT]:WT,[aT]:MT,[Ow]:WT,[Rw]:WT,[Pw]:kE,[Nw]:OE,[$w]:wT,[Lw]:ET,[Mw]:YT,[xy]:LE};return ee((()=>{WS()?xr({action:"dlErrorVisibility",payload:{state:!0}}):pT.set(!0)})),te((()=>{WS()?xr({action:"dlErrorVisibility",payload:{state:!1}}):pT.set(!1)})),e.$$set=e=>{"error"in e&&n(5,i=e.error),"close"in e&&n(0,a=e.close),"config"in e&&n(1,s=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r=function(e){switch(e){case py:case hy:case fy:case vy:case eT:case tT:case nT:case iT:case ww:case Ew:case Tw:case Iw:case Sy:case $w:case Lw:case dy:return c.SERIOUS;case my:case _y:case oT:case cT:case by:case gy:case yy:case rT:case sT:case Ow:case Rw:case Pw:case Nw:return c.WARNING;case wy:case Ty:case Ay:case Iy:case Ey:case xy:return c.CUSTOM;default:return c.UNKNOWN}}(i?i.error:"")),32&e.$$.dirty&&n(2,o=i&&l[i.error]||wT)},[a,s,o,r,c,i]}class jE extends De{constructor(e){super(),Me(this,e,GE,FE,a,{error:5,close:0,config:1})}}function qE(t){let n,r;return{c(){n=O("div"),r=P(t[0]),U(n,"class","info-msg svelte-17qaccl")},m(e,t){x(e,n,t),E(n,r)},p(e,[t]){1&t&&V(r,e[0])},i:e,o:e,d(e){e&&k(n)}}}function BE(e,t,n){let{message:r}=t;return e.$$set=e=>{"message"in e&&n(0,r=e.message)},[r]}class WE extends De{constructor(e){super(),Me(this,e,BE,qE,a,{message:0})}}function HE(t){let n,r,i,a,s,c,l,u,d,p,h,f,g,m,v,y,_,S=chrome.i18n.getMessage("ui_no_translate_language",t[0])+"";return{c(){n=O("div"),r=O("div"),i=O("label"),a=O("span"),s=O("input"),c=N(),l=O("span"),l.textContent=`${chrome.i18n.getMessage("ui_no_translate_website")}`,u=N(),d=O("div"),p=O("label"),h=O("span"),f=O("input"),g=N(),m=O("span"),v=P(S),U(s,"id","blacklist-website"),U(s,"type","checkbox"),s.checked=t[2],U(s,"class","svelte-1kqsybc"),U(l,"class","label svelte-1kqsybc"),U(i,"for","blacklist-website"),U(i,"class","svelte-1kqsybc"),U(r,"class","option svelte-1kqsybc"),U(f,"id","blacklist-language"),U(f,"type","checkbox"),f.checked=t[1],U(f,"class","svelte-1kqsybc"),U(m,"class","label svelte-1kqsybc"),U(p,"for","blacklist-language"),U(p,"class","svelte-1kqsybc"),U(d,"class","option svelte-1kqsybc"),U(n,"class","cancel-container svelte-1kqsybc")},m(e,o){x(e,n,o),E(n,r),E(r,i),E(i,a),E(a,s),E(i,c),E(i,l),E(n,u),E(n,d),E(d,p),E(p,h),E(h,f),E(p,g),E(p,m),E(m,v),y||(_=[$(s,"change",t[5]),$(f,"change",t[6])],y=!0)},p(e,[t]){4&t&&(s.checked=e[2]),2&t&&(f.checked=e[1]),1&t&&S!==(S=chrome.i18n.getMessage("ui_no_translate_language",e[0])+"")&&V(v,S)},i:e,o:e,d(e){e&&k(n),y=!1,o(_)}}}function JE(e,t,n){let r,o,i,a;const s=oe("deepl_settings");c(e,s,(e=>n(8,a=e)));const l=oe("deepl_website_settings");c(e,l,(e=>n(7,i=e)));let{sourceLang:u=""}=t;return e.$$set=e=>{"sourceLang"in e&&n(0,u=e.sourceLang)},e.$$.update=()=>{384&e.$$.dirty&&n(1,r=a.languagesForTranslation[i.websiteLanguage]===et),384&e.$$.dirty&&n(2,o=a.blacklistDomains.includes(i.hostname))},[u,r,o,s,l,()=>{o?(()=>{let e=a.blacklistDomains;e.includes(i.hostname)&&(e=e.filter((e=>e!==i.hostname)),s.set({blacklistDomains:e}))})():(()=>{let e=a.blacklistDomains;e.includes(i.hostname)||(e.push(i.hostname),s.set({blacklistDomains:e}))})()},()=>{r?(()=>{let e=a.languagesForTranslation;i.websiteLanguage&&("EN"===i.websiteLanguage?(e["EN-GB"]=Qe,e["EN-US"]=Qe):"PT"===i.websiteLanguage?(e["PT-PT"]=Qe,e["PT-BR"]=Qe):"ZH"===i.websiteLanguage?(e["ZH-CN"]=Qe,e["ZH-HANT"]=Qe):e[i.websiteLanguage]=Qe,s.set({languagesForTranslation:e}))})():(()=>{let e=a.languagesForTranslation;i.websiteLanguage&&("EN"===i.websiteLanguage?(e["EN-GB"]=et,e["EN-US"]=et):"PT"===i.websiteLanguage?(e["PT-PT"]=et,e["PT-BR"]=et):"ZH"===i.websiteLanguage?(e["ZH-CN"]=et,e["ZH-HANT"]=et):e[i.websiteLanguage]=et,s.set({languagesForTranslation:e}))})()},i,a]}class zE extends De{constructor(e){super(),Me(this,e,JE,HE,a,{sourceLang:0})}}function YE(e){let t,n,r,i,a;const s=e[7].default,c=l(s,e,e[6],null);return{c(){t=O("button"),c&&c.c(),U(t,"type","button"),U(t,"class",n=f(e[0])+" svelte-zka2e2"),t.disabled=e[1],U(t,"id",e[5]),U(t,"data-qa",e[4]),q(t,"disabled",e[1]),q(t,"font-size-sm","sm"===e[2]),q(t,"padding-x-md","md"===e[3]),q(t,"padding-x-none","none"===e[3])},m(n,o){x(n,t,o),c&&c.m(t,null),r=!0,i||(a=[$(t,"click",e[8]),$(t,"mousedown",D(M(e[9])))],i=!0)},p(e,[o]){c&&c.p&&(!r||64&o)&&p(c,s,e,e[6],r?d(s,e[6],o,null):h(e[6]),null),(!r||1&o&&n!==(n=f(e[0])+" svelte-zka2e2"))&&U(t,"class",n),(!r||2&o)&&(t.disabled=e[1]),(!r||32&o)&&U(t,"id",e[5]),(!r||16&o)&&U(t,"data-qa",e[4]),(!r||3&o)&&q(t,"disabled",e[1]),(!r||5&o)&&q(t,"font-size-sm","sm"===e[2]),(!r||9&o)&&q(t,"padding-x-md","md"===e[3]),(!r||9&o)&&q(t,"padding-x-none","none"===e[3])},i(e){r||(Ae(c,e),r=!0)},o(e){Ie(c,e),r=!1},d(e){e&&k(t),c&&c.d(e),i=!1,o(a)}}}function XE(e,t,n){let{$$slots:r={},$$scope:o}=t,{className:i="button-primary"}=t,{disabled:a=!1}=t,{fontSize:s="default"}=t,{paddingX:c}=t,{dataQa:l="dl-button"}=t,{id:u=""}=t;return e.$$set=e=>{"className"in e&&n(0,i=e.className),"disabled"in e&&n(1,a=e.disabled),"fontSize"in e&&n(2,s=e.fontSize),"paddingX"in e&&n(3,c=e.paddingX),"dataQa"in e&&n(4,l=e.dataQa),"id"in e&&n(5,u=e.id),"$$scope"in e&&n(6,o=e.$$scope)},[i,a,s,c,l,u,o,r,function(t){ie.call(this,e,t)},function(t){ie.call(this,e,t)}]}class KE extends De{constructor(e){super(),Me(this,e,XE,YE,a,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function QE(e,t,n){const r=e.slice();return r[21]=t[n],r}function ZE(e,t,n){const r=e.slice();return r[21]=t[n],r}function eA(e,t,n){const r=e.slice();return r[21]=t[n],r}function tA(e,t,n){const r=e.slice();return r[21]=t[n],r}function nA(e,t,n){const r=e.slice();return r[21]=t[n],r}function rA(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f,g,m,v;u=new yw({props:{value:e[2].selectedTargetLanguage,variant:"alternate",fontSize:"sm"}}),u.$on("selection",e[15]);let y=!e[4]&&dA(e);g=new KE({props:{className:"btn-primary btn-full-width",dataQa:"dl-button-translate-page",$$slots:{default:[mA]},$$scope:{ctx:e}}}),g.$on("click",e[11]);let _=!e[4]&&vA(e);return{c(){t=O("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_target_label")}`,n=N(),r=O("div"),o=O("div"),i=P(e[5]),a=N(),s=O("div"),c=N(),l=O("div"),Pe(u.$$.fragment),d=N(),y&&y.c(),p=N(),h=O("div"),f=O("div"),Pe(g.$$.fragment),m=N(),_&&_.c(),U(t,"class","font-bold mb-md svelte-1ing0cx"),U(o,"class","website-lang svelte-1ing0cx"),U(s,"class","translate-to-arrow svelte-1ing0cx"),U(l,"class","language-switch svelte-1ing0cx"),U(r,"class","language-selection svelte-1ing0cx"),U(r,"dir",$r()),U(f,"class","translate-button svelte-1ing0cx"),U(h,"class","buttons-row svelte-1ing0cx")},m(e,S){x(e,t,S),x(e,n,S),x(e,r,S),E(r,o),E(o,i),E(r,a),E(r,s),E(r,c),E(r,l),Ne(u,l,null),x(e,d,S),y&&y.m(e,S),x(e,p,S),x(e,h,S),E(h,f),Ne(g,f,null),E(h,m),_&&_.m(h,null),v=!0},p(e,t){(!v||32&t[0])&&V(i,e[5]);const n={};4&t[0]&&(n.value=e[2].selectedTargetLanguage),u.$set(n),e[4]?y&&(Te(),Ie(y,1,1,(()=>{y=null})),Ee()):y?(y.p(e,t),16&t[0]&&Ae(y,1)):(y=dA(e),y.c(),Ae(y,1),y.m(p.parentNode,p));const r={};2&t[1]&&(r.$$scope={dirty:t,ctx:e}),g.$set(r),e[4]?_&&(Te(),Ie(_,1,1,(()=>{_=null})),Ee()):_?(_.p(e,t),16&t[0]&&Ae(_,1)):(_=vA(e),_.c(),Ae(_,1),_.m(h,null))},i(e){v||(Ae(u.$$.fragment,e),Ae(y),Ae(g.$$.fragment,e),Ae(_),v=!0)},o(e){Ie(u.$$.fragment,e),Ie(y),Ie(g.$$.fragment,e),Ie(_),v=!1},d(e){e&&(k(t),k(n),k(r),k(d),k(p),k(h)),Le(u),y&&y.d(e),Le(g),_&&_.d()}}}function oA(t){let n,r,o,i;function a(e,t){return 6&t[0]&&(r=null),null==r&&(r=!!e[2].blacklistDomains.includes(e[1].hostname)),r?EA:e[6]?TA:void 0}let s=a(t,[-1,-1]),c=s&&s(t),l=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),u=[];for(let e=0;e<l.length;e+=1)u[e]=UA(QE(t,l,e));return{c(){n=O("p"),c&&c.c(),o=N(),i=O("p");for(let e=0;e<u.length;e+=1)u[e].c();U(n,"class","svelte-1ing0cx"),U(i,"class","svelte-1ing0cx")},m(e,t){x(e,n,t),c&&c.m(n,null),x(e,o,t),x(e,i,t);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(i,null)},p(e,t){if(s===(s=a(e,t))&&c?c.p(e,t):(c&&c.d(1),c=s&&s(e),c&&(c.c(),c.m(n,null))),1024&t[0]){let n;for(l=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),n=0;n<l.length;n+=1){const r=QE(e,l,n);u[n]?u[n].p(r,t):(u[n]=UA(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=l.length}},i:e,o:e,d(e){e&&(k(n),k(o),k(i)),c&&c.d(),C(u,e)}}}function iA(e){let t,n,r,o,i,a=Oe(UT(chrome.i18n.getMessage("ui_translated_automatically",e[5]),["strong"])),s=[];for(let t=0;t<a.length;t+=1)s[t]=GA(nA(e,a,t));return o=new KE({props:{className:"button-reload",$$slots:{default:[jA]},$$scope:{ctx:e}}}),o.$on("click",e[14]),{c(){t=O("p");for(let e=0;e<s.length;e+=1)s[e].c();n=N(),r=O("p"),Pe(o.$$.fragment),U(t,"class","svelte-1ing0cx"),U(r,"class","svelte-1ing0cx")},m(e,a){x(e,t,a);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);x(e,n,a),x(e,r,a),Ne(o,r,null),i=!0},p(e,n){if(32&n[0]){let r;for(a=Oe(UT(chrome.i18n.getMessage("ui_translated_automatically",e[5]),["strong"])),r=0;r<a.length;r+=1){const o=nA(e,a,r);s[r]?s[r].p(o,n):(s[r]=GA(o),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}const r={};2&n[1]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r)},i(e){i||(Ae(o.$$.fragment,e),i=!0)},o(e){Ie(o.$$.fragment,e),i=!1},d(e){e&&(k(t),k(n),k(r)),C(s,e),Le(o)}}}function aA(t){let n,r,o,i,a;return r=new bw({}),{c(){n=O("div"),Pe(r.$$.fragment),o=N(),i=O("p"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,U(n,"class","loading-spinner-container mb-sm svelte-1ing0cx"),U(i,"class","center svelte-1ing0cx")},m(e,t){x(e,n,t),Ne(r,n,null),x(e,o,t),x(e,i,t),a=!0},p:e,i(e){a||(Ae(r.$$.fragment,e),a=!0)},o(e){Ie(r.$$.fragment,e),a=!1},d(e){e&&(k(n),k(o),k(i)),Le(r)}}}function sA(t){let n,r,o,i,a;return r=new bw({}),{c(){n=O("div"),Pe(r.$$.fragment),o=N(),i=O("p"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,U(n,"class","loading-spinner-container mb-sm svelte-1ing0cx"),U(i,"class","center svelte-1ing0cx")},m(e,t){x(e,n,t),Ne(r,n,null),x(e,o,t),x(e,i,t),a=!0},p:e,i(e){a||(Ae(r.$$.fragment,e),a=!0)},o(e){Ie(r.$$.fragment,e),a=!1},d(e){e&&(k(n),k(o),k(i)),Le(r)}}}function cA(t){let n,r;return n=new WE({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){Pe(n.$$.fragment)},m(e,t){Ne(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){Le(n,e)}}}function lA(t){let n,r;return n=new WE({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){Pe(n.$$.fragment)},m(e,t){Ne(n,e,t),r=!0},p:e,i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){Le(n,e)}}}function uA(t){let n,r,o;return r=new bw({}),{c(){n=O("div"),Pe(r.$$.fragment),U(n,"class","loading-spinner-container svelte-1ing0cx")},m(e,t){x(e,n,t),Ne(r,n,null),o=!0},p:e,i(e){o||(Ae(r.$$.fragment,e),o=!0)},o(e){Ie(r.$$.fragment,e),o=!1},d(e){e&&k(n),Le(r)}}}function dA(e){let t,n,r,o;const i=[hA,pA],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let c=t;t=s(e),t===c?a[t].p(e,o):(Te(),Ie(a[c],1,1,(()=>{a[c]=null})),Ee(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){o||(Ae(n),o=!0)},o(e){Ie(n),o=!1},d(e){e&&k(r),a[t].d(e)}}}function pA(e){let t,n;return t=new GS({props:{tooltip:chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5]),multiline:!0,zIndex:"0",$$slots:{default:[fA]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.tooltip=chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5])),2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function hA(e){let t,n;return t=new BS({props:{text:chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5]),alignment:"expanded",$$slots:{default:[gA]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.text=chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5])),2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function fA(t){let n,r,o,i,a,s,c,l=chrome.i18n.getMessage("full_page_translation_auto_translate")+"";return{c(){n=O("div"),r=O("label"),o=O("input"),i=N(),a=P(l),U(o,"type","checkbox"),o.checked=t[12](),U(o,"class","svelte-1ing0cx"),U(r,"class","svelte-1ing0cx"),U(n,"class","checkbox-row svelte-1ing0cx")},m(e,l){x(e,n,l),E(n,r),E(r,o),E(r,i),E(r,a),s||(c=$(o,"change",t[17]),s=!0)},p:e,d(e){e&&k(n),s=!1,c()}}}function gA(t){let n,r,o,i,a,s,c,l=chrome.i18n.getMessage("full_page_translation_auto_translate")+"";return{c(){n=O("div"),r=O("label"),o=O("input"),i=N(),a=P(l),U(o,"type","checkbox"),o.checked=t[12](),U(o,"class","svelte-1ing0cx"),U(r,"class","svelte-1ing0cx"),U(n,"class","checkbox-row svelte-1ing0cx")},m(e,l){x(e,n,l),E(n,r),E(r,o),E(r,i),E(r,a),s||(c=$(o,"change",t[16]),s=!0)},p:e,d(e){e&&k(n),s=!1,c()}}}function mA(t){let n;return{c(){n=O("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_translate_button")}`,U(n,"class","svelte-1ing0cx")},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function vA(e){let t,n,r,o;const i=[_A,yA],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let c=t;t=s(e),t===c?a[t].p(e,o):(Te(),Ie(a[c],1,1,(()=>{a[c]=null})),Ee(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Ae(n,1),n.m(r.parentNode,r))},i(e){o||(Ae(n),o=!0)},o(e){Ie(n),o=!1},d(e){e&&k(r),a[t].d(e)}}}function yA(e){let t,n,r;return n=new KE({props:{className:"btn-ghost btn-icon",id:"dl-cancel-no-translation-selection",$$slots:{default:[SA]},$$scope:{ctx:e}}}),n.$on("click",e[19]),{c(){t=O("div"),Pe(n.$$.fragment),U(t,"class","cancel-button")},m(e,o){x(e,t,o),Ne(n,t,null),r=!0},p(e,t){const r={};2&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),Le(n)}}}function _A(e){let t,n;return t=new BS({props:{text:"See more Options",alignment:"end",$$slots:{default:[wA]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};8&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function SA(t){let n;return{c(){n=O("span"),U(n,"class","dots-vertical svelte-1ing0cx")},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function bA(t){let n;return{c(){n=O("span"),U(n,"class","dots-vertical svelte-1ing0cx")},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function wA(e){let t,n,r;return n=new KE({props:{className:"btn-ghost btn-icon",id:"dl-cancel-no-translation-selection",$$slots:{default:[bA]},$$scope:{ctx:e}}}),n.$on("click",e[18]),{c(){t=O("div"),Pe(n.$$.fragment),U(t,"class","cancel-button")},m(e,o){x(e,t,o),Ne(n,t,null),r=!0},p(e,t){const r={};2&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),Le(n)}}}function TA(e){let t,n=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_language",e[5]),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=xA(ZE(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);x(e,t,n)},p(e,o){if(32&o[0]){let i;for(n=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_language",e[5]),["strong"])),i=0;i<n.length;i+=1){const a=ZE(e,n,i);r[i]?r[i].p(a,o):(r[i]=xA(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&k(t),C(r,e)}}}function EA(e){let t;function n(e,t){return e[6]?CA:kA}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function AA(e){let t,n=e[21].text+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){32&r[0]&&n!==(n=e[21].text+"")&&V(t,n)},d(e){e&&k(t)}}}function IA(e){let t,n,r=e[21].text+"";return{c(){t=O("strong"),n=P(r),U(t,"class","svelte-1ing0cx")},m(e,r){x(e,t,r),E(t,n)},p(e,t){32&t[0]&&r!==(r=e[21].text+"")&&V(n,r)},d(e){e&&k(t)}}}function xA(e){let t;function n(e,t){return"strong"===e[21].block?IA:AA}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function kA(e){let t,n=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=PA(eA(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);x(e,t,n)},p(e,o){if(2&o[0]){let i;for(n=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),i=0;i<n.length;i+=1){const a=eA(e,n,i);r[i]?r[i].p(a,o):(r[i]=PA(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&k(t),C(r,e)}}}function CA(e){let t,n=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[5]]),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=$A(tA(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);x(e,t,n)},p(e,o){if(34&o[0]){let i;for(n=Oe(UT(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[5]]),["strong"])),i=0;i<n.length;i+=1){const a=tA(e,n,i);r[i]?r[i].p(a,o):(r[i]=$A(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&k(t),C(r,e)}}}function OA(e){let t,n=e[21].text+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){2&r[0]&&n!==(n=e[21].text+"")&&V(t,n)},d(e){e&&k(t)}}}function RA(e){let t,n,r=e[21].text+"";return{c(){t=O("strong"),n=P(r),U(t,"class","svelte-1ing0cx")},m(e,r){x(e,t,r),E(t,n)},p(e,t){2&t[0]&&r!==(r=e[21].text+"")&&V(n,r)},d(e){e&&k(t)}}}function PA(e){let t;function n(e,t){return"strong"===e[21].block?RA:OA}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function NA(e){let t,n=e[21].text+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){34&r[0]&&n!==(n=e[21].text+"")&&V(t,n)},d(e){e&&k(t)}}}function LA(e){let t,n,r=e[21].text+"";return{c(){t=O("strong"),n=P(r),U(t,"class","svelte-1ing0cx")},m(e,r){x(e,t,r),E(t,n)},p(e,t){34&t[0]&&r!==(r=e[21].text+"")&&V(n,r)},d(e){e&&k(t)}}}function $A(e){let t;function n(e,t){return"strong"===e[21].block?LA:NA}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function MA(t){let n,r=t[21].text+"";return{c(){n=P(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function DA(t){let n,r,o;return{c(){n=O("span"),n.textContent=`${t[21].text}`,U(n,"class","link svelte-1ing0cx")},m(e,i){x(e,n,i),r||(o=$(n,"click",t[10]),r=!0)},p:e,d(e){e&&k(n),r=!1,o()}}}function UA(e){let t;let n=function(e){return"settingsLink"===e[21].block?DA:MA}(e),r=n(e);return{c(){r.c(),t=L()},m(e,n){r.m(e,n),x(e,t,n)},p(e,t){r.p(e,t)},d(e){e&&k(t),r.d(e)}}}function VA(e){let t,n=e[21].text+"";return{c(){t=P(n)},m(e,n){x(e,t,n)},p(e,r){32&r[0]&&n!==(n=e[21].text+"")&&V(t,n)},d(e){e&&k(t)}}}function FA(e){let t,n,r=e[21].text+"";return{c(){t=O("strong"),n=P(r),U(t,"class","svelte-1ing0cx")},m(e,r){x(e,t,r),E(t,n)},p(e,t){32&t[0]&&r!==(r=e[21].text+"")&&V(n,r)},d(e){e&&k(t)}}}function GA(e){let t;function n(e,t){return"strong"===e[21].block?FA:VA}let r=n(e),o=r(e);return{c(){o.c(),t=L()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&k(t),o.d(e)}}}function jA(t){let n,r=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){n=P(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function qA(e){let t,n,r;return n=new jE({props:{error:e[1].error}}),{c(){t=O("div"),Pe(n.$$.fragment),U(t,"class","error-container svelte-1ing0cx")},m(e,o){x(e,t,o),Ne(n,t,null),r=!0},p(e,t){const r={};2&t[0]&&(r.error=e[1].error),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),Le(n)}}}function BA(e){let t,n,r,i,a,s,c;return r=new zE({props:{sourceLang:e[5]}}),{c(){t=O("div"),n=O("div"),Pe(r.$$.fragment),U(n,"class","cancel-selection-box svelte-1ing0cx"),U(t,"class","cancel-selection svelte-1ing0cx")},m(o,i){x(o,t,i),E(t,n),Ne(r,n,null),a=!0,s||(c=[m(lS.call(null,n,{isShadow:!0,exceptions:["#dl-cancel-no-translation-selection"]})),$(n,"click_outside",e[20])],s=!0)},p(e,t){const n={};32&t[0]&&(n.sourceLang=e[5]),r.$set(n)},i(e){a||(Ae(r.$$.fragment,e),pe((()=>{a&&(i||(i=Ce(t,cS,{y:-10,duration:300},!0)),i.run(1))})),a=!0)},o(e){Ie(r.$$.fragment,e),i||(i=Ce(t,cS,{y:-10,duration:300},!1)),i.run(0),a=!1},d(e){e&&k(t),Le(r),e&&i&&i.end(),s=!1,o(c)}}}function WA(e){let t,n,r,o,i,a,s,c;const l=[uA,lA,cA,sA,aA,iA,oA,rA],u=[];function d(e,t){return 2&t[0]&&(n=null),70&t[0]&&(r=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===tt.ongoingAutoDetection?3:e[1].translationState===tt.ongoingTranslation?4:e[1].translationState===tt.isTranslationComplete?5:(null==r&&(r=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[6])),r?6:e[1].websiteLanguage?7:-1))}~(o=d(e,[-1,-1]))&&(i=u[o]=l[o](e));let p=e[7]&&qA(e),h=e[3]&&BA(e);return{c(){t=O("div"),i&&i.c(),a=N(),p&&p.c(),s=N(),h&&h.c(),U(t,"class","full-page-translation-widget svelte-1ing0cx")},m(e,n){x(e,t,n),~o&&u[o].m(t,null),E(t,a),p&&p.m(t,null),E(t,s),h&&h.m(t,null),c=!0},p(e,n){let r=o;o=d(e,n),o===r?~o&&u[o].p(e,n):(i&&(Te(),Ie(u[r],1,1,(()=>{u[r]=null})),Ee()),~o?(i=u[o],i?i.p(e,n):(i=u[o]=l[o](e),i.c()),Ae(i,1),i.m(t,a)):i=null),e[7]?p?(p.p(e,n),128&n[0]&&Ae(p,1)):(p=qA(e),p.c(),Ae(p,1),p.m(t,s)):p&&(Te(),Ie(p,1,1,(()=>{p=null})),Ee()),e[3]?h?(h.p(e,n),8&n[0]&&Ae(h,1)):(h=BA(e),h.c(),Ae(h,1),h.m(t,null)):h&&(Te(),Ie(h,1,1,(()=>{h=null})),Ee())},i(e){c||(Ae(i),Ae(p),Ae(h),c=!0)},o(e){Ie(i),Ie(p),Ie(h),c=!1},d(e){e&&k(t),~o&&u[o].d(),p&&p.d(),h&&h.d()}}}function HA(e,t,n){let r,o,i,a;const s=oe("deepl_settings");c(e,s,(e=>n(2,a=e)));const l=oe("deepl_website_settings");c(e,l,(e=>n(1,i=e)));let{useAdvancedToolTip:u=!1}=t;let d,p=!1,h=!1;const f=()=>{const e=Lr(i.websiteLanguage);let t=a.languagesForTranslation;if(e)for(const n of e)a.languagesForTranslation[n]===Ze?(t[n]=Qe,Ir({action:Tr.dlTrackUILocationClicked,payload:Vt})):(t[n]=Ze,Ir({action:Tr.dlTrackUILocationClicked,payload:Ut}));else a.languagesForTranslation[i.websiteLanguage]===Ze?(t[i.websiteLanguage]=Qe,Ir({action:Tr.dlTrackUILocationClicked,payload:Vt})):(t[i.websiteLanguage]=Ze,Ir({action:Tr.dlTrackUILocationClicked,payload:Ut}));s.set({languagesForTranslation:t})};return e.$$set=e=>{"useAdvancedToolTip"in e&&n(0,u=e.useAdvancedToolTip)},e.$$.update=()=>{var t,s;2&e.$$.dirty[0]&&n(7,r=i&&i.error),6&e.$$.dirty[0]&&n(6,o=function(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}(i.websiteLanguage,a.languagesForTranslation,et)),6&e.$$.dirty[0]&&(i&&a&&(t=a.selectedTargetLanguage,s=i.websiteLanguage,Pr(t)===s)?n(4,h=!0):n(4,h=!1)),2&e.$$.dirty[0]&&i&&(i.isSupportedLanguage?n(5,d=chrome.i18n.getMessage(`supported_languages_${i.websiteLanguage}`)):n(5,d=chrome.i18n.getMessage(`supported_languages_${Ke}`)))},[u,i,a,p,h,d,o,r,s,l,function(){Ir({action:Ar.dlOpenInternalPage,payload:{destination:pS}})},function(){0==a.isTargetLanguageConfirmed&&s.set({isTargetLanguageConfirmed:!0}),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlTranslate",sourceLang:i.websiteLanguage,targetLang:a.selectedTargetLanguage})}))},function(){const e=Lr(i.websiteLanguage);return e?a.languagesForTranslation[e[0]]===Ze||a.languagesForTranslation[e[1]]===Ze:a.languagesForTranslation[i.websiteLanguage]===Ze},f,()=>{chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlShowOriginal"})}))},e=>s.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0}),()=>f(),()=>f(),()=>n(3,p=!p),()=>n(3,p=!p),()=>n(3,p=!1)]}class JA extends De{constructor(e){super(),Me(this,e,HA,WA,a,{useAdvancedToolTip:0},null,[-1,-1])}}function zA(t){let n,r,o,i;return{c(){n=O("button"),r=O("span"),U(r,"class","svelte-19tdlik"),U(n,"aria-label",t[4]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),U(n,"class","switch svelte-19tdlik"),U(n,"data-testid",t[3]),U(n,"data-qa",t[2]),q(n,"checked",t[0]),q(n,"disabled",t[1])},m(e,a){x(e,n,a),E(n,r),o||(i=$(n,"click",t[4]),o=!0)},p(e,[t]){8&t&&U(n,"data-testid",e[3]),4&t&&U(n,"data-qa",e[2]),1&t&&q(n,"checked",e[0]),2&t&&q(n,"disabled",e[1])},i:e,o:e,d(e){e&&k(n),o=!1,i()}}}function YA(e,t,n){let{checked:r=!1}=t,{disabled:o=!1}=t,{qaRoot:i="dl-switch"}=t,{dataTestId:a="deepl-switch"}=t;const s=ne();return e.$$set=e=>{"checked"in e&&n(0,r=e.checked),"disabled"in e&&n(1,o=e.disabled),"qaRoot"in e&&n(2,i=e.qaRoot),"dataTestId"in e&&n(3,a=e.dataTestId)},[r,o,i,a,function(){o||s("change",{checked:!r})}]}class XA extends De{constructor(e){super(),Me(this,e,YA,zA,a,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}function KA(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f,g;return p=new XA({props:{checked:e[2].enableInputTranslation&&e[2].enableInlineTranslation}}),p.$on("change",e[6]),{c(){t=O("div"),n=O("div"),r=O("div"),o=O("p"),o.textContent=`${chrome.i18n.getMessage("main_popup_floating_icon_toggle")}`,i=N(),a=O("button"),s=O("div"),s.textContent=`${chrome.i18n.getMessage("main_popup_floating_icon_settings")}`,c=N(),l=O("span"),u=N(),d=O("div"),Pe(p.$$.fragment),U(o,"class","svelte-1lk04l9"),U(s,"class","link svelte-1lk04l9"),U(l,"class","linkout svelte-1lk04l9"),U(a,"class","info-text svelte-1lk04l9"),U(r,"class","switch-content svelte-1lk04l9"),U(d,"class","switch"),U(n,"class","settings-section switch-container svelte-1lk04l9"),U(t,"class","toggle-container svelte-1lk04l9"),U(t,"data-testid",e[1]),q(t,"no-border",e[0])},m(m,v){x(m,t,v),E(t,n),E(n,r),E(r,o),E(r,i),E(r,a),E(a,s),E(a,c),E(a,l),E(n,u),E(n,d),Ne(p,d,null),h=!0,f||(g=$(a,"click",e[4]),f=!0)},p(e,[n]){const r={};4&n&&(r.checked=e[2].enableInputTranslation&&e[2].enableInlineTranslation),p.$set(r),(!h||2&n)&&U(t,"data-testid",e[1]),(!h||1&n)&&q(t,"no-border",e[0])},i(e){h||(Ae(p.$$.fragment,e),h=!0)},o(e){Ie(p.$$.fragment,e),h=!1},d(e){e&&k(t),Le(p),f=!1,g()}}}function QA(e,t,n){let r;c(e,Br,(e=>n(2,r=e)));let{selectedTab:o}=t,{noBorder:i=!1}=t,{dataTestId:a=""}=t;const s=e=>{g(Br,r.enableInlineTranslation=e,r),g(Br,r.enableInputTranslation=e,r),Ir({action:Tr.dlTrackUILocationClicked,payload:o===Jn?en:tn})};return e.$$set=e=>{"selectedTab"in e&&n(5,o=e.selectedTab),"noBorder"in e&&n(0,i=e.noBorder),"dataTestId"in e&&n(1,a=e.dataTestId)},[i,a,r,s,function(){Ir({action:Ar.dlOpenInternalPage,payload:{destination:pS}}),Ir({action:Tr.dlTrackUILocationClicked,payload:nn})},o,e=>s(e.detail.checked)]}class ZA extends De{constructor(e){super(),Me(this,e,QA,KA,a,{selectedTab:5,noBorder:0,dataTestId:1})}}function eI(n){let r,a,s,c,l;return a=new jE({props:{error:n[1],close:n[2]}}),{c(){r=O("div"),Pe(a.$$.fragment),U(r,"class","container svelte-1wstx56"),U(r,"dir",$r())},m(e,t){x(e,r,t),Ne(a,r,null),l=!0},p(e,t){const n={};2&t&&(n.error=e[1]),4&t&&(n.close=e[2]),a.$set(n)},i(e){l||(Ae(a.$$.fragment,e),pe((()=>{l&&(c&&c.end(1),s=ke(r,cS,{x:100,duration:1e3}),s.start())})),l=!0)},o(n){Ie(a.$$.fragment,n),s&&s.invalidate(),c=function(n,r,a){const s={direction:"out"};let c,l=r(n,a,s),u=!0;const d=we;let p;function h(){const{delay:r=0,duration:i=300,easing:a=t,tick:s=e,css:h}=l||xe;h&&(c=X(n,1,0,i,r,a,h));const f=_()+r,g=f+i;pe((()=>Se(n,!1,"start"))),"inert"in n&&(p=n.inert,n.inert=!0),T((e=>{if(u){if(e>=g)return s(0,1),Se(n,!1,"end"),--d.r||o(d.c),!1;if(e>=f){const t=a((e-f)/i);s(1-t,t)}}return u}))}return d.r+=1,i(l)?_e().then((()=>{l=l(s),h()})):h(),{end(e){e&&"inert"in n&&(n.inert=p),e&&l.tick&&l.tick(1,0),u&&(c&&K(n,c),u=!1)}}}(r,cS,{x:100,duration:1e3}),l=!1},d(e){e&&k(r),Le(a),e&&c&&c.end()}}}function tI(e){let t,n,r=e[3]&&!1===e[0]&&eI(e);return{c(){r&&r.c(),t=L()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,[n]){e[3]&&!1===e[0]?r?(r.p(e,n),9&n&&Ae(r,1)):(r=eI(e),r.c(),Ae(r,1),r.m(t.parentNode,t)):r&&(Te(),Ie(r,1,1,(()=>{r=null})),Ee())},i(e){n||(Ae(r),n=!0)},o(e){Ie(r),n=!1},d(e){e&&k(t),r&&r.d(e)}}}function nI(e,t,n){let r;c(e,pT,(e=>n(4,r=e))),re("text_direction",$r());let{error:o}=t,{close:i}=t,{errorAlreadyShown:a}=t,s=!1;return ee((()=>{setTimeout((()=>{n(3,s=!0),n(0,a=r)}),100)})),e.$$set=e=>{"error"in e&&n(1,o=e.error),"close"in e&&n(2,i=e.close),"errorAlreadyShown"in e&&n(0,a=e.errorAlreadyShown)},[a,o,i,s]}class rI extends De{constructor(e){super(),Me(this,e,nI,tI,a,{error:1,close:2,errorAlreadyShown:0})}}class oI{static HTML_TAG_NAME="deepl-alert";static createElement=(e=document)=>{const t=e.createElement(oI.HTML_TAG_NAME),n=new oI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{const t="rtl"===$r()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${ft.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new rI({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}const iI=function(){let e={isDarkMode:My()};const{subscribe:t,update:n}=Or(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>({...e,isDarkMode:My()})))})),{subscribe:t,update:e=>{if(Fr()&&!{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.DISABLE_DEBUG_LOGS){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>(e?.error?function(e){try{const t=oI.createElement();document.documentElement.appendChild(t),t.createDOM(e),uS((()=>t.cleanupDOM))}catch(e){Fr()&&console.log(e)}}(e.error):pT.set(!1),{...t,...e,error:e.error?e.error:void 0})))}}}();function aI(t){let n,r=chrome.i18n.getMessage("contact_admin_info_write_disabled")+"";return{c(){n=P(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function sI(t){let n;return{c(){n=O("p"),n.textContent=`${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function cI(t){let n,r,o,i;function a(e,t){return e[0]===zn.TRANSLATOR?sI:e[0]===zn.WRITE?aI:void 0}let s=a(t),c=s&&s(t);return{c(){n=O("div"),r=O("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=N(),i=O("div"),c&&c.c(),U(r,"class","icon svelte-16jsbww"),U(i,"class","text svelte-16jsbww"),U(n,"class","container svelte-16jsbww")},m(e,t){x(e,n,t),E(n,r),E(n,o),E(n,i),c&&c.m(i,null)},p(e,[t]){s===(s=a(e))&&c?c.p(e,t):(c&&c.d(1),c=s&&s(e),c&&(c.c(),c.m(i,null)))},i:e,o:e,d(e){e&&k(n),c&&c.d()}}}function lI(e,t,n){let{serviceName:r}=t;return e.$$set=e=>{"serviceName"in e&&n(0,r=e.serviceName)},[r]}iI.subscribe((e=>{e&&Object.keys(e).length>0&&Ir({action:"newWebsiteState",payload:{...e}})}));class uI extends De{constructor(e){super(),Me(this,e,lI,cI,a,{serviceName:0})}}const dI=np().filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),pI=()=>{const e=new rd({...ly,transport:id,stackParser:wd,integrations:dI}),t=new bs;return t.setClient(e),t.setContext("appContext",{location:"content"}),uy(t),{client:e,scope:t}};function hI(e){return/\bdark\b/gm.test(e)}pI(),function(){let e={isDarkMode:hI(document.body.className)};const{subscribe:t,update:n}=Or(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:hI(document.body.className)})))}))}));r.observe(document.body,{attributes:!0}),setTimeout((()=>{uS((()=>{r.disconnect()}))}))}();function fI(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}function gI(){return!!document.documentElement.hasAttribute("dark")}function mI(t){let n,r=Fr(),o=r&&function(e){let t,n,r,o;return{c(){t=O("div"),n=P(e[1]),U(t,"class","dev-label svelte-19c1aay"),q(t,"isInline",e[0])},m(i,a){x(i,t,a),E(t,n),r||(o=$(t,"click",e[2]),r=!0)},p(e,r){2&r&&V(n,e[1]),1&r&&q(t,"isInline",e[0])},d(e){e&&k(t),r=!1,o()}}}(t);return{c(){o&&o.c(),n=L()},m(e,t){o&&o.m(e,t),x(e,n,t)},p(e,[t]){r&&o.p(e,t)},i:e,o:e,d(e){e&&k(n),o&&o.d(e)}}}function vI(e,t,n){let{isInline:r=!1}=t,{text:o="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,r=e.isInline),"text"in e&&n(1,o=e.text)},[r,o,function(){Ir({action:Ar.dlOpenInternalPage,payload:{destination:dS}})}]}!function(){let e={isDarkMode:fI(document.body.style.backgroundColor)};const{subscribe:t,update:n}=Or(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:fI(document.body.style.backgroundColor)})))}))}));r.observe(document.body,{attributes:!0}),setTimeout((()=>{uS((()=>{r.disconnect()}))}))}(),function(){let e={isDarkMode:gI()};const{subscribe:t,update:n}=Or(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:gI(document.body.style.backgroundColor)})))}))}));r.observe(document,{attributes:!0}),setTimeout((()=>{uS((()=>{r.disconnect()}))}))}();class yI extends De{constructor(e){super(),Me(this,e,vI,mI,a,{isInline:0,text:1})}}new DOMParser,pI(),pI();const _I=[];let SI;window.onerror=function(e){/ResizeObserver/gm.test(e)&&_I.forEach((e=>e.resize.disconnect()))},pI();let bI,wI,TI=[];function EI(){TI.forEach((e=>{CI(e.original,e.clone),xI(e.original,e.clone),AI(e.original,!1)})),SI=tt.none}function AI(e,t){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(const n of e.childNodes)AI(n,t)}}function II(e,t){if(void 0===t.dataset)return null;if(e.dataset?.dlUid&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(const n of e.childNodes){const e=II(n,t);if(null!==e)return e}return null}function xI(e,t){const n=[];for(;e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(const e of n)t.appendChild(e)}function kI(e,t){if(null===e.parentNode||null===t.parentNode)return;const n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),xI(e,t)}function CI(e,t){for(const n of t.childNodes){const t=II(e,n);if(t){let r;r=t.dataset&&"true"===t.dataset.dlOriginal?t:t.cloneNode(!1),kI(r,n),CI(e,r)}else CI(e,n)}}async function OI(e,t="https://deepl.com/oidc/token"){const n=await fetch(t,{method:"POST",credentials:"omit",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:e})}),r=await n.json();return function(e,t){if(200!==e){if("invalid_request"===t.error)throw new xw(`dl-oidc (get tokens): invalid request - http status: ${e}`,e);if("invalid_grant"===t.error)throw new kw(`dl-oidc (get tokens): invalid grant - http status: ${e}`,e);throw new Cw(`dl-oidc (get tokens): http status: ${e}`,e)}}(n.status,r),r.access_token}async function RI(e,t,n=!1){let r=t.access_token;async function o(){return await fetch(e,{...t,headers:{...t.headers,Authorization:r?`Bearer ${r}`:"None"},...t.omitCookies&&{credentials:"omit"}})}n&&r&&(r=await OI(t.refresh_token,t.token_url));let i=await o();return 401!==i.status&&403!==i.status||(r=await OI(t.refresh_token,t.token_url),i=await o()),{response:i,accessToken:r}}function PI(){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}iI.subscribe((e=>{SI=e.translationState,e.translatedDOM&&(TI=e.translatedDOM.map((e=>e))),e.translationState!==wI&&(wI=e.translationState,SI===tt.showOriginal&&EI())})),Br.subscribe((e=>{if(0!==Object.keys(e).length){if(e.isLoggedIn,e.translatorServiceType,bI&&bI!==e.selectedTargetLanguage){const e=SI!==tt.none;e&&EI(),iI.update({translatedDOM:[]}),TI=[],e&&iI.update({translationState:tt.none})}bI=e.selectedTargetLanguage}}));const NI="translate",LI="write",$I="pro",MI="getTermbases",DI=async({config:e})=>{const t=`${await VI({...e,isTermbase:!0})}&method=${MI}`,n={jsonrpc:"2.0",method:MI,params:{},id:PI()};return await UI(t,{method:"POST",headers:{"Content-Type":"application/json"},body:FI(n)},e)},UI=async(e,t,n)=>{const r=await n.auth.getAuthTokens(),o=r?{access_token:r.access_token,refresh_token:r.refresh_token,token_url:n.auth.tokenUrl}:{},{response:i,accessToken:a}=await RI(e,{...t,...o,omitCookies:n.omitCookies});return await n.auth.setAuthTokens(a,r.refresh_token,r.id_token),await GI({response:i,isHtml:!1})},VI=async({auth:e,baseUrls:t,isTermbase:n},r=void 0)=>{const o=await e.getAuthTokens(),i=r===LI?t.write:t.translate;if(n)return t.glossary;if(!o||!o.access_token)return i.free;if(!e.getServiceLevels){const e=(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}})(o.access_token),t=e&&"Pro"===e.sessionType;return o.access_token&&t?i.pro:i.free}{const t=await e.getServiceLevels();switch(r){case LI:return t.write===$I?i.pro:i.free;case NI:return t.translator===$I?i.pro:i.free;default:return i.free}}},FI=e=>{let t=JSON.stringify(e);return t=(e.id+3)%13==0||(e.id+5)%29==0?t.replace('"method":"','"method" : "'):t.replace('"method":"','"method": "'),t},GI=async({response:e,isHtml:t})=>{let n;try{if(403===e.status)throw new uT(e.status.toString(),`Translation failed: Http status code ${e.status} forbidden request. re-authenticating makes no difference.`);if(401===e.status)throw new uT(e.status.toString(),`Translation failed: Http status code ${e.status} unauthorized request.`);n=JSON.parse(await e.text())}catch(n){throw 200===e.status?new lT("JSON_RPC: Parsing of response object failed"):e.status>=500&&t?new dT(`FPT failed: Http status code ${e.status}`):new uT(e.status.toString(),`Translation failed: Http status code ${e.status}`)}if("2.0"!==n.jsonrpc||void 0!==n.result&&200!==e.status||void 0===n.result&&void 0===n.error)throw new lT("JSON_RPC: missing field, wrong id, proper result without 200 status, or missing data");if(n.error){if(void 0===n.error.code)throw new lT('JSON_RPC: Missing field "code" in error response');throw new uT(n.error.code.toString(),n.error.message)}if(200!==e.status)throw new uT(e.status.toString(),`Http status code ${e.status}`);return n},jI=e=>{if(!(null==e?void 0:e.includes(">")))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} â ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`};function qI(e,t,n){const r=e.slice();return r[16]=t[n],r}function BI(t){let n,r,o,i,a,s,c,l,u,d,p;return{c(){n=O("div"),r=O("div"),o=N(),i=O("div"),a=O("div"),a.textContent=`${chrome.i18n.getMessage("glossary_failed_to_load_message")}`,s=N(),c=O("div"),c.textContent=`${chrome.i18n.getMessage("glossary_failed_try_again")}`,l=N(),u=O("div"),U(r,"class","icon info svelte-1d450ni"),U(i,"class","content-container svelte-1d450ni"),U(u,"class","icon close svelte-1d450ni"),U(n,"class","error-info-box svelte-1d450ni")},m(e,h){x(e,n,h),E(n,r),E(n,o),E(n,i),E(i,a),E(i,s),E(i,c),E(n,l),E(n,u),d||(p=$(u,"click",t[9]),d=!0)},p:e,d(e){e&&k(n),d=!1,p()}}}function WI(e){let t,n,r,o,i,a,s,c,l,u,d,p=e[2].name+"",h=Oe(e[5]),f=[];for(let t=0;t<h.length;t+=1)f[t]=HI(qI(e,h,t));let g=!e[4]&&e[7]&&JI(e);return{c(){t=O("div"),n=O("div"),r=O("div"),o=O("div"),i=P(p),a=N(),s=O("span"),c=N();for(let e=0;e<f.length;e+=1)f[e].c();l=N(),g&&g.c(),U(s,"class","linkout svelte-1d450ni"),U(r,"class","glossary-name-link svelte-1d450ni"),U(n,"class","info"),U(t,"class","glossary-item svelte-1d450ni")},m(p,h){x(p,t,h),E(t,n),E(n,r),E(r,o),E(o,i),E(r,a),E(r,s),E(n,c);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(n,null);E(n,l),g&&g.m(n,null),u||(d=$(o,"click",e[11]),u=!0)},p(e,t){if(4&t&&p!==(p=e[2].name+"")&&V(i,p),32&t){let r;for(h=Oe(e[5]),r=0;r<h.length;r+=1){const o=qI(e,h,r);f[r]?f[r].p(o,t):(f[r]=HI(o),f[r].c(),f[r].m(n,l))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}!e[4]&&e[7]?g?g.p(e,t):(g=JI(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},d(e){e&&k(t),C(f,e),g&&g.d(),u=!1,d()}}}function HI(e){let t,n,r=jI(e[16].languagePair)+"";return{c(){t=O("div"),n=P(r),U(t,"class","lang-pair svelte-1d450ni")},m(e,r){x(e,t,r),E(t,n)},p(e,t){32&t&&r!==(r=jI(e[16].languagePair)+"")&&V(n,r)},d(e){e&&k(t)}}}function JI(t){let n,r,o;return{c(){n=O("div"),n.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}`,U(n,"class","show-more svelte-1d450ni")},m(e,i){x(e,n,i),r||(o=$(n,"click",t[8]),r=!0)},p:e,d(e){e&&k(n),r=!1,o()}}}function zI(e){let t,n,r,o,i,a,s,c,l,u;s=new XA({props:{checked:e[3].activeTermbaseId&&e[3].isGlossaryEnabled}}),s.$on("change",e[14]);let d=e[6]&&BI(e),p=e[2]&&e[3].isGlossaryEnabled&&WI(e);return{c(){t=O("div"),n=O("div"),r=O("div"),o=O("p"),o.textContent=`${chrome.i18n.getMessage("glossary_label")}`,i=N(),a=O("div"),Pe(s.$$.fragment),c=N(),d&&d.c(),l=N(),p&&p.c(),U(o,"class","svelte-1d450ni"),U(r,"class","switch-content svelte-1d450ni"),U(a,"class","switch"),U(n,"class","settings-section switch-container svelte-1d450ni"),U(t,"class","toggle-container svelte-1d450ni"),U(t,"data-testid",e[1]),q(t,"no-border",e[0])},m(e,h){x(e,t,h),E(t,n),E(n,r),E(r,o),E(n,i),E(n,a),Ne(s,a,null),E(t,c),d&&d.m(t,null),E(t,l),p&&p.m(t,null),u=!0},p(e,[n]){const r={};8&n&&(r.checked=e[3].activeTermbaseId&&e[3].isGlossaryEnabled),s.$set(r),e[6]?d?d.p(e,n):(d=BI(e),d.c(),d.m(t,l)):d&&(d.d(1),d=null),e[2]&&e[3].isGlossaryEnabled?p?p.p(e,n):(p=WI(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),(!u||2&n)&&U(t,"data-testid",e[1]),(!u||1&n)&&q(t,"no-border",e[0])},i(e){u||(Ae(s.$$.fragment,e),u=!0)},o(e){Ie(s.$$.fragment,e),u=!1},d(e){e&&k(t),Le(s),d&&d.d(),p&&p.d()}}}function YI(e,t,n){let r;c(e,Br,(e=>n(3,r=e)));let o,{noBorder:i=!1}=t,{dataTestId:a=""}=t,s=[],l=!1,u=[],d=!1,p=!1;const h=()=>{if(r.activeTermbaseId&&(n(2,o=((e,t=[])=>{if(!e||0===t.length)return null;if(t.map((e=>e.id)).includes(e))return t.find((t=>t.id===e));return null})(r.activeTermbaseId,s)),o)){const e=o.termDictionaries;e.length<=3||l?n(5,u=e):(n(5,u=e.slice(0,3)),n(7,p=!0))}};function f(e){r.isLoggedIn&&(r.isGlossaryEnabled||r.activeTermbaseId)?(g(Br,r.isGlossaryEnabled=e,r),h()):m()}function m(){Ir({action:Ar.dlOpenInternalPage,payload:{destination:hS}})}ee((async()=>{const e=await Ir({action:br.dlGetUserState});if(Kr(e)){const[e,t]=await(async()=>{let e,t=[];try{const[n,r]=await Ir({action:wr.dlRequestTermbases});r?e=r:t=n}catch(t){console.error(t),e=t}return[t,e]})();if(t)return void n(6,d=!0);n(13,s=e),n(6,d=!1)}else g(Br,r.isGlossaryEnabled=!1,r)}));return e.$$set=e=>{"noBorder"in e&&n(0,i=e.noBorder),"dataTestId"in e&&n(1,a=e.dataTestId)},e.$$.update=()=>{8204&e.$$.dirty&&s&&s.length>0&&r.activeTermbaseId&&!o&&h()},[i,a,o,r,l,u,d,p,function(){n(4,l=!0)},function(){n(6,d=!1)},f,m,3,s,e=>f(e.detail.checked)]}class XI extends De{constructor(e){super(),Me(this,e,YI,zI,a,{PREVIEW_AMOUNT:12,noBorder:0,dataTestId:1})}get PREVIEW_AMOUNT(){return this.$$.ctx[12]}}class KI extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class QI extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class ZI extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class ex extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class tx extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class nx extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class rx extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class ox extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class ix{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class ax{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}var sx;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(sx||(sx={}));class cx{constructor(){}log(e,t){}}cx.instance=new cx;class lx{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class ux{static get isBrowser(){return!ux.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!ux.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!ux.isNode&&"object"==typeof window&&void 0===window.document}static get isNode(){return"undefined"!=typeof process&&process.release&&"node"===process.release.name}}function dx(e,t){let n="";return px(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach((e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `})),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function px(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function hx(e,t,n,r,o,i){const a={},[s,c]=mx();a[s]=c,e.log(sx.Trace,`(${t} transport) sending data. ${dx(o,i.logMessageContent)}.`);const l=px(o)?"arraybuffer":"text",u=await n.post(r,{content:o,headers:{...a,...i.headers},responseType:l,timeout:i.timeout,withCredentials:i.withCredentials});e.log(sx.Trace,`(${t} transport) request complete. Response status: ${u.statusCode}.`)}class fx{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}class gx{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${sx[e]}: ${t}`;switch(e){case sx.Critical:case sx.Error:this.out.error(n);break;case sx.Warning:this.out.warn(n);break;case sx.Information:this.out.info(n);break;default:this.out.log(n)}}}}function mx(){let e="X-SignalR-User-Agent";return ux.isNode&&(e="User-Agent"),[e,vx("8.0.7",yx(),Sx(),_x())]}function vx(e,t,n,r){let o="Microsoft SignalR/";const i=e.split(".");return o+=`${i[0]}.${i[1]}`,o+=` (${e}; `,o+=t&&""!==t?`${t}; `:"Unknown OS; ",o+=`${n}`,o+=r?`; ${r}`:"; Unknown Runtime Version",o+=")",o}function yx(){if(!ux.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function _x(){if(ux.isNode)return process.versions.node}function Sx(){return ux.isNode?"NodeJS":"Browser"}function bx(e){return e.stack?e.stack:e.message?e.message:`${e}`}class wx extends ax{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch||ux.isNode){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),"undefined"==typeof fetch?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new ZI;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new ZI});let r,o=null;if(e.timeout){const r=e.timeout;o=setTimeout((()=>{t.abort(),this._logger.log(sx.Warning,"Timeout from HTTP request."),n=new QI}),r)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},px(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{r=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(e){if(n)throw n;throw this._logger.log(sx.Warning,`Error from HTTP request. ${e}.`),e}finally{o&&clearTimeout(o),e.abortSignal&&(e.abortSignal.onabort=null)}if(!r.ok){const e=await Tx(r,"text");throw new KI(e||r.statusText,r.status)}const i=Tx(r,e.responseType),a=await i;return new ix(r.status,r.statusText,a)}getCookieString(e){let t="";return ux.isNode&&this._jar&&this._jar.getCookies(e,((e,n)=>t=n.join("; "))),t}}function Tx(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class Ex extends ax{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ZI):e.method?e.url?new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(px(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach((e=>{r.setRequestHeader(e,o[e])})),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new ZI)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new ix(r.status,r.statusText,r.response||r.responseText)):n(new KI(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(sx.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new KI(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(sx.Warning,"Timeout from HTTP request."),n(new QI)},r.send(e.content)})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Ax extends ax{constructor(e){if(super(),"undefined"!=typeof fetch||ux.isNode)this._httpClient=new wx(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new Ex(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ZI):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Ix{static write(e){return`${e}${Ix.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Ix.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(Ix.RecordSeparator);return t.pop(),t}}Ix.RecordSeparatorCode=30,Ix.RecordSeparator=String.fromCharCode(Ix.RecordSeparatorCode);class xx{writeHandshakeRequest(e){return Ix.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(px(e)){const r=new Uint8Array(e),o=r.indexOf(Ix.RecordSeparatorCode);if(-1===o)throw new Error("Message is incomplete.");const i=o+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,i))),n=r.byteLength>i?r.slice(i).buffer:null}else{const r=e,o=r.indexOf(Ix.RecordSeparator);if(-1===o)throw new Error("Message is incomplete.");const i=o+1;t=r.substring(0,i),n=r.length>i?r.substring(i):null}const r=Ix.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[n,o]}}var kx;!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"}(kx||(kx={}));let Cx=class{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new fx(this,e)}};class Ox{constructor(e,t,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=n}async _send(e){const t=this._protocol.writeMessage(e);let n=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let e=()=>{},r=()=>{};px(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise(((t,n)=>{e=t,r=n}))),this._messages.push(new Rx(t,this._totalMessageCount,e,r))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await n}_ack(e){let t=-1;for(let n=0;n<this._messages.length;n++){const r=this._messages[n];if(r._id<=e.sequenceId)t=n,px(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;r._resolver()}}-1!==t&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type===kx.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){e.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=0!==this._messages.length?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:kx.Sequence,sequenceId:e}));const t=this._messages;for(const e of t)await this._connection.send(e._message);this._reconnectInProgress=!1}_dispose(e){null!=e||(e=new Error("Unable to reconnect to server."));for(const t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case kx.Invocation:case kx.StreamItem:case kx.Completion:case kx.StreamInvocation:case kx.CancelInvocation:return!0;case kx.Close:case kx.Sequence:case kx.Ping:case kx.Ack:return!1}}_ackTimer(){void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout((async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:kx.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}}class Rx{constructor(e,t,n,r){this._message=e,this._id=t,this._resolver=n,this._rejector=r}}var Px;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(Px||(Px={}));class Nx{static create(e,t,n,r,o,i,a){return new Nx(e,t,n,r,o,i,a)}constructor(e,t,n,r,o,i,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(sx.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},lx.isRequired(e,"connection"),lx.isRequired(t,"logger"),lx.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=null!=o?o:3e4,this.keepAliveIntervalInMilliseconds=null!=i?i:15e3,this._statefulReconnectBufferSize=null!=a?a:1e5,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new xx,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Px.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:kx.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Px.Disconnected&&this._connectionState!==Px.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Px.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Px.Connecting,this._logger.log(sx.Debug,"Starting HubConnection.");try{await this._startInternal(),ux.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Px.Connected,this._connectionStarted=!0,this._logger.log(sx.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Px.Disconnected,this._logger.log(sx.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise(((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t}));await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);const n={protocol:this._protocol.name,version:t};if(this._logger.log(sx.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(sx.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Ox(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(sx.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(e){}}_stopInternal(e){if(this._connectionState===Px.Disconnected)return this._logger.log(sx.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Px.Disconnecting)return this._logger.log(sx.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const t=this._connectionState;return this._connectionState=Px.Disconnecting,this._logger.log(sx.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(sx.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Px.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new ZI("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r);let i;const a=new Cx;return a.cancelCallback=()=>{const e=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],i.then((()=>this._sendWithProtocol(e)))},this._callbacks[o.invocationId]=(e,t)=>{t?a.error(t):e&&(e.type===kx.Completion?e.error?a.error(new Error(e.error)):a.complete():a.next(e.item))},i=this._sendWithProtocol(o).catch((e=>{a.error(e),delete this._callbacks[o.invocationId]})),this._launchStreams(n,i),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,o),o}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r),i=new Promise(((e,t)=>{this._callbacks[o.invocationId]=(n,r)=>{r?t(r):n&&(n.type===kx.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(o).catch((e=>{t(e),delete this._callbacks[o.invocationId]}));this._launchStreams(n,r)}));return i}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const e of t)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(e))switch(e.type){case kx.Invocation:this._invokeClientMethod(e).catch((e=>{this._logger.log(sx.Error,`Invoke client method threw error: ${bx(e)}`)}));break;case kx.StreamItem:case kx.Completion:{const t=this._callbacks[e.invocationId];if(t){e.type===kx.Completion&&delete this._callbacks[e.invocationId];try{t(e)}catch(e){this._logger.log(sx.Error,`Stream callback threw error: ${bx(e)}`)}}break}case kx.Ping:break;case kx.Close:{this._logger.log(sx.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}case kx.Ack:this._messageBuffer&&this._messageBuffer._ack(e);break;case kx.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(e);break;default:this._logger.log(sx.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(e){const t="Error parsing handshake response: "+e;this._logger.log(sx.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(sx.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(sx.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===Px.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(sx.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(sx.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),o=!!e.invocationId;let i,a,s;for(const n of r)try{const r=i;i=await n.apply(this,e.arguments),o&&i&&r&&(this._logger.log(sx.Error,`Multiple results provided for '${t}'. Sending error to server.`),s=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(e){a=e,this._logger.log(sx.Error,`A callback for the method '${t}' threw error '${e}'.`)}s?await this._sendWithProtocol(s):o?(a?s=this._createCompletionMessage(e.invocationId,`${a}`,null):void 0!==i?s=this._createCompletionMessage(e.invocationId,null,i):(this._logger.log(sx.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),s=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(s)):i&&this._logger.log(sx.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(sx.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new ZI("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Px.Disconnecting?this._completeClose(e):this._connectionState===Px.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Px.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Px.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(null!=e?e:new Error("Connection closed.")),this._messageBuffer=void 0),ux.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(sx.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(n++,0,r);if(null===o)return this._logger.log(sx.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=Px.Reconnecting,e?this._logger.log(sx.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(sx.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(sx.Error,`An onreconnecting callback called with error '${e}' threw error '${t}'.`)}if(this._connectionState!==Px.Reconnecting)return void this._logger.log(sx.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(this._logger.log(sx.Information,`Reconnect attempt number ${n} will start in ${o} ms.`),await new Promise((e=>{this._reconnectDelayHandle=setTimeout(e,o)})),this._reconnectDelayHandle=void 0,this._connectionState!==Px.Reconnecting)return void this._logger.log(sx.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=Px.Connected,this._logger.log(sx.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((e=>e.apply(this,[this.connection.connectionId])))}catch(e){this._logger.log(sx.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`)}return}catch(e){if(this._logger.log(sx.Information,`Reconnect attempt failed because of error '${e}'.`),this._connectionState!==Px.Reconnecting)return this._logger.log(sx.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===Px.Disconnecting&&this._completeClose());r=e instanceof Error?e:new Error(e.toString()),o=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(sx.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(n){return this._logger.log(sx.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${n}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach((n=>{const r=t[n];try{r(null,e)}catch(t){this._logger.log(sx.Error,`Stream 'error' callback called with '${e}' threw error: ${bx(t)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:kx.Invocation}:{arguments:t,target:e,type:kx.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{arguments:t,invocationId:n.toString(),streamIds:r,target:e,type:kx.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:kx.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n))))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n,r))))},next:e=>{t=t.then((()=>this._sendWithProtocol(this._createStreamItemMessage(n,e))))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const o=e[r];if(this._isObservable(o)){const i=this._invocationId;this._invocationId++,t[i]=o,n.push(i.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:kx.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:kx.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:kx.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:kx.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:kx.Completion}:{invocationId:e,result:n,type:kx.Completion}}_createCloseMessage(){return{type:kx.Close}}}const Lx=[0,2e3,1e4,3e4,null];class $x{constructor(e){this._retryDelays=void 0!==e?[...e,null]:Lx}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Mx{}Mx.Authorization="Authorization",Mx.Cookie="Cookie";class Dx extends ax{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Mx.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Mx.Authorization]&&delete e.headers[Mx.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Ux,Vx;!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(Ux||(Ux={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(Vx||(Vx={}));let Fx=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Gx{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new Fx,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(lx.isRequired(e,"url"),lx.isRequired(t,"transferFormat"),lx.isIn(t,Vx,"transferFormat"),this._url=e,this._logger.log(sx.Trace,"(LongPolling transport) Connecting."),t===Vx.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=mx(),o={[n]:r,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===Vx.Binary&&(i.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(sx.Trace,`(LongPolling transport) polling: ${a}.`);const s=await this._httpClient.get(a,i);200!==s.statusCode?(this._logger.log(sx.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new KI(s.statusText||"",s.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(sx.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(sx.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(sx.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new KI(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(sx.Trace,`(LongPolling transport) data received. ${dx(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(sx.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){this._running?e instanceof QI?this._logger.log(sx.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=e,this._running=!1):this._logger.log(sx.Trace,`(LongPolling transport) Poll errored after shutdown: ${e.message}`)}}finally{this._logger.log(sx.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?hx(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(sx.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(sx.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,n]=mx();e[t]=n;const r={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,r)}catch(e){o=e}o?o instanceof KI&&(404===o.statusCode?this._logger.log(sx.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(sx.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(sx.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(sx.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(sx.Trace,e),this.onclose(this._closeError)}}}class jx{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return lx.isRequired(e,"url"),lx.isRequired(t,"transferFormat"),lx.isIn(t,Vx,"transferFormat"),this._logger.log(sx.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise(((n,r)=>{let o,i=!1;if(t===Vx.Text){if(ux.isBrowser||ux.isWebWorker)o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,i]=mx();n[r]=i,o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{o.onmessage=e=>{if(this.onreceive)try{this._logger.log(sx.Trace,`(SSE transport) data received. ${dx(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(e){return void this._close(e)}},o.onerror=e=>{i?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(sx.Information,`SSE connected to ${this._url}`),this._eventSource=o,i=!0,n()}}catch(e){return void r(e)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(e){return this._eventSource?hx(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class qx{constructor(e,t,n,r,o,i){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=i}async connect(e,t){let n;return lx.isRequired(e,"url"),lx.isRequired(t,"transferFormat"),lx.isIn(t,Vx,"transferFormat"),this._logger.log(sx.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise(((r,o)=>{let i;e=e.replace(/^http/,"ws");const a=this._httpClient.getCookieString(e);let s=!1;if(ux.isNode||ux.isReactNative){const t={},[r,o]=mx();t[r]=o,n&&(t[Mx.Authorization]=`Bearer ${n}`),a&&(t[Mx.Cookie]=a),i=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);i||(i=new this._webSocketConstructor(e)),t===Vx.Binary&&(i.binaryType="arraybuffer"),i.onopen=t=>{this._logger.log(sx.Information,`WebSocket connected to ${e}.`),this._webSocket=i,s=!0,r()},i.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(sx.Information,`(WebSockets transport) ${t}.`)},i.onmessage=e=>{if(this._logger.log(sx.Trace,`(WebSockets transport) data received. ${dx(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(e){return void this._close(e)}},i.onclose=e=>{if(s)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(t))}}}))}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(sx.Trace,`(WebSockets transport) sending data. ${dx(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(sx.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class Bx{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,lx.isRequired(e,"url"),this._logger=function(e){return void 0===e?new gx(sx.Information):null===e?cx.instance:void 0!==e.log?e:new gx(e)}(t.logger),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let n=null,r=null;if(ux.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;n=e("ws"),r=e("eventsource")}ux.isNode||"undefined"==typeof WebSocket||t.WebSocket?ux.isNode&&!t.WebSocket&&n&&(t.WebSocket=n):t.WebSocket=WebSocket,ux.isNode||"undefined"==typeof EventSource||t.EventSource?ux.isNode&&!t.EventSource&&void 0!==r&&(t.EventSource=r):t.EventSource=EventSource,this._httpClient=new Dx(t.httpClient||new Ax(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Vx.Binary,lx.isIn(e,Vx,"transferFormat"),this._logger.log(sx.Debug,`Starting connection with transfer format '${Vx[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(sx.Error,e),await this._stopPromise,Promise.reject(new ZI(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(sx.Error,e),Promise.reject(new ZI(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Wx(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(sx.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(sx.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((e=>{this._stopPromiseResolver=e})),await this._stopInternal(e),void await this._stopPromise)}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(e){}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(sx.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(sx.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==Ux.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(Ux.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new ZI("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof Gx&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(sx.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(e){return this._logger.log(sx.Error,"Failed to start the connection: "+e),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(e)}}async _getNegotiationResponse(e){const t={},[n,r]=mx();t[n]=r;const o=this._resolveNegotiateUrl(e);this._logger.log(sx.Debug,`Sending negotiation request: ${o}.`);try{const e=await this._httpClient.post(o,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n.useStatefulReconnect&&!0!==this._options._useStatefulReconnect?Promise.reject(new rx("Client didn't negotiate Stateful Reconnect but the server did.")):n}catch(e){let t="Failed to complete negotiation with the server: "+e;return e instanceof KI&&404===e.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(sx.Error,t),Promise.reject(new rx(t))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let o=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(sx.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(o,r),void(this.connectionId=n.connectionId);const i=[],a=n.availableTransports||[];let s=n;for(const n of a){const a=this._resolveTransportOrError(n,t,r,!0===(null==s?void 0:s.useStatefulReconnect));if(a instanceof Error)i.push(`${n.transport} failed:`),i.push(a);else if(this._isITransport(a)){if(this.transport=a,!s){try{s=await this._getNegotiationResponse(e)}catch(e){return Promise.reject(e)}o=this._createConnectUrl(e,s.connectionToken)}try{return await this._startTransport(o,r),void(this.connectionId=s.connectionId)}catch(e){if(this._logger.log(sx.Error,`Failed to start the transport '${n.transport}': ${e}`),s=void 0,i.push(new nx(`${n.transport} failed: ${e}`,Ux[n.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(sx.Debug,e),Promise.reject(new ZI(e))}}}}return i.length>0?Promise.reject(new ox(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Ux.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new qx(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Ux.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new jx(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Ux.LongPolling:return new Gx(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let r=!1;if(this.features.reconnect){try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{r=!0}r&&this._stopConnection(n)}else this._stopConnection(n)}:this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n,r){const o=Ux[e.transport];if(null==o)return this._logger.log(sx.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||!!(t&e)}(t,o))return this._logger.log(sx.Debug,`Skipping transport '${Ux[o]}' because it was disabled by the client.`),new tx(`'${Ux[o]}' is disabled by the client.`,o);if(!(e.transferFormats.map((e=>Vx[e])).indexOf(n)>=0))return this._logger.log(sx.Debug,`Skipping transport '${Ux[o]}' because it does not support the requested transfer format '${Vx[n]}'.`),new Error(`'${Ux[o]}' does not support ${Vx[n]}.`);if(o===Ux.WebSockets&&!this._options.WebSocket||o===Ux.ServerSentEvents&&!this._options.EventSource)return this._logger.log(sx.Debug,`Skipping transport '${Ux[o]}' because it is not supported in your environment.'`),new ex(`'${Ux[o]}' is not supported in your environment.`,o);this._logger.log(sx.Debug,`Selecting transport '${Ux[o]}'.`);try{return this.features.reconnect=o===Ux.WebSockets?r:void 0,this._constructTransport(o)}catch(e){return e}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(sx.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(sx.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(sx.Error,`Connection disconnected with error '${e}'.`):this._logger.log(sx.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((e=>{this._logger.log(sx.Error,`TransportSendQueue.stop() threw error '${e}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(sx.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(sx.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!ux.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(sx.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";const n=new URLSearchParams(t.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?"true"===n.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&n.append("useStatefulReconnect","true"),t.search=n.toString(),t.toString()}}class Wx{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Hx,this._transportResult=new Hx,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Hx),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Hx;const e=this._transportResult;this._transportResult=void 0;const t="string"==typeof this._buffer[0]?this._buffer.join(""):Wx._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(t){e.reject(t)}}}static _concatBuffers(e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let r=0;for(const t of e)n.set(new Uint8Array(t),r),r+=t.byteLength;return n.buffer}}class Hx{constructor(){this.promise=new Promise(((e,t)=>[this._resolver,this._rejecter]=[e,t]))}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class Jx{constructor(){this.name="json",this.version=2,this.transferFormat=Vx.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=cx.instance);const n=Ix.parse(e),r=[];for(const e of n){const n=JSON.parse(e);if("number"!=typeof n.type)throw new Error("Invalid payload.");switch(n.type){case kx.Invocation:this._isInvocationMessage(n);break;case kx.StreamItem:this._isStreamItemMessage(n);break;case kx.Completion:this._isCompletionMessage(n);break;case kx.Ping:case kx.Close:break;case kx.Ack:this._isAckMessage(n);break;case kx.Sequence:this._isSequenceMessage(n);break;default:t.log(sx.Information,"Unknown message type '"+n.type+"' ignored.");continue}r.push(n)}return r}writeMessage(e){return Ix.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const zx={trace:sx.Trace,debug:sx.Debug,info:sx.Information,information:sx.Information,warn:sx.Warning,warning:sx.Warning,error:sx.Error,critical:sx.Critical,none:sx.None};class Yx{configureLogging(e){if(lx.isRequired(e,"logging"),function(e){return void 0!==e.log}(e))this.logger=e;else if("string"==typeof e){const t=function(e){const t=zx[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new gx(t)}else this.logger=new gx(e);return this}withUrl(e,t){return lx.isRequired(e,"url"),lx.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return lx.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new $x(e):this.reconnectPolicy=e:this.reconnectPolicy=new $x,this}withServerTimeout(e){return lx.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return lx.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=null==e?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new Bx(this.url,e);return Nx.create(t,this.logger||cx.instance,this.protocol||new Jx,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}var Xx,Kx,Qx,Zx=4294967295;function ek(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}function tk(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var nk=("undefined"==typeof process||"never"!==(null===(Xx=null===process||void 0===process?void 0:process.env)||void 0===Xx?void 0:Xx.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function rk(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if(4294967168&o)if(4294965248&o){if(o>=55296&&o<=56319&&r<t){var i=e.charCodeAt(r);56320==(64512&i)&&(++r,o=((1023&o)<<10)+(1023&i)+65536)}n+=4294901760&o?4:3}else n+=2;else n++}return n}var ok=nk?new TextEncoder:void 0,ik=nk?"undefined"!=typeof process&&"force"!==(null===(Kx=null===process||void 0===process?void 0:process.env)||void 0===Kx?void 0:Kx.TEXT_ENCODING)?200:0:Zx;var ak=(null==ok?void 0:ok.encodeInto)?function(e,t,n){ok.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(ok.encode(e),n)};function sk(e,t,n){for(var r=t,o=r+n,i=[],a="";r<o;){var s=e[r++];if(128&s)if(192==(224&s)){var c=63&e[r++];i.push((31&s)<<6|c)}else if(224==(240&s)){c=63&e[r++];var l=63&e[r++];i.push((31&s)<<12|c<<6|l)}else if(240==(248&s)){var u=(7&s)<<18|(c=63&e[r++])<<12|(l=63&e[r++])<<6|63&e[r++];u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u)}else i.push(s);else i.push(s);i.length>=4096&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(a+=String.fromCharCode.apply(String,i)),a}var ck=nk?new TextDecoder:null,lk=nk?"undefined"!=typeof process&&"force"!==(null===(Qx=null===process||void 0===process?void 0:process.env)||void 0===Qx?void 0:Qx.TEXT_DECODER)?200:0:Zx;var uk=function(e,t){this.type=e,this.data=t},dk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pk=function(e){function t(n){var r=e.call(this,n)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return dk(t,e),t}(Error);var hk={type:-1,encode:function(e){var t,n,r,o;return e instanceof Date?function(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=17179869183){if(0===r&&n<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var i=n/4294967296,a=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,r<<2|3&i),t.setUint32(4,a),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,r),ek(t,4,n),o}((t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),o=Math.floor(r/1e9),{sec:n+o,nsec:r-1e9*o})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:tk(t,4),nsec:t.getUint32(0)};default:throw new pk("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},fk=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(hk)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var o=1+t;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){if(null!=(r=this.builtInEncoders[n]))if(null!=(o=r(e,t)))return new uk(-1-n,o)}for(n=0;n<this.encoders.length;n++){var r,o;if(null!=(r=this.encoders[n]))if(null!=(o=r(e,t)))return new uk(n,o)}return e instanceof uk?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new uk(t,e)},e.defaultCodec=new e,e}();function gk(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var mk=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=fk.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>ik){var t=rk(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),ak(e,this.bytes,this.pos),this.pos+=t}else{t=rk(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,o=n,i=0;i<r;){var a=e.charCodeAt(i++);if(4294967168&a){if(4294965248&a){if(a>=55296&&a<=56319&&i<r){var s=e.charCodeAt(i);56320==(64512&s)&&(++i,a=((1023&a)<<10)+(1023&s)+65536)}4294901760&a?(t[o++]=a>>18&7|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128):(t[o++]=a>>12&15|224,t[o++]=a>>6&63|128)}else t[o++]=a>>6&31|192;t[o++]=63&a|128}else t[o++]=a}}(e,this.bytes,this.pos),this.pos+=t}},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=gk(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,o=e;r<o.length;r++){var i=o[r];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,o=t;r<o.length;r++){void 0!==e[o[r]]&&n++}return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var o=0,i=n;o<i.length;o++){var a=i[o],s=e[a];this.ignoreUndefined&&void 0===s||(this.encodeString(a),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),ek(this.view,this.pos,e),this.pos+=8},e}();function vk(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var yk=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,o=this.caches[n-1];r<o.length;r++){for(var i=o[r],a=i.bytes,s=0;s<n;s++)if(a[s]!==e[t+s])continue e;return i.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var o=sk(e,t,n),i=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(i,o),o},e}(),_k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Sk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bk=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},wk=function(e){return this instanceof wk?(this.v=e,this):new wk(e)},Tk=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof wk?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},Ek=new DataView(new ArrayBuffer(0)),Ak=new Uint8Array(Ek.buffer),Ik=function(){try{Ek.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),xk=new Ik("Insufficient data"),kk=new yk,Ck=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=fk.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=Zx),void 0===r&&(r=Zx),void 0===o&&(o=Zx),void 0===i&&(i=Zx),void 0===a&&(a=Zx),void 0===s&&(s=kk),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=o,this.maxMapLength=i,this.maxExtLength=a,this.keyDecoder=s,this.totalPos=0,this.pos=0,this.view=Ek,this.bytes=Ak,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=gk(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=gk(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=gk(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return Sk(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,o;return _k(this,void 0,void 0,(function(){var i,a,s,c,l,u,d,p;return Sk(this,(function(h){switch(h.label){case 0:i=!1,h.label=1;case 1:h.trys.push([1,6,7,12]),t=bk(e),h.label=2;case 2:return[4,t.next()];case 3:if((n=h.sent()).done)return[3,5];if(s=n.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof Ik))throw e}this.totalPos+=this.pos,h.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=h.sent(),r={error:c},[3,12];case 7:return h.trys.push([7,,10,11]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:h.sent(),h.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw u=(l=this).headByte,d=l.pos,p=l.totalPos,new RangeError("Insufficient data in parsing ".concat(vk(u)," at ").concat(p," (").concat(d," in the current buffer)"))}}))}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return Tk(this,arguments,(function(){var n,r,o,i,a,s,c,l,u;return Sk(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=bk(e),d.label=2;case 2:return[4,wk(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(a=i.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,wk(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=d.sent())instanceof Ik))throw s;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),l={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(u=o.return)?[4,wk(u.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(l)throw l.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!==(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){n=this.lookU8();t=this.decodeUtf8String(n,1)}else if(218===e){n=this.lookU16();t=this.decodeUtf8String(n,2)}else if(219===e){n=this.lookU32();t=this.decodeUtf8String(n,4)}else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e){r=this.lookU16();t=this.decodeBinary(r,2)}else if(198===e){r=this.lookU32();t=this.decodeBinary(r,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){r=this.lookU8();t=this.decodeExtension(r,1)}else if(200===e){r=this.lookU16();t=this.decodeExtension(r,2)}else{if(201!==e)throw new pk("Unrecognized type byte: ".concat(vk(e)));r=this.lookU32();t=this.decodeExtension(r,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(a=void 0,"string"!==(a=typeof t)&&"number"!==a)throw new pk("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new pk("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new pk("Unrecognized array type byte: ".concat(vk(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new pk("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new pk("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new pk("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw xk;var r,o=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>lk?function(e,t,n){var r=e.subarray(t,t+n);return ck.decode(r)}(this.bytes,o,e):sk(this.bytes,o,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new pk("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw xk;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new pk("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=tk(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}();class Ok{static write(e){let t=e.byteLength||e.length;const n=[];do{let e=127&t;t>>=7,t>0&&(e|=128),n.push(e)}while(t>0);t=e.byteLength||e.length;const r=new Uint8Array(n.length+t);return r.set(n,0),r.set(e,n.length),r.buffer}static parse(e){const t=[],n=new Uint8Array(e),r=[0,7,14,21,28];for(let o=0;o<e.byteLength;){let i,a=0,s=0;do{i=n[o+a],s|=(127&i)<<r[a],a++}while(a<Math.min(5,e.byteLength-o)&&128&i);if(128&i&&a<5)throw new Error("Cannot read message size.");if(5===a&&i>7)throw new Error("Messages bigger than 2GB are not supported.");if(!(n.byteLength>=o+a+s))throw new Error("Incomplete message.");t.push(n.slice?n.slice(o+a,o+a+s):n.subarray(o+a,o+a+s)),o=o+a+s}return t}}const Rk=new Uint8Array([145,kx.Ping]);class Pk{constructor(e){this.name="messagepack",this.version=2,this.transferFormat=Vx.Binary,this._errorResult=1,this._voidResult=2,this._nonVoidResult=3,e=e||{},this._encoder=new mk(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat),this._decoder=new Ck(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength)}parseMessages(e,t){if(!(n=e)||"undefined"==typeof ArrayBuffer||!(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name))throw new Error("Invalid input for MessagePack hub protocol. Expected an ArrayBuffer.");var n;null===t&&(t=cx.instance);const r=Ok.parse(e),o=[];for(const e of r){const n=this._parseMessage(e,t);n&&o.push(n)}return o}writeMessage(e){switch(e.type){case kx.Invocation:return this._writeInvocation(e);case kx.StreamInvocation:return this._writeStreamInvocation(e);case kx.StreamItem:return this._writeStreamItem(e);case kx.Completion:return this._writeCompletion(e);case kx.Ping:return Ok.write(Rk);case kx.CancelInvocation:return this._writeCancelInvocation(e);case kx.Close:return this._writeClose();case kx.Ack:return this._writeAck(e);case kx.Sequence:return this._writeSequence(e);default:throw new Error("Invalid message type.")}}_parseMessage(e,t){if(0===e.length)throw new Error("Invalid payload.");const n=this._decoder.decode(e);if(0===n.length||!(n instanceof Array))throw new Error("Invalid payload.");const r=n[0];switch(r){case kx.Invocation:return this._createInvocationMessage(this._readHeaders(n),n);case kx.StreamItem:return this._createStreamItemMessage(this._readHeaders(n),n);case kx.Completion:return this._createCompletionMessage(this._readHeaders(n),n);case kx.Ping:return this._createPingMessage(n);case kx.Close:return this._createCloseMessage(n);case kx.Ack:return this._createAckMessage(n);case kx.Sequence:return this._createSequenceMessage(n);default:return t.log(sx.Information,"Unknown message type '"+r+"' ignored."),null}}_createCloseMessage(e){if(e.length<2)throw new Error("Invalid payload for Close message.");return{allowReconnect:e.length>=3?e[2]:void 0,error:e[1],type:kx.Close}}_createPingMessage(e){if(e.length<1)throw new Error("Invalid payload for Ping message.");return{type:kx.Ping}}_createInvocationMessage(e,t){if(t.length<5)throw new Error("Invalid payload for Invocation message.");const n=t[2];return n?{arguments:t[4],headers:e,invocationId:n,streamIds:[],target:t[3],type:kx.Invocation}:{arguments:t[4],headers:e,streamIds:[],target:t[3],type:kx.Invocation}}_createStreamItemMessage(e,t){if(t.length<4)throw new Error("Invalid payload for StreamItem message.");return{headers:e,invocationId:t[2],item:t[3],type:kx.StreamItem}}_createCompletionMessage(e,t){if(t.length<4)throw new Error("Invalid payload for Completion message.");const n=t[3];if(n!==this._voidResult&&t.length<5)throw new Error("Invalid payload for Completion message.");let r,o;switch(n){case this._errorResult:r=t[4];break;case this._nonVoidResult:o=t[4]}return{error:r,headers:e,invocationId:t[2],result:o,type:kx.Completion}}_createAckMessage(e){if(e.length<1)throw new Error("Invalid payload for Ack message.");return{sequenceId:e[1],type:kx.Ack}}_createSequenceMessage(e){if(e.length<1)throw new Error("Invalid payload for Sequence message.");return{sequenceId:e[1],type:kx.Sequence}}_writeInvocation(e){let t;return t=e.streamIds?this._encoder.encode([kx.Invocation,e.headers||{},e.invocationId||null,e.target,e.arguments,e.streamIds]):this._encoder.encode([kx.Invocation,e.headers||{},e.invocationId||null,e.target,e.arguments]),Ok.write(t.slice())}_writeStreamInvocation(e){let t;return t=e.streamIds?this._encoder.encode([kx.StreamInvocation,e.headers||{},e.invocationId,e.target,e.arguments,e.streamIds]):this._encoder.encode([kx.StreamInvocation,e.headers||{},e.invocationId,e.target,e.arguments]),Ok.write(t.slice())}_writeStreamItem(e){const t=this._encoder.encode([kx.StreamItem,e.headers||{},e.invocationId,e.item]);return Ok.write(t.slice())}_writeCompletion(e){const t=e.error?this._errorResult:void 0!==e.result?this._nonVoidResult:this._voidResult;let n;switch(t){case this._errorResult:n=this._encoder.encode([kx.Completion,e.headers||{},e.invocationId,t,e.error]);break;case this._voidResult:n=this._encoder.encode([kx.Completion,e.headers||{},e.invocationId,t]);break;case this._nonVoidResult:n=this._encoder.encode([kx.Completion,e.headers||{},e.invocationId,t,e.result])}return Ok.write(n.slice())}_writeCancelInvocation(e){const t=this._encoder.encode([kx.CancelInvocation,e.headers||{},e.invocationId]);return Ok.write(t.slice())}_writeClose(){const e=this._encoder.encode([kx.Close,null]);return Ok.write(e.slice())}_writeAck(e){const t=this._encoder.encode([kx.Ack,e.sequenceId]);return Ok.write(t.slice())}_writeSequence(e){const t=this._encoder.encode([kx.Sequence,e.sequenceId]);return Ok.write(t.slice())}_readHeaders(e){const t=e[1];if("object"!=typeof t)throw new Error("Invalid headers.");return t}}function Nk(e){return"function"==typeof e}function Lk(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $k=Lk((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Mk(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Dk=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=je(i),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(Nk(c))try{c()}catch(e){o=e instanceof $k?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=je(l),d=u.next();!d.done;d=u.next()){var p=d.value;try{Fk(p)}catch(e){o=null!=o?o:[],e instanceof $k?o=Be(Be([],qe(o)),qe(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(o)throw new $k(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Fk(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Mk(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Mk(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Uk=Dk.EMPTY;function Vk(e){return e instanceof Dk||e&&"closed"in e&&Nk(e.remove)&&Nk(e.add)&&Nk(e.unsubscribe)}function Fk(e){Nk(e)?e():e.unsubscribe()}var Gk={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},jk={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Be([e,t],qe(n)))},clearTimeout:function(e){var t=jk.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function qk(e){jk.setTimeout((function(){throw e}))}function Bk(){}function Wk(e){e()}var Hk=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Vk(t)&&t.add(n)):n.destination=Xk,n}return Ve(t,e),t.create=function(e,t,n){return new zk(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Dk),Jk=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Yk(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Yk(e)}else Yk(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Yk(e)}},e}(),zk=function(e){function t(t,n,r){var o,i=e.call(this)||this;return o=Nk(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,i.destination=new Jk(o),i}return Ve(t,e),t}(Hk);function Yk(e){qk(e)}var Xk={closed:!0,next:Bk,error:function(e){throw e},complete:Bk},Kk="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qk(e){return e}var Zk=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof Hk||function(e){return e&&Nk(e.next)&&Nk(e.error)&&Nk(e.complete)}(r)&&Vk(r)?e:new zk(e,t,n);return Wk((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=eC(t))((function(t,r){var o=new zk({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Kk]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?Qk:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=eC(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function eC(e){var t;return null!==(t=null!=e?e:Gk.Promise)&&void 0!==t?t:Promise}function tC(e){return function(t){if(function(e){return Nk(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function nC(e,t,n,r,o){return new rC(e,t,n,r,o)}var rC=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Ve(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Hk),oC=Lk((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),iC=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ve(t,e),t.prototype.lift=function(e){var t=new aC(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new oC},t.prototype.next=function(e){var t=this;Wk((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=je(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Wk((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Wk((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?Uk:(this.currentObservers=null,i.push(e),new Dk((function(){t.currentObservers=null,Mk(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new Zk;return e.source=this,e},t.create=function(e,t){return new aC(e,t)},t}(Zk),aC=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Ve(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Uk},t}(iC),sC=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Ve(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(iC);function cC(e){return e[e.length-1]}function lC(e){return(t=cC(e))&&Nk(t.schedule)?e.pop():void 0;var t}var uC=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function dC(e){return Nk(null==e?void 0:e.then)}function pC(e){return Nk(e[Kk])}function hC(e){return Symbol.asyncIterator&&Nk(null==e?void 0:e[Symbol.asyncIterator])}function fC(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var gC="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function mC(e){return Nk(null==e?void 0:e[gC])}function vC(e){return He(this,arguments,(function(){var t,n,r;return Ge(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,We(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,We(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,We(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function yC(e){return Nk(null==e?void 0:e.getReader)}function _C(e){if(e instanceof Zk)return e;if(null!=e){if(pC(e))return r=e,new Zk((function(e){var t=r[Kk]();if(Nk(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(uC(e))return n=e,new Zk((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(dC(e))return function(e){return new Zk((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,qk)}))}(e);if(hC(e))return SC(e);if(mC(e))return t=e,new Zk((function(e){var n,r;try{for(var o=je(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(yC(e))return SC(vC(e))}var t,n,r;throw fC(e)}function SC(e){return new Zk((function(t){(function(e,t){var n,r,o,i;return Fe(this,void 0,void 0,(function(){var a,s;return Ge(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Je(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function bC(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function wC(e,t){return void 0===t&&(t=0),tC((function(n,r){n.subscribe(nC(r,(function(n){return bC(r,e,(function(){return r.next(n)}),t)}),(function(){return bC(r,e,(function(){return r.complete()}),t)}),(function(n){return bC(r,e,(function(){return r.error(n)}),t)})))}))}function TC(e,t){return void 0===t&&(t=0),tC((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function EC(e,t){if(!e)throw new Error("Iterable cannot be null");return new Zk((function(n){bC(n,t,(function(){var r=e[Symbol.asyncIterator]();bC(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function AC(e,t){if(null!=e){if(pC(e))return function(e,t){return _C(e).pipe(TC(t),wC(t))}(e,t);if(uC(e))return function(e,t){return new Zk((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(dC(e))return function(e,t){return _C(e).pipe(TC(t),wC(t))}(e,t);if(hC(e))return EC(e,t);if(mC(e))return function(e,t){return new Zk((function(n){var r;return bC(n,t,(function(){r=e[gC](),bC(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return Nk(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(yC(e))return function(e,t){return EC(vC(e),t)}(e,t)}throw fC(e)}function IC(e,t){return t?AC(e,t):_C(e)}function xC(e,t){return tC((function(n,r){var o=0;n.subscribe(nC(r,(function(n){r.next(e.call(t,n,o++))})))}))}var kC=Array.isArray;function CC(e){return xC((function(t){return function(e,t){return kC(t)?e.apply(void 0,Be([],qe(t))):e(t)}(e,t)}))}var OC=Array.isArray,RC=Object.getPrototypeOf,PC=Object.prototype,NC=Object.keys;function LC(e){if(1===e.length){var t=e[0];if(OC(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&RC(r)===PC){var n=NC(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}function $C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=lC(e),r=function(e){return Nk(cC(e))?e.pop():void 0}(e),o=LC(e),i=o.args,a=o.keys;if(0===i.length)return IC([],n);var s=new Zk(function(e,t,n){void 0===n&&(n=Qk);return function(r){MC(t,(function(){for(var o=e.length,i=new Array(o),a=o,s=o,c=function(o){MC(t,(function(){var c=IC(e[o],t),l=!1;c.subscribe(nC(r,(function(e){i[o]=e,l||(l=!0,s--),s||r.next(n(i.slice()))}),(function(){--a||r.complete()})))}),r)},l=0;l<o;l++)c(l)}),r)}}(i,n,a?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(a,e)}:Qk));return r?s.pipe(CC(r)):s}function MC(e,t,n){e?bC(n,e,t):t()}function DC(e,t){return tC((function(n,r){var o=0;n.subscribe(nC(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function UC(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new zk({next:function(){o.unsubscribe(),e()}});return _C(t.apply(void 0,Be([],qe(n)))).subscribe(o)}}else e()}function VC(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function FC(e,t,n){for(let r=0;r<28;r+=7){const o=e>>>r,i=!(o>>>7==0&&0==t),a=255&(i?128|o:o);if(n.push(a),!i)return}const r=e>>>28&15|(7&t)<<4,o=!!(t>>3);if(n.push(255&(o?128|r:r)),o){for(let e=3;e<31;e+=7){const r=t>>>e,o=!(r>>>7==0),i=255&(o?128|r:r);if(n.push(i),!o)return}n.push(t>>>31&1)}}const GC=4294967296;function jC(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let r=0,o=0;function i(t,i){const a=Number(e.slice(t,i));o*=n,r=r*n+a,r>=GC&&(o+=r/GC|0,r%=GC)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?WC(r,o):BC(r,o)}function qC(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(GC*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let o=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,a=2*r;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+HC(i)+HC(o)}function BC(e,t){return{lo:0|e,hi:0|t}}function WC(e,t){return t=~t,e?e=1+~e:t+=1,BC(e,t)}const HC=e=>{const t=String(e);return"0000000".slice(t.length)+t};function JC(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function zC(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const YC=XC();function XC(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error(`invalid int64: ${e}`);return r},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>o||t<r)throw new Error(`invalid uint64: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),KC(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),QC(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),KC(e),jC(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),QC(e),jC(e)),dec:(e,t)=>function(e,t){let n=BC(e,t);const r=2147483648&n.hi;r&&(n=WC(n.lo,n.hi));const o=qC(n.lo,n.hi);return r?"-"+o:o}(e,t),uDec:(e,t)=>qC(e,t)}}function KC(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function QC(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}const ZC=Symbol.for("@bufbuild/protobuf/text-encoding");function eO(){if(null==globalThis[ZC]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[ZC]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[ZC]}var tO;!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(tO||(tO={}));const nO=34028234663852886e22,rO=-34028234663852886e22;class oO{constructor(e=eO().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(sO(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return aO(e),JC(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>nO||e<rO))throw new Error("invalid float32: "+e)}(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){sO(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){aO(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return aO(e),JC(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=YC.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=YC.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=YC.enc(e);return FC(t.lo,t.hi,this.buf),this}sint64(e){let t=YC.enc(e),n=t.hi>>31;return FC(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=YC.uEnc(e);return FC(t.lo,t.hi,this.buf),this}}class iO{constructor(e,t=eO().decodeUtf8){this.decodeUtf8=t,this.varint64=VC,this.uint32=zC,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case tO.Varint:for(;128&this.buf[this.pos++];);break;case tO.Bit64:this.pos+=4;case tO.Bit32:this.pos+=4;break;case tO.LengthDelimited:let n=this.uint32();this.pos+=n;break;case tO.StartGroup:for(;;){const[e,n]=this.tag();if(n===tO.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return YC.dec(...this.varint64())}uint64(){return YC.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,YC.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return YC.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return YC.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}function aO(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int32: "+e)}function sO(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint32: "+e)}const cO={$type:"google.protobuf.Timestamp",encode:(e,t=new oO)=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Timestamp",seconds:0,nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=lO(n.int64());continue;case 2:if(16!==e)break;o.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cO.$type,seconds:uO(e.seconds)?globalThis.Number(e.seconds):0,nanos:uO(e.nanos)?globalThis.Number(e.nanos):0}),toJSON(e){const t={};return 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>cO.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"google.protobuf.Timestamp",seconds:0,nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:0,r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}};function lO(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function uO(e){return null!=e}const dO={$type:"google.protobuf.Int32Value",encode:(e,t=new oO)=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Int32Value",value:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.value=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:dO.$type,value:(t=e.value,null!=t?globalThis.Number(e.value):0)};var t},toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>dO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"google.protobuf.Int32Value",value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}};const pO={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",encode:(e,t=new oO)=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:pO.$type,text:(t=e.text,null!=t?globalThis.String(e.text):"")};var t},toJSON(e){const t={};return""!==e.text&&(t.text=e.text),t},create:e=>pO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",text:""};return n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const hO={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:hO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>hO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const fO={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",encode(e,t=new oO){void 0!==e.flowId&&hO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)pO.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=hO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(pO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:fO.$type,flowId:(t=e.flowId,null!=t?hO.fromJSON(e.flowId):void 0),alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>pO.fromJSON(e))):[]};var t},toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=hO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>pO.toJSON(e)))),n},create:e=>fO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?hO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>pO.fromPartial(e))))||[],n}};const gO={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:gO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>gO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const mO={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&gO.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:mO.$type,flowId:(t=e.flowId,null!=t?gO.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=gO.toJSON(e.flowId)),t},create:e=>mO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?gO.fromPartial(e.flowId):void 0,t}};const vO={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&hO.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=hO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:vO.$type,flowId:(t=e.flowId,null!=t?hO.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=hO.toJSON(e.flowId)),t},create:e=>vO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?hO.fromPartial(e.flowId):void 0,t}};const yO={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",encode:(e,t=new oO)=>(""!==e.selection&&t.uint32(10).string(e.selection),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:yO.$type,selection:(t=e.selection,null!=t?globalThis.String(e.selection):"")};var t},toJSON(e){const t={};return""!==e.selection&&(t.selection=e.selection),t},create:e=>yO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",selection:""};return n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};const _O={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&gO.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_O.$type,flowId:SO(e.flowId)?gO.fromJSON(e.flowId):void 0,selection:SO(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=gO.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>_O.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?gO.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function SO(e){return null!=e}const bO={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&hO.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=hO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bO.$type,flowId:wO(e.flowId)?hO.fromJSON(e.flowId):void 0,selection:wO(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=hO.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>bO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?hO.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function wO(e){return null!=e}const TO={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:TO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>TO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const EO={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",encode(e,t=new oO){void 0!==e.textFormattingId&&TO.encode(e.textFormattingId,t.uint32(10).fork()).join(),""!==e.name&&t.uint32(18).string(e.name);for(const n of e.children)TO.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",textFormattingId:void 0,name:"",children:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textFormattingId=TO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.children.push(TO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:EO.$type,textFormattingId:AO(e.textFormattingId)?TO.fromJSON(e.textFormattingId):void 0,name:AO(e.name)?globalThis.String(e.name):"",children:globalThis.Array.isArray(null==e?void 0:e.children)?e.children.map((e=>TO.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.textFormattingId&&(n.textFormattingId=TO.toJSON(e.textFormattingId)),""!==e.name&&(n.name=e.name),(null===(t=e.children)||void 0===t?void 0:t.length)&&(n.children=e.children.map((e=>TO.toJSON(e)))),n},create:e=>EO.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",textFormattingId:void 0,name:"",children:[]};return r.textFormattingId=void 0!==e.textFormattingId&&null!==e.textFormattingId?TO.fromPartial(e.textFormattingId):void 0,r.name=null!==(t=e.name)&&void 0!==t?t:"",r.children=(null===(n=e.children)||void 0===n?void 0:n.map((e=>TO.fromPartial(e))))||[],r}};function AO(e){return null!=e}const IO={$type:"deepl.pb.interactive_text_api.TextRange",encode:(e,t=new oO)=>(0!==e.start&&t.uint32(8).int32(e.start),0!==e.end&&t.uint32(16).int32(e.end),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.TextRange",start:0,end:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.start=n.int32();continue;case 2:if(16!==e)break;o.end=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:IO.$type,start:xO(e.start)?globalThis.Number(e.start):0,end:xO(e.end)?globalThis.Number(e.end):0}),toJSON(e){const t={};return 0!==e.start&&(t.start=Math.round(e.start)),0!==e.end&&(t.end=Math.round(e.end)),t},create:e=>IO.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.TextRange",start:0,end:0};return r.start=null!==(t=e.start)&&void 0!==t?t:0,r.end=null!==(n=e.end)&&void 0!==n?n:0,r}};function xO(e){return null!=e}const kO={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:kO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>kO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const CO={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.textUnitId&&kO.encode(e.textUnitId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",textUnitId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textUnitId=kO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:CO.$type,textUnitId:(t=e.textUnitId,null!=t?kO.fromJSON(e.textUnitId):void 0)};var t},toJSON(e){const t={};return void 0!==e.textUnitId&&(t.textUnitId=kO.toJSON(e.textUnitId)),t},create:e=>CO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",textUnitId:void 0};return t.textUnitId=void 0!==e.textUnitId&&null!==e.textUnitId?kO.fromPartial(e.textUnitId):void 0,t}};const OO={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:OO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>OO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const RO={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",encode:(e,t=new oO)=>(""!==e.id&&t.uint32(10).string(e.id),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",id:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:RO.$type,id:(t=e.id,null!=t?globalThis.String(e.id):"")};var t},toJSON(e){const t={};return""!==e.id&&(t.id=e.id),t},create:e=>RO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",id:""};return n.id=null!==(t=e.id)&&void 0!==t?t:"",n}};var PO,NO;function LO(e){switch(e){case 0:case"CALCULATED_LANGUAGE_ORIGIN_UNSPECIFIED":return PO.UNSPECIFIED;case 1:case"CALCULATED_LANGUAGE_ORIGIN_REQUESTED_LANGUAGE":return PO.REQUESTED_LANGUAGE;case 2:case"CALCULATED_LANGUAGE_ORIGIN_LANGUAGE_DETECTION":return PO.LANGUAGE_DETECTION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CalculatedLanguageOrigin")}}function $O(e){switch(e){case PO.UNSPECIFIED:return"CALCULATED_LANGUAGE_ORIGIN_UNSPECIFIED";case PO.REQUESTED_LANGUAGE:return"CALCULATED_LANGUAGE_ORIGIN_REQUESTED_LANGUAGE";case PO.LANGUAGE_DETECTION:return"CALCULATED_LANGUAGE_ORIGIN_LANGUAGE_DETECTION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CalculatedLanguageOrigin")}}function MO(e){switch(e){case 0:case"TEXT_DIRECTION_UNSPECIFIED":return NO.UNSPECIFIED;case 1:case"TEXT_DIRECTION_LEFT_TO_RIGHT":return NO.LEFT_TO_RIGHT;case 2:case"TEXT_DIRECTION_RIGHT_TO_LEFT":return NO.RIGHT_TO_LEFT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TextDirection")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REQUESTED_LANGUAGE=1]="REQUESTED_LANGUAGE",e[e.LANGUAGE_DETECTION=2]="LANGUAGE_DETECTION"}(PO||(PO={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=2]="RIGHT_TO_LEFT"}(NO||(NO={}));const DO={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&OO.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=OO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DO.$type,flowId:IR(e.flowId)?OO.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=OO.toJSON(e.flowId)),t},create:e=>DO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?OO.fromPartial(e.flowId):void 0,t}};const UO={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",encode(e,t=new oO){void 0!==e.flowId&&OO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.autocompletions)yR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",flowId:void 0,autocompletions:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=OO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.autocompletions.push(yR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:UO.$type,flowId:IR(e.flowId)?OO.fromJSON(e.flowId):void 0,autocompletions:globalThis.Array.isArray(null==e?void 0:e.autocompletions)?e.autocompletions.map((e=>yR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=OO.toJSON(e.flowId)),(null===(t=e.autocompletions)||void 0===t?void 0:t.length)&&(n.autocompletions=e.autocompletions.map((e=>yR.toJSON(e)))),n},create:e=>UO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",flowId:void 0,autocompletions:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?OO.fromPartial(e.flowId):void 0,n.autocompletions=(null===(t=e.autocompletions)||void 0===t?void 0:t.map((e=>yR.fromPartial(e))))||[],n}};const VO={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&OO.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=OO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:VO.$type,flowId:IR(e.flowId)?OO.fromJSON(e.flowId):void 0,selection:IR(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=OO.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>VO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?OO.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};const FO={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.replacement&&hR.encode(e.replacement,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",replacement:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.replacement=hR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:FO.$type,replacement:IR(e.replacement)?hR.fromJSON(e.replacement):void 0}),toJSON(e){const t={};return void 0!==e.replacement&&(t.replacement=hR.toJSON(e.replacement)),t},create:e=>FO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",replacement:void 0};return t.replacement=void 0!==e.replacement&&null!==e.replacement?hR.fromPartial(e.replacement):void 0,t}};const GO={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",encode(e,t=new oO){void 0!==e.flowId&&gO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)yR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(yR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:GO.$type,flowId:IR(e.flowId)?gO.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>yR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=gO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>yR.toJSON(e)))),n},create:e=>GO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?gO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>yR.fromPartial(e))))||[],n}};const jO={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",encode(e,t=new oO){for(const n of e.alternatives)yR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.alternatives.push(yR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jO.$type,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>yR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>yR.toJSON(e)))),n},create:e=>jO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};return n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>yR.fromPartial(e))))||[],n}};const qO={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&ER.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=ER.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:qO.$type,flowId:IR(e.flowId)?ER.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=ER.toJSON(e.flowId)),t},create:e=>qO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?ER.fromPartial(e.flowId):void 0,t}};const BO={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&ER.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionId&&AR.encode(e.questionId,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",flowId:void 0,questionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=ER.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionId=AR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:BO.$type,flowId:IR(e.flowId)?ER.fromJSON(e.flowId):void 0,questionId:IR(e.questionId)?AR.fromJSON(e.questionId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=ER.toJSON(e.flowId)),void 0!==e.questionId&&(t.questionId=AR.toJSON(e.questionId)),t},create:e=>BO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",flowId:void 0,questionId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?ER.fromPartial(e.flowId):void 0,t.questionId=void 0!==e.questionId&&null!==e.questionId?AR.fromPartial(e.questionId):void 0,t}};const WO={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&ER.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionWithAnswers&&wR.encode(e.questionWithAnswers,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",flowId:void 0,questionWithAnswers:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=ER.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionWithAnswers=wR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WO.$type,flowId:IR(e.flowId)?ER.fromJSON(e.flowId):void 0,questionWithAnswers:IR(e.questionWithAnswers)?wR.fromJSON(e.questionWithAnswers):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=ER.toJSON(e.flowId)),void 0!==e.questionWithAnswers&&(t.questionWithAnswers=wR.toJSON(e.questionWithAnswers)),t},create:e=>WO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",flowId:void 0,questionWithAnswers:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?ER.fromPartial(e.flowId):void 0,t.questionWithAnswers=void 0!==e.questionWithAnswers&&null!==e.questionWithAnswers?wR.fromPartial(e.questionWithAnswers):void 0,t}};const HO={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&ER.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionId&&AR.encode(e.questionId,t.uint32(18).fork()).join(),void 0!==e.answer&&TR.encode(e.answer,t.uint32(26).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",flowId:void 0,questionId:void 0,answer:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=ER.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionId=AR.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.answer=TR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:HO.$type,flowId:IR(e.flowId)?ER.fromJSON(e.flowId):void 0,questionId:IR(e.questionId)?AR.fromJSON(e.questionId):void 0,answer:IR(e.answer)?TR.fromJSON(e.answer):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=ER.toJSON(e.flowId)),void 0!==e.questionId&&(t.questionId=AR.toJSON(e.questionId)),void 0!==e.answer&&(t.answer=TR.toJSON(e.answer)),t},create:e=>HO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",flowId:void 0,questionId:void 0,answer:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?ER.fromPartial(e.flowId):void 0,t.questionId=void 0!==e.questionId&&null!==e.questionId?AR.fromPartial(e.questionId):void 0,t.answer=void 0!==e.answer&&null!==e.answer?TR.fromPartial(e.answer):void 0,t}};const JO={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",encode(e,t=new oO){for(const n of e.sourceLanguages)mR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",sourceLanguages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguages.push(mR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JO.$type,sourceLanguages:globalThis.Array.isArray(null==e?void 0:e.sourceLanguages)?e.sourceLanguages.map((e=>mR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.sourceLanguages)||void 0===t?void 0:t.length)&&(n.sourceLanguages=e.sourceLanguages.map((e=>mR.toJSON(e)))),n},create:e=>JO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",sourceLanguages:[]};return n.sourceLanguages=(null===(t=e.sourceLanguages)||void 0===t?void 0:t.map((e=>mR.fromPartial(e))))||[],n}};const zO={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",encode(e,t=new oO){for(const n of e.targetLanguages)vR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",targetLanguages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguages.push(vR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zO.$type,targetLanguages:globalThis.Array.isArray(null==e?void 0:e.targetLanguages)?e.targetLanguages.map((e=>vR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.targetLanguages)||void 0===t?void 0:t.length)&&(n.targetLanguages=e.targetLanguages.map((e=>vR.toJSON(e)))),n},create:e=>zO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",targetLanguages:[]};return n.targetLanguages=(null===(t=e.targetLanguages)||void 0===t?void 0:t.map((e=>vR.fromPartial(e))))||[],n}};const YO={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",encode:(e,t=new oO)=>(void 0!==e.sourceLanguage&&mR.encode(e.sourceLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",sourceLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=mR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:YO.$type,sourceLanguage:IR(e.sourceLanguage)?mR.fromJSON(e.sourceLanguage):void 0}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=mR.toJSON(e.sourceLanguage)),t},create:e=>YO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",sourceLanguage:void 0};return t.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?mR.fromPartial(e.sourceLanguage):void 0,t}};const XO={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",encode:(e,t=new oO)=>(void 0!==e.sourceLanguage&&mR.encode(e.sourceLanguage,t.uint32(10).fork()).join(),0!==e.origin&&t.uint32(16).int32(e.origin),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",sourceLanguage:void 0,origin:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=mR.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.origin=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XO.$type,sourceLanguage:IR(e.sourceLanguage)?mR.fromJSON(e.sourceLanguage):void 0,origin:IR(e.origin)?LO(e.origin):0}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=mR.toJSON(e.sourceLanguage)),0!==e.origin&&(t.origin=$O(e.origin)),t},create:e=>XO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",sourceLanguage:void 0,origin:0};return n.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?mR.fromPartial(e.sourceLanguage):void 0,n.origin=null!==(t=e.origin)&&void 0!==t?t:0,n}};const KO={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",encode:(e,t=new oO)=>(void 0!==e.targetLanguage&&vR.encode(e.targetLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",targetLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguage=vR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:KO.$type,targetLanguage:IR(e.targetLanguage)?vR.fromJSON(e.targetLanguage):void 0}),toJSON(e){const t={};return void 0!==e.targetLanguage&&(t.targetLanguage=vR.toJSON(e.targetLanguage)),t},create:e=>KO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",targetLanguage:void 0};return t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?vR.fromPartial(e.targetLanguage):void 0,t}};const QO={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",encode:(e,t=new oO)=>(void 0!==e.targetLanguage&&vR.encode(e.targetLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",targetLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguage=vR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:QO.$type,targetLanguage:IR(e.targetLanguage)?vR.fromJSON(e.targetLanguage):void 0}),toJSON(e){const t={};return void 0!==e.targetLanguage&&(t.targetLanguage=vR.toJSON(e.targetLanguage)),t},create:e=>QO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",targetLanguage:void 0};return t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?vR.fromPartial(e.targetLanguage):void 0,t}};const ZO={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",encode:(e,t=new oO)=>(void 0!==e.glossaryId&&RO.encode(e.glossaryId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",glossaryId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryId=RO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ZO.$type,glossaryId:IR(e.glossaryId)?RO.fromJSON(e.glossaryId):void 0}),toJSON(e){const t={};return void 0!==e.glossaryId&&(t.glossaryId=RO.toJSON(e.glossaryId)),t},create:e=>ZO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",glossaryId:void 0};return t.glossaryId=void 0!==e.glossaryId&&null!==e.glossaryId?RO.fromPartial(e.glossaryId):void 0,t}};const eR={$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue",encode:(e,t=new oO)=>t,decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:eR.$type}),toJSON:e=>({}),create:e=>eR.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue"})};const tR={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",encode:(e,t=new oO)=>(0!==e.progressInPercent&&t.uint32(8).int32(e.progressInPercent),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",progressInPercent:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.progressInPercent=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:tR.$type,progressInPercent:IR(e.progressInPercent)?globalThis.Number(e.progressInPercent):0}),toJSON(e){const t={};return 0!==e.progressInPercent&&(t.progressInPercent=Math.round(e.progressInPercent)),t},create:e=>tR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",progressInPercent:0};return n.progressInPercent=null!==(t=e.progressInPercent)&&void 0!==t?t:0,n}};const nR={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",encode(e,t=new oO){for(const n of e.formalityModes)dR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",formalityModes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.formalityModes.push(dR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:nR.$type,formalityModes:globalThis.Array.isArray(null==e?void 0:e.formalityModes)?e.formalityModes.map((e=>dR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.formalityModes)||void 0===t?void 0:t.length)&&(n.formalityModes=e.formalityModes.map((e=>dR.toJSON(e)))),n},create:e=>nR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",formalityModes:[]};return n.formalityModes=(null===(t=e.formalityModes)||void 0===t?void 0:t.map((e=>dR.fromPartial(e))))||[],n}};const rR={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",encode:(e,t=new oO)=>(void 0!==e.formalityMode&&dR.encode(e.formalityMode,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",formalityMode:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.formalityMode=dR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:rR.$type,formalityMode:IR(e.formalityMode)?dR.fromJSON(e.formalityMode):void 0}),toJSON(e){const t={};return void 0!==e.formalityMode&&(t.formalityMode=dR.toJSON(e.formalityMode)),t},create:e=>rR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",formalityMode:void 0};return t.formalityMode=void 0!==e.formalityMode&&null!==e.formalityMode?dR.fromPartial(e.formalityMode):void 0,t}};const oR={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",encode(e,t=new oO){for(const n of e.languageModels)pR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",languageModels:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languageModels.push(pR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oR.$type,languageModels:globalThis.Array.isArray(null==e?void 0:e.languageModels)?e.languageModels.map((e=>pR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languageModels)||void 0===t?void 0:t.length)&&(n.languageModels=e.languageModels.map((e=>pR.toJSON(e)))),n},create:e=>oR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",languageModels:[]};return n.languageModels=(null===(t=e.languageModels)||void 0===t?void 0:t.map((e=>pR.fromPartial(e))))||[],n}};const iR={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",encode:(e,t=new oO)=>(void 0!==e.languageModel&&pR.encode(e.languageModel,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",languageModel:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languageModel=pR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:iR.$type,languageModel:IR(e.languageModel)?pR.fromJSON(e.languageModel):void 0}),toJSON(e){const t={};return void 0!==e.languageModel&&(t.languageModel=pR.toJSON(e.languageModel)),t},create:e=>iR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",languageModel:void 0};return t.languageModel=void 0!==e.languageModel&&null!==e.languageModel?pR.fromPartial(e.languageModel):void 0,t}};const aR={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",encode:(e,t=new oO)=>(0!==e.textDirection&&t.uint32(8).int32(e.textDirection),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",textDirection:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.textDirection=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:aR.$type,textDirection:IR(e.textDirection)?MO(e.textDirection):0}),toJSON(e){const t={};return 0!==e.textDirection&&(t.textDirection=function(e){switch(e){case NO.UNSPECIFIED:return"TEXT_DIRECTION_UNSPECIFIED";case NO.LEFT_TO_RIGHT:return"TEXT_DIRECTION_LEFT_TO_RIGHT";case NO.RIGHT_TO_LEFT:return"TEXT_DIRECTION_RIGHT_TO_LEFT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TextDirection")}}(e.textDirection)),t},create:e=>aR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",textDirection:0};return n.textDirection=null!==(t=e.textDirection)&&void 0!==t?t:0,n}};const sR={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",encode:(e,t=new oO)=>(0!==e.max&&t.uint32(8).int32(e.max),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",max:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.max=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sR.$type,max:IR(e.max)?globalThis.Number(e.max):0}),toJSON(e){const t={};return 0!==e.max&&(t.max=Math.round(e.max)),t},create:e=>sR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",max:0};return n.max=null!==(t=e.max)&&void 0!==t?t:0,n}};const cR={$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue",encode:(e,t=new oO)=>t,decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cR.$type}),toJSON:e=>({}),create:e=>cR.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue"})};const lR={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",encode(e,t=new oO){for(const n of e.weights)_R.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",weights:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.weights.push(_R.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lR.$type,weights:globalThis.Array.isArray(null==e?void 0:e.weights)?e.weights.map((e=>_R.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.weights)||void 0===t?void 0:t.length)&&(n.weights=e.weights.map((e=>_R.toJSON(e)))),n},create:e=>lR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",weights:[]};return n.weights=(null===(t=e.weights)||void 0===t?void 0:t.map((e=>_R.fromPartial(e))))||[],n}};const uR={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",encode:(e,t=new oO)=>(!1!==e.enableTranscription&&t.uint32(8).bool(e.enableTranscription),!1!==e.enableTranslatorQuoteConversion&&t.uint32(16).bool(e.enableTranslatorQuoteConversion),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",enableTranscription:!1,enableTranslatorQuoteConversion:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.enableTranscription=n.bool();continue;case 2:if(16!==e)break;o.enableTranslatorQuoteConversion=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uR.$type,enableTranscription:!!IR(e.enableTranscription)&&globalThis.Boolean(e.enableTranscription),enableTranslatorQuoteConversion:!!IR(e.enableTranslatorQuoteConversion)&&globalThis.Boolean(e.enableTranslatorQuoteConversion)}),toJSON(e){const t={};return!1!==e.enableTranscription&&(t.enableTranscription=e.enableTranscription),!1!==e.enableTranslatorQuoteConversion&&(t.enableTranslatorQuoteConversion=e.enableTranslatorQuoteConversion),t},create:e=>uR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",enableTranscription:!1,enableTranslatorQuoteConversion:!1};return r.enableTranscription=null!==(t=e.enableTranscription)&&void 0!==t&&t,r.enableTranslatorQuoteConversion=null!==(n=e.enableTranslatorQuoteConversion)&&void 0!==n&&n,r}};const dR={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:dR.$type,value:IR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>dR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const pR={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:pR.$type,value:IR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>pR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const hR={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",encode:(e,t=new oO)=>(""!==e.source&&t.uint32(10).string(e.source),""!==e.target&&t.uint32(18).string(e.target),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",source:"",target:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source=n.string();continue;case 2:if(18!==e)break;o.target=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:hR.$type,source:IR(e.source)?globalThis.String(e.source):"",target:IR(e.target)?globalThis.String(e.target):""}),toJSON(e){const t={};return""!==e.source&&(t.source=e.source),""!==e.target&&(t.target=e.target),t},create:e=>hR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",source:"",target:""};return r.source=null!==(t=e.source)&&void 0!==t?t:"",r.target=null!==(n=e.target)&&void 0!==n?n:"",r}};const fR={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",encode(e,t=new oO){for(const n of e.glossaryEntries)hR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",glossaryEntries:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryEntries.push(hR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:fR.$type,glossaryEntries:globalThis.Array.isArray(null==e?void 0:e.glossaryEntries)?e.glossaryEntries.map((e=>hR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.glossaryEntries)||void 0===t?void 0:t.length)&&(n.glossaryEntries=e.glossaryEntries.map((e=>hR.toJSON(e)))),n},create:e=>fR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",glossaryEntries:[]};return n.glossaryEntries=(null===(t=e.glossaryEntries)||void 0===t?void 0:t.map((e=>hR.fromPartial(e))))||[],n}};const gR={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",encode(e,t=new oO){void 0!==e.entry&&hR.encode(e.entry,t.uint32(10).fork()).join();for(const n of e.ranges)IO.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",entry:void 0,ranges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entry=hR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.ranges.push(IO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:gR.$type,entry:IR(e.entry)?hR.fromJSON(e.entry):void 0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>IO.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.entry&&(n.entry=hR.toJSON(e.entry)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(n.ranges=e.ranges.map((e=>IO.toJSON(e)))),n},create:e=>gR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",entry:void 0,ranges:[]};return n.entry=void 0!==e.entry&&null!==e.entry?hR.fromPartial(e.entry):void 0,n.ranges=(null===(t=e.ranges)||void 0===t?void 0:t.map((e=>IO.fromPartial(e))))||[],n}};const mR={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",encode:(e,t=new oO)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:mR.$type,code:IR(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>mR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const vR={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",encode:(e,t=new oO)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:vR.$type,code:IR(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>vR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const yR={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",encode(e,t=new oO){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.glossaryHighlights)gR.encode(n,t.uint32(18).fork()).join();return""!==e.transcription&&t.uint32(26).string(e.transcription),t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",text:"",glossaryHighlights:[],transcription:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.glossaryHighlights.push(gR.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.transcription=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yR.$type,text:IR(e.text)?globalThis.String(e.text):"",glossaryHighlights:globalThis.Array.isArray(null==e?void 0:e.glossaryHighlights)?e.glossaryHighlights.map((e=>gR.fromJSON(e))):[],transcription:IR(e.transcription)?globalThis.String(e.transcription):""}),toJSON(e){var t;const n={};return""!==e.text&&(n.text=e.text),(null===(t=e.glossaryHighlights)||void 0===t?void 0:t.length)&&(n.glossaryHighlights=e.glossaryHighlights.map((e=>gR.toJSON(e)))),""!==e.transcription&&(n.transcription=e.transcription),n},create:e=>yR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",text:"",glossaryHighlights:[],transcription:""};return o.text=null!==(t=e.text)&&void 0!==t?t:"",o.glossaryHighlights=(null===(n=e.glossaryHighlights)||void 0===n?void 0:n.map((e=>gR.fromPartial(e))))||[],o.transcription=null!==(r=e.transcription)&&void 0!==r?r:"",o}};const _R={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",encode:(e,t=new oO)=>(void 0!==e.language&&mR.encode(e.language,t.uint32(10).fork()).join(),0!==e.weight&&t.uint32(17).double(e.weight),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",language:void 0,weight:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=mR.decode(n,n.uint32());continue;case 2:if(17!==e)break;o.weight=n.double();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_R.$type,language:IR(e.language)?mR.fromJSON(e.language):void 0,weight:IR(e.weight)?globalThis.Number(e.weight):0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=mR.toJSON(e.language)),0!==e.weight&&(t.weight=e.weight),t},create:e=>_R.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",language:void 0,weight:0};return n.language=void 0!==e.language&&null!==e.language?mR.fromPartial(e.language):void 0,n.weight=null!==(t=e.weight)&&void 0!==t?t:0,n}};const SR={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",encode:(e,t=new oO)=>(void 0!==e.id&&AR.encode(e.id,t.uint32(10).fork()).join(),""!==e.title&&t.uint32(18).string(e.title),""!==e.question&&t.uint32(26).string(e.question),""!==e.category&&t.uint32(34).string(e.category),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",id:void 0,title:"",question:"",category:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=AR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.title=n.string();continue;case 3:if(26!==e)break;o.question=n.string();continue;case 4:if(34!==e)break;o.category=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:SR.$type,id:IR(e.id)?AR.fromJSON(e.id):void 0,title:IR(e.title)?globalThis.String(e.title):"",question:IR(e.question)?globalThis.String(e.question):"",category:IR(e.category)?globalThis.String(e.category):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=AR.toJSON(e.id)),""!==e.title&&(t.title=e.title),""!==e.question&&(t.question=e.question),""!==e.category&&(t.category=e.category),t},create:e=>SR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",id:void 0,title:"",question:"",category:""};return o.id=void 0!==e.id&&null!==e.id?AR.fromPartial(e.id):void 0,o.title=null!==(t=e.title)&&void 0!==t?t:"",o.question=null!==(n=e.question)&&void 0!==n?n:"",o.category=null!==(r=e.category)&&void 0!==r?r:"",o}};const bR={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",encode:(e,t=new oO)=>(""!==e.answer&&t.uint32(10).string(e.answer),!1!==e.isDefault&&t.uint32(16).bool(e.isDefault),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",answer:"",isDefault:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.answer=n.string();continue;case 2:if(16!==e)break;o.isDefault=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bR.$type,answer:IR(e.answer)?globalThis.String(e.answer):"",isDefault:!!IR(e.isDefault)&&globalThis.Boolean(e.isDefault)}),toJSON(e){const t={};return""!==e.answer&&(t.answer=e.answer),!1!==e.isDefault&&(t.isDefault=e.isDefault),t},create:e=>bR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",answer:"",isDefault:!1};return r.answer=null!==(t=e.answer)&&void 0!==t?t:"",r.isDefault=null!==(n=e.isDefault)&&void 0!==n&&n,r}};const wR={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",encode(e,t=new oO){void 0!==e.question&&SR.encode(e.question,t.uint32(10).fork()).join();for(const n of e.answers)bR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",question:void 0,answers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.question=SR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.answers.push(bR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:wR.$type,question:IR(e.question)?SR.fromJSON(e.question):void 0,answers:globalThis.Array.isArray(null==e?void 0:e.answers)?e.answers.map((e=>bR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.question&&(n.question=SR.toJSON(e.question)),(null===(t=e.answers)||void 0===t?void 0:t.length)&&(n.answers=e.answers.map((e=>bR.toJSON(e)))),n},create:e=>wR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",question:void 0,answers:[]};return n.question=void 0!==e.question&&null!==e.question?SR.fromPartial(e.question):void 0,n.answers=(null===(t=e.answers)||void 0===t?void 0:t.map((e=>bR.fromPartial(e))))||[],n}};const TR={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",encode:(e,t=new oO)=>(""!==e.answer&&t.uint32(10).string(e.answer),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.answer=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:TR.$type,answer:IR(e.answer)?globalThis.String(e.answer):""}),toJSON(e){const t={};return""!==e.answer&&(t.answer=e.answer),t},create:e=>TR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:""};return n.answer=null!==(t=e.answer)&&void 0!==t?t:"",n}};const ER={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ER.$type,value:IR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>ER.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const AR={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:AR.$type,value:IR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>AR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};function IR(e){return null!=e}const xR={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.diffUnitId&&VR.encode(e.diffUnitId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",diffUnitId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.diffUnitId=VR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:xR.$type,diffUnitId:ZR(e.diffUnitId)?VR.fromJSON(e.diffUnitId):void 0}),toJSON(e){const t={};return void 0!==e.diffUnitId&&(t.diffUnitId=VR.toJSON(e.diffUnitId)),t},create:e=>xR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",diffUnitId:void 0};return t.diffUnitId=void 0!==e.diffUnitId&&null!==e.diffUnitId?VR.fromPartial(e.diffUnitId):void 0,t}};const kR={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",encode(e,t=new oO){void 0!==e.flowId&&gO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)HR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(HR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kR.$type,flowId:ZR(e.flowId)?gO.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>HR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=gO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>HR.toJSON(e)))),n},create:e=>kR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?gO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>HR.fromPartial(e))))||[],n}};const CR={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",encode(e,t=new oO){for(const n of e.alternatives)HR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.alternatives.push(HR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CR.$type,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>HR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>HR.toJSON(e)))),n},create:e=>CR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};return n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>HR.fromPartial(e))))||[],n}};const OR={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",encode(e,t=new oO){for(const n of e.languages)BR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",languages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languages.push(BR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:OR.$type,languages:globalThis.Array.isArray(null==e?void 0:e.languages)?e.languages.map((e=>BR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languages)||void 0===t?void 0:t.length)&&(n.languages=e.languages.map((e=>BR.toJSON(e)))),n},create:e=>OR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",languages:[]};return n.languages=(null===(t=e.languages)||void 0===t?void 0:t.map((e=>BR.fromPartial(e))))||[],n}};const RR={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",encode(e,t=new oO){for(const n of e.languages)BR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",languages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languages.push(BR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:RR.$type,languages:globalThis.Array.isArray(null==e?void 0:e.languages)?e.languages.map((e=>BR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languages)||void 0===t?void 0:t.length)&&(n.languages=e.languages.map((e=>BR.toJSON(e)))),n},create:e=>RR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",languages:[]};return n.languages=(null===(t=e.languages)||void 0===t?void 0:t.map((e=>BR.fromPartial(e))))||[],n}};const PR={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",encode:(e,t=new oO)=>(void 0!==e.language&&BR.encode(e.language,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",language:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=BR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:PR.$type,language:ZR(e.language)?BR.fromJSON(e.language):void 0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=BR.toJSON(e.language)),t},create:e=>PR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",language:void 0};return t.language=void 0!==e.language&&null!==e.language?BR.fromPartial(e.language):void 0,t}};const NR={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",encode:(e,t=new oO)=>(void 0!==e.language&&BR.encode(e.language,t.uint32(10).fork()).join(),0!==e.origin&&t.uint32(16).int32(e.origin),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",language:void 0,origin:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=BR.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.origin=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:NR.$type,language:ZR(e.language)?BR.fromJSON(e.language):void 0,origin:ZR(e.origin)?LO(e.origin):0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=BR.toJSON(e.language)),0!==e.origin&&(t.origin=$O(e.origin)),t},create:e=>NR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",language:void 0,origin:0};return n.language=void 0!==e.language&&null!==e.language?BR.fromPartial(e.language):void 0,n.origin=null!==(t=e.origin)&&void 0!==t?t:0,n}};const LR={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",encode:(e,t=new oO)=>(void 0!==e.glossaryId&&RO.encode(e.glossaryId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",glossaryId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryId=RO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:LR.$type,glossaryId:ZR(e.glossaryId)?RO.fromJSON(e.glossaryId):void 0}),toJSON(e){const t={};return void 0!==e.glossaryId&&(t.glossaryId=RO.toJSON(e.glossaryId)),t},create:e=>LR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",glossaryId:void 0};return t.glossaryId=void 0!==e.glossaryId&&null!==e.glossaryId?RO.fromPartial(e.glossaryId):void 0,t}};const $R={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",encode:(e,t=new oO)=>(0!==e.max&&t.uint32(8).int32(e.max),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",max:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.max=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:$R.$type,max:ZR(e.max)?globalThis.Number(e.max):0}),toJSON(e){const t={};return 0!==e.max&&(t.max=Math.round(e.max)),t},create:e=>$R.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",max:0};return n.max=null!==(t=e.max)&&void 0!==t?t:0,n}};const MR={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",encode(e,t=new oO){for(const n of e.styleVariants)JR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",styleVariants:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariants.push(JR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:MR.$type,styleVariants:globalThis.Array.isArray(null==e?void 0:e.styleVariants)?e.styleVariants.map((e=>JR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.styleVariants)||void 0===t?void 0:t.length)&&(n.styleVariants=e.styleVariants.map((e=>JR.toJSON(e)))),n},create:e=>MR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",styleVariants:[]};return n.styleVariants=(null===(t=e.styleVariants)||void 0===t?void 0:t.map((e=>JR.fromPartial(e))))||[],n}};const DR={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",encode:(e,t=new oO)=>(void 0!==e.styleVariant&&JR.encode(e.styleVariant,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariant=JR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DR.$type,styleVariant:ZR(e.styleVariant)?JR.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.styleVariant&&(t.styleVariant=JR.toJSON(e.styleVariant)),t},create:e=>DR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",styleVariant:void 0};return t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?JR.fromPartial(e.styleVariant):void 0,t}};const UR={$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue",encode:(e,t=new oO)=>t,decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:UR.$type}),toJSON:e=>({}),create:e=>UR.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue"})};const VR={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:VR.$type,value:ZR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>VR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const FR={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",encode:(e,t=new oO)=>(""!==e.term&&t.uint32(10).string(e.term),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",term:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.term=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:FR.$type,term:ZR(e.term)?globalThis.String(e.term):""}),toJSON(e){const t={};return""!==e.term&&(t.term=e.term),t},create:e=>FR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",term:""};return n.term=null!==(t=e.term)&&void 0!==t?t:"",n}};const GR={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",encode(e,t=new oO){for(const n of e.glossaryEntries)FR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",glossaryEntries:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryEntries.push(FR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:GR.$type,glossaryEntries:globalThis.Array.isArray(null==e?void 0:e.glossaryEntries)?e.glossaryEntries.map((e=>FR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.glossaryEntries)||void 0===t?void 0:t.length)&&(n.glossaryEntries=e.glossaryEntries.map((e=>FR.toJSON(e)))),n},create:e=>GR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",glossaryEntries:[]};return n.glossaryEntries=(null===(t=e.glossaryEntries)||void 0===t?void 0:t.map((e=>FR.fromPartial(e))))||[],n}};const jR={$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue",encode:(e,t=new oO)=>t,decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jR.$type}),toJSON:e=>({}),create:e=>jR.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue"})};const qR={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",encode(e,t=new oO){void 0!==e.entry&&FR.encode(e.entry,t.uint32(10).fork()).join();for(const n of e.ranges)IO.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",entry:void 0,ranges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entry=FR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.ranges.push(IO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:qR.$type,entry:ZR(e.entry)?FR.fromJSON(e.entry):void 0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>IO.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.entry&&(n.entry=FR.toJSON(e.entry)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(n.ranges=e.ranges.map((e=>IO.toJSON(e)))),n},create:e=>qR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",entry:void 0,ranges:[]};return n.entry=void 0!==e.entry&&null!==e.entry?FR.fromPartial(e.entry):void 0,n.ranges=(null===(t=e.ranges)||void 0===t?void 0:t.map((e=>IO.fromPartial(e))))||[],n}};const BR={$type:"deepl.pb.interactive_text_api.write.Language",encode:(e,t=new oO)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.Language",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:BR.$type,code:ZR(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>BR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.Language",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const WR={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativeDiff",encode:(e,t=new oO)=>(void 0!==e.sourceRange&&IO.encode(e.sourceRange,t.uint32(10).fork()).join(),void 0!==e.alternativeRange&&IO.encode(e.alternativeRange,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativeDiff",sourceRange:void 0,alternativeRange:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceRange=IO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternativeRange=IO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WR.$type,sourceRange:ZR(e.sourceRange)?IO.fromJSON(e.sourceRange):void 0,alternativeRange:ZR(e.alternativeRange)?IO.fromJSON(e.alternativeRange):void 0}),toJSON(e){const t={};return void 0!==e.sourceRange&&(t.sourceRange=IO.toJSON(e.sourceRange)),void 0!==e.alternativeRange&&(t.alternativeRange=IO.toJSON(e.alternativeRange)),t},create:e=>WR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativeDiff",sourceRange:void 0,alternativeRange:void 0};return t.sourceRange=void 0!==e.sourceRange&&null!==e.sourceRange?IO.fromPartial(e.sourceRange):void 0,t.alternativeRange=void 0!==e.alternativeRange&&null!==e.alternativeRange?IO.fromPartial(e.alternativeRange):void 0,t}};const HR={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",encode(e,t=new oO){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.glossaryHighlights)qR.encode(n,t.uint32(18).fork()).join();for(const n of e.diffs)WR.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",text:"",glossaryHighlights:[],diffs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.glossaryHighlights.push(qR.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.diffs.push(WR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:HR.$type,text:ZR(e.text)?globalThis.String(e.text):"",glossaryHighlights:globalThis.Array.isArray(null==e?void 0:e.glossaryHighlights)?e.glossaryHighlights.map((e=>qR.fromJSON(e))):[],diffs:globalThis.Array.isArray(null==e?void 0:e.diffs)?e.diffs.map((e=>WR.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return""!==e.text&&(r.text=e.text),(null===(t=e.glossaryHighlights)||void 0===t?void 0:t.length)&&(r.glossaryHighlights=e.glossaryHighlights.map((e=>qR.toJSON(e)))),(null===(n=e.diffs)||void 0===n?void 0:n.length)&&(r.diffs=e.diffs.map((e=>WR.toJSON(e)))),r},create:e=>HR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",text:"",glossaryHighlights:[],diffs:[]};return o.text=null!==(t=e.text)&&void 0!==t?t:"",o.glossaryHighlights=(null===(n=e.glossaryHighlights)||void 0===n?void 0:n.map((e=>qR.fromPartial(e))))||[],o.diffs=(null===(r=e.diffs)||void 0===r?void 0:r.map((e=>WR.fromPartial(e))))||[],o}};const JR={$type:"deepl.pb.interactive_text_api.write.StyleVariant",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariant",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JR.$type,value:ZR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>JR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.StyleVariant",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const zR={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zR.$type,value:ZR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>zR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const YR={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&zR.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.styleVariant&&JR.encode(e.styleVariant,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",flowId:void 0,styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=zR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.styleVariant=JR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:YR.$type,flowId:ZR(e.flowId)?zR.fromJSON(e.flowId):void 0,styleVariant:ZR(e.styleVariant)?JR.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=zR.toJSON(e.flowId)),void 0!==e.styleVariant&&(t.styleVariant=JR.toJSON(e.styleVariant)),t},create:e=>YR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",flowId:void 0,styleVariant:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?zR.fromPartial(e.flowId):void 0,t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?JR.fromPartial(e.styleVariant):void 0,t}};const XR={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",encode:(e,t=new oO)=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XR.$type,text:ZR(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return""!==e.text&&(t.text=e.text),t},create:e=>XR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",text:""};return n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const KR={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",encode(e,t=new oO){void 0!==e.flowId&&gO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)XR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(XR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:KR.$type,flowId:ZR(e.flowId)?gO.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>XR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=gO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>XR.toJSON(e)))),n},create:e=>KR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?gO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>XR.fromPartial(e))))||[],n}};const QR={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",encode:(e,t=new oO)=>(void 0!==e.flowId&&zR.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=zR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:QR.$type,flowId:ZR(e.flowId)?zR.fromJSON(e.flowId):void 0,selection:ZR(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=zR.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>QR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?zR.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function ZR(e){return null!=e}var eP,tP,nP;function rP(e){switch(e){case 0:case"FIELD_NAME_UNSPECIFIED":return eP.UNSPECIFIED;case 1:case"FIELD_NAME_TRANSLATOR_SOURCE_TEXT":return eP.TRANSLATOR_SOURCE_TEXT;case 2:case"FIELD_NAME_TRANSLATOR_TARGET_TEXT":return eP.TRANSLATOR_TARGET_TEXT;case 4:case"FIELD_NAME_TRANSLATOR_TARGET_TRANSCRIPTION_TEXT":return eP.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT;case 5:case"FIELD_NAME_WRITE_SOURCE_TEXT":return eP.WRITE_SOURCE_TEXT;case 6:case"FIELD_NAME_WRITE_TARGET_TEXT":return eP.WRITE_TARGET_TEXT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FieldName")}}function oP(e){switch(e){case eP.UNSPECIFIED:return"FIELD_NAME_UNSPECIFIED";case eP.TRANSLATOR_SOURCE_TEXT:return"FIELD_NAME_TRANSLATOR_SOURCE_TEXT";case eP.TRANSLATOR_TARGET_TEXT:return"FIELD_NAME_TRANSLATOR_TARGET_TEXT";case eP.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT:return"FIELD_NAME_TRANSLATOR_TARGET_TRANSCRIPTION_TEXT";case eP.WRITE_SOURCE_TEXT:return"FIELD_NAME_WRITE_SOURCE_TEXT";case eP.WRITE_TARGET_TEXT:return"FIELD_NAME_WRITE_TARGET_TEXT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FieldName")}}function iP(e){switch(e){case 0:case"PROPERTY_NAME_UNSPECIFIED":return tP.UNSPECIFIED;case 1:case"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGES":return tP.TRANSLATOR_SOURCE_LANGUAGES;case 2:case"PROPERTY_NAME_TRANSLATOR_TARGET_LANGUAGES":return tP.TRANSLATOR_TARGET_LANGUAGES;case 3:case"PROPERTY_NAME_TRANSLATOR_REQUESTED_SOURCE_LANGUAGE":return tP.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE;case 4:case"PROPERTY_NAME_TRANSLATOR_CALCULATED_SOURCE_LANGUAGE":return tP.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE;case 5:case"PROPERTY_NAME_TRANSLATOR_REQUESTED_TARGET_LANGUAGE":return tP.TRANSLATOR_REQUESTED_TARGET_LANGUAGE;case 7:case"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODES":return tP.TRANSLATOR_FORMALITY_MODES;case 8:case"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODE":return tP.TRANSLATOR_FORMALITY_MODE;case 9:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUPPORT":return tP.TRANSLATOR_GLOSSARY_SUPPORT;case 10:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_LIST":return tP.TRANSLATOR_GLOSSARY_LIST;case 12:case"PROPERTY_NAME_TRANSLATOR_TEXT_DIRECTION":return tP.TRANSLATOR_TEXT_DIRECTION;case 13:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUGGESTIONS":return tP.TRANSLATOR_GLOSSARY_SUGGESTIONS;case 14:case"PROPERTY_NAME_TRANSLATOR_MAXIMUM_TEXT_LENGTH":return tP.TRANSLATOR_MAXIMUM_TEXT_LENGTH;case 15:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODELS":return tP.TRANSLATOR_LANGUAGE_MODELS;case 16:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL":return tP.TRANSLATOR_LANGUAGE_MODEL;case 17:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_ID":return tP.TRANSLATOR_GLOSSARY_ID;case 18:case"PROPERTY_NAME_TRANSLATOR_CALCULATED_TARGET_LANGUAGE":return tP.TRANSLATOR_CALCULATED_TARGET_LANGUAGE;case 19:case"PROPERTY_NAME_TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE":return tP.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE;case 20:case"PROPERTY_NAME_WRITE_LANGUAGES":return tP.WRITE_LANGUAGES;case 21:case"PROPERTY_NAME_WRITE_REQUESTED_LANGUAGE":return tP.WRITE_REQUESTED_LANGUAGE;case 22:case"PROPERTY_NAME_WRITE_CALCULATED_LANGUAGE":return tP.WRITE_CALCULATED_LANGUAGE;case 23:case"PROPERTY_NAME_WRITE_STYLE_VARIANTS":return tP.WRITE_STYLE_VARIANTS;case 24:case"PROPERTY_NAME_WRITE_STYLE_VARIANT":return tP.WRITE_STYLE_VARIANT;case 25:case"PROPERTY_NAME_WRITE_GLOSSARY_ID":return tP.WRITE_GLOSSARY_ID;case 26:case"PROPERTY_NAME_WRITE_GLOSSARY_LIST":return tP.WRITE_GLOSSARY_LIST;case 27:case"PROPERTY_NAME_WRITE_GLOSSARY_SUPPORT":return tP.WRITE_GLOSSARY_SUPPORT;case 28:case"PROPERTY_NAME_WRITE_MAXIMUM_TEXT_LENGTH":return tP.WRITE_MAXIMUM_TEXT_LENGTH;case 29:case"PROPERTY_NAME_WRITE_UNSUPPORTED_LANGUAGE":return tP.WRITE_UNSUPPORTED_LANGUAGE;case 30:case"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS":return tP.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS;case 31:case"PROPERTY_NAME_WRITE_GLOSSARY_LANGUAGES":return tP.WRITE_GLOSSARY_LANGUAGES;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum PropertyName")}}function aP(e){switch(e){case 0:case"SESSION_MODE_UNSPECIFIED":return nP.UNSPECIFIED;case 1:case"SESSION_MODE_TRANSLATOR":return nP.TRANSLATOR;case 2:case"SESSION_MODE_WRITE":return nP.WRITE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionMode")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR_SOURCE_TEXT=1]="TRANSLATOR_SOURCE_TEXT",e[e.TRANSLATOR_TARGET_TEXT=2]="TRANSLATOR_TARGET_TEXT",e[e.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT=4]="TRANSLATOR_TARGET_TRANSCRIPTION_TEXT",e[e.WRITE_SOURCE_TEXT=5]="WRITE_SOURCE_TEXT",e[e.WRITE_TARGET_TEXT=6]="WRITE_TARGET_TEXT"}(eP||(eP={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR_SOURCE_LANGUAGES=1]="TRANSLATOR_SOURCE_LANGUAGES",e[e.TRANSLATOR_TARGET_LANGUAGES=2]="TRANSLATOR_TARGET_LANGUAGES",e[e.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE=3]="TRANSLATOR_REQUESTED_SOURCE_LANGUAGE",e[e.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE=4]="TRANSLATOR_CALCULATED_SOURCE_LANGUAGE",e[e.TRANSLATOR_REQUESTED_TARGET_LANGUAGE=5]="TRANSLATOR_REQUESTED_TARGET_LANGUAGE",e[e.TRANSLATOR_FORMALITY_MODES=7]="TRANSLATOR_FORMALITY_MODES",e[e.TRANSLATOR_FORMALITY_MODE=8]="TRANSLATOR_FORMALITY_MODE",e[e.TRANSLATOR_GLOSSARY_SUPPORT=9]="TRANSLATOR_GLOSSARY_SUPPORT",e[e.TRANSLATOR_GLOSSARY_LIST=10]="TRANSLATOR_GLOSSARY_LIST",e[e.TRANSLATOR_TEXT_DIRECTION=12]="TRANSLATOR_TEXT_DIRECTION",e[e.TRANSLATOR_GLOSSARY_SUGGESTIONS=13]="TRANSLATOR_GLOSSARY_SUGGESTIONS",e[e.TRANSLATOR_MAXIMUM_TEXT_LENGTH=14]="TRANSLATOR_MAXIMUM_TEXT_LENGTH",e[e.TRANSLATOR_LANGUAGE_MODELS=15]="TRANSLATOR_LANGUAGE_MODELS",e[e.TRANSLATOR_LANGUAGE_MODEL=16]="TRANSLATOR_LANGUAGE_MODEL",e[e.TRANSLATOR_GLOSSARY_ID=17]="TRANSLATOR_GLOSSARY_ID",e[e.TRANSLATOR_CALCULATED_TARGET_LANGUAGE=18]="TRANSLATOR_CALCULATED_TARGET_LANGUAGE",e[e.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE=19]="TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE",e[e.WRITE_LANGUAGES=20]="WRITE_LANGUAGES",e[e.WRITE_REQUESTED_LANGUAGE=21]="WRITE_REQUESTED_LANGUAGE",e[e.WRITE_CALCULATED_LANGUAGE=22]="WRITE_CALCULATED_LANGUAGE",e[e.WRITE_STYLE_VARIANTS=23]="WRITE_STYLE_VARIANTS",e[e.WRITE_STYLE_VARIANT=24]="WRITE_STYLE_VARIANT",e[e.WRITE_GLOSSARY_ID=25]="WRITE_GLOSSARY_ID",e[e.WRITE_GLOSSARY_LIST=26]="WRITE_GLOSSARY_LIST",e[e.WRITE_GLOSSARY_SUPPORT=27]="WRITE_GLOSSARY_SUPPORT",e[e.WRITE_MAXIMUM_TEXT_LENGTH=28]="WRITE_MAXIMUM_TEXT_LENGTH",e[e.WRITE_UNSUPPORTED_LANGUAGE=29]="WRITE_UNSUPPORTED_LANGUAGE",e[e.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS=30]="TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS",e[e.WRITE_GLOSSARY_LANGUAGES=31]="WRITE_GLOSSARY_LANGUAGES"}(tP||(tP={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR=1]="TRANSLATOR",e[e.WRITE=2]="WRITE"}(nP||(nP={}));const sP={$type:"deepl.pb.interactive_text_api.TextChangeOperation",encode:(e,t=new oO)=>(void 0!==e.range&&IO.encode(e.range,t.uint32(10).fork()).join(),""!==e.text&&t.uint32(18).string(e.text),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.TextChangeOperation",range:void 0,text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.range=IO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sP.$type,range:PP(e.range)?IO.fromJSON(e.range):void 0,text:PP(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return void 0!==e.range&&(t.range=IO.toJSON(e.range)),""!==e.text&&(t.text=e.text),t},create:e=>sP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.TextChangeOperation",range:void 0,text:""};return n.range=void 0!==e.range&&null!==e.range?IO.fromPartial(e.range):void 0,n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const cP={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",encode:(e,t=new oO)=>(void 0!==e.annotationId&&xP.encode(e.annotationId,t.uint32(10).fork()).join(),void 0!==e.range&&IO.encode(e.range,t.uint32(18).fork()).join(),void 0!==e.textUnitPayload&&CO.encode(e.textUnitPayload,t.uint32(26).fork()).join(),void 0!==e.requestWordAlternativesPayload&&vO.encode(e.requestWordAlternativesPayload,t.uint32(34).fork()).join(),void 0!==e.providedWordAlternativesPayload&&fO.encode(e.providedWordAlternativesPayload,t.uint32(42).fork()).join(),void 0!==e.selectWordAlternativePayload&&bO.encode(e.selectWordAlternativePayload,t.uint32(50).fork()).join(),void 0!==e.translatorGlossaryReplacementPayload&&FO.encode(e.translatorGlossaryReplacementPayload,t.uint32(58).fork()).join(),void 0!==e.requestTextUnitAlternativesPayload&&mO.encode(e.requestTextUnitAlternativesPayload,t.uint32(66).fork()).join(),void 0!==e.translatorProvidedTextUnitAlternativesPayload&&GO.encode(e.translatorProvidedTextUnitAlternativesPayload,t.uint32(74).fork()).join(),void 0!==e.selectTextUnitAlternativePayload&&_O.encode(e.selectTextUnitAlternativePayload,t.uint32(82).fork()).join(),void 0!==e.translatorRequestAutocompletionPayload&&DO.encode(e.translatorRequestAutocompletionPayload,t.uint32(90).fork()).join(),void 0!==e.translatorProvidedAutocompletionPayload&&UO.encode(e.translatorProvidedAutocompletionPayload,t.uint32(98).fork()).join(),void 0!==e.translatorSelectAutocompletionPayload&&VO.encode(e.translatorSelectAutocompletionPayload,t.uint32(106).fork()).join(),void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&jO.encode(e.translatorProvidedAutomaticTextUnitAlternativesPayload,t.uint32(114).fork()).join(),void 0!==e.selectAutomaticTextUnitAlternativePayload&&yO.encode(e.selectAutomaticTextUnitAlternativePayload,t.uint32(122).fork()).join(),void 0!==e.writeDiffUnitPayload&&xR.encode(e.writeDiffUnitPayload,t.uint32(130).fork()).join(),void 0!==e.textFormattingPayload&&EO.encode(e.textFormattingPayload,t.uint32(138).fork()).join(),void 0!==e.writeProvidedTextUnitAlternativesPayload&&kR.encode(e.writeProvidedTextUnitAlternativesPayload,t.uint32(146).fork()).join(),void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&CR.encode(e.writeProvidedAutomaticTextUnitAlternativesPayload,t.uint32(154).fork()).join(),void 0!==e.translatorRequestClarifyPayload&&qO.encode(e.translatorRequestClarifyPayload,t.uint32(162).fork()).join(),void 0!==e.translatorProvidedClarifyQuestionPayload&&WO.encode(e.translatorProvidedClarifyQuestionPayload,t.uint32(170).fork()).join(),void 0!==e.translatorProvidedClarifyHighlightPayload&&BO.encode(e.translatorProvidedClarifyHighlightPayload,t.uint32(178).fork()).join(),void 0!==e.translatorSelectClarifyAnswerPayload&&HO.encode(e.translatorSelectClarifyAnswerPayload,t.uint32(186).fork()).join(),void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&YR.encode(e.writeRequestChangeStyleAlternativesAnnotationPayload,t.uint32(194).fork()).join(),void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&KR.encode(e.writeProvidedChangeStyleAlternativesAnnotationPayload,t.uint32(202).fork()).join(),void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&QR.encode(e.writeSelectChangeStyleAlternativeAnnotationPayload,t.uint32(210).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",annotationId:void 0,range:void 0,textUnitPayload:void 0,requestWordAlternativesPayload:void 0,providedWordAlternativesPayload:void 0,selectWordAlternativePayload:void 0,translatorGlossaryReplacementPayload:void 0,requestTextUnitAlternativesPayload:void 0,translatorProvidedTextUnitAlternativesPayload:void 0,selectTextUnitAlternativePayload:void 0,translatorRequestAutocompletionPayload:void 0,translatorProvidedAutocompletionPayload:void 0,translatorSelectAutocompletionPayload:void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:void 0,selectAutomaticTextUnitAlternativePayload:void 0,writeDiffUnitPayload:void 0,textFormattingPayload:void 0,writeProvidedTextUnitAlternativesPayload:void 0,writeProvidedAutomaticTextUnitAlternativesPayload:void 0,translatorRequestClarifyPayload:void 0,translatorProvidedClarifyQuestionPayload:void 0,translatorProvidedClarifyHighlightPayload:void 0,translatorSelectClarifyAnswerPayload:void 0,writeRequestChangeStyleAlternativesAnnotationPayload:void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:void 0,writeSelectChangeStyleAlternativeAnnotationPayload:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.annotationId=xP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.range=IO.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.textUnitPayload=CO.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.requestWordAlternativesPayload=vO.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.providedWordAlternativesPayload=fO.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.selectWordAlternativePayload=bO.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.translatorGlossaryReplacementPayload=FO.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.requestTextUnitAlternativesPayload=mO.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.translatorProvidedTextUnitAlternativesPayload=GO.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.selectTextUnitAlternativePayload=_O.decode(n,n.uint32());continue;case 11:if(90!==e)break;o.translatorRequestAutocompletionPayload=DO.decode(n,n.uint32());continue;case 12:if(98!==e)break;o.translatorProvidedAutocompletionPayload=UO.decode(n,n.uint32());continue;case 13:if(106!==e)break;o.translatorSelectAutocompletionPayload=VO.decode(n,n.uint32());continue;case 14:if(114!==e)break;o.translatorProvidedAutomaticTextUnitAlternativesPayload=jO.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.selectAutomaticTextUnitAlternativePayload=yO.decode(n,n.uint32());continue;case 16:if(130!==e)break;o.writeDiffUnitPayload=xR.decode(n,n.uint32());continue;case 17:if(138!==e)break;o.textFormattingPayload=EO.decode(n,n.uint32());continue;case 18:if(146!==e)break;o.writeProvidedTextUnitAlternativesPayload=kR.decode(n,n.uint32());continue;case 19:if(154!==e)break;o.writeProvidedAutomaticTextUnitAlternativesPayload=CR.decode(n,n.uint32());continue;case 20:if(162!==e)break;o.translatorRequestClarifyPayload=qO.decode(n,n.uint32());continue;case 21:if(170!==e)break;o.translatorProvidedClarifyQuestionPayload=WO.decode(n,n.uint32());continue;case 22:if(178!==e)break;o.translatorProvidedClarifyHighlightPayload=BO.decode(n,n.uint32());continue;case 23:if(186!==e)break;o.translatorSelectClarifyAnswerPayload=HO.decode(n,n.uint32());continue;case 24:if(194!==e)break;o.writeRequestChangeStyleAlternativesAnnotationPayload=YR.decode(n,n.uint32());continue;case 25:if(202!==e)break;o.writeProvidedChangeStyleAlternativesAnnotationPayload=KR.decode(n,n.uint32());continue;case 26:if(210!==e)break;o.writeSelectChangeStyleAlternativeAnnotationPayload=QR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cP.$type,annotationId:PP(e.annotationId)?xP.fromJSON(e.annotationId):void 0,range:PP(e.range)?IO.fromJSON(e.range):void 0,textUnitPayload:PP(e.textUnitPayload)?CO.fromJSON(e.textUnitPayload):void 0,requestWordAlternativesPayload:PP(e.requestWordAlternativesPayload)?vO.fromJSON(e.requestWordAlternativesPayload):void 0,providedWordAlternativesPayload:PP(e.providedWordAlternativesPayload)?fO.fromJSON(e.providedWordAlternativesPayload):void 0,selectWordAlternativePayload:PP(e.selectWordAlternativePayload)?bO.fromJSON(e.selectWordAlternativePayload):void 0,translatorGlossaryReplacementPayload:PP(e.translatorGlossaryReplacementPayload)?FO.fromJSON(e.translatorGlossaryReplacementPayload):void 0,requestTextUnitAlternativesPayload:PP(e.requestTextUnitAlternativesPayload)?mO.fromJSON(e.requestTextUnitAlternativesPayload):void 0,translatorProvidedTextUnitAlternativesPayload:PP(e.translatorProvidedTextUnitAlternativesPayload)?GO.fromJSON(e.translatorProvidedTextUnitAlternativesPayload):void 0,selectTextUnitAlternativePayload:PP(e.selectTextUnitAlternativePayload)?_O.fromJSON(e.selectTextUnitAlternativePayload):void 0,translatorRequestAutocompletionPayload:PP(e.translatorRequestAutocompletionPayload)?DO.fromJSON(e.translatorRequestAutocompletionPayload):void 0,translatorProvidedAutocompletionPayload:PP(e.translatorProvidedAutocompletionPayload)?UO.fromJSON(e.translatorProvidedAutocompletionPayload):void 0,translatorSelectAutocompletionPayload:PP(e.translatorSelectAutocompletionPayload)?VO.fromJSON(e.translatorSelectAutocompletionPayload):void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:PP(e.translatorProvidedAutomaticTextUnitAlternativesPayload)?jO.fromJSON(e.translatorProvidedAutomaticTextUnitAlternativesPayload):void 0,selectAutomaticTextUnitAlternativePayload:PP(e.selectAutomaticTextUnitAlternativePayload)?yO.fromJSON(e.selectAutomaticTextUnitAlternativePayload):void 0,writeDiffUnitPayload:PP(e.writeDiffUnitPayload)?xR.fromJSON(e.writeDiffUnitPayload):void 0,textFormattingPayload:PP(e.textFormattingPayload)?EO.fromJSON(e.textFormattingPayload):void 0,writeProvidedTextUnitAlternativesPayload:PP(e.writeProvidedTextUnitAlternativesPayload)?kR.fromJSON(e.writeProvidedTextUnitAlternativesPayload):void 0,writeProvidedAutomaticTextUnitAlternativesPayload:PP(e.writeProvidedAutomaticTextUnitAlternativesPayload)?CR.fromJSON(e.writeProvidedAutomaticTextUnitAlternativesPayload):void 0,translatorRequestClarifyPayload:PP(e.translatorRequestClarifyPayload)?qO.fromJSON(e.translatorRequestClarifyPayload):void 0,translatorProvidedClarifyQuestionPayload:PP(e.translatorProvidedClarifyQuestionPayload)?WO.fromJSON(e.translatorProvidedClarifyQuestionPayload):void 0,translatorProvidedClarifyHighlightPayload:PP(e.translatorProvidedClarifyHighlightPayload)?BO.fromJSON(e.translatorProvidedClarifyHighlightPayload):void 0,translatorSelectClarifyAnswerPayload:PP(e.translatorSelectClarifyAnswerPayload)?HO.fromJSON(e.translatorSelectClarifyAnswerPayload):void 0,writeRequestChangeStyleAlternativesAnnotationPayload:PP(e.writeRequestChangeStyleAlternativesAnnotationPayload)?YR.fromJSON(e.writeRequestChangeStyleAlternativesAnnotationPayload):void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:PP(e.writeProvidedChangeStyleAlternativesAnnotationPayload)?KR.fromJSON(e.writeProvidedChangeStyleAlternativesAnnotationPayload):void 0,writeSelectChangeStyleAlternativeAnnotationPayload:PP(e.writeSelectChangeStyleAlternativeAnnotationPayload)?QR.fromJSON(e.writeSelectChangeStyleAlternativeAnnotationPayload):void 0}),toJSON(e){const t={};return void 0!==e.annotationId&&(t.annotationId=xP.toJSON(e.annotationId)),void 0!==e.range&&(t.range=IO.toJSON(e.range)),void 0!==e.textUnitPayload&&(t.textUnitPayload=CO.toJSON(e.textUnitPayload)),void 0!==e.requestWordAlternativesPayload&&(t.requestWordAlternativesPayload=vO.toJSON(e.requestWordAlternativesPayload)),void 0!==e.providedWordAlternativesPayload&&(t.providedWordAlternativesPayload=fO.toJSON(e.providedWordAlternativesPayload)),void 0!==e.selectWordAlternativePayload&&(t.selectWordAlternativePayload=bO.toJSON(e.selectWordAlternativePayload)),void 0!==e.translatorGlossaryReplacementPayload&&(t.translatorGlossaryReplacementPayload=FO.toJSON(e.translatorGlossaryReplacementPayload)),void 0!==e.requestTextUnitAlternativesPayload&&(t.requestTextUnitAlternativesPayload=mO.toJSON(e.requestTextUnitAlternativesPayload)),void 0!==e.translatorProvidedTextUnitAlternativesPayload&&(t.translatorProvidedTextUnitAlternativesPayload=GO.toJSON(e.translatorProvidedTextUnitAlternativesPayload)),void 0!==e.selectTextUnitAlternativePayload&&(t.selectTextUnitAlternativePayload=_O.toJSON(e.selectTextUnitAlternativePayload)),void 0!==e.translatorRequestAutocompletionPayload&&(t.translatorRequestAutocompletionPayload=DO.toJSON(e.translatorRequestAutocompletionPayload)),void 0!==e.translatorProvidedAutocompletionPayload&&(t.translatorProvidedAutocompletionPayload=UO.toJSON(e.translatorProvidedAutocompletionPayload)),void 0!==e.translatorSelectAutocompletionPayload&&(t.translatorSelectAutocompletionPayload=VO.toJSON(e.translatorSelectAutocompletionPayload)),void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&(t.translatorProvidedAutomaticTextUnitAlternativesPayload=jO.toJSON(e.translatorProvidedAutomaticTextUnitAlternativesPayload)),void 0!==e.selectAutomaticTextUnitAlternativePayload&&(t.selectAutomaticTextUnitAlternativePayload=yO.toJSON(e.selectAutomaticTextUnitAlternativePayload)),void 0!==e.writeDiffUnitPayload&&(t.writeDiffUnitPayload=xR.toJSON(e.writeDiffUnitPayload)),void 0!==e.textFormattingPayload&&(t.textFormattingPayload=EO.toJSON(e.textFormattingPayload)),void 0!==e.writeProvidedTextUnitAlternativesPayload&&(t.writeProvidedTextUnitAlternativesPayload=kR.toJSON(e.writeProvidedTextUnitAlternativesPayload)),void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&(t.writeProvidedAutomaticTextUnitAlternativesPayload=CR.toJSON(e.writeProvidedAutomaticTextUnitAlternativesPayload)),void 0!==e.translatorRequestClarifyPayload&&(t.translatorRequestClarifyPayload=qO.toJSON(e.translatorRequestClarifyPayload)),void 0!==e.translatorProvidedClarifyQuestionPayload&&(t.translatorProvidedClarifyQuestionPayload=WO.toJSON(e.translatorProvidedClarifyQuestionPayload)),void 0!==e.translatorProvidedClarifyHighlightPayload&&(t.translatorProvidedClarifyHighlightPayload=BO.toJSON(e.translatorProvidedClarifyHighlightPayload)),void 0!==e.translatorSelectClarifyAnswerPayload&&(t.translatorSelectClarifyAnswerPayload=HO.toJSON(e.translatorSelectClarifyAnswerPayload)),void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&(t.writeRequestChangeStyleAlternativesAnnotationPayload=YR.toJSON(e.writeRequestChangeStyleAlternativesAnnotationPayload)),void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&(t.writeProvidedChangeStyleAlternativesAnnotationPayload=KR.toJSON(e.writeProvidedChangeStyleAlternativesAnnotationPayload)),void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&(t.writeSelectChangeStyleAlternativeAnnotationPayload=QR.toJSON(e.writeSelectChangeStyleAlternativeAnnotationPayload)),t},create:e=>cP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",annotationId:void 0,range:void 0,textUnitPayload:void 0,requestWordAlternativesPayload:void 0,providedWordAlternativesPayload:void 0,selectWordAlternativePayload:void 0,translatorGlossaryReplacementPayload:void 0,requestTextUnitAlternativesPayload:void 0,translatorProvidedTextUnitAlternativesPayload:void 0,selectTextUnitAlternativePayload:void 0,translatorRequestAutocompletionPayload:void 0,translatorProvidedAutocompletionPayload:void 0,translatorSelectAutocompletionPayload:void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:void 0,selectAutomaticTextUnitAlternativePayload:void 0,writeDiffUnitPayload:void 0,textFormattingPayload:void 0,writeProvidedTextUnitAlternativesPayload:void 0,writeProvidedAutomaticTextUnitAlternativesPayload:void 0,translatorRequestClarifyPayload:void 0,translatorProvidedClarifyQuestionPayload:void 0,translatorProvidedClarifyHighlightPayload:void 0,translatorSelectClarifyAnswerPayload:void 0,writeRequestChangeStyleAlternativesAnnotationPayload:void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:void 0,writeSelectChangeStyleAlternativeAnnotationPayload:void 0};return t.annotationId=void 0!==e.annotationId&&null!==e.annotationId?xP.fromPartial(e.annotationId):void 0,t.range=void 0!==e.range&&null!==e.range?IO.fromPartial(e.range):void 0,t.textUnitPayload=void 0!==e.textUnitPayload&&null!==e.textUnitPayload?CO.fromPartial(e.textUnitPayload):void 0,t.requestWordAlternativesPayload=void 0!==e.requestWordAlternativesPayload&&null!==e.requestWordAlternativesPayload?vO.fromPartial(e.requestWordAlternativesPayload):void 0,t.providedWordAlternativesPayload=void 0!==e.providedWordAlternativesPayload&&null!==e.providedWordAlternativesPayload?fO.fromPartial(e.providedWordAlternativesPayload):void 0,t.selectWordAlternativePayload=void 0!==e.selectWordAlternativePayload&&null!==e.selectWordAlternativePayload?bO.fromPartial(e.selectWordAlternativePayload):void 0,t.translatorGlossaryReplacementPayload=void 0!==e.translatorGlossaryReplacementPayload&&null!==e.translatorGlossaryReplacementPayload?FO.fromPartial(e.translatorGlossaryReplacementPayload):void 0,t.requestTextUnitAlternativesPayload=void 0!==e.requestTextUnitAlternativesPayload&&null!==e.requestTextUnitAlternativesPayload?mO.fromPartial(e.requestTextUnitAlternativesPayload):void 0,t.translatorProvidedTextUnitAlternativesPayload=void 0!==e.translatorProvidedTextUnitAlternativesPayload&&null!==e.translatorProvidedTextUnitAlternativesPayload?GO.fromPartial(e.translatorProvidedTextUnitAlternativesPayload):void 0,t.selectTextUnitAlternativePayload=void 0!==e.selectTextUnitAlternativePayload&&null!==e.selectTextUnitAlternativePayload?_O.fromPartial(e.selectTextUnitAlternativePayload):void 0,t.translatorRequestAutocompletionPayload=void 0!==e.translatorRequestAutocompletionPayload&&null!==e.translatorRequestAutocompletionPayload?DO.fromPartial(e.translatorRequestAutocompletionPayload):void 0,t.translatorProvidedAutocompletionPayload=void 0!==e.translatorProvidedAutocompletionPayload&&null!==e.translatorProvidedAutocompletionPayload?UO.fromPartial(e.translatorProvidedAutocompletionPayload):void 0,t.translatorSelectAutocompletionPayload=void 0!==e.translatorSelectAutocompletionPayload&&null!==e.translatorSelectAutocompletionPayload?VO.fromPartial(e.translatorSelectAutocompletionPayload):void 0,t.translatorProvidedAutomaticTextUnitAlternativesPayload=void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&null!==e.translatorProvidedAutomaticTextUnitAlternativesPayload?jO.fromPartial(e.translatorProvidedAutomaticTextUnitAlternativesPayload):void 0,t.selectAutomaticTextUnitAlternativePayload=void 0!==e.selectAutomaticTextUnitAlternativePayload&&null!==e.selectAutomaticTextUnitAlternativePayload?yO.fromPartial(e.selectAutomaticTextUnitAlternativePayload):void 0,t.writeDiffUnitPayload=void 0!==e.writeDiffUnitPayload&&null!==e.writeDiffUnitPayload?xR.fromPartial(e.writeDiffUnitPayload):void 0,t.textFormattingPayload=void 0!==e.textFormattingPayload&&null!==e.textFormattingPayload?EO.fromPartial(e.textFormattingPayload):void 0,t.writeProvidedTextUnitAlternativesPayload=void 0!==e.writeProvidedTextUnitAlternativesPayload&&null!==e.writeProvidedTextUnitAlternativesPayload?kR.fromPartial(e.writeProvidedTextUnitAlternativesPayload):void 0,t.writeProvidedAutomaticTextUnitAlternativesPayload=void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&null!==e.writeProvidedAutomaticTextUnitAlternativesPayload?CR.fromPartial(e.writeProvidedAutomaticTextUnitAlternativesPayload):void 0,t.translatorRequestClarifyPayload=void 0!==e.translatorRequestClarifyPayload&&null!==e.translatorRequestClarifyPayload?qO.fromPartial(e.translatorRequestClarifyPayload):void 0,t.translatorProvidedClarifyQuestionPayload=void 0!==e.translatorProvidedClarifyQuestionPayload&&null!==e.translatorProvidedClarifyQuestionPayload?WO.fromPartial(e.translatorProvidedClarifyQuestionPayload):void 0,t.translatorProvidedClarifyHighlightPayload=void 0!==e.translatorProvidedClarifyHighlightPayload&&null!==e.translatorProvidedClarifyHighlightPayload?BO.fromPartial(e.translatorProvidedClarifyHighlightPayload):void 0,t.translatorSelectClarifyAnswerPayload=void 0!==e.translatorSelectClarifyAnswerPayload&&null!==e.translatorSelectClarifyAnswerPayload?HO.fromPartial(e.translatorSelectClarifyAnswerPayload):void 0,t.writeRequestChangeStyleAlternativesAnnotationPayload=void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&null!==e.writeRequestChangeStyleAlternativesAnnotationPayload?YR.fromPartial(e.writeRequestChangeStyleAlternativesAnnotationPayload):void 0,t.writeProvidedChangeStyleAlternativesAnnotationPayload=void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&null!==e.writeProvidedChangeStyleAlternativesAnnotationPayload?KR.fromPartial(e.writeProvidedChangeStyleAlternativesAnnotationPayload):void 0,t.writeSelectChangeStyleAlternativeAnnotationPayload=void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&null!==e.writeSelectChangeStyleAlternativeAnnotationPayload?QR.fromPartial(e.writeSelectChangeStyleAlternativeAnnotationPayload):void 0,t}};const lP={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",encode:(e,t=new oO)=>(void 0!==e.annotationId&&xP.encode(e.annotationId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",annotationId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.annotationId=xP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lP.$type,annotationId:PP(e.annotationId)?xP.fromJSON(e.annotationId):void 0}),toJSON(e){const t={};return void 0!==e.annotationId&&(t.annotationId=xP.toJSON(e.annotationId)),t},create:e=>lP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",annotationId:void 0};return t.annotationId=void 0!==e.annotationId&&null!==e.annotationId?xP.fromPartial(e.annotationId):void 0,t}};const uP={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",encode:(e,t=new oO)=>(0!==e.propertyName&&t.uint32(8).int32(e.propertyName),void 0!==e.translatorSourceLanguagesValue&&JO.encode(e.translatorSourceLanguagesValue,t.uint32(18).fork()).join(),void 0!==e.translatorTargetLanguagesValue&&zO.encode(e.translatorTargetLanguagesValue,t.uint32(26).fork()).join(),void 0!==e.translatorRequestedSourceLanguageValue&&YO.encode(e.translatorRequestedSourceLanguageValue,t.uint32(34).fork()).join(),void 0!==e.translatorRequestedTargetLanguageValue&&KO.encode(e.translatorRequestedTargetLanguageValue,t.uint32(42).fork()).join(),void 0!==e.translatorFormalityModesValue&&nR.encode(e.translatorFormalityModesValue,t.uint32(58).fork()).join(),void 0!==e.translatorFormalityModeValue&&rR.encode(e.translatorFormalityModeValue,t.uint32(66).fork()).join(),void 0!==e.translatorGlossarySupportValue&&eR.encode(e.translatorGlossarySupportValue,t.uint32(74).fork()).join(),void 0!==e.translatorGlossaryListValue&&fR.encode(e.translatorGlossaryListValue,t.uint32(82).fork()).join(),void 0!==e.translatorTextDirectionValue&&aR.encode(e.translatorTextDirectionValue,t.uint32(98).fork()).join(),void 0!==e.translatorCalculatedSourceLanguageValue&&XO.encode(e.translatorCalculatedSourceLanguageValue,t.uint32(106).fork()).join(),void 0!==e.translatorMaximumTextLengthValue&&sR.encode(e.translatorMaximumTextLengthValue,t.uint32(114).fork()).join(),void 0!==e.translatorLanguageModelsValue&&oR.encode(e.translatorLanguageModelsValue,t.uint32(122).fork()).join(),void 0!==e.translatorLanguageModelValue&&iR.encode(e.translatorLanguageModelValue,t.uint32(130).fork()).join(),void 0!==e.translatorGlossaryIdValue&&ZO.encode(e.translatorGlossaryIdValue,t.uint32(138).fork()).join(),void 0!==e.translatorCalculatedTargetLanguageValue&&QO.encode(e.translatorCalculatedTargetLanguageValue,t.uint32(146).fork()).join(),void 0!==e.translatorUnsupportedSourceLanguageValue&&cR.encode(e.translatorUnsupportedSourceLanguageValue,t.uint32(154).fork()).join(),void 0!==e.writeLanguagesValue&&OR.encode(e.writeLanguagesValue,t.uint32(162).fork()).join(),void 0!==e.writeRequestedLanguageValue&&PR.encode(e.writeRequestedLanguageValue,t.uint32(170).fork()).join(),void 0!==e.writeCalculatedLanguageValue&&NR.encode(e.writeCalculatedLanguageValue,t.uint32(178).fork()).join(),void 0!==e.writeStyleVariantsValue&&MR.encode(e.writeStyleVariantsValue,t.uint32(186).fork()).join(),void 0!==e.writeStyleVariantValue&&DR.encode(e.writeStyleVariantValue,t.uint32(194).fork()).join(),void 0!==e.writeGlossaryIdValue&&LR.encode(e.writeGlossaryIdValue,t.uint32(202).fork()).join(),void 0!==e.writeGlossaryListValue&&GR.encode(e.writeGlossaryListValue,t.uint32(210).fork()).join(),void 0!==e.writeGlossarySupportValue&&jR.encode(e.writeGlossarySupportValue,t.uint32(218).fork()).join(),void 0!==e.writeMaximumTextLengthValue&&$R.encode(e.writeMaximumTextLengthValue,t.uint32(226).fork()).join(),void 0!==e.writeUnsupportedLanguageValue&&UR.encode(e.writeUnsupportedLanguageValue,t.uint32(234).fork()).join(),void 0!==e.translatorSourceLanguageDetectionWeightsValue&&lR.encode(e.translatorSourceLanguageDetectionWeightsValue,t.uint32(242).fork()).join(),void 0!==e.writeGlossaryLanguagesValue&&RR.encode(e.writeGlossaryLanguagesValue,t.uint32(250).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",propertyName:0,translatorSourceLanguagesValue:void 0,translatorTargetLanguagesValue:void 0,translatorRequestedSourceLanguageValue:void 0,translatorRequestedTargetLanguageValue:void 0,translatorFormalityModesValue:void 0,translatorFormalityModeValue:void 0,translatorGlossarySupportValue:void 0,translatorGlossaryListValue:void 0,translatorTextDirectionValue:void 0,translatorCalculatedSourceLanguageValue:void 0,translatorMaximumTextLengthValue:void 0,translatorLanguageModelsValue:void 0,translatorLanguageModelValue:void 0,translatorGlossaryIdValue:void 0,translatorCalculatedTargetLanguageValue:void 0,translatorUnsupportedSourceLanguageValue:void 0,writeLanguagesValue:void 0,writeRequestedLanguageValue:void 0,writeCalculatedLanguageValue:void 0,writeStyleVariantsValue:void 0,writeStyleVariantValue:void 0,writeGlossaryIdValue:void 0,writeGlossaryListValue:void 0,writeGlossarySupportValue:void 0,writeMaximumTextLengthValue:void 0,writeUnsupportedLanguageValue:void 0,translatorSourceLanguageDetectionWeightsValue:void 0,writeGlossaryLanguagesValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.propertyName=n.int32();continue;case 2:if(18!==e)break;o.translatorSourceLanguagesValue=JO.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.translatorTargetLanguagesValue=zO.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.translatorRequestedSourceLanguageValue=YO.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.translatorRequestedTargetLanguageValue=KO.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.translatorFormalityModesValue=nR.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.translatorFormalityModeValue=rR.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.translatorGlossarySupportValue=eR.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.translatorGlossaryListValue=fR.decode(n,n.uint32());continue;case 12:if(98!==e)break;o.translatorTextDirectionValue=aR.decode(n,n.uint32());continue;case 13:if(106!==e)break;o.translatorCalculatedSourceLanguageValue=XO.decode(n,n.uint32());continue;case 14:if(114!==e)break;o.translatorMaximumTextLengthValue=sR.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.translatorLanguageModelsValue=oR.decode(n,n.uint32());continue;case 16:if(130!==e)break;o.translatorLanguageModelValue=iR.decode(n,n.uint32());continue;case 17:if(138!==e)break;o.translatorGlossaryIdValue=ZO.decode(n,n.uint32());continue;case 18:if(146!==e)break;o.translatorCalculatedTargetLanguageValue=QO.decode(n,n.uint32());continue;case 19:if(154!==e)break;o.translatorUnsupportedSourceLanguageValue=cR.decode(n,n.uint32());continue;case 20:if(162!==e)break;o.writeLanguagesValue=OR.decode(n,n.uint32());continue;case 21:if(170!==e)break;o.writeRequestedLanguageValue=PR.decode(n,n.uint32());continue;case 22:if(178!==e)break;o.writeCalculatedLanguageValue=NR.decode(n,n.uint32());continue;case 23:if(186!==e)break;o.writeStyleVariantsValue=MR.decode(n,n.uint32());continue;case 24:if(194!==e)break;o.writeStyleVariantValue=DR.decode(n,n.uint32());continue;case 25:if(202!==e)break;o.writeGlossaryIdValue=LR.decode(n,n.uint32());continue;case 26:if(210!==e)break;o.writeGlossaryListValue=GR.decode(n,n.uint32());continue;case 27:if(218!==e)break;o.writeGlossarySupportValue=jR.decode(n,n.uint32());continue;case 28:if(226!==e)break;o.writeMaximumTextLengthValue=$R.decode(n,n.uint32());continue;case 29:if(234!==e)break;o.writeUnsupportedLanguageValue=UR.decode(n,n.uint32());continue;case 30:if(242!==e)break;o.translatorSourceLanguageDetectionWeightsValue=lR.decode(n,n.uint32());continue;case 31:if(250!==e)break;o.writeGlossaryLanguagesValue=RR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uP.$type,propertyName:PP(e.propertyName)?iP(e.propertyName):0,translatorSourceLanguagesValue:PP(e.translatorSourceLanguagesValue)?JO.fromJSON(e.translatorSourceLanguagesValue):void 0,translatorTargetLanguagesValue:PP(e.translatorTargetLanguagesValue)?zO.fromJSON(e.translatorTargetLanguagesValue):void 0,translatorRequestedSourceLanguageValue:PP(e.translatorRequestedSourceLanguageValue)?YO.fromJSON(e.translatorRequestedSourceLanguageValue):void 0,translatorRequestedTargetLanguageValue:PP(e.translatorRequestedTargetLanguageValue)?KO.fromJSON(e.translatorRequestedTargetLanguageValue):void 0,translatorFormalityModesValue:PP(e.translatorFormalityModesValue)?nR.fromJSON(e.translatorFormalityModesValue):void 0,translatorFormalityModeValue:PP(e.translatorFormalityModeValue)?rR.fromJSON(e.translatorFormalityModeValue):void 0,translatorGlossarySupportValue:PP(e.translatorGlossarySupportValue)?eR.fromJSON(e.translatorGlossarySupportValue):void 0,translatorGlossaryListValue:PP(e.translatorGlossaryListValue)?fR.fromJSON(e.translatorGlossaryListValue):void 0,translatorTextDirectionValue:PP(e.translatorTextDirectionValue)?aR.fromJSON(e.translatorTextDirectionValue):void 0,translatorCalculatedSourceLanguageValue:PP(e.translatorCalculatedSourceLanguageValue)?XO.fromJSON(e.translatorCalculatedSourceLanguageValue):void 0,translatorMaximumTextLengthValue:PP(e.translatorMaximumTextLengthValue)?sR.fromJSON(e.translatorMaximumTextLengthValue):void 0,translatorLanguageModelsValue:PP(e.translatorLanguageModelsValue)?oR.fromJSON(e.translatorLanguageModelsValue):void 0,translatorLanguageModelValue:PP(e.translatorLanguageModelValue)?iR.fromJSON(e.translatorLanguageModelValue):void 0,translatorGlossaryIdValue:PP(e.translatorGlossaryIdValue)?ZO.fromJSON(e.translatorGlossaryIdValue):void 0,translatorCalculatedTargetLanguageValue:PP(e.translatorCalculatedTargetLanguageValue)?QO.fromJSON(e.translatorCalculatedTargetLanguageValue):void 0,translatorUnsupportedSourceLanguageValue:PP(e.translatorUnsupportedSourceLanguageValue)?cR.fromJSON(e.translatorUnsupportedSourceLanguageValue):void 0,writeLanguagesValue:PP(e.writeLanguagesValue)?OR.fromJSON(e.writeLanguagesValue):void 0,writeRequestedLanguageValue:PP(e.writeRequestedLanguageValue)?PR.fromJSON(e.writeRequestedLanguageValue):void 0,writeCalculatedLanguageValue:PP(e.writeCalculatedLanguageValue)?NR.fromJSON(e.writeCalculatedLanguageValue):void 0,writeStyleVariantsValue:PP(e.writeStyleVariantsValue)?MR.fromJSON(e.writeStyleVariantsValue):void 0,writeStyleVariantValue:PP(e.writeStyleVariantValue)?DR.fromJSON(e.writeStyleVariantValue):void 0,writeGlossaryIdValue:PP(e.writeGlossaryIdValue)?LR.fromJSON(e.writeGlossaryIdValue):void 0,writeGlossaryListValue:PP(e.writeGlossaryListValue)?GR.fromJSON(e.writeGlossaryListValue):void 0,writeGlossarySupportValue:PP(e.writeGlossarySupportValue)?jR.fromJSON(e.writeGlossarySupportValue):void 0,writeMaximumTextLengthValue:PP(e.writeMaximumTextLengthValue)?$R.fromJSON(e.writeMaximumTextLengthValue):void 0,writeUnsupportedLanguageValue:PP(e.writeUnsupportedLanguageValue)?UR.fromJSON(e.writeUnsupportedLanguageValue):void 0,translatorSourceLanguageDetectionWeightsValue:PP(e.translatorSourceLanguageDetectionWeightsValue)?lR.fromJSON(e.translatorSourceLanguageDetectionWeightsValue):void 0,writeGlossaryLanguagesValue:PP(e.writeGlossaryLanguagesValue)?RR.fromJSON(e.writeGlossaryLanguagesValue):void 0}),toJSON(e){const t={};return 0!==e.propertyName&&(t.propertyName=function(e){switch(e){case tP.UNSPECIFIED:return"PROPERTY_NAME_UNSPECIFIED";case tP.TRANSLATOR_SOURCE_LANGUAGES:return"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGES";case tP.TRANSLATOR_TARGET_LANGUAGES:return"PROPERTY_NAME_TRANSLATOR_TARGET_LANGUAGES";case tP.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_REQUESTED_SOURCE_LANGUAGE";case tP.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_CALCULATED_SOURCE_LANGUAGE";case tP.TRANSLATOR_REQUESTED_TARGET_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_REQUESTED_TARGET_LANGUAGE";case tP.TRANSLATOR_FORMALITY_MODES:return"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODES";case tP.TRANSLATOR_FORMALITY_MODE:return"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODE";case tP.TRANSLATOR_GLOSSARY_SUPPORT:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUPPORT";case tP.TRANSLATOR_GLOSSARY_LIST:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_LIST";case tP.TRANSLATOR_TEXT_DIRECTION:return"PROPERTY_NAME_TRANSLATOR_TEXT_DIRECTION";case tP.TRANSLATOR_GLOSSARY_SUGGESTIONS:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUGGESTIONS";case tP.TRANSLATOR_MAXIMUM_TEXT_LENGTH:return"PROPERTY_NAME_TRANSLATOR_MAXIMUM_TEXT_LENGTH";case tP.TRANSLATOR_LANGUAGE_MODELS:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODELS";case tP.TRANSLATOR_LANGUAGE_MODEL:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL";case tP.TRANSLATOR_GLOSSARY_ID:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_ID";case tP.TRANSLATOR_CALCULATED_TARGET_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_CALCULATED_TARGET_LANGUAGE";case tP.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE";case tP.WRITE_LANGUAGES:return"PROPERTY_NAME_WRITE_LANGUAGES";case tP.WRITE_REQUESTED_LANGUAGE:return"PROPERTY_NAME_WRITE_REQUESTED_LANGUAGE";case tP.WRITE_CALCULATED_LANGUAGE:return"PROPERTY_NAME_WRITE_CALCULATED_LANGUAGE";case tP.WRITE_STYLE_VARIANTS:return"PROPERTY_NAME_WRITE_STYLE_VARIANTS";case tP.WRITE_STYLE_VARIANT:return"PROPERTY_NAME_WRITE_STYLE_VARIANT";case tP.WRITE_GLOSSARY_ID:return"PROPERTY_NAME_WRITE_GLOSSARY_ID";case tP.WRITE_GLOSSARY_LIST:return"PROPERTY_NAME_WRITE_GLOSSARY_LIST";case tP.WRITE_GLOSSARY_SUPPORT:return"PROPERTY_NAME_WRITE_GLOSSARY_SUPPORT";case tP.WRITE_MAXIMUM_TEXT_LENGTH:return"PROPERTY_NAME_WRITE_MAXIMUM_TEXT_LENGTH";case tP.WRITE_UNSUPPORTED_LANGUAGE:return"PROPERTY_NAME_WRITE_UNSUPPORTED_LANGUAGE";case tP.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS:return"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS";case tP.WRITE_GLOSSARY_LANGUAGES:return"PROPERTY_NAME_WRITE_GLOSSARY_LANGUAGES";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum PropertyName")}}(e.propertyName)),void 0!==e.translatorSourceLanguagesValue&&(t.translatorSourceLanguagesValue=JO.toJSON(e.translatorSourceLanguagesValue)),void 0!==e.translatorTargetLanguagesValue&&(t.translatorTargetLanguagesValue=zO.toJSON(e.translatorTargetLanguagesValue)),void 0!==e.translatorRequestedSourceLanguageValue&&(t.translatorRequestedSourceLanguageValue=YO.toJSON(e.translatorRequestedSourceLanguageValue)),void 0!==e.translatorRequestedTargetLanguageValue&&(t.translatorRequestedTargetLanguageValue=KO.toJSON(e.translatorRequestedTargetLanguageValue)),void 0!==e.translatorFormalityModesValue&&(t.translatorFormalityModesValue=nR.toJSON(e.translatorFormalityModesValue)),void 0!==e.translatorFormalityModeValue&&(t.translatorFormalityModeValue=rR.toJSON(e.translatorFormalityModeValue)),void 0!==e.translatorGlossarySupportValue&&(t.translatorGlossarySupportValue=eR.toJSON(e.translatorGlossarySupportValue)),void 0!==e.translatorGlossaryListValue&&(t.translatorGlossaryListValue=fR.toJSON(e.translatorGlossaryListValue)),void 0!==e.translatorTextDirectionValue&&(t.translatorTextDirectionValue=aR.toJSON(e.translatorTextDirectionValue)),void 0!==e.translatorCalculatedSourceLanguageValue&&(t.translatorCalculatedSourceLanguageValue=XO.toJSON(e.translatorCalculatedSourceLanguageValue)),void 0!==e.translatorMaximumTextLengthValue&&(t.translatorMaximumTextLengthValue=sR.toJSON(e.translatorMaximumTextLengthValue)),void 0!==e.translatorLanguageModelsValue&&(t.translatorLanguageModelsValue=oR.toJSON(e.translatorLanguageModelsValue)),void 0!==e.translatorLanguageModelValue&&(t.translatorLanguageModelValue=iR.toJSON(e.translatorLanguageModelValue)),void 0!==e.translatorGlossaryIdValue&&(t.translatorGlossaryIdValue=ZO.toJSON(e.translatorGlossaryIdValue)),void 0!==e.translatorCalculatedTargetLanguageValue&&(t.translatorCalculatedTargetLanguageValue=QO.toJSON(e.translatorCalculatedTargetLanguageValue)),void 0!==e.translatorUnsupportedSourceLanguageValue&&(t.translatorUnsupportedSourceLanguageValue=cR.toJSON(e.translatorUnsupportedSourceLanguageValue)),void 0!==e.writeLanguagesValue&&(t.writeLanguagesValue=OR.toJSON(e.writeLanguagesValue)),void 0!==e.writeRequestedLanguageValue&&(t.writeRequestedLanguageValue=PR.toJSON(e.writeRequestedLanguageValue)),void 0!==e.writeCalculatedLanguageValue&&(t.writeCalculatedLanguageValue=NR.toJSON(e.writeCalculatedLanguageValue)),void 0!==e.writeStyleVariantsValue&&(t.writeStyleVariantsValue=MR.toJSON(e.writeStyleVariantsValue)),void 0!==e.writeStyleVariantValue&&(t.writeStyleVariantValue=DR.toJSON(e.writeStyleVariantValue)),void 0!==e.writeGlossaryIdValue&&(t.writeGlossaryIdValue=LR.toJSON(e.writeGlossaryIdValue)),void 0!==e.writeGlossaryListValue&&(t.writeGlossaryListValue=GR.toJSON(e.writeGlossaryListValue)),void 0!==e.writeGlossarySupportValue&&(t.writeGlossarySupportValue=jR.toJSON(e.writeGlossarySupportValue)),void 0!==e.writeMaximumTextLengthValue&&(t.writeMaximumTextLengthValue=$R.toJSON(e.writeMaximumTextLengthValue)),void 0!==e.writeUnsupportedLanguageValue&&(t.writeUnsupportedLanguageValue=UR.toJSON(e.writeUnsupportedLanguageValue)),void 0!==e.translatorSourceLanguageDetectionWeightsValue&&(t.translatorSourceLanguageDetectionWeightsValue=lR.toJSON(e.translatorSourceLanguageDetectionWeightsValue)),void 0!==e.writeGlossaryLanguagesValue&&(t.writeGlossaryLanguagesValue=RR.toJSON(e.writeGlossaryLanguagesValue)),t},create:e=>uP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",propertyName:0,translatorSourceLanguagesValue:void 0,translatorTargetLanguagesValue:void 0,translatorRequestedSourceLanguageValue:void 0,translatorRequestedTargetLanguageValue:void 0,translatorFormalityModesValue:void 0,translatorFormalityModeValue:void 0,translatorGlossarySupportValue:void 0,translatorGlossaryListValue:void 0,translatorTextDirectionValue:void 0,translatorCalculatedSourceLanguageValue:void 0,translatorMaximumTextLengthValue:void 0,translatorLanguageModelsValue:void 0,translatorLanguageModelValue:void 0,translatorGlossaryIdValue:void 0,translatorCalculatedTargetLanguageValue:void 0,translatorUnsupportedSourceLanguageValue:void 0,writeLanguagesValue:void 0,writeRequestedLanguageValue:void 0,writeCalculatedLanguageValue:void 0,writeStyleVariantsValue:void 0,writeStyleVariantValue:void 0,writeGlossaryIdValue:void 0,writeGlossaryListValue:void 0,writeGlossarySupportValue:void 0,writeMaximumTextLengthValue:void 0,writeUnsupportedLanguageValue:void 0,translatorSourceLanguageDetectionWeightsValue:void 0,writeGlossaryLanguagesValue:void 0};return n.propertyName=null!==(t=e.propertyName)&&void 0!==t?t:0,n.translatorSourceLanguagesValue=void 0!==e.translatorSourceLanguagesValue&&null!==e.translatorSourceLanguagesValue?JO.fromPartial(e.translatorSourceLanguagesValue):void 0,n.translatorTargetLanguagesValue=void 0!==e.translatorTargetLanguagesValue&&null!==e.translatorTargetLanguagesValue?zO.fromPartial(e.translatorTargetLanguagesValue):void 0,n.translatorRequestedSourceLanguageValue=void 0!==e.translatorRequestedSourceLanguageValue&&null!==e.translatorRequestedSourceLanguageValue?YO.fromPartial(e.translatorRequestedSourceLanguageValue):void 0,n.translatorRequestedTargetLanguageValue=void 0!==e.translatorRequestedTargetLanguageValue&&null!==e.translatorRequestedTargetLanguageValue?KO.fromPartial(e.translatorRequestedTargetLanguageValue):void 0,n.translatorFormalityModesValue=void 0!==e.translatorFormalityModesValue&&null!==e.translatorFormalityModesValue?nR.fromPartial(e.translatorFormalityModesValue):void 0,n.translatorFormalityModeValue=void 0!==e.translatorFormalityModeValue&&null!==e.translatorFormalityModeValue?rR.fromPartial(e.translatorFormalityModeValue):void 0,n.translatorGlossarySupportValue=void 0!==e.translatorGlossarySupportValue&&null!==e.translatorGlossarySupportValue?eR.fromPartial(e.translatorGlossarySupportValue):void 0,n.translatorGlossaryListValue=void 0!==e.translatorGlossaryListValue&&null!==e.translatorGlossaryListValue?fR.fromPartial(e.translatorGlossaryListValue):void 0,n.translatorTextDirectionValue=void 0!==e.translatorTextDirectionValue&&null!==e.translatorTextDirectionValue?aR.fromPartial(e.translatorTextDirectionValue):void 0,n.translatorCalculatedSourceLanguageValue=void 0!==e.translatorCalculatedSourceLanguageValue&&null!==e.translatorCalculatedSourceLanguageValue?XO.fromPartial(e.translatorCalculatedSourceLanguageValue):void 0,n.translatorMaximumTextLengthValue=void 0!==e.translatorMaximumTextLengthValue&&null!==e.translatorMaximumTextLengthValue?sR.fromPartial(e.translatorMaximumTextLengthValue):void 0,n.translatorLanguageModelsValue=void 0!==e.translatorLanguageModelsValue&&null!==e.translatorLanguageModelsValue?oR.fromPartial(e.translatorLanguageModelsValue):void 0,n.translatorLanguageModelValue=void 0!==e.translatorLanguageModelValue&&null!==e.translatorLanguageModelValue?iR.fromPartial(e.translatorLanguageModelValue):void 0,n.translatorGlossaryIdValue=void 0!==e.translatorGlossaryIdValue&&null!==e.translatorGlossaryIdValue?ZO.fromPartial(e.translatorGlossaryIdValue):void 0,n.translatorCalculatedTargetLanguageValue=void 0!==e.translatorCalculatedTargetLanguageValue&&null!==e.translatorCalculatedTargetLanguageValue?QO.fromPartial(e.translatorCalculatedTargetLanguageValue):void 0,n.translatorUnsupportedSourceLanguageValue=void 0!==e.translatorUnsupportedSourceLanguageValue&&null!==e.translatorUnsupportedSourceLanguageValue?cR.fromPartial(e.translatorUnsupportedSourceLanguageValue):void 0,n.writeLanguagesValue=void 0!==e.writeLanguagesValue&&null!==e.writeLanguagesValue?OR.fromPartial(e.writeLanguagesValue):void 0,n.writeRequestedLanguageValue=void 0!==e.writeRequestedLanguageValue&&null!==e.writeRequestedLanguageValue?PR.fromPartial(e.writeRequestedLanguageValue):void 0,n.writeCalculatedLanguageValue=void 0!==e.writeCalculatedLanguageValue&&null!==e.writeCalculatedLanguageValue?NR.fromPartial(e.writeCalculatedLanguageValue):void 0,n.writeStyleVariantsValue=void 0!==e.writeStyleVariantsValue&&null!==e.writeStyleVariantsValue?MR.fromPartial(e.writeStyleVariantsValue):void 0,n.writeStyleVariantValue=void 0!==e.writeStyleVariantValue&&null!==e.writeStyleVariantValue?DR.fromPartial(e.writeStyleVariantValue):void 0,n.writeGlossaryIdValue=void 0!==e.writeGlossaryIdValue&&null!==e.writeGlossaryIdValue?LR.fromPartial(e.writeGlossaryIdValue):void 0,n.writeGlossaryListValue=void 0!==e.writeGlossaryListValue&&null!==e.writeGlossaryListValue?GR.fromPartial(e.writeGlossaryListValue):void 0,n.writeGlossarySupportValue=void 0!==e.writeGlossarySupportValue&&null!==e.writeGlossarySupportValue?jR.fromPartial(e.writeGlossarySupportValue):void 0,n.writeMaximumTextLengthValue=void 0!==e.writeMaximumTextLengthValue&&null!==e.writeMaximumTextLengthValue?$R.fromPartial(e.writeMaximumTextLengthValue):void 0,n.writeUnsupportedLanguageValue=void 0!==e.writeUnsupportedLanguageValue&&null!==e.writeUnsupportedLanguageValue?UR.fromPartial(e.writeUnsupportedLanguageValue):void 0,n.translatorSourceLanguageDetectionWeightsValue=void 0!==e.translatorSourceLanguageDetectionWeightsValue&&null!==e.translatorSourceLanguageDetectionWeightsValue?lR.fromPartial(e.translatorSourceLanguageDetectionWeightsValue):void 0,n.writeGlossaryLanguagesValue=void 0!==e.writeGlossaryLanguagesValue&&null!==e.writeGlossaryLanguagesValue?RR.fromPartial(e.writeGlossaryLanguagesValue):void 0,n}};const dP={$type:"deepl.pb.interactive_text_api.StartSessionRequest",encode:(e,t=new oO)=>(0!==e.sessionMode&&t.uint32(8).int32(e.sessionMode),void 0!==e.baseDocument&&kP.encode(e.baseDocument,t.uint32(18).fork()).join(),void 0!==e.translatorSessionOptions&&uR.encode(e.translatorSessionOptions,t.uint32(26).fork()).join(),void 0!==e.appInformation&&wP.encode(e.appInformation,t.uint32(34).fork()).join(),void 0!==e.previousSessionId&&TP.encode(e.previousSessionId,t.uint32(42).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.StartSessionRequest",sessionMode:0,baseDocument:void 0,translatorSessionOptions:void 0,appInformation:void 0,previousSessionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.sessionMode=n.int32();continue;case 2:if(18!==e)break;o.baseDocument=kP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.translatorSessionOptions=uR.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.appInformation=wP.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.previousSessionId=TP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:dP.$type,sessionMode:PP(e.sessionMode)?aP(e.sessionMode):0,baseDocument:PP(e.baseDocument)?kP.fromJSON(e.baseDocument):void 0,translatorSessionOptions:PP(e.translatorSessionOptions)?uR.fromJSON(e.translatorSessionOptions):void 0,appInformation:PP(e.appInformation)?wP.fromJSON(e.appInformation):void 0,previousSessionId:PP(e.previousSessionId)?TP.fromJSON(e.previousSessionId):void 0}),toJSON(e){const t={};return 0!==e.sessionMode&&(t.sessionMode=function(e){switch(e){case nP.UNSPECIFIED:return"SESSION_MODE_UNSPECIFIED";case nP.TRANSLATOR:return"SESSION_MODE_TRANSLATOR";case nP.WRITE:return"SESSION_MODE_WRITE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionMode")}}(e.sessionMode)),void 0!==e.baseDocument&&(t.baseDocument=kP.toJSON(e.baseDocument)),void 0!==e.translatorSessionOptions&&(t.translatorSessionOptions=uR.toJSON(e.translatorSessionOptions)),void 0!==e.appInformation&&(t.appInformation=wP.toJSON(e.appInformation)),void 0!==e.previousSessionId&&(t.previousSessionId=TP.toJSON(e.previousSessionId)),t},create:e=>dP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.StartSessionRequest",sessionMode:0,baseDocument:void 0,translatorSessionOptions:void 0,appInformation:void 0,previousSessionId:void 0};return n.sessionMode=null!==(t=e.sessionMode)&&void 0!==t?t:0,n.baseDocument=void 0!==e.baseDocument&&null!==e.baseDocument?kP.fromPartial(e.baseDocument):void 0,n.translatorSessionOptions=void 0!==e.translatorSessionOptions&&null!==e.translatorSessionOptions?uR.fromPartial(e.translatorSessionOptions):void 0,n.appInformation=void 0!==e.appInformation&&null!==e.appInformation?wP.fromPartial(e.appInformation):void 0,n.previousSessionId=void 0!==e.previousSessionId&&null!==e.previousSessionId?TP.fromPartial(e.previousSessionId):void 0,n}};const pP={$type:"deepl.pb.interactive_text_api.StartSessionResponse",encode:(e,t=new oO)=>(void 0!==e.sessionId&&TP.encode(e.sessionId,t.uint32(10).fork()).join(),void 0!==e.participantId&&IP.encode(e.participantId,t.uint32(18).fork()).join(),""!==e.sessionToken&&t.uint32(26).string(e.sessionToken),void 0!==e.versionRemovedAt&&cO.encode(function(e){const t=Math.trunc(e.getTime()/1e3),n=e.getTime()%1e3*1e6;return{$type:"google.protobuf.Timestamp",seconds:t,nanos:n}}(e.versionRemovedAt),t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.StartSessionResponse",sessionId:void 0,participantId:void 0,sessionToken:"",versionRemovedAt:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sessionId=TP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.participantId=IP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.sessionToken=n.string();continue;case 4:if(34!==e)break;o.versionRemovedAt=OP(cO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:pP.$type,sessionId:PP(e.sessionId)?TP.fromJSON(e.sessionId):void 0,participantId:PP(e.participantId)?IP.fromJSON(e.participantId):void 0,sessionToken:PP(e.sessionToken)?globalThis.String(e.sessionToken):"",versionRemovedAt:PP(e.versionRemovedAt)?RP(e.versionRemovedAt):void 0}),toJSON(e){const t={};return void 0!==e.sessionId&&(t.sessionId=TP.toJSON(e.sessionId)),void 0!==e.participantId&&(t.participantId=IP.toJSON(e.participantId)),""!==e.sessionToken&&(t.sessionToken=e.sessionToken),void 0!==e.versionRemovedAt&&(t.versionRemovedAt=e.versionRemovedAt.toISOString()),t},create:e=>pP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.StartSessionResponse",sessionId:void 0,participantId:void 0,sessionToken:"",versionRemovedAt:void 0};return r.sessionId=void 0!==e.sessionId&&null!==e.sessionId?TP.fromPartial(e.sessionId):void 0,r.participantId=void 0!==e.participantId&&null!==e.participantId?IP.fromPartial(e.participantId):void 0,r.sessionToken=null!==(t=e.sessionToken)&&void 0!==t?t:"",r.versionRemovedAt=null!==(n=e.versionRemovedAt)&&void 0!==n?n:void 0,r}};const hP={$type:"deepl.pb.interactive_text_api.ParticipantRequest",encode:(e,t=new oO)=>(void 0!==e.appendMessage&&SP.encode(e.appendMessage,t.uint32(10).fork()).join(),void 0!==e.updateAuthenticationTokenMessage&&bP.encode(e.updateAuthenticationTokenMessage,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantRequest",appendMessage:void 0,updateAuthenticationTokenMessage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.appendMessage=SP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.updateAuthenticationTokenMessage=bP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:hP.$type,appendMessage:PP(e.appendMessage)?SP.fromJSON(e.appendMessage):void 0,updateAuthenticationTokenMessage:PP(e.updateAuthenticationTokenMessage)?bP.fromJSON(e.updateAuthenticationTokenMessage):void 0}),toJSON(e){const t={};return void 0!==e.appendMessage&&(t.appendMessage=SP.toJSON(e.appendMessage)),void 0!==e.updateAuthenticationTokenMessage&&(t.updateAuthenticationTokenMessage=bP.toJSON(e.updateAuthenticationTokenMessage)),t},create:e=>hP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ParticipantRequest",appendMessage:void 0,updateAuthenticationTokenMessage:void 0};return t.appendMessage=void 0!==e.appendMessage&&null!==e.appendMessage?SP.fromPartial(e.appendMessage):void 0,t.updateAuthenticationTokenMessage=void 0!==e.updateAuthenticationTokenMessage&&null!==e.updateAuthenticationTokenMessage?bP.fromPartial(e.updateAuthenticationTokenMessage):void 0,t}};const fP={$type:"deepl.pb.interactive_text_api.ParticipantResponse",encode:(e,t=new oO)=>(void 0!==e.confirmedMessage&&gP.encode(e.confirmedMessage,t.uint32(10).fork()).join(),void 0!==e.initializedMessage&&mP.encode(e.initializedMessage,t.uint32(18).fork()).join(),void 0!==e.publishedMessage&&vP.encode(e.publishedMessage,t.uint32(26).fork()).join(),void 0!==e.metaInfoMessage&&yP.encode(e.metaInfoMessage,t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantResponse",confirmedMessage:void 0,initializedMessage:void 0,publishedMessage:void 0,metaInfoMessage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.confirmedMessage=gP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.initializedMessage=mP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.publishedMessage=vP.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.metaInfoMessage=yP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:fP.$type,confirmedMessage:PP(e.confirmedMessage)?gP.fromJSON(e.confirmedMessage):void 0,initializedMessage:PP(e.initializedMessage)?mP.fromJSON(e.initializedMessage):void 0,publishedMessage:PP(e.publishedMessage)?vP.fromJSON(e.publishedMessage):void 0,metaInfoMessage:PP(e.metaInfoMessage)?yP.fromJSON(e.metaInfoMessage):void 0}),toJSON(e){const t={};return void 0!==e.confirmedMessage&&(t.confirmedMessage=gP.toJSON(e.confirmedMessage)),void 0!==e.initializedMessage&&(t.initializedMessage=mP.toJSON(e.initializedMessage)),void 0!==e.publishedMessage&&(t.publishedMessage=vP.toJSON(e.publishedMessage)),void 0!==e.metaInfoMessage&&(t.metaInfoMessage=yP.toJSON(e.metaInfoMessage)),t},create:e=>fP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ParticipantResponse",confirmedMessage:void 0,initializedMessage:void 0,publishedMessage:void 0,metaInfoMessage:void 0};return t.confirmedMessage=void 0!==e.confirmedMessage&&null!==e.confirmedMessage?gP.fromPartial(e.confirmedMessage):void 0,t.initializedMessage=void 0!==e.initializedMessage&&null!==e.initializedMessage?mP.fromPartial(e.initializedMessage):void 0,t.publishedMessage=void 0!==e.publishedMessage&&null!==e.publishedMessage?vP.fromPartial(e.publishedMessage):void 0,t.metaInfoMessage=void 0!==e.metaInfoMessage&&null!==e.metaInfoMessage?yP.fromPartial(e.metaInfoMessage):void 0,t}};const gP={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",encode:(e,t=new oO)=>(void 0!==e.currentVersion&&EP.encode(e.currentVersion,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",currentVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.currentVersion=EP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:gP.$type,currentVersion:PP(e.currentVersion)?EP.fromJSON(e.currentVersion):void 0}),toJSON(e){const t={};return void 0!==e.currentVersion&&(t.currentVersion=EP.toJSON(e.currentVersion)),t},create:e=>gP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",currentVersion:void 0};return t.currentVersion=void 0!==e.currentVersion&&null!==e.currentVersion?EP.fromPartial(e.currentVersion):void 0,t}};const mP={$type:"deepl.pb.interactive_text_api.InitializedMessage",encode:(e,t=new oO)=>t,decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.InitializedMessage"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:mP.$type}),toJSON:e=>({}),create:e=>mP.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.InitializedMessage"})};const vP={$type:"deepl.pb.interactive_text_api.PublishedMessage",encode(e,t=new oO){for(const n of e.events)AP.encode(n,t.uint32(10).fork()).join();return void 0!==e.currentVersion&&EP.encode(e.currentVersion,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.PublishedMessage",events:[],currentVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.events.push(AP.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.currentVersion=EP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:vP.$type,events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map((e=>AP.fromJSON(e))):[],currentVersion:PP(e.currentVersion)?EP.fromJSON(e.currentVersion):void 0}),toJSON(e){var t;const n={};return(null===(t=e.events)||void 0===t?void 0:t.length)&&(n.events=e.events.map((e=>AP.toJSON(e)))),void 0!==e.currentVersion&&(n.currentVersion=EP.toJSON(e.currentVersion)),n},create:e=>vP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.PublishedMessage",events:[],currentVersion:void 0};return n.events=(null===(t=e.events)||void 0===t?void 0:t.map((e=>AP.fromPartial(e))))||[],n.currentVersion=void 0!==e.currentVersion&&null!==e.currentVersion?EP.fromPartial(e.currentVersion):void 0,n}};const yP={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",encode:(e,t=new oO)=>(void 0!==e.idle&&_P.encode(e.idle,t.uint32(10).fork()).join(),void 0!==e.translatorTaskMetaInfo&&tR.encode(e.translatorTaskMetaInfo,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",idle:void 0,translatorTaskMetaInfo:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.idle=_P.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.translatorTaskMetaInfo=tR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yP.$type,idle:PP(e.idle)?_P.fromJSON(e.idle):void 0,translatorTaskMetaInfo:PP(e.translatorTaskMetaInfo)?tR.fromJSON(e.translatorTaskMetaInfo):void 0}),toJSON(e){const t={};return void 0!==e.idle&&(t.idle=_P.toJSON(e.idle)),void 0!==e.translatorTaskMetaInfo&&(t.translatorTaskMetaInfo=tR.toJSON(e.translatorTaskMetaInfo)),t},create:e=>yP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",idle:void 0,translatorTaskMetaInfo:void 0};return t.idle=void 0!==e.idle&&null!==e.idle?_P.fromPartial(e.idle):void 0,t.translatorTaskMetaInfo=void 0!==e.translatorTaskMetaInfo&&null!==e.translatorTaskMetaInfo?tR.fromPartial(e.translatorTaskMetaInfo):void 0,t}};const _P={$type:"deepl.pb.interactive_text_api.Idle",encode:(e,t=new oO)=>(void 0!==e.eventVersion&&EP.encode(e.eventVersion,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.Idle",eventVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.eventVersion=EP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_P.$type,eventVersion:PP(e.eventVersion)?EP.fromJSON(e.eventVersion):void 0}),toJSON(e){const t={};return void 0!==e.eventVersion&&(t.eventVersion=EP.toJSON(e.eventVersion)),t},create:e=>_P.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.Idle",eventVersion:void 0};return t.eventVersion=void 0!==e.eventVersion&&null!==e.eventVersion?EP.fromPartial(e.eventVersion):void 0,t}};const SP={$type:"deepl.pb.interactive_text_api.AppendMessage",encode(e,t=new oO){for(const n of e.events)AP.encode(n,t.uint32(10).fork()).join();return void 0!==e.baseVersion&&EP.encode(e.baseVersion,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AppendMessage",events:[],baseVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.events.push(AP.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.baseVersion=EP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:SP.$type,events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map((e=>AP.fromJSON(e))):[],baseVersion:PP(e.baseVersion)?EP.fromJSON(e.baseVersion):void 0}),toJSON(e){var t;const n={};return(null===(t=e.events)||void 0===t?void 0:t.length)&&(n.events=e.events.map((e=>AP.toJSON(e)))),void 0!==e.baseVersion&&(n.baseVersion=EP.toJSON(e.baseVersion)),n},create:e=>SP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.AppendMessage",events:[],baseVersion:void 0};return n.events=(null===(t=e.events)||void 0===t?void 0:t.map((e=>AP.fromPartial(e))))||[],n.baseVersion=void 0!==e.baseVersion&&null!==e.baseVersion?EP.fromPartial(e.baseVersion):void 0,n}};const bP={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",encode:(e,t=new oO)=>(""!==e.token&&t.uint32(10).string(e.token),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",token:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.token=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bP.$type,token:PP(e.token)?globalThis.String(e.token):""}),toJSON(e){const t={};return""!==e.token&&(t.token=e.token),t},create:e=>bP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",token:""};return n.token=null!==(t=e.token)&&void 0!==t?t:"",n}};const wP={$type:"deepl.pb.interactive_text_api.AppInformation",encode:(e,t=new oO)=>(""!==e.os&&t.uint32(10).string(e.os),""!==e.osVersion&&t.uint32(18).string(e.osVersion),""!==e.appVersion&&t.uint32(26).string(e.appVersion),""!==e.appBuild&&t.uint32(34).string(e.appBuild),""!==e.instanceId&&t.uint32(42).string(e.instanceId),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AppInformation",os:"",osVersion:"",appVersion:"",appBuild:"",instanceId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.os=n.string();continue;case 2:if(18!==e)break;o.osVersion=n.string();continue;case 3:if(26!==e)break;o.appVersion=n.string();continue;case 4:if(34!==e)break;o.appBuild=n.string();continue;case 5:if(42!==e)break;o.instanceId=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:wP.$type,os:PP(e.os)?globalThis.String(e.os):"",osVersion:PP(e.osVersion)?globalThis.String(e.osVersion):"",appVersion:PP(e.appVersion)?globalThis.String(e.appVersion):"",appBuild:PP(e.appBuild)?globalThis.String(e.appBuild):"",instanceId:PP(e.instanceId)?globalThis.String(e.instanceId):""}),toJSON(e){const t={};return""!==e.os&&(t.os=e.os),""!==e.osVersion&&(t.osVersion=e.osVersion),""!==e.appVersion&&(t.appVersion=e.appVersion),""!==e.appBuild&&(t.appBuild=e.appBuild),""!==e.instanceId&&(t.instanceId=e.instanceId),t},create:e=>wP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const a={$type:"deepl.pb.interactive_text_api.AppInformation",os:"",osVersion:"",appVersion:"",appBuild:"",instanceId:""};return a.os=null!==(t=e.os)&&void 0!==t?t:"",a.osVersion=null!==(n=e.osVersion)&&void 0!==n?n:"",a.appVersion=null!==(r=e.appVersion)&&void 0!==r?r:"",a.appBuild=null!==(o=e.appBuild)&&void 0!==o?o:"",a.instanceId=null!==(i=e.instanceId)&&void 0!==i?i:"",a}};const TP={$type:"deepl.pb.interactive_text_api.SessionId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.SessionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:TP.$type,value:PP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>TP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.SessionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const EP={$type:"deepl.pb.interactive_text_api.EventVersion",encode:(e,t=new oO)=>(void 0!==e.version&&dO.encode({$type:"google.protobuf.Int32Value",value:e.version},t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.EventVersion",version:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.version=dO.decode(n,n.uint32()).value;continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:EP.$type,version:PP(e.version)?Number(e.version):void 0}),toJSON(e){const t={};return void 0!==e.version&&(t.version=e.version),t},create:e=>EP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.EventVersion",version:void 0};return n.version=null!==(t=e.version)&&void 0!==t?t:void 0,n}};const AP={$type:"deepl.pb.interactive_text_api.FieldEvent",encode:(e,t=new oO)=>(0!==e.fieldName&&t.uint32(8).int32(e.fieldName),void 0!==e.textChangeOperation&&sP.encode(e.textChangeOperation,t.uint32(18).fork()).join(),void 0!==e.createAnnotationOperation&&cP.encode(e.createAnnotationOperation,t.uint32(26).fork()).join(),void 0!==e.removeAnnotationOperation&&lP.encode(e.removeAnnotationOperation,t.uint32(34).fork()).join(),void 0!==e.setPropertyOperation&&uP.encode(e.setPropertyOperation,t.uint32(42).fork()).join(),void 0!==e.participantId&&IP.encode(e.participantId,t.uint32(50).fork()).join(),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.FieldEvent",fieldName:0,textChangeOperation:void 0,createAnnotationOperation:void 0,removeAnnotationOperation:void 0,setPropertyOperation:void 0,participantId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fieldName=n.int32();continue;case 2:if(18!==e)break;o.textChangeOperation=sP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.createAnnotationOperation=cP.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.removeAnnotationOperation=lP.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.setPropertyOperation=uP.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.participantId=IP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:AP.$type,fieldName:PP(e.fieldName)?rP(e.fieldName):0,textChangeOperation:PP(e.textChangeOperation)?sP.fromJSON(e.textChangeOperation):void 0,createAnnotationOperation:PP(e.createAnnotationOperation)?cP.fromJSON(e.createAnnotationOperation):void 0,removeAnnotationOperation:PP(e.removeAnnotationOperation)?lP.fromJSON(e.removeAnnotationOperation):void 0,setPropertyOperation:PP(e.setPropertyOperation)?uP.fromJSON(e.setPropertyOperation):void 0,participantId:PP(e.participantId)?IP.fromJSON(e.participantId):void 0}),toJSON(e){const t={};return 0!==e.fieldName&&(t.fieldName=oP(e.fieldName)),void 0!==e.textChangeOperation&&(t.textChangeOperation=sP.toJSON(e.textChangeOperation)),void 0!==e.createAnnotationOperation&&(t.createAnnotationOperation=cP.toJSON(e.createAnnotationOperation)),void 0!==e.removeAnnotationOperation&&(t.removeAnnotationOperation=lP.toJSON(e.removeAnnotationOperation)),void 0!==e.setPropertyOperation&&(t.setPropertyOperation=uP.toJSON(e.setPropertyOperation)),void 0!==e.participantId&&(t.participantId=IP.toJSON(e.participantId)),t},create:e=>AP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.FieldEvent",fieldName:0,textChangeOperation:void 0,createAnnotationOperation:void 0,removeAnnotationOperation:void 0,setPropertyOperation:void 0,participantId:void 0};return n.fieldName=null!==(t=e.fieldName)&&void 0!==t?t:0,n.textChangeOperation=void 0!==e.textChangeOperation&&null!==e.textChangeOperation?sP.fromPartial(e.textChangeOperation):void 0,n.createAnnotationOperation=void 0!==e.createAnnotationOperation&&null!==e.createAnnotationOperation?cP.fromPartial(e.createAnnotationOperation):void 0,n.removeAnnotationOperation=void 0!==e.removeAnnotationOperation&&null!==e.removeAnnotationOperation?lP.fromPartial(e.removeAnnotationOperation):void 0,n.setPropertyOperation=void 0!==e.setPropertyOperation&&null!==e.setPropertyOperation?uP.fromPartial(e.setPropertyOperation):void 0,n.participantId=void 0!==e.participantId&&null!==e.participantId?IP.fromPartial(e.participantId):void 0,n}};const IP={$type:"deepl.pb.interactive_text_api.ParticipantId",encode:(e,t=new oO)=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantId",value:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.value=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:IP.$type,value:PP(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>IP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.ParticipantId",value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}};const xP={$type:"deepl.pb.interactive_text_api.AnnotationId",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AnnotationId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:xP.$type,value:PP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>xP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.AnnotationId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const kP={$type:"deepl.pb.interactive_text_api.BaseDocument",encode(e,t=new oO){for(const n of e.fields)CP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.BaseDocument",fields:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.fields.push(CP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kP.$type,fields:globalThis.Array.isArray(null==e?void 0:e.fields)?e.fields.map((e=>CP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.fields)||void 0===t?void 0:t.length)&&(n.fields=e.fields.map((e=>CP.toJSON(e)))),n},create:e=>kP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.BaseDocument",fields:[]};return n.fields=(null===(t=e.fields)||void 0===t?void 0:t.map((e=>CP.fromPartial(e))))||[],n}};const CP={$type:"deepl.pb.interactive_text_api.Field",encode(e,t=new oO){0!==e.fieldName&&t.uint32(8).int32(e.fieldName),""!==e.text&&t.uint32(18).string(e.text);for(const n of e.annotations)cP.encode(n,t.uint32(26).fork()).join();for(const n of e.properties)uP.encode(n,t.uint32(34).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.Field",fieldName:0,text:"",annotations:[],properties:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fieldName=n.int32();continue;case 2:if(18!==e)break;o.text=n.string();continue;case 3:if(26!==e)break;o.annotations.push(cP.decode(n,n.uint32()));continue;case 4:if(34!==e)break;o.properties.push(uP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CP.$type,fieldName:PP(e.fieldName)?rP(e.fieldName):0,text:PP(e.text)?globalThis.String(e.text):"",annotations:globalThis.Array.isArray(null==e?void 0:e.annotations)?e.annotations.map((e=>cP.fromJSON(e))):[],properties:globalThis.Array.isArray(null==e?void 0:e.properties)?e.properties.map((e=>uP.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return 0!==e.fieldName&&(r.fieldName=oP(e.fieldName)),""!==e.text&&(r.text=e.text),(null===(t=e.annotations)||void 0===t?void 0:t.length)&&(r.annotations=e.annotations.map((e=>cP.toJSON(e)))),(null===(n=e.properties)||void 0===n?void 0:n.length)&&(r.properties=e.properties.map((e=>uP.toJSON(e)))),r},create:e=>CP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.Field",fieldName:0,text:"",annotations:[],properties:[]};return i.fieldName=null!==(t=e.fieldName)&&void 0!==t?t:0,i.text=null!==(n=e.text)&&void 0!==n?n:"",i.annotations=(null===(r=e.annotations)||void 0===r?void 0:r.map((e=>cP.fromPartial(e))))||[],i.properties=(null===(o=e.properties)||void 0===o?void 0:o.map((e=>uP.fromPartial(e))))||[],i}};function OP(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}function RP(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):OP(cO.fromJSON(e))}function PP(e){return null!=e}var NP,LP;function $P(e){switch(e){case 0:case"STATUS_CODE_UNSPECIFIED":return LP.UNSPECIFIED;case 1:case"STATUS_CODE_CANCELLED":return LP.CANCELLED;case 2:case"STATUS_CODE_UNKNOWN":return LP.UNKNOWN;case 3:case"STATUS_CODE_INVALID_ARGUMENT":return LP.INVALID_ARGUMENT;case 4:case"STATUS_CODE_DEADLINE_EXCEEDED":return LP.DEADLINE_EXCEEDED;case 5:case"STATUS_CODE_NOT_FOUND":return LP.NOT_FOUND;case 6:case"STATUS_CODE_ALREADY_EXISTS":return LP.ALREADY_EXISTS;case 7:case"STATUS_CODE_PERMISSION_DENIED":return LP.PERMISSION_DENIED;case 8:case"STATUS_CODE_RESOURCE_EXHAUSTED":return LP.RESOURCE_EXHAUSTED;case 9:case"STATUS_CODE_FAILED_PRECONDITION":return LP.FAILED_PRECONDITION;case 10:case"STATUS_CODE_ABORTED":return LP.ABORTED;case 11:case"STATUS_CODE_OUT_OF_RANGE":return LP.OUT_OF_RANGE;case 12:case"STATUS_CODE_UNIMPLEMENTED":return LP.UNIMPLEMENTED;case 13:case"STATUS_CODE_INTERNAL":return LP.INTERNAL;case 14:case"STATUS_CODE_UNAVAILABLE":return LP.UNAVAILABLE;case 15:case"STATUS_CODE_DATA_LOSS":return LP.DATA_LOSS;case 16:case"STATUS_CODE_UNAUTHENTICATED":return LP.UNAUTHENTICATED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StatusCode")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.START_SESSION_REQUEST=1]="START_SESSION_REQUEST",e[e.START_SESSION_RESPONSE=2]="START_SESSION_RESPONSE",e[e.EVENT_VERSION=3]="EVENT_VERSION",e[e.PARTICIPANT_REQUEST=4]="PARTICIPANT_REQUEST",e[e.PARTICIPANT_RESPONSE=5]="PARTICIPANT_RESPONSE",e[e.CLIENT_ERROR_INFO=6]="CLIENT_ERROR_INFO"}(NP||(NP={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(LP||(LP={}));const MP={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",encode:(e,t=new oO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:MP.$type,value:UP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>MP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const DP={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",encode(e,t=new oO){0!==e.statusCode&&t.uint32(8).int32(e.statusCode),void 0!==e.detailCode&&MP.encode(e.detailCode,t.uint32(18).fork()).join();for(const n of e.fallbackDetailCodes)MP.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof iO?e:new iO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",statusCode:0,detailCode:void 0,fallbackDetailCodes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.statusCode=n.int32();continue;case 2:if(18!==e)break;o.detailCode=MP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.fallbackDetailCodes.push(MP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DP.$type,statusCode:UP(e.statusCode)?$P(e.statusCode):0,detailCode:UP(e.detailCode)?MP.fromJSON(e.detailCode):void 0,fallbackDetailCodes:globalThis.Array.isArray(null==e?void 0:e.fallbackDetailCodes)?e.fallbackDetailCodes.map((e=>MP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return 0!==e.statusCode&&(n.statusCode=function(e){switch(e){case LP.UNSPECIFIED:return"STATUS_CODE_UNSPECIFIED";case LP.CANCELLED:return"STATUS_CODE_CANCELLED";case LP.UNKNOWN:return"STATUS_CODE_UNKNOWN";case LP.INVALID_ARGUMENT:return"STATUS_CODE_INVALID_ARGUMENT";case LP.DEADLINE_EXCEEDED:return"STATUS_CODE_DEADLINE_EXCEEDED";case LP.NOT_FOUND:return"STATUS_CODE_NOT_FOUND";case LP.ALREADY_EXISTS:return"STATUS_CODE_ALREADY_EXISTS";case LP.PERMISSION_DENIED:return"STATUS_CODE_PERMISSION_DENIED";case LP.RESOURCE_EXHAUSTED:return"STATUS_CODE_RESOURCE_EXHAUSTED";case LP.FAILED_PRECONDITION:return"STATUS_CODE_FAILED_PRECONDITION";case LP.ABORTED:return"STATUS_CODE_ABORTED";case LP.OUT_OF_RANGE:return"STATUS_CODE_OUT_OF_RANGE";case LP.UNIMPLEMENTED:return"STATUS_CODE_UNIMPLEMENTED";case LP.INTERNAL:return"STATUS_CODE_INTERNAL";case LP.UNAVAILABLE:return"STATUS_CODE_UNAVAILABLE";case LP.DATA_LOSS:return"STATUS_CODE_DATA_LOSS";case LP.UNAUTHENTICATED:return"STATUS_CODE_UNAUTHENTICATED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StatusCode")}}(e.statusCode)),void 0!==e.detailCode&&(n.detailCode=MP.toJSON(e.detailCode)),(null===(t=e.fallbackDetailCodes)||void 0===t?void 0:t.length)&&(n.fallbackDetailCodes=e.fallbackDetailCodes.map((e=>MP.toJSON(e)))),n},create:e=>DP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",statusCode:0,detailCode:void 0,fallbackDetailCodes:[]};return r.statusCode=null!==(t=e.statusCode)&&void 0!==t?t:0,r.detailCode=void 0!==e.detailCode&&null!==e.detailCode?MP.fromPartial(e.detailCode):void 0,r.fallbackDetailCodes=(null===(n=e.fallbackDetailCodes)||void 0===n?void 0:n.map((e=>MP.fromPartial(e))))||[],r}};function UP(e){return null!=e}function VP(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function FP(){const e=new fk;return e.register({type:NP.START_SESSION_REQUEST,encode:e=>VP(e)&&"sessionMode"in e?dP.encode(e).finish():null,decode:e=>dP.decode(e)}),e.register({type:NP.START_SESSION_RESPONSE,encode:e=>VP(e)&&"sessionId"in e&&"participantId"in e&&"sessionToken"in e?pP.encode(e).finish():null,decode:e=>pP.decode(e)}),e.register({type:NP.EVENT_VERSION,encode:e=>VP(e)&&"version"in e?EP.encode(e).finish():null,decode:e=>EP.decode(e)}),e.register({type:NP.PARTICIPANT_REQUEST,encode:e=>VP(e)&&("appendMessage"in e||"updateAuthenticationTokenMessage"in e)?hP.encode(e).finish():null,decode:e=>hP.decode(e)}),e.register({type:NP.PARTICIPANT_RESPONSE,encode:e=>VP(e)&&"confirmedMessage"in e&&"initializedMessage"in e&&"publishedMessage"in e?fP.encode(e).finish():null,decode:e=>fP.decode(e)}),e.register({type:NP.CLIENT_ERROR_INFO,encode:e=>VP(e)&&"statusCode"in e&&"detailCode"in e&&"fallbackDetailCodes"in e?DP.encode(e).finish():null,decode:e=>DP.decode(e)}),e}function GP(e){return e.$type===sP.$type}function jP(e){return e.$type===cP.$type}function qP(e){return e.$type===lP.$type}function BP(e){return e.$type===uP.$type}function WP(e){if(e.textChangeOperation)return e.textChangeOperation;if(e.createAnnotationOperation)return e.createAnnotationOperation;if(e.removeAnnotationOperation)return e.removeAnnotationOperation;if(e.setPropertyOperation)return e.setPropertyOperation;throw new Error("FieldEvent does not contain an operation")}function HP(e,t,n){const r={fieldName:t,participantId:n,$type:AP.$type};switch(e.$type){case sP.$type:return Object.assign(Object.assign({},r),{textChangeOperation:e});case cP.$type:return Object.assign(Object.assign({},r),{createAnnotationOperation:e});case lP.$type:return Object.assign(Object.assign({},r),{removeAnnotationOperation:e});case uP.$type:return Object.assign(Object.assign({},r),{setPropertyOperation:e})}}function JP(e,t,n){return{$type:sP.$type,range:{$type:IO.$type,start:e,end:t},text:n}}function zP(e,t,n,r){return function(e,t){switch(t.$type){case CO.$type:return Object.assign(Object.assign({},e),{textUnitPayload:t});case vO.$type:return Object.assign(Object.assign({},e),{requestWordAlternativesPayload:t});case fO.$type:return Object.assign(Object.assign({},e),{providedWordAlternativesPayload:t});case bO.$type:return Object.assign(Object.assign({},e),{selectWordAlternativePayload:t});case FO.$type:return Object.assign(Object.assign({},e),{translatorGlossaryReplacementPayload:t});case mO.$type:return Object.assign(Object.assign({},e),{requestTextUnitAlternativesPayload:t});case GO.$type:return Object.assign(Object.assign({},e),{translatorProvidedTextUnitAlternativesPayload:t});case _O.$type:return Object.assign(Object.assign({},e),{selectTextUnitAlternativePayload:t});case DO.$type:return Object.assign(Object.assign({},e),{translatorRequestAutocompletionPayload:t});case UO.$type:return Object.assign(Object.assign({},e),{translatorProvidedAutocompletionPayload:t});case VO.$type:return Object.assign(Object.assign({},e),{translatorSelectAutocompletionPayload:t});case jO.$type:return Object.assign(Object.assign({},e),{translatorProvidedAutomaticTextUnitAlternativesPayload:t});case yO.$type:return Object.assign(Object.assign({},e),{selectAutomaticTextUnitAlternativePayload:t});case kR.$type:return Object.assign(Object.assign({},e),{writeProvidedTextUnitAlternativesPayload:t});case CR.$type:return Object.assign(Object.assign({},e),{writeProvidedAutomaticTextUnitAlternativesPayload:t});case xR.$type:return Object.assign(Object.assign({},e),{writeDiffUnitPayload:t});case EO.$type:return Object.assign(Object.assign({},e),{textFormattingPayload:t});case qO.$type:return Object.assign(Object.assign({},e),{translatorRequestClarifyPayload:t});case HO.$type:return Object.assign(Object.assign({},e),{translatorSelectClarifyAnswerPayload:t});case YR.$type:return Object.assign(Object.assign({},e),{writeRequestChangeStyleAlternativesAnnotationPayload:t});case KR.$type:return Object.assign(Object.assign({},e),{writeProvidedChangeStyleAlternativesAnnotationPayload:t});case QR.$type:return Object.assign(Object.assign({},e),{writeSelectChangeStyleAlternativeAnnotationPayload:t});default:throw new Error("Could not match annotation payload.")}}({$type:cP.$type,annotationId:e,range:{$type:IO.$type,start:t,end:n}},r)}function YP(e,t){const n={$type:uP.$type,propertyName:e};return void 0===t?n:function(e,t){switch(t.$type){case JO.$type:return Object.assign(Object.assign({},e),{translatorSourceLanguagesValue:t});case YO.$type:return Object.assign(Object.assign({},e),{translatorRequestedSourceLanguageValue:t});case XO.$type:return Object.assign(Object.assign({},e),{translatorCalculatedSourceLanguageValue:t});case zO.$type:return Object.assign(Object.assign({},e),{translatorTargetLanguagesValue:t});case KO.$type:return Object.assign(Object.assign({},e),{translatorRequestedTargetLanguageValue:t});case QO.$type:return Object.assign(Object.assign({},e),{translatorCalculatedTargetLanguageValue:t});case nR.$type:return Object.assign(Object.assign({},e),{translatorFormalityModesValue:t});case rR.$type:return Object.assign(Object.assign({},e),{translatorFormalityModeValue:t});case eR.$type:return Object.assign(Object.assign({},e),{translatorGlossarySupportValue:t});case fR.$type:return Object.assign(Object.assign({},e),{translatorGlossaryListValue:t});case ZO.$type:return Object.assign(Object.assign({},e),{translatorGlossaryIdValue:t});case oR.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelsValue:t});case iR.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelValue:t});case aR.$type:return Object.assign(Object.assign({},e),{translatorTextDirectionValue:t});case sR.$type:return Object.assign(Object.assign({},e),{translatorMaximumTextLengthValue:t});case cR.$type:return Object.assign(Object.assign({},e),{translatorUnsupportedSourceLanguageValue:t});case OR.$type:return Object.assign(Object.assign({},e),{writeLanguagesValue:t});case PR.$type:return Object.assign(Object.assign({},e),{writeRequestedLanguageValue:t});case NR.$type:return Object.assign(Object.assign({},e),{writeCalculatedLanguageValue:t});case MR.$type:return Object.assign(Object.assign({},e),{writeStyleVariantsValue:t});case DR.$type:return Object.assign(Object.assign({},e),{writeStyleVariantValue:t});case LR.$type:return Object.assign(Object.assign({},e),{writeGlossaryIdValue:t});case jR.$type:return Object.assign(Object.assign({},e),{writeGlossarySupportValue:t});case GR.$type:return Object.assign(Object.assign({},e),{writeGlossaryListValue:t});case $R.$type:return Object.assign(Object.assign({},e),{writeMaximumTextLengthValue:t});case UR.$type:return Object.assign(Object.assign({},e),{writeUnsupportedLanguageValue:t});case lR.$type:return Object.assign(Object.assign({},e),{translatorSourceLanguageDetectionWeightsValue:t});case RR.$type:return Object.assign(Object.assign({},e),{writeGlossaryLanguagesValue:t})}}(n,t)}let XP=class{constructor(){this.fields=[]}registerField(e){return this.fields.push(e),e}applyItaEvent(e){const t=this.fields.find((t=>t.name===e.fieldName));t&&t.applyOperation(WP(e))}serialize(){return{$type:kP.$type,fields:this.fields.map((e=>e.serialize()))}}prettyPrint(){return{fields:this.fields.map((e=>e.prettyPrint()))}}reset(){this.fields.forEach((e=>e.reset()))}};function KP(){}function QP(e,t,n,r,o){for(var i,a=[];t;)a.push(t),i=t.previousComponent,delete t.previousComponent,t=i;a.reverse();for(var s=0,c=a.length,l=0,u=0;s<c;s++){var d=a[s];if(d.removed){if(d.value=e.join(r.slice(u,u+d.count)),u+=d.count,s&&a[s-1].added){var p=a[s-1];a[s-1]=a[s],a[s]=p}}else{if(!d.added&&o){var h=n.slice(l,l+d.count);h=h.map((function(e,t){var n=r[u+t];return n.length>e.length?n:e})),d.value=e.join(h)}else d.value=e.join(n.slice(l,l+d.count));l+=d.count,d.added||(u+=d.count)}}var f=a[c-1];return c>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(a[c-2].value+=f.value,a.pop()),a}KP.prototype={diff:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var i=this;function a(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var s=(t=this.removeEmpty(this.tokenize(t))).length,c=e.length,l=1,u=s+c;r.maxEditLength&&(u=Math.min(u,r.maxEditLength));var d=null!==(n=r.timeout)&&void 0!==n?n:1/0,p=Date.now()+d,h=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(h[0],t,e,0);if(h[0].oldPos+1>=c&&f+1>=s)return a([{value:this.join(t),count:t.length}]);var g=-1/0,m=1/0;function v(){for(var n=Math.max(g,-l);n<=Math.min(m,l);n+=2){var r=void 0,o=h[n-1],u=h[n+1];o&&(h[n-1]=void 0);var d=!1;if(u){var p=u.oldPos-n;d=u&&0<=p&&p<s}var v=o&&o.oldPos+1<c;if(d||v){if(r=!v||d&&o.oldPos+1<u.oldPos?i.addToPath(u,!0,void 0,0):i.addToPath(o,void 0,!0,1),f=i.extractCommon(r,t,e,n),r.oldPos+1>=c&&f+1>=s)return a(QP(i,r.lastComponent,t,e,i.useLongestToken));h[n]=r,r.oldPos+1>=c&&(m=Math.min(m,n-1)),f+1>=s&&(g=Math.max(g,n+1))}else h[n]=void 0}l++}if(o)!function e(){setTimeout((function(){if(l>u||Date.now()>p)return o();v()||e()}),0)}();else for(;l<=u&&Date.now()<=p;){var y=v();if(y)return y}},addToPath:function(e,t,n,r){var o=e.lastComponent;return o&&o.added===t&&o.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:o.count+1,added:t,removed:n,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:o}}},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,a=e.oldPos,s=a-r,c=0;s+1<o&&a+1<i&&this.equals(t[s+1],n[a+1]);)s++,a++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var ZP=new KP;var eN=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,tN=/\S/,nN=new KP;nN.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!tN.test(e)&&!tN.test(t)},nN.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&eN.test(t[n])&&eN.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var rN=new KP;function oN(e){return oN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oN(e)}rN.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t},(new KP).tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},(new KP).tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var iN=Object.prototype.toString,aN=new KP;function sN(e,t,n,r,o){var i,a;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===iN.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),i=0;i<e.length;i+=1)a[i]=sN(e[i],t,n,r,o);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===oN(e)&&null!==e){t.push(e),a={},n.push(a);var s,c=[];for(s in e)e.hasOwnProperty(s)&&c.push(s);for(c.sort(),i=0;i<c.length;i+=1)a[s=c[i]]=sN(e[s],t,n,r,s);t.pop(),n.pop()}else a=e;return a}aN.useLongestToken=!0,aN.tokenize=rN.tokenize,aN.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(sN(e,null,null,o),o,"  ")},aN.equals=function(e,t){return KP.prototype.equals.call(aN,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var cN=new KP;cN.tokenize=function(e){return e.slice()},cN.join=cN.removeEmpty=function(e){return e};var lN;function uN(e,t){return{$type:IO.$type,start:e,end:t}}!function(e){e[e.BaseThenNew=0]="BaseThenNew",e[e.NewThenBase=1]="NewThenBase"}(lN||(lN={}));const dN=(e,t,n=lN.BaseThenNew)=>{var r,o;if(qP(t)||qP(e)||jP(e)||GP(e)&&(null===(r=e.range)||void 0===r?void 0:r.start)===(null===(o=e.range)||void 0===o?void 0:o.end)&&0===e.text.length)return t;if(BP(e)&&BP(t))return((e,t,n)=>e.propertyName!==t.propertyName||n===lN.BaseThenNew?t:e)(e,t,n);if(BP(e)||BP(t))return t;if(GP(e)&&GP(t))return((e,t,n)=>{const r=e.range,o=t.range;if(r.start>o.end)return t;const i=e.text.length+r.start-r.end;if(r.end<o.start)return Object.assign(Object.assign({},t),{range:uN(o.start+i,o.end+i)});const a=r.start<o.start||r.start===o.start&&n===lN.BaseThenNew,s=r.end<o.end;if(a){const n=r.start+e.text.length;return s?Object.assign(Object.assign({},t),{range:uN(n,o.end+i)}):Object.assign(Object.assign({},t),{range:uN(n,n)})}return s?Object.assign(Object.assign({},t),{range:uN(o.start,o.end+i),text:t.text+e.text}):Object.assign(Object.assign({},t),{range:uN(o.start,r.start)})})(e,t,n);if(GP(e)&&jP(t))return((e,t)=>{const n=e.range,r=t.range;if(n.start>r.end)return t;const o=e.text.length+n.start-n.end;if(n.end<r.start)return Object.assign(Object.assign({},t),{range:uN(r.start+o,r.end+o)});const i=n.start<r.start,a=n.end<r.end,s=n.start+e.text.length;return i?a?Object.assign(Object.assign({},t),{range:uN(s,r.end+o)}):n.end===r.end?Object.assign(Object.assign({},t),{range:uN(s,s)}):Object.assign(Object.assign({},t),{range:uN(n.start,n.start)}):a?n.start===r.start?Object.assign(Object.assign({},t),{range:uN(s,r.end+o)}):Object.assign(Object.assign({},t),{range:uN(r.start,r.end+o)}):Object.assign(Object.assign({},t),{range:uN(r.start,s)})})(e,t);throw new Error(`Operational transform for operations of type [${null==e?void 0:e.$type}, ${null==t?void 0:t.$type}] not implemented.`)},pN=(e,t)=>[dN(t,e,lN.NewThenBase),dN(e,t,lN.BaseThenNew)],hN=(e,t)=>{let n=[...e];const r=t.map((e=>{let t=e;return n=n.map((e=>{const[n,r]=pN(t,e);return t=n,r})),t}));return[n,r]},fN=(e,t)=>{let n=[...t];return{transformedIncomingEvents:e.map((e=>{let t=WP(e);return n=n.map((n=>{if(e.fieldName!==n.fieldName)return n;const[r,o]=pN(t,WP(n));return t=r,"participantId"in n?HP(o,n.fieldName,n.participantId):HP(o,n.fieldName)})),HP(t,e.fieldName,e.participantId)})),transformedExistingEvents:n}};function gN(e){return e.$type===SP.$type?{$type:hP.$type,appendMessage:e}:{$type:hP.$type,updateAuthenticationTokenMessage:e}}function mN(e){if(!e.range)throw new Error("TextChangeOperation must have a range to calculate delta");return e.text.length-e.range.end+e.range.start}function vN(e,t){const n=(r=e,o=t,i={ignoreCase:!1},ZP.diff(r,o,i));var r,o,i;const{compactedOperations:a}=n.reduce((({compactedOperations:e,index:t},r,o)=>{if(!r.added&&!r.removed)return{compactedOperations:e,index:t+r.value.length};const i=n[o-1];if(!i||!i.added&&!i.removed){const n=function(e,t){if(!e.added&&!e.removed)throw new Error("Cannot convert change object that represents common chunk to text change operation");return e.removed?JP(t,t+e.value.length,""):JP(t,t,e.value)}(r,t);return{compactedOperations:[...e,n],index:t+n.text.length}}const a=e.at(-1),s=function(e,t){return t.removed?JP(e.range.start,e.range.end+t.value.length,e.text):JP(e.range.start,e.range.end,e.text+t.value)}(a,r);return{compactedOperations:[...e.slice(0,-1),s],index:t-mN(a)+mN(s)}}),{compactedOperations:[],index:0});return a}const yN=(e,t)=>e.split("-")[0]===t.split("-")[0];class _N{constructor(e){this.name=e,this.content=new sC(void 0),this.annotations=[],this.annotationsRequiringTransformation=[],this.changeNotifier=new iC,this.wasChanged=this.changeNotifier.asObservable(),this.properties=new Map}registerAnnotation(e){return e.config.requiresTransformation&&this.annotationsRequiringTransformation.push(e),this.annotations.push(e),e}registerProperty(e){return this.properties.set(e.propertyName,e),e}applyOperation(e){GP(e)?this.applyTextChangeOperation(e):jP(e)?this.applyCreateAnnotationOperation(e):qP(e)?this.applyRemoveAnnotationOperation(e):BP(e)&&this.applySetPropertyOperation(e)}applyTextChangeOperation(e){var t;const n=((e,t)=>{var n,r;if(void 0===t.range||t.range.start>e.length||t.range.start<0||t.range.end>e.length||t.range.end<0||t.range.start>t.range.end)throw new Error(`Tried to apply out of range operation to string: start ${null===(n=t.range)||void 0===n?void 0:n.start}, end ${null===(r=t.range)||void 0===r?void 0:r.end}, length ${e.length}`);return e.slice(0,t.range.start)+t.text+e.slice(t.range.end)})(null!==(t=this.content.value)&&void 0!==t?t:"",e);this.content.next(n),this.changeNotifier.next();for(const t of this.annotationsRequiringTransformation){const n=t.annotations.value.map((t=>Object.assign(Object.assign({},t),{operation:dN(e,t.operation)})));t.set(n)}}applyCreateAnnotationOperation(e){const t=function(e){if(e.textUnitPayload)return e.textUnitPayload;if(e.requestWordAlternativesPayload)return e.requestWordAlternativesPayload;if(e.providedWordAlternativesPayload)return e.providedWordAlternativesPayload;if(e.selectWordAlternativePayload)return e.selectWordAlternativePayload;if(e.translatorGlossaryReplacementPayload)return e.translatorGlossaryReplacementPayload;if(e.requestTextUnitAlternativesPayload)return e.requestTextUnitAlternativesPayload;if(e.translatorProvidedTextUnitAlternativesPayload)return e.translatorProvidedTextUnitAlternativesPayload;if(e.selectTextUnitAlternativePayload)return e.selectTextUnitAlternativePayload;if(e.translatorRequestAutocompletionPayload)return e.translatorRequestAutocompletionPayload;if(e.translatorProvidedAutocompletionPayload)return e.translatorProvidedAutocompletionPayload;if(e.translatorSelectAutocompletionPayload)return e.translatorSelectAutocompletionPayload;if(e.translatorProvidedAutomaticTextUnitAlternativesPayload)return e.translatorProvidedAutomaticTextUnitAlternativesPayload;if(e.selectAutomaticTextUnitAlternativePayload)return e.selectAutomaticTextUnitAlternativePayload;if(e.writeProvidedTextUnitAlternativesPayload)return e.writeProvidedTextUnitAlternativesPayload;if(e.writeProvidedAutomaticTextUnitAlternativesPayload)return e.writeProvidedAutomaticTextUnitAlternativesPayload;if(e.writeDiffUnitPayload)return e.writeDiffUnitPayload;if(e.textFormattingPayload)return e.textFormattingPayload;if(e.translatorProvidedClarifyHighlightPayload)return e.translatorProvidedClarifyHighlightPayload;if(e.translatorProvidedClarifyQuestionPayload)return e.translatorProvidedClarifyQuestionPayload;if(e.writeRequestChangeStyleAlternativesAnnotationPayload)return e.writeRequestChangeStyleAlternativesAnnotationPayload;if(e.writeProvidedChangeStyleAlternativesAnnotationPayload)return e.writeProvidedChangeStyleAlternativesAnnotationPayload;if(e.writeSelectChangeStyleAlternativeAnnotationPayload)return e.writeSelectChangeStyleAlternativeAnnotationPayload;throw new Error("CreateAnnotationOperation does not contain a known payload")}(e),n=this.annotations.find((e=>e.payloadType===t.$type));n&&(n.applyCreateAnnotationOperation({operation:e,specificPayload:t}),this.changeNotifier.next())}applyRemoveAnnotationOperation(e){this.annotations.forEach((t=>t.applyRemoveAnnotationOperation(e))),this.changeNotifier.next()}applySetPropertyOperation(e){const{propertyName:t}=e,n=this.properties.get(t);n&&(n.applySetPropertyOperation(e),this.changeNotifier.next())}update(e){var t;const n=function(e){const t=[],n=[];let r=0,o=0;for(const i of e){const e=mN(i);e<0?(o+=e,t.push(Object.assign(Object.assign({},i),{range:Object.assign(Object.assign({},i.range),{start:i.range.start-r,end:i.range.end-r})}))):(r+=e,n.push(Object.assign(Object.assign({},i),{range:Object.assign(Object.assign({},i.range),{start:i.range.start-o,end:i.range.end-o})})))}const[i,a]=hN(t,n);return[...t,...a]}(vN(null!==(t=this.content.value)&&void 0!==t?t:"",e));this.content.next(e),this.changeNotifier.next();for(const e of this.annotationsRequiringTransformation){const t=e.annotations.value,[r,o]=hN(n,t.map((e=>e.operation)));e.set(o.map(((e,n)=>Object.assign(Object.assign({},t[n]),{operation:e}))))}return n}serialize(){var e;return{$type:CP.$type,fieldName:this.name,text:null!==(e=this.content.value)&&void 0!==e?e:"",annotations:this.annotations.flatMap((e=>e.serialize())),properties:Array.from(this.properties.values()).map((e=>e.serialize()))}}prettyPrint(){return{fieldName:eP[this.name],text:this.content.value,annotations:this.annotations.flatMap((e=>e.prettyPrint())),properties:Array.from(this.properties.values()).map((e=>e.prettyPrint()))}}reset(){this.content.next(""),this.annotations.forEach((e=>e.reset())),this.properties.forEach((e=>e.reset())),this.changeNotifier.next()}}class SN extends _N{constructor(){super(...arguments),this.excessText="",this.fullContent=this.content.pipe(xC((e=>{if(void 0!==e)return e+this.excessText})))}updateWithLimit(e,t){const n=e.slice(0,t);return this.excessText=e.slice(t),super.update(n)}}class bN{constructor(e,t,n){this.name=e,this.sessionMode=t,this.document=n,this.bufferedInitialEvents=[]}addChangeHandler(e){this.onChange=e,this.onChange(this.bufferedInitialEvents),this.bufferedInitialEvents=[]}applyFieldEvent(e){this.document.applyItaEvent(e)}publishChange(e,t){const n=t.map((t=>HP(t,e)));this.publishEvents(n)}publishChanges(e){const t=e.flatMap((([e,t])=>t.map((t=>HP(t,e)))));this.publishEvents(t)}publishEvents(e){this.onChange?this.onChange(e):this.bufferedInitialEvents=[...this.bufferedInitialEvents,...e]}}function wN(e){return e.$type===yP.$type}function TN(e){if(function(e){return e.$type===fP.$type}(e))return function(e){if(null==e?void 0:e.confirmedMessage)return e.confirmedMessage;if(null==e?void 0:e.initializedMessage)return e.initializedMessage;if(null==e?void 0:e.publishedMessage)return e.publishedMessage;if(null==e?void 0:e.metaInfoMessage)return e.metaInfoMessage;throw new Error("ParticipantResponse does not contain a message")}(e);if(function(e){return e.$type===hP.$type}(e))return function(e){if(null==e?void 0:e.appendMessage)return e.appendMessage;if(null==e?void 0:e.updateAuthenticationTokenMessage)return e.updateAuthenticationTokenMessage;throw new Error("ParticipantRequest does not contain a message")}(e);throw new Error("Extracting message failed, you need to pass a ParticipantRequest or ParticipantResponse")}class EN{constructor(e){var t,n,r,o,i,a;this.currentVersion={$type:EP.$type,version:void 0},this.isInitialized=!1,this.pendingEvents=[],this.sentEvents=[],this.confirmedEvents=[],this.incomingEvents=e.pipe(xC((e=>TN(e))),(a=Nk(r=e=>{(function(e){return e.$type===gP.$type})(e)&&this.handleConfirmedMessage(e),function(e){return e.$type===mP.$type}(e)&&this.handleInitializedMessage()})||o||i?{next:r,error:o,complete:i}:r)?tC((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(nC(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):Qk,DC((e=>function(e){return e.$type===vP.$type}(e))),xC((e=>this.handlePublished(e))),(t=e=>IC(e),tC((function(e,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};e.subscribe(nC(r,(function(e){null==o||o.unsubscribe();var a=0,c=i++;_C(t(e,c)).subscribe(o=nC(r,(function(t){return r.next(n?n(e,t,c,a++):t)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))),function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new iC}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,a=void 0===i||i,s=e.resetOnRefCountZero,c=void 0===s||s;return function(e){var t,r,i,s=0,l=!1,u=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=i=void 0,l=u=!1},h=function(){var e=t;p(),null==e||e.unsubscribe()};return tC((function(e,f){s++,u||l||d();var g=i=null!=i?i:n();f.add((function(){0!=--s||u||l||(r=UC(h,c))})),g.subscribe(f),!t&&s>0&&(t=new zk({next:function(e){return g.next(e)},error:function(e){u=!0,d(),r=UC(p,o,e),g.error(e)},complete:function(){l=!0,d(),r=UC(p,a),g.complete()}}),_C(e).subscribe(t))}))(e)}}())}addClientEvents(e){this.pendingEvents.push(...e),this.trySendPendingEvents()}handleConfirmedMessage(e){this.currentVersion=e.currentVersion,this.confirmedEvents.push(...this.sentEvents),this.sentEvents=[],this.trySendPendingEvents()}handlePublished(e){const t=e.events,{transformedIncomingEvents:n,transformedExistingEvents:r}=fN(t,this.sentEvents);this.sentEvents=r;const{transformedIncomingEvents:o,transformedExistingEvents:i}=fN(n,this.pendingEvents);return this.pendingEvents=i,this.confirmedEvents.push(...o),this.currentVersion=e.currentVersion,this.trySendPendingEvents(),o}connectToSession(e){this.sendEvents=e,this.trySendPendingEvents()}trySendPendingEvents(){0===this.pendingEvents.length||this.sentEvents.length>0||!this.isInitialized||!this.sendEvents||(this.sentEvents=this.sendEvents(this.pendingEvents.reduce(((e,t)=>{if(function(e){var t,n;return void 0!==e&&(null===(t=e.range)||void 0===t?void 0:t.start)===(null===(n=e.range)||void 0===n?void 0:n.end)&&0===e.text.length}(t.textChangeOperation))return e;if(0===e.length)return[t];const n=e.at(-1);if(n.fieldName!==t.fieldName||!t.textChangeOperation||!n.textChangeOperation)return[...e,t];const r=n.textChangeOperation,o=t.textChangeOperation,i=o.range.start-r.range.start,a=o.range.end-r.range.start,s=Math.max(0,i),c=Math.min(r.text.length,a);if(s>c)return[...e,t];const l=Math.min(0,i),u=a-i-(c-s),d=HP(JP(r.range.start+l,r.range.end+l+u,r.text.slice(0,s)+o.text+r.text.slice(c)),t.fieldName);return[...e.slice(0,-1),d]}),new Array),this.currentVersion),this.pendingEvents=[])}handleInitializedMessage(){this.sentEvents.length>0&&this.sendEvents(this.sentEvents,this.currentVersion),this.isInitialized=!0,this.trySendPendingEvents()}}var AN,IN=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.Connecting=0]="Connecting",e[e.Reconnecting=1]="Reconnecting",e[e.Restoring=2]="Restoring",e[e.Connected=3]="Connected",e[e.Disconnected=4]="Disconnected"}(AN||(AN={}));class xN extends Error{constructor(){super(...arguments),this.name="ConnectionError"}}class kN extends Error{constructor(e){super("There was an error with the session on the server. See the info property for details."),this.info=e,this.name="SessionError"}}class CN{constructor(e,t,n,r){this.connectionBuilder=e,this.config=t,this.client=n,this.metaInfo=r,this.participantResponses=new iC,this.participantRequests=new iC,this.errorInfoSubject=new iC,this.error=this.errorInfoSubject.asObservable(),this.statusSubject=new sC(AN.Disconnected),this.status=this.statusSubject.asObservable(),this.messagesSubject=new iC,this.messages=this.messagesSubject.asObservable(),this.connection=this.connectionBuilder.build(),this.participantRequests.subscribe((e=>this.messagesSubject.next(e))),this.participantResponses.subscribe((e=>this.messagesSubject.next(e))),this.eventHandler=new EN(this.participantResponses),this.client.addChangeHandler((e=>this.eventHandler.addClientEvents(e))),this.eventHandler.incomingEvents.subscribe((e=>this.client.applyFieldEvent(e))),this.participantResponses.pipe(xC(TN),DC(wN)).subscribe((e=>{var t;return null===(t=this.metaInfo)||void 0===t?void 0:t.addMetaInfoMessage(e)})),this.connection.onclose((e=>{this.statusSubject.value===AN.Connected&&(this.statusSubject.next(AN.Disconnected),this.errorInfoSubject.next(new xN(`The connection was closed with error: ${e}`)))}))}connect(e){return IN(this,void 0,void 0,(function*(){if(this.statusSubject.value!==AN.Disconnected)return;if(this.connection.on("OnError",(e=>{this.connection.off("OnError"),this.statusSubject.next(AN.Disconnected),this.errorInfoSubject.next(new kN(e))})),this.startSessionResponse&&!e?this.statusSubject.next(AN.Reconnecting):this.statusSubject.next(AN.Connecting),this.connection.state!==Px.Connected)try{yield this.connection.start()}catch(e){throw this.statusSubject.next(AN.Disconnected),new xN(`Error starting connection: ${e}`)}this.startSessionResponse&&!e||(this.startSessionResponse=yield this.startSession(e));const t=this.connection.stream("GetMessages",this.startSessionResponse.sessionToken,this.eventHandler.currentVersion).subscribe({next:e=>{this.statusSubject.value!==AN.Connected&&this.statusSubject.next(AN.Connected),this.participantResponses.next(e)},error:()=>{},complete:()=>{}});this.connection.on("OnError",(()=>t.dispose()));try{yield this.connection.send("AppendMessages",this.startSessionResponse.sessionToken,this.participantRequests)}catch(e){throw this.statusSubject.next(AN.Disconnected),new xN(`Error starting 'AppendMessages': ${e}`)}var n;this.eventHandler.connectToSession(((e,t)=>{const n=e.map((e=>Object.assign(Object.assign({},e),{participantId:this.startSessionResponse.participantId})));if(this.statusSubject.value!==AN.Connected)return this.errorInfoSubject.next(new xN("Error sending message to the server: hub connection is not in a connected state")),n;const r=gN(function(e,t){return{$type:SP.$type,events:e,baseVersion:t}}(n,t));return this.participantRequests.next(r),n})),this.config.accessToken.pipe((n=this.status.pipe(DC((e=>e===AN.Connected))),tC((function(e,t){var r=!1,o=nC(t,(function(){null==o||o.unsubscribe(),r=!0}),Bk);_C(n).subscribe(o),e.subscribe(nC(t,(function(e){return r&&t.next(e)})))}))),function(e){return tC((function(t,n){_C(e).subscribe(nC(n,(function(){return n.complete()}),Bk)),!n.closed&&t.subscribe(n)}))}(this.status.pipe(DC((e=>e===AN.Disconnected))))).subscribe((e=>this.updateAuthenticationToken(e)))}))}startSession(e){return IN(this,void 0,void 0,(function*(){const t={$type:dP.$type,sessionMode:this.client.sessionMode,baseDocument:e,translatorSessionOptions:{$type:uR.$type,enableTranscription:this.config.enableTranscription,enableTranslatorQuoteConversion:this.config.enableTranslatorQuoteConversion}};let n;try{n=yield this.connection.invoke("StartSession",t)}catch(e){throw this.statusSubject.next(AN.Disconnected),new xN(`Error starting session: ${e}`)}if(!n)throw this.statusSubject.next(AN.Disconnected),new xN("No StartSessionResponse returned from StartSession");return n}))}restore(){return IN(this,void 0,void 0,(function*(){this.statusSubject.next(AN.Restoring),this.participantResponses.complete(),this.connection.stop();const e=this.client.document.serialize();this.client.document.reset();const t=new CN(this.connectionBuilder,this.config,this.client,this.metaInfo);try{yield t.connect(e)}catch(e){throw this.statusSubject.next(AN.Disconnected),e}return t}))}updateAuthenticationToken(e){this.participantRequests.next(gN({$type:bP.$type,token:e}))}}class ON{constructor(e,t){this.serverUrl=e;const n=new URL(e);n.pathname+="/sessions",this.accessTokenSubject=new sC(t),this.connectionBuilder=(new Yx).withHubProtocol(new Pk({extensionCodec:FP()})).configureLogging(sx.Critical),this.connectionBuilder=t?this.connectionBuilder.withUrl(n.toString(),{accessTokenFactory:()=>this.accessTokenSubject.value}):this.connectionBuilder.withUrl(n.toString())}createSession(e,t,n){const r=Object.assign(Object.assign({},{enableTranscription:!1,enableTranslatorQuoteConversion:!1}),n);return new CN(this.connectionBuilder,Object.assign({accessToken:this.accessTokenSubject.pipe(DC((e=>"string"==typeof e)))},r),e,t)}updateAccessToken(e){this.accessTokenSubject.next(e)}}const RN=1500,PN={requiresTransformation:!1};class NN{constructor(e,t){this.payloadType=e,this.annotations=new sC([]),this.payloads=this.annotations.pipe(xC((e=>e.map((e=>e.specificPayload))))),this.config=Object.assign(Object.assign({},PN),t)}applyCreateAnnotationOperation(e){if(!e.operation.range||!e.operation.annotationId)return;const t=[...this.annotations.value,e];this.annotations.next(t)}applyRemoveAnnotationOperation(e){const t=this.annotations.value.filter((t=>{var n,r;return(null===(n=t.operation.annotationId)||void 0===n?void 0:n.value)!==(null===(r=e.annotationId)||void 0===r?void 0:r.value)}));this.annotations.next(t)}add(e,t,n){const r=zP({$type:xP.$type,value:crypto.randomUUID()},e,t,n);return this.annotations.next([...this.annotations.value,{operation:r,specificPayload:n}]),[r]}set(e){this.annotations.next(e)}removeAnnotation(e){const t=this.annotations.value.filter((t=>{var n;return(null===(n=t.operation.annotationId)||void 0===n?void 0:n.value)===(null==e?void 0:e.value)})).map((e=>function(e){return{$type:lP.$type,annotationId:e}}(e.operation.annotationId))),n=this.annotations.value.filter((t=>{var n;return(null===(n=t.operation.annotationId)||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)}));return this.annotations.next(n),t}serialize(){return this.annotations.value.map((e=>e.operation))}prettyPrint(){return this.annotations.value.map((e=>{var t;return{id:null===(t=e.operation.annotationId)||void 0===t?void 0:t.value,range:e.operation.range,annotationPayload:e.specificPayload}}))}reset(){this.annotations.next([])}}class LN{constructor(e,t){this.propertyName=e,this.propertyType=t,this.value=new sC(void 0)}applySetPropertyOperation(e){const t=function(e){return e.translatorSourceLanguagesValue?e.translatorSourceLanguagesValue:e.translatorTargetLanguagesValue?e.translatorTargetLanguagesValue:e.translatorRequestedSourceLanguageValue?e.translatorRequestedSourceLanguageValue:e.translatorCalculatedSourceLanguageValue?e.translatorCalculatedSourceLanguageValue:e.translatorRequestedTargetLanguageValue?e.translatorRequestedTargetLanguageValue:e.translatorCalculatedTargetLanguageValue?e.translatorCalculatedTargetLanguageValue:e.translatorFormalityModesValue?e.translatorFormalityModesValue:e.translatorFormalityModeValue?e.translatorFormalityModeValue:e.translatorGlossarySupportValue?e.translatorGlossarySupportValue:e.translatorGlossaryListValue?e.translatorGlossaryListValue:e.translatorGlossaryIdValue?e.translatorGlossaryIdValue:e.translatorLanguageModelsValue?e.translatorLanguageModelsValue:e.translatorLanguageModelValue?e.translatorLanguageModelValue:e.translatorTextDirectionValue?e.translatorTextDirectionValue:e.translatorMaximumTextLengthValue?e.translatorMaximumTextLengthValue:e.translatorUnsupportedSourceLanguageValue?e.translatorUnsupportedSourceLanguageValue:e.writeGlossarySupportValue?e.writeGlossarySupportValue:e.writeGlossaryListValue?e.writeGlossaryListValue:e.writeGlossaryIdValue?e.writeGlossaryIdValue:e.writeLanguagesValue?e.writeLanguagesValue:e.writeMaximumTextLengthValue?e.writeMaximumTextLengthValue:e.writeUnsupportedLanguageValue?e.writeUnsupportedLanguageValue:e.writeRequestedLanguageValue?e.writeRequestedLanguageValue:e.writeCalculatedLanguageValue?e.writeCalculatedLanguageValue:e.writeStyleVariantsValue?e.writeStyleVariantsValue:e.writeStyleVariantValue?e.writeStyleVariantValue:e.translatorSourceLanguageDetectionWeightsValue?e.translatorSourceLanguageDetectionWeightsValue:e.writeGlossaryLanguagesValue?e.writeGlossaryLanguagesValue:void 0}(e);if(void 0===t)return this.reset();if(t.$type!==this.propertyType)throw new Error(`PropertyValue has type ${t.$type}, but ${this.propertyType} expected`);this.value.next(t)}set(e){return this.value.next(e),[this.serialize()]}reset(){this.value.next(void 0)}serialize(){return YP(this.propertyName,this.value.value)}prettyPrint(){return{propertyName:tP[this.propertyName],propertyValue:this.value.value}}}class $N extends LN{constructor(){super(tP.TRANSLATOR_TEXT_DIRECTION,aR.$type),this.isRightToLeft=this.value.pipe(xC((e=>(null==e?void 0:e.textDirection)===NO.RIGHT_TO_LEFT)))}}const MN=e=>!!e;class DN extends LN{constructor(){super(tP.TRANSLATOR_MAXIMUM_TEXT_LENGTH,sR.$type),this.max=this.value.pipe(DC(MN),xC((e=>e.max)))}getCurrentMax(){var e,t;return null!==(t=null===(e=this.value.value)||void 0===e?void 0:e.max)&&void 0!==t?t:RN}}class UN extends LN{constructor(){super(tP.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE,cR.$type),this.unsupported=this.value.pipe(xC((e=>!!e)))}}class VN extends LN{constructor(){super(tP.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE,XO.$type),this.language=this.value.pipe(xC((e=>{var t;return null===(t=null==e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code}))),this.isAutoDetected=this.value.pipe(xC((e=>(null==e?void 0:e.origin)===PO.LANGUAGE_DETECTION)))}updateLanguage(e){return super.set({$type:XO.$type,sourceLanguage:{$type:mR.$type,code:e},origin:PO.REQUESTED_LANGUAGE})}getCurrent(){var e,t;return null===(t=null===(e=this.value.value)||void 0===e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code}}class FN extends LN{constructor(){super(tP.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE,YO.$type),this.language=this.value.pipe(xC((e=>{var t;return null===(t=null==e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code})))}updateLanguage(e){if("autodetect"===e){return super.set(void 0)}return super.set({$type:YO.$type,sourceLanguage:{$type:mR.$type,code:e}})}}class GN extends LN{constructor(){super(tP.TRANSLATOR_SOURCE_LANGUAGES,JO.$type),this.sourceLanguages=this.value.pipe(xC((e=>{var t;return null!==(t=null==e?void 0:e.sourceLanguages.map((e=>e.code)))&&void 0!==t?t:[]})))}}class jN extends LN{constructor(){super(tP.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS,lR.$type),this.weights=this.value.pipe(xC((e=>{var t;return null!==(t=null==e?void 0:e.weights)&&void 0!==t?t:[]})))}updateSourceLanguageDetectionWeights(e){return super.set(void 0===e?void 0:{$type:lR.$type,weights:e})}}class qN extends SN{constructor(){super(...arguments),this.calculatedSourceLanguageProperty=this.registerProperty(new VN),this.requestedSourceLanguageProperty=this.registerProperty(new FN),this.sourceLanguagesProperty=this.registerProperty(new GN),this.maximumTextLengthProperty=this.registerProperty(new DN),this.unsupportedLanguageProperty=this.registerProperty(new UN),this.sourceLanguageDetectionWeightsProperty=this.registerProperty(new jN),this.sourceTextUnitAnnotations=this.registerAnnotation(new NN(CO.$type,{requiresTransformation:!0})),this.textFormattingAnnotations=this.registerAnnotation(new NN(EO.$type,{requiresTransformation:!0})),this.textDirection=this.registerProperty(new $N),this.requestClarifyAnnotations=this.registerAnnotation(new NN(qO.$type,{requiresTransformation:!0})),this.clarifyQuestionAnnotations=this.registerAnnotation(new NN(WO.$type,{requiresTransformation:!0})),this.clarifyHighlightAnnotations=this.registerAnnotation(new NN(BO.$type,{requiresTransformation:!0})),this.selectClarifyAnswerAnnotations=this.registerAnnotation(new NN(HO.$type,{requiresTransformation:!0}))}}class BN extends LN{constructor(){super(tP.TRANSLATOR_TARGET_LANGUAGES,zO.$type),this.targetLanguages=this.value.pipe(xC((e=>{var t;return null!==(t=null==e?void 0:e.targetLanguages.map((e=>e.code)))&&void 0!==t?t:[]})))}}class WN extends LN{constructor(){super(tP.TRANSLATOR_CALCULATED_TARGET_LANGUAGE,QO.$type),this.language=this.value.pipe(xC((e=>{var t;return null===(t=null==e?void 0:e.targetLanguage)||void 0===t?void 0:t.code})))}updateLanguage(e){return super.set({$type:QO.$type,targetLanguage:{$type:vR.$type,code:e}})}}class HN extends LN{constructor(){super(tP.TRANSLATOR_REQUESTED_TARGET_LANGUAGE,KO.$type)}updateLanguage(e){return super.set({$type:KO.$type,targetLanguage:{$type:vR.$type,code:e}})}getCurrent(){var e,t;return null===(t=null===(e=this.value.value)||void 0===e?void 0:e.targetLanguage)||void 0===t?void 0:t.code}}class JN extends LN{constructor(){super(tP.TRANSLATOR_GLOSSARY_SUPPORT,eR.$type),this.supported=this.value.pipe(xC((e=>!!e)))}}class zN extends LN{constructor(){super(tP.TRANSLATOR_GLOSSARY_LIST,fR.$type),this.entries=this.value.pipe(xC((e=>{var t;return null!==(t=null==e?void 0:e.glossaryEntries)&&void 0!==t?t:[]})))}updateGlossaryList(e){return super.set(void 0===e?void 0:{$type:fR.$type,glossaryEntries:e})}}class YN extends LN{constructor(){super(tP.TRANSLATOR_GLOSSARY_SUGGESTIONS,fR.$type)}}class XN extends LN{constructor(){super(tP.TRANSLATOR_FORMALITY_MODES,nR.$type)}}class KN extends LN{constructor(){super(tP.TRANSLATOR_FORMALITY_MODE,rR.$type)}update(e){return super.set(void 0===e?void 0:{$type:rR.$type,formalityMode:e})}}class QN extends LN{constructor(){super(tP.TRANSLATOR_LANGUAGE_MODELS,oR.$type)}}class ZN extends LN{constructor(){super(tP.TRANSLATOR_LANGUAGE_MODEL,iR.$type)}update(e){return super.set(void 0===e?void 0:{$type:iR.$type,languageModel:e})}}class eL extends LN{constructor(){super(tP.TRANSLATOR_GLOSSARY_ID,ZO.$type)}update(e){return super.set(void 0===e?void 0:{$type:ZO.$type,glossaryId:e})}}class tL extends _N{constructor(){super(...arguments),this.requestedTargetLanguageProperty=this.registerProperty(new HN),this.calculatedTargetLanguageProperty=this.registerProperty(new WN),this.targetLanguagesProperty=this.registerProperty(new BN),this.requestWordAlternativesAnnotations=this.registerAnnotation(new NN(vO.$type)),this.providedWordAlternativesAnnotations=this.registerAnnotation(new NN(fO.$type,{requiresTransformation:!0})),this.selectWordAlternativeAnnotations=this.registerAnnotation(new NN(bO.$type)),this.requestTextUnitAlternativesAnnotations=this.registerAnnotation(new NN(mO.$type)),this.providedTextUnitAlternativesAnnotations=this.registerAnnotation(new NN(GO.$type,{requiresTransformation:!0})),this.selectTextUnitAlternativeAnnotations=this.registerAnnotation(new NN(_O.$type)),this.requestAutocompletionAnnotations=this.registerAnnotation(new NN(DO.$type)),this.providedAutocompletionAnnotations=this.registerAnnotation(new NN(UO.$type,{requiresTransformation:!0})),this.selectAutocompletionAnnotations=this.registerAnnotation(new NN(VO.$type)),this.providedAutomaticTextUnitAlternativesAnnotations=this.registerAnnotation(new NN(jO.$type,{requiresTransformation:!0})),this.selectAutomaticTextUnitAlternativeAnnotations=this.registerAnnotation(new NN(yO.$type)),this.targetTextUnitAnnotations=this.registerAnnotation(new NN(CO.$type,{requiresTransformation:!0})),this.glossaryReplacementAnnotations=this.registerAnnotation(new NN(FO.$type,{requiresTransformation:!0})),this.textFormattingAnnotations=this.registerAnnotation(new NN(EO.$type,{requiresTransformation:!0})),this.glossarySupport=this.registerProperty(new JN),this.glossaryListProperty=this.registerProperty(new zN),this.glossarySuggestions=this.registerProperty(new YN),this.formalityModes=this.registerProperty(new XN),this.formalityMode=this.registerProperty(new KN),this.languageModels=this.registerProperty(new QN),this.languageModel=this.registerProperty(new ZN),this.textDirection=this.registerProperty(new $N),this.glossaryId=this.registerProperty(new eL),this.maximumTextLengthProperty=this.registerProperty(new DN)}}function nL(e){const{plainText:t,textFormattingAnnotations:n}=e,r=new Map,o=new Document,i=o.createElement("document");o.appendChild(i),r.set(i,{$type:IO.$type,start:0,end:t.length});const a=new Map;for(const e of n){const t=o.createElement(e.specificPayload.name),n=e.specificPayload.textFormattingId.value;a.set(n,t),r.set(t,e.operation.range)}const s=new Set(a.keys());for(const e of n){const t=a.get(e.specificPayload.textFormattingId.value);if(void 0!==t)for(const n of e.specificPayload.children){const e=a.get(n.value);void 0!==e&&(t.appendChild(e),s.delete(n.value))}}let c=[];s.forEach((e=>{const t=a.get(e);void 0!==t&&c.push(t)})),c=c.sort(((e,t)=>{var n,o,i,a;const s=r.get(e),c=r.get(t),l=(null!==(n=null==s?void 0:s.start)&&void 0!==n?n:0)-(null!==(o=null==c?void 0:c.start)&&void 0!==o?o:0);return 0===l?(null!==(i=null==s?void 0:s.end)&&void 0!==i?i:0)-(null!==(a=null==c?void 0:c.end)&&void 0!==a?a:0):l}));for(const e of c)i.appendChild(e);function l(e,n,r){if(e===n)return e;return r(o.createTextNode(t.slice(e,n))),n}return function e(t,n){let o=t;for(const t of Array.from(n.childNodes)){const i=r.get(t);void 0!==i&&(o=l(o,i.start,(e=>n.insertBefore(e,t))),o=e(o,t),o=l(o,i.end,(e=>{const{nextSibling:r}=t;null!=r?r.insertBefore(e,t):n.appendChild(e)})))}const i=r.get(n);return void 0!==i&&(o=l(o,i.end,(e=>n.appendChild(e)))),o}(0,i),i.innerHTML}function rL(e,t,n){if(t.nodeType===Node.TEXT_NODE)return{text:t.textContent,id:void 0};const r={$type:TO.$type,value:crypto.randomUUID()};let o=n,i="";const a=[];if(t.hasChildNodes())for(const n of t.childNodes){const t=rL(e,n,o),r=t.text,s=t.id;o+=r.length,i=i.concat(r),void 0!==s&&a.push(s)}const s={$type:IO.$type,start:n,end:o};if("HTML"!==t.nodeName&&"BODY"!==t.nodeName&&"HEAD"!==t.nodeName){const n={$type:EO.$type,textFormattingId:r,name:t.nodeName,children:a};e.push({operation:{$type:cP.$type,annotationId:{$type:xP.$type,value:crypto.randomUUID()},range:s,textFormattingPayload:n},specificPayload:n})}return{text:i,id:r}}function oL(e){const t=document.createElement("html");t.innerHTML=e;const n=new Array,{text:r}=rL(n,t,0);return{plainText:r,textFormattingAnnotations:n}}class iL extends _N{constructor(){super(...arguments),this.targetTranscriptionTextUnitAnnotations=this.registerAnnotation(new NN(CO.$type,{requiresTransformation:!0}))}}class aL extends XP{constructor(){super(...arguments),this.sourceTextField=this.registerField(new qN(eP.TRANSLATOR_SOURCE_TEXT)),this.targetTextField=this.registerField(new tL(eP.TRANSLATOR_TARGET_TEXT)),this.targetTranscriptionTextField=this.registerField(new iL(eP.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT)),this.textUnitAnnotations=$C([this.sourceTextField.sourceTextUnitAnnotations.annotations,this.targetTextField.targetTextUnitAnnotations.annotations,this.targetTranscriptionTextField.targetTranscriptionTextUnitAnnotations.annotations]).pipe(xC((e=>{const t=e[0],n=e[1],r=e[2];return t.sort(((e,t)=>e.operation.range.start-t.operation.range.start)).map((e=>{var t,o,i,a;const s=e.operation.range,c=null!==(o=null===(t=n.find((t=>{var n,r;return(null===(n=e.specificPayload.textUnitId)||void 0===n?void 0:n.value)===(null===(r=t.specificPayload.textUnitId)||void 0===r?void 0:r.value)})))||void 0===t?void 0:t.operation.range)&&void 0!==o?o:IO.fromJSON({}),l=null!==(a=null===(i=r.find((t=>{var n,r;return(null===(n=e.specificPayload.textUnitId)||void 0===n?void 0:n.value)===(null===(r=t.specificPayload.textUnitId)||void 0===r?void 0:r.value)})))||void 0===i?void 0:i.operation.range)&&void 0!==a?a:IO.fromJSON({});return{sourceStart:s.start,sourceEnd:s.end,sourceLength:s.end-s.start,targetStart:c.start,targetEnd:c.end,targetLength:c.end-c.start,targetTranscriptionStart:l.start,targetTranscriptionEnd:l.end,targetTranscriptionLength:l.end-l.start}}))})))}}let sL=class e extends bN{constructor(e={preventSameLanguages:{enabled:!1}}){super("Translator",nP.TRANSLATOR,new aL),this.config=e,this.targetLanguage=this.document.targetTextField.requestedTargetLanguageProperty.value.pipe(xC((e=>{var t;return null===(t=null==e?void 0:e.targetLanguage)||void 0===t?void 0:t.code}))),this.formattedSourceText=$C([this.document.sourceTextField.content,this.document.sourceTextField.textFormattingAnnotations.annotations]).pipe(xC((([e,t])=>0===t.length?e:void 0===e?void 0:nL({plainText:e,textFormattingAnnotations:t})))),this.formattedTargetText=$C([this.document.targetTextField.content,this.document.targetTextField.textFormattingAnnotations.annotations]).pipe(xC((([e,t])=>0===t.length?e:void 0===e?void 0:nL({plainText:e,textFormattingAnnotations:t})))),this.config.preventSameLanguages.enabled&&this.document.sourceTextField.calculatedSourceLanguageProperty.language.pipe(DC((e=>!!e))).subscribe((e=>{const t=this.document.targetTextField.requestedTargetLanguageProperty.getCurrent();t&&this.config.preventSameLanguages.enabled&&yN(e,t)&&this.updateRequestedTargetLanguage(this.config.preventSameLanguages.getAlternativeTargetLanguage(t))}))}applyFieldEvent(e){if(e.fieldName===eP.TRANSLATOR_TARGET_TEXT&&e.textChangeOperation){const e=[];e.push(...this.cancelTextUnitAlternativesFlows()),e.push(...this.cancelWordAlternativesFlows()),e.push(...this.cancelAutocompletionFlows()),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,e)}this.document.applyItaEvent(e)}updateSourceText(t){const n=this.document.sourceTextField,r=n.maximumTextLengthProperty.getCurrentMax(),o=e.removeTextFormattingAnnotations(n.textFormattingAnnotations),i=n.updateWithLimit(t,r);this.publishChanges([[n.name,o],[n.name,i]])}updateFormattedSourceText(e,t){const n=this.document.sourceTextField.maximumTextLengthProperty.getCurrentMax();this.updateFormattedText(this.document.sourceTextField,e,n)}updateTargetText(t){const n=this.document.targetTextField,r=e.removeTextFormattingAnnotations(n.textFormattingAnnotations),o=n.update(t);this.publishChanges([[n.name,this.cancelTextUnitAlternativesFlows()],[n.name,this.cancelWordAlternativesFlows()],[n.name,this.cancelAutocompletionFlows()],[n.name,r],[n.name,o]])}updateFormattedTargetText(e,t){this.updateFormattedText(this.document.targetTextField,e,t)}updateRequestedTargetLanguage(e){var t;if(this.config.preventSameLanguages.enabled&&yN(e,null!==(t=this.document.sourceTextField.calculatedSourceLanguageProperty.getCurrent())&&void 0!==t?t:""))return;const n=this.document.targetTextField.requestedTargetLanguageProperty.updateLanguage(e);this.publishChange(eP.TRANSLATOR_TARGET_TEXT,n)}updateRequestedSourceLanguage(e){const t=this.document.sourceTextField.requestedSourceLanguageProperty.updateLanguage(e);this.publishChange(eP.TRANSLATOR_SOURCE_TEXT,t)}switchLanguages(e){var t,n,r,o,i,a,s,c,l;const{sourceTextField:u,targetTextField:d}=this.document,p=null!==(t=u.calculatedSourceLanguageProperty.getCurrent())&&void 0!==t?t:null===(r=null===(n=u.requestedSourceLanguageProperty.value.value)||void 0===n?void 0:n.sourceLanguage)||void 0===r?void 0:r.code,h=null!==(a=null===(i=null===(o=d.calculatedTargetLanguageProperty.value.value)||void 0===o?void 0:o.targetLanguage)||void 0===i?void 0:i.code)&&void 0!==a?a:null===(c=null===(s=d.requestedTargetLanguageProperty.value.value)||void 0===s?void 0:s.targetLanguage)||void 0===c?void 0:c.code,f=d.content.value;if(!p||!h)return;const g=h.split("-")[0],m=null!==(l=e[p])&&void 0!==l?l:p;this.publishChanges([[eP.TRANSLATOR_TARGET_TEXT,[...d.update("")]],[eP.TRANSLATOR_SOURCE_TEXT,[...u.update("")]],[eP.TRANSLATOR_TARGET_TEXT,[...d.requestedTargetLanguageProperty.updateLanguage(m)]],[eP.TRANSLATOR_SOURCE_TEXT,[...u.requestedSourceLanguageProperty.updateLanguage(g),...u.updateWithLimit(null!=f?f:"",u.maximumTextLengthProperty.getCurrentMax())]]]),u.calculatedSourceLanguageProperty.updateLanguage(g)}updateFormattedText(t,n,r){const o=e.removeTextFormattingAnnotations(t.textFormattingAnnotations),i=oL(n),{plainText:a,textFormattingAnnotations:s}=function(e,t){return e.plainText.length<=t?e:{plainText:e.plainText.slice(0,t),textFormattingAnnotations:e.textFormattingAnnotations.filter((e=>e.operation.range.start<t)).map((e=>e.operation.range.end<=t?e:Object.assign(Object.assign({},e),{operation:Object.assign(Object.assign({},e.operation),{range:Object.assign(Object.assign({},e.operation.range),{end:t})})})))}}(i,r),c=t.update(a);t.textFormattingAnnotations.set(s),this.publishChanges([[t.name,o],[t.name,c],[t.name,s.map((e=>e.operation))]])}static removeTextFormattingAnnotations(e){var t;const n=null!==(t=e.annotations.value.map((e=>({$type:lP.$type,annotationId:e.operation.annotationId}))))&&void 0!==t?t:[];return e.reset(),n}cancelWordAlternativesFlows(){return this.document.targetTextField.requestWordAlternativesAnnotations.annotations.value.flatMap((e=>this.document.targetTextField.requestWordAlternativesAnnotations.removeAnnotation(e.operation.annotationId)))}cancelTextUnitAlternativesFlows(){return this.document.targetTextField.requestTextUnitAlternativesAnnotations.annotations.value.flatMap((e=>this.document.targetTextField.requestTextUnitAlternativesAnnotations.removeAnnotation(e.operation.annotationId)))}cancelAutocompletionFlows(){return this.document.targetTextField.requestAutocompletionAnnotations.annotations.value.flatMap((e=>this.document.targetTextField.requestAutocompletionAnnotations.removeAnnotation(e.operation.annotationId)))}requestWordAlternatives(e){const t=[];t.push(...this.cancelWordAlternativesFlows());const n=this.document.targetTextField.requestWordAlternativesAnnotations.add(e,e,{$type:vO.$type,flowId:{$type:hO.$type,value:crypto.randomUUID()}})[0];t.push(n),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}requestTextUnitAlternatives(e){const t=[];t.push(...this.cancelTextUnitAlternativesFlows());const n=this.document.targetTextField.requestTextUnitAlternativesAnnotations.add(e,e,{$type:mO.$type,flowId:{$type:gO.$type,value:crypto.randomUUID()}})[0];t.push(n),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}requestAutocompletion(e){const t=[];t.push(...this.cancelAutocompletionFlows());const n=this.document.targetTextField.requestAutocompletionAnnotations.add(e,e,{$type:DO.$type,flowId:{$type:OO.$type,value:crypto.randomUUID()}})[0];t.push(n),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}cancelClarifyFlows(){return this.document.sourceTextField.requestClarifyAnnotations.annotations.value.flatMap((e=>this.document.sourceTextField.requestClarifyAnnotations.removeAnnotation(e.operation.annotationId)))}requestClarify(){var e;const t=[];t.push(...this.cancelClarifyFlows());const n=(null!==(e=this.document.sourceTextField.content.value)&&void 0!==e?e:"").length-1,r=this.document.sourceTextField.requestClarifyAnnotations.add(0,n,{$type:qO.$type,flowId:{$type:ER.$type,value:crypto.randomUUID()}})[0];t.push(r),this.publishChange(eP.TRANSLATOR_SOURCE_TEXT,t)}selectClarifyAnswer(e,t){var n,r,o,i,a,s;const c=[],l=this.document.sourceTextField.clarifyQuestionAnnotations.annotations.value.find((t=>{var n,r,o;return(null===(o=null===(r=null===(n=t.specificPayload.questionWithAnswers)||void 0===n?void 0:n.question)||void 0===r?void 0:r.id)||void 0===o?void 0:o.value)===e}));if(!l)throw new Error(`Unknown question id "${e}" found!`);const u=null!==(r=null===(n=l.operation.range)||void 0===n?void 0:n.start)&&void 0!==r?r:0,d=null!==(i=null===(o=l.operation.range)||void 0===o?void 0:o.end)&&void 0!==i?i:0,p=this.document.sourceTextField.selectClarifyAnswerAnnotations.add(u,d,{$type:HO.$type,flowId:l.specificPayload.flowId,questionId:null===(s=null===(a=l.specificPayload.questionWithAnswers)||void 0===a?void 0:a.question)||void 0===s?void 0:s.id,answer:{$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:t}})[0];c.push(p),this.publishChange(eP.TRANSLATOR_SOURCE_TEXT,c)}selectWordAlternative(e,t,n){const r=[];r.push(...this.cancelTextUnitAlternativesFlows()),r.push(...this.cancelAutocompletionFlows());const o=this.document.targetTextField.selectWordAlternativeAnnotations.add(e,e,{$type:bO.$type,flowId:{$type:hO.$type,value:t},selection:n});r.push(...o),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,r)}selectTextUnitAlternative(e,t,n){const r=[];r.push(...this.cancelWordAlternativesFlows()),r.push(...this.cancelAutocompletionFlows());const o=this.document.targetTextField.selectTextUnitAlternativeAnnotations.add(e,e,{$type:_O.$type,flowId:{$type:gO.$type,value:t},selection:n});r.push(...o),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,r)}selectAutocompletion(e,t,n){const r=[];r.push(...this.cancelWordAlternativesFlows()),r.push(...this.cancelTextUnitAlternativesFlows());const o=this.document.targetTextField.selectAutocompletionAnnotations.add(e,e,{$type:VO.$type,flowId:{$type:OO.$type,value:t},selection:n});r.push(...o),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,r)}selectAutomaticTextUnitAlternative(e,t){const n=[],r=this.document.targetTextField.selectAutomaticTextUnitAlternativeAnnotations.add(e,e,{$type:yO.$type,selection:t});n.push(...r),this.publishChange(eP.TRANSLATOR_TARGET_TEXT,n)}updateGlossaryList(e){const t=this.document.targetTextField.glossaryListProperty.updateGlossaryList(e);this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}updateSourceLanguageDetectionWeights(e){const t=this.document.sourceTextField.sourceLanguageDetectionWeightsProperty.updateSourceLanguageDetectionWeights(e);this.publishChange(eP.TRANSLATOR_SOURCE_TEXT,t)}updateFormalityMode(e){const t=this.document.targetTextField.formalityMode.update(e);this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}updateLanguageModel(e){const t=this.document.targetTextField.languageModel.update(e);this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}updateGlossaryId(e){const t=this.document.targetTextField.glossaryId.update(e);this.publishChange(eP.TRANSLATOR_TARGET_TEXT,t)}};const cL=e=>Fe(void 0,void 0,void 0,(function*(){const t=e.nicheIntegration===Mn||e.nicheIntegration===Gn||e.nicheIntegration===jn||!e.nicheIntegration,n=yield rS(zn.TRANSLATOR),r=yield rS(zn.WRITE);if(!((!n||!r)&&t))return;const o=e.sourceTexts.reduce(((e,t)=>e+t.length),0),i=e.isWriteRequest?jr.writeServiceType:jr.translatorServiceType,a=yield function(){return Fe(this,arguments,void 0,(function*(e=jr.translatorServiceType){const t=yield nS(e);let n;switch(e){case jr.translatorServiceType:n=pt;break;case jr.writeServiceType:n=ht;break;default:n=pt}switch(t){case lt:return n.notLoggedIn;case dt:return n.loggedInFree;case ut:return;default:return n.notLoggedIn}}))}(i);if(e.isWriteRequest){if(n&&!r&&o>a)throw new Py(a,"Char limit exceeded (Translator Pro, Write Free)");if(!r&&o>a)throw new Ry(a,"Char limit exceeded (Write Free Or Anonymous)")}else{let e;try{e=yield nS()}catch(t){e=lt,console.log(t)}if(e===dt&&r&&o>a)throw new Ny(a,"Char limit exceeded (Free or Anon Translator, Write Pro)");if(e===dt&&o>a)throw new Cy(a,"Char limit exceeded (Translator Free)");if(e===lt&&o>a)throw new Oy(a,"Char limit exceeded (Translator Anon)")}}));async function lL(e=!1,t=!0){if(!e){const e=await function(){return Fe(this,void 0,void 0,(function*(){const e=yield Y_(H_,W_);if(e&&e.meta)return(Date.now()-e.meta.createdAt)/6e4>20?void 0:e.data}))}();if(e)return e}const n=(r="getClientState",o={v:"20180814"},i=function(){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}(),{jsonrpc:"2.0",method:r,params:o,id:i});var r,o,i;const a=await Z_(),s=t||function(e){try{const t=Ly(e);if(t.exp&&Date.now()/1e3<t.exp-5)return!1}catch(e){console.error("Error decoding token:",e)}return!0}(a.access_token),{response:c,accessToken:l}=await RI("https://w.deepl.com/web",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(n),access_token:a.access_token,refresh_token:a.refresh_token,token_url:"https://w.deepl.com/oidc/token",credentials:"omit"},s);await Q_(l,a.refresh_token,a.id_token);const u=(await c.json()).result;return u&&(X_(u),function(e){Fe(this,void 0,void 0,(function*(){var t,n,r,o,i;const a=e.featureSet.translator.service,s=e.featureSet.write.service,c=e.featureSet.api.service,l=e.featureSet.documentTranslation.service,u=e.featureSet.glossary.termbaseService,d=e.featureSet.glossary.maxGlossaries;let p,h;(null===(t=e.loginState)||void 0===t?void 0:t.accountId)&&(p=e.loginState.accountId),(null===(r=null===(n=e.featureSet)||void 0===n?void 0:n.integrations)||void 0===r?void 0:r.browserExtension)&&(h=null===(i=null===(o=e.featureSet)||void 0===o?void 0:o.integrations)||void 0===i?void 0:i.browserExtension),yield chrome.storage.local.set({translatorServiceType:a,writeServiceType:s,apiServiceType:c,docTranslatorServiceType:l,accountId:p||"",featureSet:h,hasTermbaseService:u&&d>0})}))}(u)),u}async function uL(e){const t=await Z_(),n=new URLSearchParams([["id_token_hint",t.id_token],["post_logout_redirect_uri",chrome.identity.getRedirectURL()]]),r=async()=>{await function(){return Fe(this,void 0,void 0,(function*(){yield chrome.storage.local.remove(["last_login"])}))}();try{await function(){return Fe(this,void 0,void 0,(function*(){const e=yield tS();return D_((t=>Object.assign(Object.assign({},t),{eventId:r_,accountData:{accountUuid:e}})))}))}()}catch(e){console.error(e)}await function(){return Fe(this,void 0,void 0,(function*(){yield chrome.storage.local.remove(["a_t","r_t",jr.idToken,"delegatedLoginMapping"]),yield chrome.storage.local.set({isLoggedIn:!1,isProUser:!1,sessionType:""})}))}(),await chrome.storage.local.set({[jr.lastLogoutTrigger]:e.trigger});try{await V_({trigger:e.trigger,reason:e.reason})}catch(e){console.error(e)}await lL(!0),function(){Fe(this,void 0,void 0,(function*(){yield chrome.storage.sync.remove(["activeTermbaseId","isGlossaryEnabled"]),yield chrome.storage.sync.set({activeTermbaseId:"",isGlossaryEnabled:!1})}))}(),e.showAlert&&chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:"dlShowAlert",payload:{error:e.reason}})}))};if(!t.id_token)return void await r();const o=`https://www.deepl.com/auth/logout?${n}`;chrome.identity.launchWebAuthFlow({url:o,interactive:!0},(()=>{r()}))}let dL;const pL=async e=>{try{return await e(hL())}catch(e){if(e.name===ww||e.name===Tw||e.name===Ew||e.name===rT||e.name===iT||e.name===aT){if(dL)return;dL=setTimeout((async()=>{try{await uL({trigger:Hn,reason:e.name})}finally{clearTimeout(dL),dL=void 0}}),5e3)}throw e}},hL=()=>({baseUrls:{translate:{free:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",pro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0"},write:{free:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",pro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0"},glossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0"},auth:{getAuthTokens:Z_,setAuthTokens:Q_,getServiceLevels:async()=>{const e=await oS();return{translator:e.translatorServiceType,write:e.writeServiceType}},tokenUrl:"https://w.deepl.com/oidc/token"},omitCookies:!0});async function fL(){let e,t,n="";try{e=await async function(){const e=await eS();return{isLoggedIn:e.isLoggedIn,translatorServiceType:e.translatorServiceType,writeServiceType:e.writeServiceType,hasTermbaseService:e.hasTermbaseService}}()}catch(e){t=e.message}if(!e?.isLoggedIn||t)return[[],t];try{const e=await(async()=>pL((async e=>await DI({config:e}))))();n=e.result||[]}catch(e){t=e.message}return[n,t]}function gL(e,t){e&&(t?e.updateGlossaryId({$type:RO.$type,id:t}):e.updateGlossaryId())}function mL(){return Fe(this,void 0,void 0,(function*(){const e=yield K_(["activeTermbaseId","session","isGlossaryEnabled","hasTermbaseService",jr.isLoggedIn]);let t;if(e.isGlossaryEnabled&&Kr(e)&&e.activeTermbaseId){const[n]=yield fL();t=n.find((t=>t.id===e.activeTermbaseId))}return{glossaryId:null==t?void 0:t.id,isAutoTermbase:null==t?void 0:t.isAutoTermbase,isShared:null==t?void 0:t.shared}}))}const vL="textChange",yL="targetLanguageChange",_L="formalityChange",SL="writeStyleChange",bL="translatorRequestedTargetLanguageValue",wL="translatorFormalityModeValue",TL="writeStyleVariantValue",EL=(e,t)=>e||t>=10?[e,t]:[e=++t>=10,t];function AL(t){let n,r,i,a;return{c(){n=O("div"),G(n,"--placeholder-headline","'"+t[1]+"'"),G(n,"--placeholder-explanation","'"+t[2]+"'"),U(n,"class","input-area editable svelte-13cutv0"),U(n,"data-testid","side-panel-input"),U(n,"contenteditable",r=t[0]?"false":"true"),q(n,"isDisabled",t[0])},m(e,r){x(e,n,r),i||(a=[$(n,"input",t[3]),$(n,"paste",t[4]),$(n,"focus",t[6]),$(n,"click",t[7])],i=!0)},p(e,[t]){2&t&&G(n,"--placeholder-headline","'"+e[1]+"'"),4&t&&G(n,"--placeholder-explanation","'"+e[2]+"'"),1&t&&r!==(r=e[0]?"false":"true")&&U(n,"contenteditable",r),1&t&&q(n,"isDisabled",e[0])},i:e,o:e,d(e){e&&k(n),i=!1,o(a)}}}function IL(e,t,n){let{onInputChange:r=()=>{}}=t,{isDisabled:o=!1}=t,i=chrome.i18n.getMessage("side_panel_translate_input_prompt"),a=chrome.i18n.getMessage("side_panel_translate_input_prompt_description");return e.$$set=e=>{"onInputChange"in e&&n(5,r=e.onInputChange),"isDisabled"in e&&n(0,o=e.isDisabled)},[o,i,a,function(e){n(1,i=""),n(2,a=""),r(e.target.innerText.trim())},function(e){n(1,i=""),n(2,a=""),e.preventDefault();const t=e.clipboardData.getData("text/plain");console.error(t),document.execCommand("insertText",!1,t)},r,function(t){ie.call(this,e,t)},()=>F_(wn)]}class xL extends De{constructor(e){super(),Me(this,e,IL,AL,a,{onInputChange:5,isDisabled:0})}}function kL(e){let t;return{c(){t=O("div"),U(t,"class","sliding-bar svelte-g1fkpi")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function CL(t){let n,r=t[0]&&kL();return{c(){n=O("div"),r&&r.c(),U(n,"class","container svelte-g1fkpi")},m(e,t){x(e,n,t),r&&r.m(n,null)},p(e,[t]){e[0]?r||(r=kL(),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&k(n),r&&r.d()}}}function OL(e,t,n){let{isProcessing:r=!1}=t;return e.$$set=e=>{"isProcessing"in e&&n(0,r=e.isProcessing)},[r]}class RL extends De{constructor(e){super(),Me(this,e,OL,CL,a,{isProcessing:0})}}function PL(e){let t,n,r;return n=new RL({props:{isProcessing:e[1]}}),{c(){t=O("div"),Pe(n.$$.fragment),U(t,"class","loading-indicator svelte-f1iv6z"),U(t,"data-testid","side-panel-target-text-loading-indicator")},m(e,o){x(e,t,o),Ne(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isProcessing=e[1]),n.$set(r)},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),Le(n)}}}function NL(e){let t,n,r,o,i,a,s=e[2]&&PL(e);return{c(){t=O("div"),s&&s.c(),n=N(),r=P(e[0]),U(t,"class","output-area svelte-f1iv6z"),U(t,"data-testid","side-panel-output")},m(c,l){x(c,t,l),s&&s.m(t,null),E(t,n),E(t,r),o=!0,i||(a=$(t,"click",e[4]),i=!0)},p(e,[i]){e[2]?s?(s.p(e,i),4&i&&Ae(s,1)):(s=PL(e),s.c(),Ae(s,1),s.m(t,n)):s&&(Te(),Ie(s,1,1,(()=>{s=null})),Ee()),(!o||1&i)&&V(r,e[0])},i(e){o||(Ae(s),o=!0)},o(e){Ie(s),o=!1},d(e){e&&k(t),s&&s.d(),i=!1,a()}}}function LL(e,t,n){let r,{targetText:o=""}=t,{isProcessing:i}=t,a=!1;te((()=>{r&&clearTimeout(r)}));return e.$$set=e=>{"targetText"in e&&n(0,o=e.targetText),"isProcessing"in e&&n(1,i=e.isProcessing)},e.$$.update=()=>{10&e.$$.dirty&&(i?r||n(3,r=setTimeout((()=>{i&&n(2,a=!0),n(3,r=null)}),500)):(n(2,a=!1),r&&(clearTimeout(r),n(3,r=null))))},[o,i,a,r,()=>F_(Tn)]}class $L extends De{constructor(e){super(),Me(this,e,LL,NL,a,{targetText:0,isProcessing:1})}}function ML(e){let t,n,r,i,a,s,c,l,u,d,p;return r=new yw({props:{value:e[1],dataQaButton:"side-panel-translator-sourcelang",showRegionalVariants:!1,readOnly:e[2],fontSize:"sm",placeholderText:chrome.i18n.getMessage("dropdown_detect_language")}}),r.$on("selection",e[4]),l=new yw({props:{value:e[0],dataQaButton:"side-panel-translator-targetlang",fontSize:"sm",readOnly:e[2]}}),l.$on("selection",e[7]),{c(){t=O("div"),n=O("div"),Pe(r.$$.fragment),i=N(),a=O("div"),s=N(),c=O("div"),Pe(l.$$.fragment),U(n,"class","language-picker svelte-5ewc1i"),U(a,"class","translate-to-arrow svelte-5ewc1i"),U(c,"class","language-picker svelte-5ewc1i"),U(t,"class","container svelte-5ewc1i")},m(o,h){x(o,t,h),E(t,n),Ne(r,n,null),E(t,i),E(t,a),E(t,s),E(t,c),Ne(l,c,null),u=!0,d||(p=[$(n,"mouseup",e[5]),$(a,"click",e[6]),$(c,"mouseup",e[8])],d=!0)},p(e,[t]){const n={};2&t&&(n.value=e[1]),4&t&&(n.readOnly=e[2]),r.$set(n);const o={};1&t&&(o.value=e[0]),4&t&&(o.readOnly=e[2]),l.$set(o)},i(e){u||(Ae(r.$$.fragment,e),Ae(l.$$.fragment,e),u=!0)},o(e){Ie(r.$$.fragment,e),Ie(l.$$.fragment,e),u=!1},d(e){e&&k(t),Le(r),Le(l),d=!1,o(p)}}}function DL(e,t,n){const r=ne();let{targetLang:o}=t,{sourceLang:i}=t,{isDisabled:a=!1}=t;return e.$$set=e=>{"targetLang"in e&&n(0,o=e.targetLang),"sourceLang"in e&&n(1,i=e.sourceLang),"isDisabled"in e&&n(2,a=e.isDisabled)},[o,i,a,r,e=>{n(1,i=e.detail.selectedOption.value),r("selectSourcetLang",{sourceLang:i})},()=>F_(Sn),()=>F_(bn),e=>{n(0,o=e.detail.selectedOption.value),r("selectTargetLang",{targetLang:o}),function(e){Fe(this,void 0,void 0,(function*(){return D_((t=>Object.assign(Object.assign({},t),{eventId:o_,sidePanelLanguageChangeData:{lang:e}})))}))}(o)},()=>F_(_n)]}class UL extends De{constructor(e){super(),Me(this,e,DL,ML,a,{targetLang:0,sourceLang:1,isDisabled:2})}}function VL(t){let n,r=Fr(),o=r&&function(e){let t,n,r,o;return{c(){t=O("div"),n=P(e[1]),U(t,"class","dev-label svelte-1djhzwy"),q(t,"isInline",e[0])},m(i,a){x(i,t,a),E(t,n),r||(o=$(t,"click",e[2]),r=!0)},p(e,r){2&r&&V(n,e[1]),1&r&&q(t,"isInline",e[0])},d(e){e&&k(t),r=!1,o()}}}(t);return{c(){o&&o.c(),n=L()},m(e,t){o&&o.m(e,t),x(e,n,t)},p(e,[t]){r&&o.p(e,t)},i:e,o:e,d(e){e&&k(n),o&&o.d(e)}}}function FL(e,t,n){let{isInline:r=!1}=t,{text:o="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,r=e.isInline),"text"in e&&n(1,o=e.text)},[r,o,function(t){ie.call(this,e,t)}]}class GL extends De{constructor(e){super(),Me(this,e,FL,VL,a,{isInline:0,text:1})}}function jL(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f,g,m,v,y,_,S,b,w,T,A,I,C,R,L,$,M,D=e[0]?.startSessionResponse?.sessionId?.value+"",F=e[0]?.connection?.connectionId+"",j=e[3]?.length+"",q=e[4]&&qL(e);return $=new yI({props:{text:"Open dev tools"}}),{c(){t=O("div"),n=O("div"),r=O("pre"),o=P("ITA session id: "),i=P(D),a=N(),s=O("pre"),c=P("ITA connection id: "),l=P(F),u=N(),d=O("pre"),p=P("ITA session status: "),h=P(e[1]),f=N(),g=O("pre"),m=P("Reconnecting "),v=P(e[6]),y=N(),_=O("pre"),S=P("is processing: "),b=P(e[2]),w=N(),T=O("pre"),A=P("Active subscriptions: "),I=P(j),C=N(),q&&q.c(),R=N(),L=O("div"),Pe($.$$.fragment),G(L,"width","fit-content"),U(t,"class","dev-info svelte-1tepehe")},m(e,k){x(e,t,k),E(t,n),E(n,r),E(r,o),E(r,i),E(n,a),E(n,s),E(s,c),E(s,l),E(n,u),E(n,d),E(d,p),E(d,h),E(n,f),E(n,g),E(g,m),E(g,v),E(n,y),E(n,_),E(_,S),E(_,b),E(n,w),E(n,T),E(T,A),E(T,I),E(t,C),q&&q.m(t,null),E(t,R),E(t,L),Ne($,L,null),M=!0},p(e,n){(!M||1&n)&&D!==(D=e[0]?.startSessionResponse?.sessionId?.value+"")&&V(i,D),(!M||1&n)&&F!==(F=e[0]?.connection?.connectionId+"")&&V(l,F),(!M||2&n)&&V(h,e[1]),(!M||64&n)&&V(v,e[6]),(!M||4&n)&&V(b,e[2]),(!M||8&n)&&j!==(j=e[3]?.length+"")&&V(I,j),e[4]?q?q.p(e,n):(q=qL(e),q.c(),q.m(t,R)):q&&(q.d(1),q=null)},i(e){M||(Ae($.$$.fragment,e),M=!0)},o(e){Ie($.$$.fragment,e),M=!1},d(e){e&&k(t),q&&q.d(),Le($)}}}function qL(e){let t,n,r,o,i,a,s,c,l,u,d,p=e[4].info?.statusCode+"",h=e[4].info?.detailCode?.value+"",f=e[4].message+"";return{c(){t=O("pre"),n=P("Error Code: "),r=P(p),o=N(),i=O("pre"),a=P("Error Detail Code: "),s=P(h),c=N(),l=O("pre"),u=P("Error Message: "),d=P(f)},m(e,p){x(e,t,p),E(t,n),E(t,r),x(e,o,p),x(e,i,p),E(i,a),E(i,s),x(e,c,p),x(e,l,p),E(l,u),E(l,d)},p(e,t){16&t&&p!==(p=e[4].info?.statusCode+"")&&V(r,p),16&t&&h!==(h=e[4].info?.detailCode?.value+"")&&V(s,h),16&t&&f!==(f=e[4].message+"")&&V(d,f)},d(e){e&&(k(t),k(o),k(i),k(c),k(l))}}}function BL(e){let t,n,r,o,i;n=new GL({}),n.$on("click",e[8]);let a=e[7]&&jL(e);return{c(){t=O("div"),Pe(n.$$.fragment),r=N(),a&&a.c(),o=L(),U(t,"style",e[5])},m(e,s){x(e,t,s),Ne(n,t,null),x(e,r,s),a&&a.m(e,s),x(e,o,s),i=!0},p(e,[n]){(!i||32&n)&&U(t,"style",e[5]),e[7]?a?(a.p(e,n),128&n&&Ae(a,1)):(a=jL(e),a.c(),Ae(a,1),a.m(o.parentNode,o)):a&&(Te(),Ie(a,1,1,(()=>{a=null})),Ee())},i(e){i||(Ae(n.$$.fragment,e),Ae(a),i=!0)},o(e){Ie(n.$$.fragment,e),Ie(a),i=!1},d(e){e&&(k(t),k(r),k(o)),Le(n),a&&a.d(e)}}}function WL(e,t,n){let{itaSession:r}=t,{sessionStatus:o}=t,{isProcessing:i}=t,{activeItaSubscriptions:a}=t,{sessionError:s}=t,{style:c}=t,{reconnecting:l}=t,u=!1;return e.$$set=e=>{"itaSession"in e&&n(0,r=e.itaSession),"sessionStatus"in e&&n(1,o=e.sessionStatus),"isProcessing"in e&&n(2,i=e.isProcessing),"activeItaSubscriptions"in e&&n(3,a=e.activeItaSubscriptions),"sessionError"in e&&n(4,s=e.sessionError),"style"in e&&n(5,c=e.style),"reconnecting"in e&&n(6,l=e.reconnecting)},[r,o,i,a,s,c,l,u,()=>n(7,u=!u)]}class HL extends De{constructor(e){super(),Me(this,e,WL,BL,a,{itaSession:0,sessionStatus:1,isProcessing:2,activeItaSubscriptions:3,sessionError:4,style:5,reconnecting:6})}}function JL(e){let t,n;return t=new jE({props:{error:{error:e[6]},close:e[22]}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};64&n[0]&&(r.error={error:e[6]}),64&n[0]&&(r.close=e[22]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function zL(e){let t,n;return t=new uI({props:{serviceName:zn.TRANSLATOR}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function YL(e){let t,n;return t=new $L({props:{targetText:e[5],isProcessing:e[8]||e[12]}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.targetText=e[5]),4352&n[0]&&(r.isProcessing=e[8]||e[12]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function XL(e){let t,n;return t=new jE({props:{error:{error:e[7]},close:e[23]}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.error={error:e[7]}),128&n[0]&&(r.close=e[23]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function KL(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f=Fr(),g=f&&function(e){let t,n;return t=new HL({props:{style:"position: absolute; right: 8px;",itaSession:e[4],sessionStatus:e[11],isProcessing:e[8],activeItaSubscriptions:e[13],sessionError:e[10],reconnecting:e[12]}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.itaSession=e[4]),2048&n[0]&&(r.sessionStatus=e[11]),256&n[0]&&(r.isProcessing=e[8]),8192&n[0]&&(r.activeItaSubscriptions=e[13]),1024&n[0]&&(r.sessionError=e[10]),4096&n[0]&&(r.reconnecting=e[12]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}(e);function m(t){e[19](t)}function v(t){e[20](t)}let y={isDisabled:e[0]||e[12]};void 0!==e[3]&&(y.targetLang=e[3]),void 0!==e[9]&&(y.sourceLang=e[9]),r=new UL({props:y}),se.push((()=>Re(r,"targetLang",m))),se.push((()=>Re(r,"sourceLang",v))),r.$on("selectSourcetLang",e[21]);let _=e[6]&&JL(e),S=e[0]&&zL();l=new xL({props:{onInputChange:e[17],isDisabled:e[0]}}),l.$on("focus",e[18]);const b=[XL,YL],w=[];function T(e,t){return e[7]?0:1}return d=T(e),p=w[d]=b[d](e),{c(){t=O("div"),g&&g.c(),n=N(),Pe(r.$$.fragment),a=N(),_&&_.c(),s=N(),S&&S.c(),c=N(),Pe(l.$$.fragment),u=N(),p.c(),U(t,"class","translator-container svelte-1o4xy6w"),U(t,"data-testid",e[1])},m(e,o){x(e,t,o),g&&g.m(t,null),E(t,n),Ne(r,t,null),E(t,a),_&&_.m(t,null),E(t,s),S&&S.m(t,null),E(t,c),Ne(l,t,null),E(t,u),w[d].m(t,null),h=!0},p(e,n){f&&g.p(e,n);const a={};4097&n[0]&&(a.isDisabled=e[0]||e[12]),!o&&8&n[0]&&(o=!0,a.targetLang=e[3],he((()=>o=!1))),!i&&512&n[0]&&(i=!0,a.sourceLang=e[9],he((()=>i=!1))),r.$set(a),e[6]?_?(_.p(e,n),64&n[0]&&Ae(_,1)):(_=JL(e),_.c(),Ae(_,1),_.m(t,s)):_&&(Te(),Ie(_,1,1,(()=>{_=null})),Ee()),e[0]?S?1&n[0]&&Ae(S,1):(S=zL(),S.c(),Ae(S,1),S.m(t,c)):S&&(Te(),Ie(S,1,1,(()=>{S=null})),Ee());const u={};1&n[0]&&(u.isDisabled=e[0]),l.$set(u);let m=d;d=T(e),d===m?w[d].p(e,n):(Te(),Ie(w[m],1,1,(()=>{w[m]=null})),Ee(),p=w[d],p?p.p(e,n):(p=w[d]=b[d](e),p.c()),Ae(p,1),p.m(t,null)),(!h||2&n[0])&&U(t,"data-testid",e[1])},i(e){h||(Ae(g),Ae(r.$$.fragment,e),Ae(_),Ae(S),Ae(l.$$.fragment,e),Ae(p),h=!0)},o(e){Ie(g),Ie(r.$$.fragment,e),Ie(_),Ie(S),Ie(l.$$.fragment,e),Ie(p),h=!1},d(e){e&&k(t),g&&g.d(),Le(r),_&&_.d(),S&&S.d(),Le(l),w[d].d()}}}function QL(e,t,n){let r,o,{isTranslateDisabled:i=!1}=t,{dataTestId:a=""}=t;const s=oe("Sentry"),l=oe("deepl_website_settings");c(e,l,(e=>n(31,r=e)));const u=oe("deepl_settings");let d,p,h,f,g,m,v;c(e,u,(e=>n(32,o=e)));let y,_,S,b,w,T,E,A,I=Rr(),x=!1,k=[],C=!1;async function O(){return p?"Connecting"!==p.connection?.state&&(!(!_&&b!==AN.Disconnected)&&(await N(),!0)):(await N(),!0)}async function R(){let e;try{e=await async function(){const e=await Z_();let t=e.access_token;if(t){const n=6e4;if(1e3*Ly(t).exp-Date.now()<n){const n="https://w.deepl.com/oidc/token";t=await OI(e.refresh_token,n),await Q_(t,e.refresh_token,e.id_token)}}return t}(),w&&w(e)}catch(e){return n(6,g=Mw),console.error(e),[null,e]}return[e,null]}function P(){for(const e of k)e.unsubscribe();n(13,k=[])}async function N(){if(!x){n(12,x=!0),n(10,_=void 0),n(6,g=void 0),n(7,m=void 0);try{const[e]=await R();P();const[t,i]=await async function({itaDocumentState:e,accessToken:t}){try{await aS();const n=await oS(),r=Yr(n,zn.TRANSLATOR)?"https://ita-pro.www.deepl.com/v1":"https://ita-free.www.deepl.com/v1",o=new ON(new URL(r),t),i=new sL,a=o.createSession(i);return await a.connect(e),j_({itaSessionType:cr,itaSessionEventType:e?dr:ur}),Fr()&&console.log("ITA Translate session ID:",a.startSessionResponse?.sessionId?.value),[{session:a,updateAccessToken:e=>o.updateAccessToken(e)},null]}catch(e){return console.error(e),e?.info&&console.log(e.info),j_({itaSessionType:cr,itaSessionEventType:pr,itaErrorType:fr,itaErrorMessage:e.message}),[null,e]}}({itaDocumentState:S,accessToken:e});if(i)throw n(12,x=!1),n(6,g=i.message),i;n(4,p=t.session),w=t.updateAccessToken,n(2,d=p.client);let a=[];a.push(d.document.targetTextField.content.subscribe((e=>{n(5,h=e)}))),a.push(d.document.sourceTextField.calculatedSourceLanguageProperty.language.subscribe((e=>{n(9,y=e?.toUpperCase())}))),a.push(p.error.subscribe((e=>{if(e instanceof kN){console.error(e),n(10,_=e);const t=_?.info?.detailCode?.value;(function(e){switch(e){case Dw:case Uw:case Vw:case Fw:case Gw:case Bw:case Ww:case Jw:case zw:case Yw:case Xw:case Kw:case Qw:case Zw:case qw:case Hw:return!0;default:return!1}})(t)&&(n(6,g=function(e,t=!1){switch(e){case Uw:return Ow;case Vw:return Rw;case Dw:return Ow;case jw:return Mw;default:return t?Lw:$w}}(t)),U_({errorCode:t||e.name,errorMessage:e.message,domainName:r?.hostname,targetLang:I,websiteLanguage:y,trigger:st,characterCount:h?.length})),j_({itaSessionType:cr,itaSessionEventType:pr,itaErrorType:gr,itaErrorMessage:t||e.message})}s.captureException(e)}))),a.push(p.status.subscribe((e=>{n(11,b=e)}))),a.push(p.messages.subscribe((async e=>{if(!e)return;0===e.metaInfoMessage?.translatorTaskMetaInfo?.progressInPercent&&n(8,v=!0),100===e.metaInfoMessage?.translatorTaskMetaInfo?.progressInPercent&&n(8,v=!1);const t=e.appendMessage?.events[e.appendMessage.events.length-1];(t?(e=>{if(e.textChangeOperation)return vL;if(e.setPropertyOperation){if(bL in e.setPropertyOperation)return yL;if(wL in e.setPropertyOperation)return _L;if(TL in e.setPropertyOperation)return SL}})(t):void 0)&&(clearTimeout(E),E=setTimeout((()=>{!function(e){Fe(this,void 0,void 0,(function*(){return D_((t=>Object.assign(Object.assign({},t),{eventId:Qy,translationRequestData:Object.assign(Object.assign(Object.assign(Object.assign({extensionVersion:"1.42.0",domainName:e.domainName,userId:e.installationId,translationTrigger:T_(e.trigger),translationData:{sourceLang:e.websiteLanguage,targetLang:e.targetLanguage,sourceLength:e.characterCount}},e.translationPerformance&&{translationPerformance:e.translationPerformance}),{nicheIntegration:I_(e.nicheIntegration||Mn)}),e.glossaryTrackingInfo&&{isGlossaryEnabled:e.glossaryTrackingInfo.isGlossaryEnabled,isGlossaryShared:e.glossaryTrackingInfo.isGlossaryShared,didGlossaryChangeTranslation:e.glossaryTrackingInfo.didGlossaryChangeTranslation,isAutoTermbase:e.glossaryTrackingInfo.isAutoTermbase}),e.isIta&&{isIta:e.isIta})})))}))}({installationId:o.installationId,trigger:st,websiteLanguage:y,targetLanguage:I,characterCount:f?.length,domainName:r?.hostname,isIta:!0,glossaryTrackingInfo:{isGlossaryEnabled:!!A?.glossaryId,isGlossaryShared:!!A?.isShared,isAutoTermbase:!!A?.isAutoTermbase,didGlossaryChangeTranslation:C}}),Fe(void 0,void 0,void 0,(function*(){const{successfulSidepanelTranslations:e,isSidePanelSurveyVisible:t,sidePanelSurveyHasBeenDisplayed:n}=yield K_(["successfulSidepanelTranslations","isSidePanelSurveyVisible","sidePanelSurveyHasBeenDisplayed"]);if(n)return;const[r,o]=EL(t,e);r===t&&o===e||(yield chrome.storage.sync.set({successfulSidepanelTranslations:o,isSidePanelSurveyVisible:r}))}))}),3e3))}))),a.push(d.document.targetTextField.glossaryReplacementAnnotations.annotations.subscribe((e=>{C=e.length>0}))),n(13,k=[...a]),p.connection.onclose(P),A=await mL(),await gL(d,A?.glossaryId)}catch(e){n(6,g=e.message),n(10,_=e),U_({errorCode:e.name,errorMessage:e.message,domainName:r?.hostname,targetLang:I,websiteLanguage:y,trigger:st,characterCount:h?.length})}n(12,x=!1)}}async function L(e){(e.accountId?.oldValue||e.accountId?.newValue)&&N(),d&&(e.isGlossaryEnabled?.oldValue!==e.isGlossaryEnabled?.newValue||e.activeTermbaseId?.newValue)&&(A=await mL(),await gL(d,A?.glossaryId))}ee((()=>{chrome.storage.onChanged.addListener(L),N(),window.addEventListener("online",(()=>{N()})),window.addEventListener("offline",(()=>{n(6,g=dy)}))})),te((()=>{p&&p.close(),chrome.storage.onChanged.removeListener(L),clearTimeout(T)}));return e.$$set=e=>{"isTranslateDisabled"in e&&n(0,i=e.isTranslateDisabled),"dataTestId"in e&&n(1,a=e.dataTestId)},e.$$.update=()=>{12&e.$$.dirty[0]&&I&&d&&O().then((()=>{d.updateRequestedTargetLanguage(Mr(I))}))},[i,a,d,I,p,h,g,m,v,y,_,b,x,k,l,u,O,async function(e){n(7,m="");try{await cL({sourceTexts:[e]})}catch(e){return void n(7,m=e.name)}f=e,d&&d.updateSourceText(f),clearTimeout(T),T=setTimeout((async()=>{!function(){if(!d||!d.document)return;try{S=d.document.serialize()}catch(e){console.error(e)}}(),await R(),await O()}),1e3)},async function(){await R(),await O()},function(e){I=e,n(3,I)},function(e){y=e,n(9,y)},()=>{O(),d.updateRequestedSourceLanguage(Mr(y))},()=>n(6,g=""),()=>n(7,m="")]}class ZL extends De{constructor(e){super(),Me(this,e,QL,KL,a,{isTranslateDisabled:0,dataTestId:1},null,[-1,-1])}}function e$(t){let n,r,o,i,a,s,c,l;return{c(){n=O("div"),r=O("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=N(),i=O("div"),a=O("p"),s=O("strong"),s.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,c=N(),l=O("p"),l.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,U(r,"class","icon svelte-16jsbww"),U(i,"class","text svelte-16jsbww"),U(n,"class","container svelte-16jsbww"),U(n,"data-testid","login-required-policy-message")},m(e,t){x(e,n,t),E(n,r),E(n,o),E(n,i),E(i,a),E(a,s),E(i,c),E(i,l)},p:e,i:e,o:e,d(e){e&&k(n)}}}class t$ extends De{constructor(e){super(),Me(this,e,null,e$,a,{})}}function n$(t){let n,r,i,a,s,c,l,u,d,p,h;return{c(){n=O("div"),r=O("button"),i=N(),a=O("span"),a.textContent=`${chrome.i18n.getMessage("sidepanel_survey_header")}`,s=N(),c=O("span"),c.textContent=`${chrome.i18n.getMessage("sidepanel_survey_content")}`,l=N(),u=O("div"),d=O("button"),d.textContent=`${chrome.i18n.getMessage("sidepanel_survey_call_to_action")}`,U(r,"class","close-button svelte-4h2mjo"),U(r,"data-testid","close"),U(a,"class","header-text svelte-4h2mjo"),U(c,"class","content-text svelte-4h2mjo"),U(d,"data-testid","open_survey"),U(d,"class","svelte-4h2mjo"),U(u,"class","call-to-action svelte-4h2mjo"),U(n,"class","dl-survey-link svelte-4h2mjo")},m(e,o){x(e,n,o),E(n,r),E(n,i),E(n,a),E(n,s),E(n,c),E(n,l),E(n,u),E(u,d),p||(h=[$(r,"click",t[1]),$(d,"click",t[2])],p=!0)},p:e,i:e,o:e,d(e){e&&k(n),p=!1,o(h)}}}function r$(e,t,n){let r;var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const i=oe("deepl_settings");c(e,i,(e=>n(3,r=e)));const a=()=>{g(i,r.isSidePanelSurveyVisible=!1,r),g(i,r.sidePanelSurveyHasBeenDisplayed=!0,r)};return[i,a,()=>o(void 0,void 0,void 0,(function*(){Ir({action:Ar.dlExternalURLRedirect,payload:{destination:Jy}}),a()}))]}class o$ extends De{constructor(e){super(),Me(this,e,r$,n$,a,{})}}function i$(t){let n,r,o;return r=new t$({}),{c(){n=O("div"),Pe(r.$$.fragment),U(n,"class","admin-info svelte-1kwuhj")},m(e,t){x(e,n,t),Ne(r,n,null),o=!0},p:e,i(e){o||(Ae(r.$$.fragment,e),o=!0)},o(e){Ie(r.$$.fragment,e),o=!1},d(e){e&&k(n),Le(r)}}}function a$(e){let t,n,r,o=e[1]&&s$();return n=new ZL({props:{isTranslateDisabled:e[6],dataTestId:"side-panel-translator"}}),{c(){o&&o.c(),t=N(),Pe(n.$$.fragment)},m(e,i){o&&o.m(e,i),x(e,t,i),Ne(n,e,i),r=!0},p(e,r){e[1]?o?2&r&&Ae(o,1):(o=s$(),o.c(),Ae(o,1),o.m(t.parentNode,t)):o&&(Te(),Ie(o,1,1,(()=>{o=null})),Ee());const i={};64&r&&(i.isTranslateDisabled=e[6]),n.$set(i)},i(e){r||(Ae(o),Ae(n.$$.fragment,e),r=!0)},o(e){Ie(o),Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),o&&o.d(e),Le(n,e)}}}function s$(e){let t,n,r;return n=new JA({props:{useAdvancedToolTip:!0}}),{c(){t=O("div"),Pe(n.$$.fragment),U(t,"class","fpt-container svelte-1kwuhj"),U(t,"data-testid","fpt-container")},m(e,o){x(e,t,o),Ne(n,t,null),r=!0},i(e){r||(Ae(n.$$.fragment,e),r=!0)},o(e){Ie(n.$$.fragment,e),r=!1},d(e){e&&k(t),Le(n)}}}function c$(e){let t,n,r,o,i;const a=[a$,i$],s=[];function c(e,t){return e[0]?1:0}return r=c(e),o=s[r]=a[r](e),{c(){t=O("div"),n=O("div"),o.c(),U(n,"class","content-container svelte-1kwuhj"),U(t,"class","main-content svelte-1kwuhj"),U(t,"slot","main-content")},m(e,o){x(e,t,o),E(t,n),s[r].m(n,null),i=!0},p(e,t){let i=r;r=c(e),r===i?s[r].p(e,t):(Te(),Ie(s[i],1,1,(()=>{s[i]=null})),Ee(),o=s[r],o?o.p(e,t):(o=s[r]=a[r](e),o.c()),Ae(o,1),o.m(n,null))},i(e){i||(Ae(o),i=!0)},o(e){Ie(o),i=!1},d(e){e&&k(t),s[r].d()}}}function l$(e){let t,n;return t=new o$({}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function u$(e){let t,n,r,o,i,a,s,c;r=new XI({props:{noBorder:!0,dataTestId:"side-panel-glossary"}}),a=new ZA({props:{selectedTab:Jn,noBorder:!0,dataTestId:"side-panel-icon-toggle"}});let l=e[2]&&l$();return{c(){t=O("div"),n=O("div"),Pe(r.$$.fragment),o=N(),i=O("div"),Pe(a.$$.fragment),s=N(),l&&l.c(),U(n,"class","footer-section svelte-1kwuhj"),U(i,"class","footer-section svelte-1kwuhj"),U(t,"slot","footer")},m(e,u){x(e,t,u),E(t,n),Ne(r,n,null),E(t,o),E(t,i),Ne(a,i,null),E(t,s),l&&l.m(t,null),c=!0},p(e,n){e[2]?l?4&n&&Ae(l,1):(l=l$(),l.c(),Ae(l,1),l.m(t,null)):l&&(Te(),Ie(l,1,1,(()=>{l=null})),Ee())},i(e){c||(Ae(r.$$.fragment,e),Ae(a.$$.fragment,e),Ae(l),c=!0)},o(e){Ie(r.$$.fragment,e),Ie(a.$$.fragment,e),Ie(l),c=!1},d(e){e&&k(t),Le(r),Le(a),l&&l.d()}}}function d$(e){let t,n;return t=new MS({props:{isLoggedIn:e[3],showUpgradeButton:e[4],isProTranslator:e[5],$$slots:{footer:[u$],"main-content":[c$]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.isLoggedIn=e[3]),16&n&&(r.showUpgradeButton=e[4]),32&n&&(r.isProTranslator=e[5]),199&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function p$(e,t,n){let{forceLogin:r=!1}=t,{showFPTWidget:o=!1}=t,{showSurveyLink:i=!1}=t,{isLoggedIn:a=!1}=t,{showUpgradeButton:s=!1}=t,{isProTranslator:c=!1}=t,{isTranslateDisabled:l=!1}=t;return e.$$set=e=>{"forceLogin"in e&&n(0,r=e.forceLogin),"showFPTWidget"in e&&n(1,o=e.showFPTWidget),"showSurveyLink"in e&&n(2,i=e.showSurveyLink),"isLoggedIn"in e&&n(3,a=e.isLoggedIn),"showUpgradeButton"in e&&n(4,s=e.showUpgradeButton),"isProTranslator"in e&&n(5,c=e.isProTranslator),"isTranslateDisabled"in e&&n(6,l=e.isTranslateDisabled)},[r,o,i,a,s,c,l]}class h$ extends De{constructor(e){super(),Me(this,e,p$,d$,a,{forceLogin:0,showFPTWidget:1,showSurveyLink:2,isLoggedIn:3,showUpgradeButton:4,isProTranslator:5,isTranslateDisabled:6})}}function f$(e){let t,n;return t=new h$({props:{forceLogin:e[0],showFPTWidget:e[6],showSurveyLink:e[5],isLoggedIn:e[3],showUpgradeButton:e[4],isProTranslator:e[2],isTranslateDisabled:e[1]}}),{c(){Pe(t.$$.fragment)},m(e,r){Ne(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.forceLogin=e[0]),64&n&&(r.showFPTWidget=e[6]),32&n&&(r.showSurveyLink=e[5]),8&n&&(r.isLoggedIn=e[3]),16&n&&(r.showUpgradeButton=e[4]),4&n&&(r.isProTranslator=e[2]),2&n&&(r.isTranslateDisabled=e[1]),t.$set(r)},i(e){n||(Ae(t.$$.fragment,e),n=!0)},o(e){Ie(t.$$.fragment,e),n=!1},d(e){Le(t,e)}}}function g$(e,t,n){let r,o,i,a,s,l,u,d,p;c(e,Br,(e=>n(10,d=e))),c(e,Hr,(e=>n(11,p=e)));let h,f,g,m,{Sentry:v}=t,y=!1;async function _(){try{await kr(Wr),n(8,h=!0)}catch(e){n(8,h=!1)}}return re("deepl_settings",Br),re("deepl_website_settings",Hr),re("Sentry",v),ee((()=>{f=()=>_(),chrome.tabs.onActivated.addListener(f),g=()=>_(),chrome.windows.onFocusChanged.addListener(g),m=(e,t)=>{"complete"===t.status&&_()},chrome.tabs.onUpdated.addListener(m),_(),Ir({action:Tr.dlTrackSidePanelOpened}),aS().then().catch((e=>{n(0,y=e.name===xy)}))})),te((()=>{f&&chrome.tabs.onActivated.removeListener(f),g&&chrome.windows.onFocusChanged.removeListener(g),m&&chrome.tabs.onUpdated.removeListener(m)})),e.$$set=e=>{"Sentry"in e&&n(7,v=e.Sentry)},e.$$.update=()=>{2048&e.$$.dirty&&n(9,r=p&&p.isValidUrlForPopup),3840&e.$$.dirty&&n(6,o=p&&d&&Yr(d,zn.TRANSLATOR)&&r&&h),1024&e.$$.dirty&&n(5,i=d&&d.isSidePanelSurveyVisible&&!d.sidePanelSurveyHasBeenDisplayed),1024&e.$$.dirty&&n(4,a=d.isLoggedIn&&(!Yr(d,zn.TRANSLATOR)||!Yr(d,zn.WRITE))),1024&e.$$.dirty&&n(3,s=d.isLoggedIn),1024&e.$$.dirty&&n(2,l=Yr(d,zn.TRANSLATOR)),1024&e.$$.dirty&&n(1,u=((e,t)=>zr(e,t)===Kn)(d,zn.TRANSLATOR))},[y,u,l,s,a,i,o,v,h,r,d,p]}const m$=(Fr()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";cy(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";cy(t)&&e.preventDefault()}))),rp({...ly}),uy(sy),sy);m$.setContext("appContext",{location:"side_panel"});return new class extends De{constructor(e){super(),Me(this,e,g$,f$,a,{Sentry:7})}}({target:document.body,props:{Sentry:m$}})}();
//# sourceMappingURL=sidePanel.js.map
