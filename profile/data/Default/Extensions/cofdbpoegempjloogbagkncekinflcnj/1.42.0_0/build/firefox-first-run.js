!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function u(){return e=" ",document.createTextNode(e);var e}function d(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t,n){e.classList.toggle(t,!!n)}let f;function m(e){f=e}function g(){if(!f)throw new Error("Function called outside component initialization");return f}function y(){const e=g();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}(t,n,{cancelable:r});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}const _=[],v=[];let b=[];const S=[],w=Promise.resolve();let k=!1;function T(e){b.push(e)}const x=new Set;let E=0;function I(){if(0!==E)return;const e=f;do{try{for(;E<_.length;){const e=_[E];E++,m(e),C(e.$$)}}catch(e){throw _.length=0,E=0,e}for(m(null),_.length=0,E=0;v.length;)v.pop()();for(let e=0;e<b.length;e+=1){const t=b[e];x.has(t)||(x.add(t),t())}b.length=0}while(_.length);for(;S.length;)S.pop()();k=!1,x.clear(),m(e)}function C(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const R=new Set;let A;function O(e,t){e&&e.i&&(R.delete(e),e.i(t))}function M(e,t,n,r){if(e&&e.o){if(R.has(e))return;R.add(e),A.c.push((()=>{R.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function L(e){e&&e.c()}function D(e,n,o){const{fragment:i,after_update:a}=e.$$;i&&i.m(n,o),T((()=>{const n=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(T)}function N(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];b.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),b=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function P(e,t){-1===e.$$.dirty[0]&&(_.push(e),k||(k=!0,w.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $(t,s,o,i,a,l,u=null,d=[-1]){const p=f;m(t);const h=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||p.$$.root};u&&u(h.root);let g=!1;if(h.ctx=o?o(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=s)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](s),g&&P(t,e)),n})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();s.intro&&O(t.$$.fragment),D(t,s.target,s.anchor),I()}m(p)}class F{$$=void 0;$$set=void 0;$destroy(){N(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function j(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4"),"function"==typeof SuppressedError&&SuppressedError;const B={origins:["<all_urls>"]},U={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},z="free",H="pro",q={dlGetExperiments:"dlGetExperiments"},W={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",dlExternalURLRedirect:"dlExternalURLRedirect"};function G(e){return function(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}(e)}const V={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function Y(e,t){let n;try{switch(e){case V.chrome:case V.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case V.edge:n=t.split("Edg/")[1].split(" ")[0];break;case V.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case V.opera:n=t.split("OPR/")[1].split(" ")[0];break;case V.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===V.chrome||e===V.edge||e===V.brave||e===V.opera}(e)&&(n=K(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function K(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const J="unknown_user_agent",X="unknown_platform",Z="unknown_browser",Q="unknown_browser_version",ee="unknown_browser_language";const te=e=>{let t=Z;try{const n=e.match(/chrome|chromium|crios/i),r=e.match(/edg/i)||K(V.edge),s=e.match(/firefox|fxios/i),o=e.match(/opr\//i)||K(V.opera),i=e.match(/safari/i),a=K(V.brave);n?(t=V.chrome,r&&(t=V.edge),o&&(t=V.opera),a&&(t=V.brave)):r?t=V.edge:s?t=V.firefox:o?t=V.opera:i&&(t=V.safari)}catch(e){console.error("Could not get the name of the brower",e)}return t};function ne(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.42.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.42.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall"},APP_VERSION:"1.42.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild.toLowerCase()===V.firefox.toLowerCase();const e=chrome.runtime.getURL("");return function(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||J,r=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||X;let s=Z,o=Q,i=(null===navigator||void 0===navigator?void 0:navigator.language)||ee;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(i=chrome.i18n.getUILanguage());try{s=te(n),o=Y(s,n)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:n,platform:r,browser:s,browserVersion:o,browserLang:i}}().browser===V.firefox||/moz-extension:\/\//gm.test(e)}const re="CREATE_ACCOUNT",se="FIREFOX_PRIVACY_POLICY",oe=e=>{const t=chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"},ie=[];function ae(t,n=e){let r;const s=new Set;function i(e){if(o(t,e)&&(t=e,r)){const e=!ie.length;for(const e of s)e[1](),ie.push(e,t);if(e){for(let e=0;e<ie.length;e+=2)ie[e][0](ie[e+1]);ie.length=0}}}function a(e){i(e(t))}return{set:i,update:a,subscribe:function(o,c=e){const l=[o,c];return s.add(l),1===s.size&&(r=n(i,a)||e),o(t),()=>{s.delete(l),0===s.size&&r&&(r(),r=null)}}}}const ce="production",le="development";function ue(){return ce}function de(){return ue()===le}function pe(){return ue()===ce}const he={idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger"};const fe=function(){const{subscribe:e,set:t,update:n}=ae({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",he.translatorServiceType,he.writeServiceType,he.apiServiceType,he.docTranslatorServiceType,"browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t",he.accountId];let r={};for(const[n,s]of Object.entries(e))!1===t.includes(n)&&(r[n]=s.newValue);if(de()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,r)}return n((e=>Object.assign(Object.assign({},e),r))),!0})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),me=function(){const{subscribe:e,update:t}=ae({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})})));break;case"resetWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)})))}return!0})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}();function ge(t){let n,r,s,o;return{c(){n=l("button"),r=l("span"),p(r,"class","svelte-19tdlik"),p(n,"aria-label",t[4]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),p(n,"class","switch svelte-19tdlik"),p(n,"data-testid",t[3]),p(n,"data-qa",t[2]),h(n,"checked",t[0]),h(n,"disabled",t[1])},m(e,c){a(e,n,c),i(n,r),s||(o=d(n,"click",t[4]),s=!0)},p(e,[t]){8&t&&p(n,"data-testid",e[3]),4&t&&p(n,"data-qa",e[2]),1&t&&h(n,"checked",e[0]),2&t&&h(n,"disabled",e[1])},i:e,o:e,d(e){e&&c(n),s=!1,o()}}}function ye(e,t,n){let{checked:r=!1}=t,{disabled:s=!1}=t,{qaRoot:o="dl-switch"}=t,{dataTestId:i="deepl-switch"}=t;const a=y();return e.$$set=e=>{"checked"in e&&n(0,r=e.checked),"disabled"in e&&n(1,s=e.disabled),"qaRoot"in e&&n(2,o=e.qaRoot),"dataTestId"in e&&n(3,i=e.dataTestId)},[r,s,o,i,function(){s||a("change",{checked:!r})}]}!function(t,n,o){const i=!Array.isArray(t),a=i?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=n.length<2;return l=(t,o)=>{let l=!1;const u=[];let d=0,p=e;const h=()=>{if(d)return;p();const r=n(i?u[0]:u,t,o);c?t(r):p=s(r)?r:e},f=a.map(((t,n)=>function(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>{u[n]=e,d&=~(1<<n),l&&h()}),(()=>{d|=1<<n}))));return l=!0,h(),function(){r(f),p(),l=!1}},{subscribe:ae(o,l).subscribe};var l}(me,((e,t)=>j(void 0,void 0,void 0,(function*(){if(!chrome.tabs)return;const n=yield chrome.tabs.query({active:!0,currentWindow:!0});t(e[n[0].id])})))),function(){const{subscribe:e,set:t}=ae([]);G({action:q.dlGetExperiments,payload:{forceFetch:!1}}),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments);return!0}))}();class _e extends F{constructor(e){super(),$(this,e,ye,ge,o,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}function ve(e){let t,n,s,o,h,f,m,g,y,_,v,b,S,w,k,T,x,E,I,C,R,A,P,$,F,j;return g=new _e({props:{checked:e[1]}}),g.$on("change",e[10]),w=new _e({props:{checked:e[2]}}),w.$on("change",e[11]),{c(){t=l("div"),t.innerHTML='<div class="dl-title"><p class="svelte-2gkz3k">DeepL for Firefox needs your permission</p></div> <p class="svelte-2gkz3k">In order to provide our services, ensure a smooth experience, and\n          detect and prevent fraud, we need:</p> <ul><li>Access to the text you want to translate or improve</li> <li>Access to full-page content (for full-page translation only)</li> <li>The ability to process certain technical data (e.g., browser type\n            and language, device, operating system)</li></ul> <p class="svelte-2gkz3k">Help us improve our user experience and services by also sharing data\n          with us about your use of DeepL for Firefox. We&#39;ll be collecting usage\n          information, such as login status, onboarding interaction, languages\n          selected, features used, and domains visited.</p>',n=u(),s=l("div"),o=l("div"),h=l("div"),h.innerHTML='<p class="switch-header svelte-2gkz3k">Share usage data that personally identifies you</p> <p class="svelte-2gkz3k">This includes:</p> <ul><li>Domain names of websites you visit</li> <li>Your DeepL account identifier</li></ul> <p class="svelte-2gkz3k">If you choose not to share this data, it may be more difficult for\n              us to ensure that the extension works well on the websites where\n              our users need it and for all types of logged-in users.</p>',f=u(),m=l("div"),L(g.$$.fragment),y=u(),_=l("div"),v=l("div"),v.innerHTML='<p class="switch-header svelte-2gkz3k">Share anonymous usage data</p> <p class="svelte-2gkz3k">This includes:</p> <ul><li>Login status, onboarding information, information about the\n                languages you translate into and from, features you use, and\n                extension error information</li></ul> <p class="svelte-2gkz3k">If you choose not to share this data, it may be more difficult for\n              us to ensure that the extension is working properly and to plan\n              new features based on usage data.</p>',b=u(),S=l("div"),L(w.$$.fragment),k=u(),T=l("div"),x=l("p"),E=l("span"),E.textContent="Read our privacy policy in the Firefox Add-ons store",I=u(),C=l("div"),R=l("button"),R.textContent="Don't allow and uninstall",A=u(),P=l("button"),P.textContent="Give permission",p(t,"class","main-content"),p(h,"class","switch-content svelte-2gkz3k"),p(m,"class","switch svelte-2gkz3k"),p(o,"class","switch-container svelte-2gkz3k"),p(v,"class","switch-content svelte-2gkz3k"),p(S,"class","switch svelte-2gkz3k"),p(_,"class","switch-container svelte-2gkz3k"),p(s,"class","switches svelte-2gkz3k"),p(E,"class","dl-link svelte-2gkz3k"),p(x,"class","svelte-2gkz3k"),p(R,"class","svelte-2gkz3k"),p(P,"class","svelte-2gkz3k"),p(C,"class","footer svelte-2gkz3k")},m(r,c){a(r,t,c),a(r,n,c),a(r,s,c),i(s,o),i(o,h),i(o,f),i(o,m),D(g,m,null),i(s,y),i(s,_),i(_,v),i(_,b),i(_,S),D(w,S,null),a(r,k,c),a(r,T,c),i(T,x),i(x,E),a(r,I,c),a(r,C,c),i(C,R),i(C,A),i(C,P),$=!0,F||(j=[d(E,"click",e[8]),d(R,"click",e[5]),d(P,"click",e[4])],F=!0)},p(e,t){const n={};2&t&&(n.checked=e[1]),g.$set(n);const r={};4&t&&(r.checked=e[2]),w.$set(r)},i(e){$||(O(g.$$.fragment,e),O(w.$$.fragment,e),$=!0)},o(e){M(g.$$.fragment,e),M(w.$$.fragment,e),$=!1},d(e){e&&(c(t),c(n),c(s),c(k),c(T),c(I),c(C)),N(g),N(w),F=!1,r(j)}}}function be(t){let n,r,s,o,h,f,m,g,y,_,v=chrome.i18n.getMessage("permission_request_widget_description")+"";return{c(){n=l("div"),r=l("div"),s=l("p"),s.textContent=`${chrome.i18n.getMessage("permission_request_widget_title")}`,o=u(),h=l("p"),f=u(),m=l("div"),g=l("button"),g.textContent=`${chrome.i18n.getMessage("permission_request_widget_button")}`,p(s,"class","svelte-2gkz3k"),p(r,"class","dl-title"),p(h,"class","svelte-2gkz3k"),p(n,"class","scrollable"),p(g,"class","svelte-2gkz3k"),p(m,"class","footer svelte-2gkz3k")},m(e,c){a(e,n,c),i(n,r),i(r,s),i(n,o),i(n,h),h.innerHTML=v,a(e,f,c),a(e,m,c),i(m,g),y||(_=d(g,"click",t[9]),y=!0)},p:e,d(e){e&&(c(n),c(f),c(m)),y=!1,_()}}}function Se(e){let t,n,s,o,d,f,m=e[0]===e[3].legal_disclaimer&&ve(e),g=e[0]===e[3].browser_permissions&&be(e);return{c(){t=l("div"),t.innerHTML='<div class="dl-logo svelte-2gkz3k"></div>',n=u(),s=l("div"),o=l("div"),m&&m.c(),d=u(),g&&g.c(),p(t,"class","dl-logo-container svelte-2gkz3k"),p(t,"dir",oe()),h(t,"isFirefoxExtension",ne),p(o,"class","dl-notice-container svelte-2gkz3k"),p(s,"class","dl-firefox-first-run-page svelte-2gkz3k"),p(s,"dir",oe())},m(e,r){a(e,t,r),a(e,n,r),a(e,s,r),i(s,o),m&&m.m(o,null),i(o,d),g&&g.m(o,null),f=!0},p(e,[t]){e[0]===e[3].legal_disclaimer?m?(m.p(e,t),1&t&&O(m,1)):(m=ve(e),m.c(),O(m,1),m.m(o,d)):m&&(A={r:0,c:[],p:A},M(m,1,1,(()=>{m=null})),A.r||r(A.c),A=A.p),e[0]===e[3].browser_permissions?g?g.p(e,t):(g=be(e),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},i(e){f||(O(m),f=!0)},o(e){M(m),f=!1},d(e){e&&(c(t),c(n),c(s)),m&&m.d(),g&&g.d()}}}function we(e,t,n){var r,s;r="text_direction",s=oe(),g().$$.context.set(r,s);let o={legal_disclaimer:"LEGAL_DISCLAIMER",browser_permissions:"BROWSER_PERMISSIONS"},i=o.legal_disclaimer,a=!1,c=!0;const l=e=>{!1===e?(n(2,c=!1),n(1,a=!1)):n(2,c=!0)},u=e=>{n(1,a=e)},d=()=>{G({action:W.dlOpenInternalPage,payload:{destination:re,openInSameTab:!0}})};return[i,a,c,o,async()=>{fe.set({firefoxAnonPermissionGranted:c,firefoxPersonalPermissionGranted:a});await chrome.permissions.contains(B)?d():n(0,i=o.browser_permissions)},()=>{browser.management.uninstallSelf()},l,u,()=>{G({action:W.dlExternalURLRedirect,payload:{destination:se}})},async()=>{await browser.permissions.request(B)&&d()},e=>u(e.detail.checked),e=>l(e.detail.checked)]}const ke=Object.prototype.toString;function Te(e){switch(ke.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ne(e,Error)}}function xe(e,t){return ke.call(e)===`[object ${t}]`}function Ee(e){return xe(e,"ErrorEvent")}function Ie(e){return xe(e,"DOMError")}function Ce(e){return xe(e,"String")}function Re(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ae(e){return null===e||Re(e)||"object"!=typeof e&&"function"!=typeof e}function Oe(e){return xe(e,"Object")}function Me(e){return"undefined"!=typeof Event&&Ne(e,Event)}function Le(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function De(e){return"number"==typeof e&&e!=e}function Ne(e,t){try{return e instanceof t}catch(e){return!1}}function Pe(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function $e(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Fe(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function je(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{Pe(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Be(e,t,n=!1){return!!Ce(e)&&(xe(t,"RegExp")?t.test(e):!!Ce(t)&&(n?e===t:e.includes(t)))}function Ue(e,t=[],n=!1){return t.some((t=>Be(e,t,n)))}function ze(e,t,n=250,r,s,o,i){if(!(o.exception&&o.exception.values&&i&&Ne(i.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;a&&(o.exception.values=(c=He(e,t,s,i.originalException,r,o.exception.values,a,0),l=n,c.map((e=>(e.value&&(e.value=$e(e.value,l)),e)))))}function He(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(Ne(r[s],Error)){qe(i,a);const o=e(t,r[s]),l=c.length;We(o,s,l,a),c=He(e,t,n,r[s],s,[o,...c],o,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(Ne(r,Error)){qe(i,a);const l=e(t,r),u=c.length;We(l,`errors[${o}]`,u,a),c=He(e,t,n,r,s,[l,...c],l,u)}})),c}function qe(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function We(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ge(e){return e&&e.Math==Math?e:void 0}const Ve="object"==typeof globalThis&&Ge(globalThis)||"object"==typeof window&&Ge(window)||"object"==typeof self&&Ge(self)||"object"==typeof global&&Ge(global)||function(){return this}()||{};function Ye(){return Ve}function Ke(e,t,n){const r=n||Ve,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const Je=Ye();function Xe(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(l=Ze(n,u),!("html"===l||o>1&&i+s.length*c+l.length>=d));)s.push(l),i+=l.length,n=n.parentNode;return s.reverse().join(a)}catch(e){return"<unknown>"}}function Ze(e,t){const n=e,r=[];let s,o,i,a,c;if(!n||!n.tagName)return"";if(Je.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Ce(s))for(o=s.split(/\s+/),c=0;c<o.length;c++)r.push(`.${o[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)i=u[c],a=n.getAttribute(i),a&&r.push(`[${i}="${a}"]`);return r.join("")}function Qe(){try{return Je.document.location.href}catch(e){return""}}function et(e){return Je.document&&Je.document.querySelector?Je.document.querySelector(e):null}function tt(e){if(!Je.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const nt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,rt=["debug","info","warn","error","log","assert","trace"],st={};function ot(e){if(!("console"in Ve))return e();const t=Ve.console,n={},r=Object.keys(st);r.forEach((e=>{const r=st[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const it=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return nt?rt.forEach((n=>{t[n]=(...t)=>{e&&ot((()=>{Ve.console[n](`Sentry Logger [${n}]:`,...t)}))}})):rt.forEach((e=>{t[e]=()=>{}})),t}(),at=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ct(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${i}`}function lt(e){const t=at.exec(e);if(!t)return void ot((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,s="",o,i="",a]=t.slice(1);let c="",l=a;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return ut({host:o,pass:s,path:c,projectId:l,port:i,protocol:n,publicKey:r})}function ut(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function dt(e){const t="string"==typeof e?lt(e):ut(e);if(t&&function(e){if(!nt)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(it.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(it.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(it.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(it.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class pt extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function ht(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);"function"==typeof s&&mt(s,r),e[t]=s}function ft(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){nt&&it.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function mt(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ft(e,"__sentry_original__",t)}catch(e){}}function gt(e){return e.__sentry_original__}function yt(e){if(Te(e))return{message:e.message,name:e.name,stack:e.stack,...vt(e)};if(Me(e)){const t={type:e.type,target:_t(e.target),currentTarget:_t(e.currentTarget),...vt(e)};return"undefined"!=typeof CustomEvent&&Ne(e,CustomEvent)&&(t.detail=e.detail),t}return e}function _t(e){try{return t=e,"undefined"!=typeof Element&&Ne(t,Element)?Xe(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function vt(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function bt(e){return St(e,new Map)}function St(e,t){if(function(e){if(!Oe(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=St(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(St(e,t))})),r}return e}const wt=/\(error: (.*)\)/,kt=/captureMessage|captureException/;function Tt(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],s=e.split("\n");for(let e=n;e<s.length;e++){const n=s[e];if(n.length>1024)continue;const o=wt.test(n)?n.replace(wt,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),kt.test(t[t.length-1].function||"")&&(t.pop(),kt.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const xt="<anonymous>";function Et(e){try{return e&&"function"==typeof e&&e.name||xt}catch(e){return xt}}const It={},Ct={};function Rt(e,t){It[e]=It[e]||[],It[e].push(t)}function At(e,t){Ct[e]||(t(),Ct[e]=!0)}function Ot(e,t){const n=e&&It[e];if(n)for(const r of n)try{r(t)}catch(t){nt&&it.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Et(r)}\nError:`,t)}}function Mt(e){const t="console";Rt(t,e),At(t,Lt)}function Lt(){"console"in Ve&&rt.forEach((function(e){e in Ve.console&&ht(Ve.console,e,(function(t){return st[e]=t,function(...t){Ot("console",{args:t,level:e});const n=st[e];n&&n.apply(Ve.console,t)}}))}))}function Dt(){const e=Ve,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Nt(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Pt(e){const{message:t,event_id:n}=e;if(t)return t;const r=Nt(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $t(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Ft(e,t){const n=Nt(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function jt(e){if(e&&e.__sentry_captured__)return!0;try{ft(e,"__sentry_captured__",!0)}catch(e){}return!1}function Bt(e){return Array.isArray(e)?e:[e]}const Ut=Ve;let zt,Ht,qt;function Wt(e){Rt("dom",e),At("dom",Gt)}function Gt(){if(!Ut.document)return;const e=Ot.bind(null,"dom"),t=Vt(e,!0);Ut.document.addEventListener("click",t,!1),Ut.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Ut[t]&&Ut[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ht(n,"addEventListener",(function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=o[n]=o[n]||{refCount:0};if(!i.handler){const r=Vt(e);i.handler=r,t.call(this,n,r,s)}i.refCount++}catch(e){}return t.call(this,n,r,s)}})),ht(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},o=s[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete s[t]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Vt(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;ft(n,"_sentryCaptured",!0),r&&!r._sentryId&&ft(r,"_sentryId",Dt());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Ht)return!1;try{if(!e.target||e.target._sentryId!==qt)return!1}catch(e){}return!0}(n)){e({event:n,name:s,global:t}),Ht=n.type,qt=r?r._sentryId:void 0}clearTimeout(zt),zt=Ut.setTimeout((()=>{qt=void 0,Ht=void 0}),1e3)}}const Yt=Ye();function Kt(){if(!("fetch"in Yt))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Jt(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Xt(){if("string"==typeof EdgeRuntime)return!0;if(!Kt())return!1;if(Jt(Yt.fetch))return!0;let e=!1;const t=Yt.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Jt(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){nt&&it.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Zt(e){const t="fetch";Rt(t,e),At(t,Qt)}function Qt(){Xt()&&ht(Ve,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:tn(t),method:en(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:tn(t),method:en(t,"method")?String(t.method).toUpperCase():"GET"}}(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Ot("fetch",{...s}),e.apply(Ve,t).then((e=>(Ot("fetch",{...s,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Ot("fetch",{...s,endTimestamp:Date.now(),error:e}),e}))}}))}function en(e,t){return!!e&&"object"==typeof e&&!!e[t]}function tn(e){return"string"==typeof e?e:e?en(e,"url")?e.url:e.toString?e.toString():"":""}let nn=null;function rn(e){const t="error";Rt(t,e),At(t,sn)}function sn(){nn=Ve.onerror,Ve.onerror=function(e,t,n,r,s){return Ot("error",{column:r,error:s,line:n,msg:e,url:t}),!(!nn||nn.__SENTRY_LOADER__)&&nn.apply(this,arguments)},Ve.onerror.__SENTRY_INSTRUMENTED__=!0}let on=null;function an(e){const t="unhandledrejection";Rt(t,e),At(t,cn)}function cn(){on=Ve.onunhandledrejection,Ve.onunhandledrejection=function(e){return Ot("unhandledrejection",e),!(on&&!on.__SENTRY_LOADER__)||on.apply(this,arguments)},Ve.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ln=Ye();const un=Ve;let dn;function pn(e){const t="history";Rt(t,e),At(t,hn)}function hn(){if(!function(){const e=ln.chrome,t=e&&e.app&&e.app.runtime,n="history"in ln&&!!ln.history.pushState&&!!ln.history.replaceState;return!t&&n}())return;const e=un.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=dn,t=String(n);dn=t;Ot("history",{from:e,to:t})}return e.apply(this,t)}}un.onpopstate=function(...t){const n=un.location.href,r=dn;dn=n;if(Ot("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},ht(un.history,"pushState",t),ht(un.history,"replaceState",t)}const fn=Ve,mn="__sentry_xhr_v3__";function gn(e){Rt("xhr",e),At("xhr",yn)}function yn(){if(!fn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ht(e,"open",(function(e){return function(...t){const n=Date.now(),r=Ce(t[0])?t[0].toUpperCase():void 0,s=function(e){if(Ce(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!s)return e.apply(this,t);this[mn]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[mn];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Ot("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ht(this,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(this,t)}})):this.addEventListener("readystatechange",o),ht(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,s=this[mn];return s&&Ce(n)&&Ce(r)&&(s.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),ht(e,"send",(function(e){return function(...t){const n=this[mn];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Ot("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function _n(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function vn(){return"undefined"!=typeof window&&(!_n()||void 0!==Ve.process&&"renderer"===Ve.process.type)}function bn(e,t=100,n=1/0){try{return wn("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Sn(e,t=3,n=102400){const r=bn(e,t);return s=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?Sn(e,t-1,n):r;var s}function wn(e,t,n=1/0,r=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,i]=s;if(null==t||["number","boolean","string"].includes(typeof t)&&!De(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Pe(t))return"[VueViewModel]";if(Oe(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Et(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(o(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return wn("",l.toJSON(),c-1,r,s)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=yt(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]="[MaxProperties ~]";break}const t=p[e];u[e]=wn(e,t,c-1,r,s),d++}return i(t),u}const kn=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Tn(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n="/"===s.charAt(0))}return t=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function xn(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function En(e,t){return function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=kn.exec(t);return n?n.slice(1):[]}(e)[2]}var In;function Cn(e){return new An((t=>{t(e)}))}function Rn(e){return new An(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(In||(In={}));class An{constructor(e){An.prototype.__init.call(this),An.prototype.__init2.call(this),An.prototype.__init3.call(this),An.prototype.__init4.call(this),this._state=In.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new An(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new An(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(In.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(In.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===In.PENDING&&(Le(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===In.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===In.RESOLVED&&e[1](this._value),this._state===In.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function On(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Rn(new pt("Not adding Promise because buffer limit was reached."));const s=r();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new An(((n,r)=>{let s=t.length;if(!s)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Cn(e).then((()=>{--s||(clearTimeout(o),n(!0))}),r)}))}))}}}function Mn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Ln=["fatal","error","warning","log","info","debug"];function Dn(e){return"warn"===e?"warning":Ln.includes(e)?e:"log"}function Nn(){return Date.now()/1e3}const Pn=function(){const{performance:e}=Ve;if(!e||!e.now)return Nn;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),$n=(()=>{const{performance:e}=Ve;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing&&e.timing.navigationStart,a="number"==typeof i?Math.abs(i+n-r):t;return o||a<t?s<=a?e.timeOrigin:i:r})(),Fn="baggage",jn="sentry-",Bn=/^sentry-/;function Un(e){if(!Ce(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=Hn(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=Hn(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Bn)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function zn(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const s=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?s:`${e},${s}`;return o.length>8192?(nt&&it.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${jn}${t}`]=n),e)),{}))}function Hn(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const qn=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Wn(e){if(!e)return;const t=e.match(qn);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Gn(e,t){const n=Wn(e),r=Un(t),{traceId:s,parentSpanId:o,parentSampled:i}=n||{};return n?{traceId:s||Dt(),parentSpanId:o||Dt().substring(16),spanId:Dt().substring(16),sampled:i,dsc:r||{}}:{traceId:s||Dt(),spanId:Dt().substring(16)}}function Vn(e=Dt(),t=Dt().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Yn(e,t=[]){return[e,t]}function Kn(e,t){const[n,r]=e;return[n,[...r,t]]}function Jn(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Xn(e,t){return(t||new TextEncoder).encode(e)}function Zn(e,t){const[n,r]=e;let s=JSON.stringify(n);function o(e){"string"==typeof s?s="string"==typeof e?s+e:[Xn(s,t),e]:s.push("string"==typeof e?Xn(e,t):e)}for(const e of r){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(bn(n))}o(e)}}return"string"==typeof s?s:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(s)}function Qn(e,t){const n="string"==typeof e.data?Xn(e.data,t):e.data;return[bt({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const er={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function tr(e){return er[e]}function nr(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function rr(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ct(r)},...s&&{trace:bt({...s})}}}function sr(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function or(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function ir(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n,,,o]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))"metric_bucket"===e&&o&&!o.split(";").includes("custom")||(s[e]=r+a);else s.all=r+a}else i?s.all=r+sr(i,r):429===t&&(s.all=r+6e4);return s}function ar(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=function(e,t){return e(t.stack||"",1)}(e,t);return r.length&&(n.stacktrace={frames:r}),n}function cr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}const lr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ur="production";function dr(){return Ke("globalEventProcessors",(()=>[]))}function pr(e){dr().push(e)}function hr(e,t,n,r=0){return new An(((s,o)=>{const i=e[r];if(null===t||"function"!=typeof i)s(t);else{const a=i({...t},n);lr&&i.id&&null===a&&it.log(`Event processor "${i.id}" dropped event`),Le(a)?a.then((t=>hr(e,t,n,r+1).then(s))).then(null,o):hr(e,a,n,r+1).then(s).then(null,o)}}))}function fr(e){const t=Pn(),n={sid:Dt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return bt({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&mr(n,e),n}function mr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Pn(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Dt()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function gr(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),mr(e,n)}function yr(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,tags:a,origin:c}=Sr(e);return bt({data:r,op:s,parent_span_id:o,span_id:t,status:i,tags:a,trace_id:n,origin:c})}function _r(e){const{traceId:t,spanId:n}=e.spanContext();return Vn(t,n,wr(e))}function vr(e){return"number"==typeof e?br(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?br(e.getTime()):Pn()}function br(e){return e>9999999999?e/1e3:e}function Sr(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function wr(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function kr(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Dt(),timestamp:t.timestamp||Nn()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:ur);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==s&&(e.dist=s);e.message&&(e.message=$e(e.message,o));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=$e(i.value,o));const a=e.request;a&&a.url&&(a.url=$e(a.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),void 0===t.type&&function(e,t){const n=Ve._sentryDebugIds;if(!n)return;let r;const s=Tr.get(t);s?r=s:(r=new Map,Tr.set(t,r));const o=Object.keys(n).reduce(((e,s)=>{let o;const i=r.get(s);i?o=i:(o=t(s),r.set(s,o));for(let t=o.length-1;t>=0;t--){const r=o[t];if(r.filename){e[r.filename]=n[s];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Gr;return n.update(t),n}(r,n.captureContext);n.mechanism&&Ft(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=function(){Wr||(Wr=new Gr);return Wr}().getScopeData();if(o){Hr(p,o.getScopeData())}if(u){Hr(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),zr(c,p);return hr([...d,...dr(),...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:bn(e.data,t,n)}})))},...e.user&&{user:bn(e.user,t,n)},...e.contexts&&{contexts:bn(e.contexts,t,n)},...e.extra&&{extra:bn(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=bn(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=Sr(e).data;return r&&(e.data=bn(r,t,n)),e})));return r}(e,i,a):e)))}const Tr=new WeakMap;function xr(e){if(e)return function(e){return e instanceof Gr||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>Er.includes(e)))}(e)?{captureContext:e}:e}const Er=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Ir(e,t){return es().captureException(e,xr(t))}function Cr(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return es().captureMessage(e,n,r)}function Rr(e,t){return es().captureEvent(e,t)}function Ar(e,t){es().addBreadcrumb(e,t)}function Or(e,t){es().setContext(e,t)}function Mr(...e){const t=es();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function Lr(){return es().getClient()}function Dr(){return es().getScope()}function Nr(e){const t=Lr(),n=ts(),r=Dr(),{release:s,environment:o=ur}=t&&t.getOptions()||{},{userAgent:i}=Ve.navigator||{},a=fr({release:s,environment:o,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&"ok"===c.status&&mr(c,{status:"exited"}),Pr(),n.setSession(a),r.setSession(a),a}function Pr(){const e=ts(),t=Dr(),n=t.getSession()||e.getSession();n&&gr(n),$r(),e.setSession(),t.setSession()}function $r(){const e=ts(),t=Dr(),n=Lr(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Fr(e=!1){e?Pr():$r()}function jr(e){return e.transaction}function Br(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:o}=n&&n.getUser()||{},i=bt({environment:r.environment||ur,release:r.release,user_segment:o,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function Ur(e){const t=Lr();if(!t)return{};const n=Br(Sr(e).trace_id||"",t,Dr()),r=jr(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:o,source:i}=r.metadata;null!=o&&(n.sample_rate=`${o}`);const a=Sr(r);return i&&"url"!==i&&(n.transaction=a.description),n.sampled=String(wr(r)),t.emit&&t.emit("createDsc",n),n}function zr(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=bt(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=bt(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=bt(s);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=bt(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});i&&(e.level=i);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:yr(t),...e.contexts};const n=jr(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ur(t),...e.sdkProcessingMetadata};const r=Sr(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?Bt(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function Hr(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:f}=t;qr(e,"extra",n),qr(e,"tags",r),qr(e,"user",s),qr(e,"contexts",o),qr(e,"sdkProcessingMetadata",a),i&&(e.level=i),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function qr(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let Wr;class Gr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Vr()}static clone(e){return e?e.clone():new Gr}clone(){const e=new Gr;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&mr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Gr){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Oe(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Vr(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Nn(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:s,_user:o,_level:i,_fingerprint:a,_eventProcessors:c,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:s,user:o,level:i,fingerprint:a||[],eventProcessors:c,propagationContext:l,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){zr(e,this.getScopeData());return hr([...n,...dr(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Dt();if(!this._client)return it.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:Dt();if(!this._client)return it.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Dt();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(it.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Vr(){return{traceId:Dt(),spanId:Dt().substring(16)}}const Yr="7.120.3",Kr=parseFloat(Yr),Jr=100;class Xr{constructor(e,t,n,r=Kr){let s,o;this._version=r,t?s=t:(s=new Gr,s.setClient(e)),n?o=n:(o=new Gr,o.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return Le(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Dt(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Dt(),s=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Dt();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Jr}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const i={timestamp:Nn(),...e},a=s?ot((()=>s(i,t))):i;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Qr(this);try{e(this)}finally{Qr(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return lr&&it.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(lr&&!n){this.getClient()?it.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):it.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&gr(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:s=ur}=n&&n.getOptions()||{},{userAgent:o}=Ve.navigator||{},i=fr({release:r,environment:s,user:t.getUser(),...o&&{userAgent:o},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&mr(a,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Zr().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);lr&&it.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Zr(){return Ve.__SENTRY__=Ve.__SENTRY__||{extensions:{},hub:void 0},Ve}function Qr(e){const t=Zr(),n=rs(t);return ss(t,e),n}function es(){const e=Zr();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Zr()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!rs(e).isOlderThan(Kr)||ss(e,new Xr);var t;return rs(e)}(e)}function ts(){return es().getIsolationScope()}function ns(e,t={}){const n=Zr();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function rs(e){return Ke("hub",(()=>new Xr),e)}function ss(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function os(e){return(e||es()).getScope().getTransaction()}const is=Wn;let as=!1;function cs(){const e=os();if(e){const t="internal_error";lr&&it.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var ls;function us(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}cs.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(ls||(ls={}));const ds=us;function ps(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=us(t);"unknown_error"!==n&&e.setStatus(n)}function hs(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(Le(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function fs(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Lr(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ms(e){if(!fs())return;const t=_s(e),n=es(),r=e.scope?e.scope.getSpan():gs();if(e.onlyIfParent&&!r)return;const s=(e.scope||Dr()).clone();return ys(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:s})}function gs(){return Dr().getSpan()}function ys(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!fs())return;const o=ts();let i;if(t&&!r)i=t.startChild(n);else if(t){const r=Ur(t),{traceId:s,spanId:o}=t.spanContext(),a=wr(t);i=e.startTransaction({traceId:s,parentSpanId:o,parentSampled:a,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:a,sampled:c}={...o.getPropagationContext(),...s.getPropagationContext()};i=e.startTransaction({traceId:t,parentSpanId:a,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return s.setSpan(i),function(e,t,n){e&&(ft(e,bs,n),ft(e,vs,t))}(i,s,o),i}function _s(e){if(e.startTime){const t={...e};return t.startTimestamp=vr(e.startTime),delete t.startTime,t}return e}const vs="_sentryScope",bs="_sentryIsolationScope";let Ss;function ws(e){return Ss?Ss.get(e):void 0}function ks(e){const t=ws(e);if(!t)return;const n={};for(const[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(bt(r));return n}const Ts="sentry.source",xs="sentry.sample_rate",Es="sentry.op",Is="sentry.origin";class Cs{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Rs{constructor(e={}){this._traceId=e.traceId||Dt(),this._spanId=e.spanId||Dt().substring(16),this._startTime=e.startTimestamp||Pn(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Is]:e.origin||"manual",[Es]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Es]}set op(e){this.setAttribute(Es,e)}get origin(){return this._attributes[Is]}set origin(e){this.setAttribute(Is,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){const t=new Rs({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=jr(this);if(t.transaction=n,lr&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${Sr(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;it.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return ps(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=jr(this);if(lr&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&it.log(e.replace("Starting","Finishing"))}this._endTime=vr(e)}toTraceparent(){return _r(this)}toContext(){return bt({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return yr(this)}getSpanJSON(){return bt({data:this._getData(),description:this._name,op:this._attributes[Es],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Is],_metrics_summary:ks(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class As extends Rs{constructor(e,t){super(e),this._contexts={},this._hub=t||es(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Ts]&&{source:this._attributes[Ts]},...this._attributes[xs]&&{sampleRate:this._attributes[xs]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(Ts,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Cs(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=vr(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return bt({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Ur(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(lr&&it.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return lr&&it.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&Sr(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>Sr(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:s}={scope:(o=this)[vs],isolationScope:o[bs]};var o;const{metadata:i}=this,{source:a}=i,c={contexts:{...this._contexts,trace:yr(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...i,capturedSpanScope:r,capturedSpanIsolationScope:s,...bt({dynamicSamplingContext:Ur(this)})},_metrics_summary:ks(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(lr&&it.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),lr&&it.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const Os={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Ms=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Ls extends Cs{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===Sr(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Ds extends As{constructor(e,t,n=Os.idleTimeout,r=Os.finalTimeout,s=Os.heartbeatInterval,o=!1,i=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Ms[4],this._autoFinishAllowed=!i,o&&(lr&&it.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),i||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Ms[3],this.end())}),this._finalTimeout)}end(e){const t=vr(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){lr&&it.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;Sr(e).timestamp||(e.setStatus("cancelled"),e.end(t),lr&&it.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=Sr(e),s=n&&n<t,o=(this._finalTimeout+this._idleTimeout)/1e3,i=r&&n&&r-n<o;if(lr){const t=JSON.stringify(e,void 0,2);s?i||it.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):it.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return s&&i})),lr&&it.log("[Tracing] flushing IdleTransaction")}else lr&&it.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new Ls(t,n,this.spanContext().spanId,e),lr&&it.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Ms[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(lr&&it.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=Ms[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),lr&&it.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,lr&&it.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(lr&&it.log(`[Tracing] popActivity ${e}`),delete this.activities[e],lr&&it.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=Pn();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Ms[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(lr&&it.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Ms[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){lr&&it.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function Ns(e,t,n){if(!fs(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(xs,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(xs,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(xs,Number(r))):(r=1,e.setAttribute(xs,r)),Ps(r)?r?(e.sampled=Math.random()<r,e.sampled?(lr&&it.log(`[Tracing] starting ${e.op} transaction - ${Sr(e).description}`),e):(lr&&it.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(lr&&it.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(lr&&it.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Ps(e){return De(e)||"number"!=typeof e&&"boolean"!=typeof e?(lr&&it.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(lr&&it.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function $s(){const e=this.getScope().getSpan();return e?{"sentry-trace":_r(e)}:{}}function Fs(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",o=e.instrumenter||"sentry";s!==o&&(lr&&it.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${s}\` instrumenter.\nThe transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let i=new As(e,this);return i=Ns(i,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),i.isRecording()&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",i),i}function js(e,t,n,r,s,o,i,a=!1){const c=e.getClient(),l=c&&c.getOptions()||{};let u=new Ds(t,e,n,r,i,s,a);return u=Ns(u,l,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...o}),u.isRecording()&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function Bs(){const e=Zr();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Fs),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=$s),as||(as=!0,rn(cs),an(cs)))}function Us(e,t,n){const r=os();r&&r.setMeasurement(e,t,n)}function zs(e,t,n,r){const s=nr(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=rr(e,s,r,t);delete e.sdkProcessingMetadata;return Yn(i,[[{type:o},e]])}function Hs(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function qs(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function Ws(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${Hs(e)}${e.projectId}/envelope/`}(e)}?${qs(e,r)}`}const Gs=[];function Vs(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Bt(n(t)):t;const s=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),o=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(s,(e=>"Debug"===e.name));if(-1!==o){const[e]=s.splice(o,1);s.push(e)}return s}function Ys(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ks(e,t,n){if(n[t.name])lr&&it.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Gs.indexOf(t.name)&&(t.setupOnce(pr,es),Gs.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}lr&&it.log(`Integration installed: ${t.name}`)}}function Js(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function Xs(e){return e.replace(/[^\w\-./]+/gi,"")}const Zs=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Qs(e){return[...e].reduce(((e,t)=>e+function(e){for(const[t,n]of Zs)if(e===t)return n;return e}(t)),"")}function eo(e,t,n,r){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=ct(t));const o=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Yn(s,[o])}const to="Not capturing exception because it's already been captured.";class no{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=dt(e.dsn):lr&&it.warn("No DSN provided, client will not send events."),this._dsn){const t=Ws(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(jt(e))return void(lr&&it.log(to));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let s=n&&n.event_id;const o=Re(e)?e:String(e),i=Ae(e)?this.eventFromMessage(o,t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{s=e}))),s}captureEvent(e,t,n){if(t&&t.originalException&&jt(t.originalException))return void(lr&&it.log(to));let r=t&&t.event_id;const s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,s||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?lr&&it.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),mr(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):Cn(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return lr&&it.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Ks(this,e,this._integrations),t||Ys(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=zs(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Kn(n,Qn(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const s=nr(n);return Yn({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:ct(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,s=`${e}:${t}`;lr&&it.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}captureAggregateMetrics(e){lr&&it.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=eo(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Ks(e,t,n)})),n}(this,e),Ys(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const s=t.exception&&t.exception.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(mr(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new An((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=ts()){const s=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),kr(s,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:s,parentSpanId:o,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:s,parent_span_id:o},...e.contexts};const a=i||Br(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(lr){const t=e;"log"===t.logLevel?it.log(t.message):it.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:s}=r,o=so(e),i=ro(e),a=e.type||"error",c=`before send for type \`${a}\``;if(i&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),Rn(new pt(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const l="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new pt("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const s=function(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(ro(t)&&r)return r(t,n);if(so(t)&&s){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Le(e))return e.then((e=>{if(!Oe(e)&&null!==e)throw new pt(n);return e}),(e=>{throw new pt(`${t} rejected with ${e}`)}));if(!Oe(e)&&null!==e)throw new pt(n);return e}(s,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new pt(`${c} returned \`null\`, will not send event.`,"log")}const s=n&&n.getSession();if(!o&&s&&this._updateSessionFromEvent(s,r),o){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const i=r.transaction_info;if(o&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof pt)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new pt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{lr&&it.error("Error while sending event:",e)}));lr&&it.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function ro(e){return void 0===e.type}function so(e){return"transaction"===e.type}function oo(e){const t=Lr();t&&t.addEventProcessor&&t.addEventProcessor(e)}const io="c",ao="g",co="s",lo="d";const uo={[io]:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},[ao]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},[lo]:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},[co]:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};function po(e){const t=es().getStackTop();t.client=e,t.scope.setClient(e)}function ho(e,t,n=On(e.bufferSize||30)){let r={};function s(s){const o=[];if(Jn(s,((t,n)=>{const s=tr(n);if(or(r,s)){const r=fo(t,n);e.recordDroppedEvent("ratelimit_backoff",s,r)}else o.push(t)})),0===o.length)return Cn();const i=Yn(s[0],o),a=t=>{Jn(i,((n,r)=>{const s=fo(n,r);e.recordDroppedEvent(t,tr(r),s)}))};return n.add((()=>t({body:Zn(i,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&lr&&it.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=ir(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof pt)return lr&&it.error("Skipped sending event because buffer is full."),a("queue_overflow"),Cn();throw e}))}return s.__sentry__baseTransport__=!0,{send:s,flush:e=>n.drain(e)}}function fo(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function mo(e,t){lr&&it.info(`[Offline]: ${e}`,t)}function go(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s,o=5e3;function i(e,n,r){return s=["replay_event","replay_recording","client_report"],!Jn(e,((e,t)=>s.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var s}function a(e){r&&(s&&clearTimeout(s),s=setTimeout((async()=>{s=void 0;const e=await r.pop();e&&(mo("Attempting to send previously queued event"),l(e).catch((e=>{mo("Failed to retry sending",e)})))}),e),"number"!=typeof s&&s.unref&&s.unref())}function c(){s||(a(o),o=Math.min(2*o,36e5))}async function l(e){try{const t=await n.send(e);let r=100;if(t)if(t.headers&&t.headers["retry-after"])r=sr(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return a(r),o=5e3,t}catch(t){if(r&&await i(e,t,o))return await r.insert(e),c(),mo("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&c(),{send:l,flush:e=>n.flush(e)}}}function yo(e,t){let n;return Jn(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function _o(e){return[{type:"span"},e]}function vo(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return bo(e)===bo(t)}(e,s)}function bo(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const So=new Map,wo=new Set;function ko(e,t){return function(e){if(Ve._sentryModuleMetadata)for(const t of Object.keys(Ve._sentryModuleMetadata)){const n=Ve._sentryModuleMetadata[t];if(wo.has(t))continue;wo.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){So.set(e.filename,n);break}}}(e),So.get(t)}const To="ModuleMetadata",xo=()=>({name:To,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{Jn(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=ko(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)}),Eo=Js(To,xo),Io=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Co=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Ro="InboundFilters",Ao=(e={})=>({name:Ro,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Io],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Co],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,s);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return lr&&it.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Pt(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));lr&&0===t.length&&it.error(`Could not extract message for event ${Pt(e)}`);return t}(e).some((e=>Ue(e,t)))}(e,t.ignoreErrors))return lr&&it.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Pt(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Ue(n,t)}(e,t.ignoreTransactions))return lr&&it.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Pt(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Mo(e);return!!n&&Ue(n,t)}(e,t.denyUrls))return lr&&it.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Pt(e)}.\nUrl: ${Mo(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Mo(e);return!n||Ue(n,t)}(e,t.allowUrls))return lr&&it.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Pt(e)}.\nUrl: ${Mo(e)}`),!0;return!1}(t,o)?null:t}}),Oo=Js(Ro,Ao);function Mo(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return lr&&it.error(`Cannot extract url for event ${Pt(e)}`),null}}let Lo;const Do="FunctionToString",No=new WeakMap,Po=()=>({name:Do,setupOnce(){Lo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=gt(this),n=No.has(Lr())&&void 0!==t?t:this;return Lo.apply(n,e)}}catch(e){}},setup(e){No.set(e,!0)}}),$o=Js(Do,Po),Fo="LinkedErrors",jo=Js(Fo,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Fo,setupOnce(){},preprocessEvent(e,r,s){const o=s.getOptions();ze(ar,o.stackParser,o.maxValueLength,n,t,e,r)}}}));var Bo=Object.freeze({__proto__:null,FunctionToString:$o,InboundFilters:Oo,LinkedErrors:jo});class Uo{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",s={},o=Pn()){const i=Math.floor(o),a=t.replace(/[^\w\-.]+/gi,"_");const c=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[Xs(n)]=Qs(String(e[n])));return t}(s),l=function(e){return e.replace(/[^\w]+/gi,"_")}(r),u=function(e,t,n,r){return`${e}${t}${n}${Object.entries(bt(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,a,l,c);let d=this._buckets.get(u);const p=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<i&&(d.timestamp=i)):(d={metric:new uo[e](n),timestamp:i,metricType:e,name:a,unit:l,tags:c},this._buckets.set(u,d));!function(e,t,n,r,s,o){const i=gs();if(i){const a=ws(i)||new Map,c=`${e}:${t}@${r}`,l=a.get(o);if(l){const[,e]=l;a.set(o,[c,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else a.set(o,[c,{min:n,max:n,count:1,sum:n,tags:s}]);Ss||(Ss=new WeakMap),Ss.set(i,a)}}(e,a,"string"==typeof n?d.metric.weight-p:n,l,s,u)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const zo="MetricsAggregator",Ho=()=>({name:zo,setupOnce(){},setup(e){e.metricsAggregator=new Uo(e)}});function qo(e,t,n,r={}){const s=Lr(),o=Dr();if(s){if(!s.metricsAggregator)return void(lr&&it.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:i,tags:a,timestamp:c}=r,{release:l,environment:u}=s.getOptions(),d=o.getTransaction(),p={};l&&(p.release=l),u&&(p.environment=u),d&&(p.transaction=Sr(d).description||""),lr&&it.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,i,{...p,...a},c)}}const Wo={increment:function(e,t=1,n){qo("c",e,t,n)},distribution:function(e,t,n){qo("d",e,t,n)},set:function(e,t,n){qo("s",e,t,n)},gauge:function(e,t,n){qo("g",e,t,n)},MetricsAggregator:Js(zo,Ho),metricsAggregatorIntegration:Ho},Go=Bo,Vo="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Yo=Ve;function Ko(){Yo.document?Yo.document.addEventListener("visibilitychange",(()=>{const e=os();if(Yo.document.hidden&&e){const t="cancelled",{op:n,status:r}=Sr(e);Vo&&it.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Vo&&it.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Jo=(e,t,n)=>{let r,s;return o=>{t.value>=0&&(o||n)&&(s=t.value-(r||0),(s||void 0===r)&&(r=t.value,t.delta=s,e(t)))}},Xo=()=>Yo.__WEB_VITALS_POLYFILL__?Yo.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Yo.performance.timing,t=Yo.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Yo.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Zo=()=>{const e=Xo();return e&&e.activationStart||0},Qo=(e,t)=>{const n=Xo();let r="navigate";return n&&(r=Yo.document&&Yo.document.prerendering||Zo()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},ei=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},ti=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Yo.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Yo.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let ni=-1;const ri=()=>(ni<0&&(Yo.document&&Yo.document.visibilityState&&(ni="hidden"!==Yo.document.visibilityState||Yo.document.prerendering?1/0:0),ti((({timeStamp:e})=>{ni=e}),!0)),{get firstHiddenTime(){return ni}});let si=0,oi=1/0,ii=0;const ai=e=>{e.forEach((e=>{e.interactionId&&(oi=Math.min(oi,e.interactionId),ii=Math.max(ii,e.interactionId),si=ii?(ii-oi)/7+1:0)}))};let ci;const li=()=>{"interactionCount"in performance||ci||(ci=ei("event",ai,{type:"event",buffered:!0,durationThreshold:0}))},ui=()=>ci?si:performance.interactionCount||0,di=[],pi={},hi=e=>{const t=di[di.length-1],n=pi[e.interactionId];if(n||di.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};pi[t.id]=t,di.push(t)}di.sort(((e,t)=>t.latency-e.latency)),di.splice(10).forEach((e=>{delete pi[e.id]}))}},fi=(e,t)=>{t=t||{},li();const n=Qo("INP");let r;const s=e=>{e.forEach((e=>{if(e.interactionId&&hi(e),"first-input"===e.entryType){!di.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&hi(e)}}));const t=(()=>{const e=Math.min(di.length-1,Math.floor(ui()/50));return di[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},o=ei("event",s,{durationThreshold:t.durationThreshold||40});r=Jo(e,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),ti((()=>{s(o.takeRecords()),n.value<0&&ui()>0&&(n.value=0,n.entries=[]),r(!0)})))},mi={},gi=e=>{Yo.document&&(Yo.document.prerendering?addEventListener("prerenderingchange",(()=>gi(e)),!0):"complete"!==Yo.document.readyState?addEventListener("load",(()=>gi(e)),!0):setTimeout(e,0))},yi={},_i={};let vi,bi,Si,wi,ki;function Ti(e,t=!1){return Mi("lcp",e,Ri,Si,t)}function xi(e,t){return Li(e,t),_i[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);ei(e,(t=>{Ei(e,{entries:t})}),t)}(e),_i[e]=!0),Di(e,t)}function Ei(e,t){const n=yi[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Vo&&it.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Et(r)}\nError:`,t)}}function Ii(){return((e,t={})=>{const n=Qo("CLS",0);let r,s=0,o=[];const i=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=o[0],i=o[o.length-1];s&&0!==o.length&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(s+=e.value,o.push(e)):(s=e.value,o=[e]),s>n.value&&(n.value=s,n.entries=o,r&&r())}}))},a=ei("layout-shift",i);if(a){r=Jo(e,n,t.reportAllChanges);const s=()=>{i(a.takeRecords()),r(!0)};return ti(s),s}})((e=>{Ei("cls",{metric:e}),vi=e}),{reportAllChanges:!0})}function Ci(){return(e=>{const t=ri(),n=Qo("FID");let r;const s=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},o=e=>{e.forEach(s)},i=ei("first-input",o);r=Jo(e,n),i&&ti((()=>{o(i.takeRecords()),i.disconnect()}),!0)})((e=>{Ei("fid",{metric:e}),bi=e}))}function Ri(){return(e=>{const t=ri(),n=Qo("LCP");let r;const s=e=>{const s=e[e.length-1];if(s){const e=Math.max(s.startTime-Zo(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[s],r())}},o=ei("largest-contentful-paint",s);if(o){r=Jo(e,n);const t=()=>{mi[n.id]||(s(o.takeRecords()),o.disconnect(),mi[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{Yo.document&&addEventListener(e,t,{once:!0,capture:!0})})),ti(t,!0),t}})((e=>{Ei("lcp",{metric:e}),Si=e}))}function Ai(){return((e,t)=>{t=t||{};const n=Qo("TTFB"),r=Jo(e,n,t.reportAllChanges);gi((()=>{const e=Xo();if(e){if(n.value=Math.max(e.responseStart-Zo(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{Ei("ttfb",{metric:e}),wi=e}))}function Oi(){return fi((e=>{Ei("inp",{metric:e}),ki=e}))}function Mi(e,t,n,r,s=!1){let o;return Li(e,t),_i[e]||(o=n(),_i[e]=!0),r&&t({metric:r}),Di(e,t,s?o:void 0)}function Li(e,t){yi[e]=yi[e]||[],yi[e].push(t)}function Di(e,t,n){return()=>{n&&n();const r=yi[e];if(!r)return;const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}function Ni(e){return"number"==typeof e&&isFinite(e)}function Pi(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function $i(e){return e/1e3}function Fi(){return Yo.addEventListener&&Yo.performance}let ji,Bi,Ui=0,zi={};function Hi(){const e=Fi();if(e&&$n){e.mark&&Yo.performance.mark("sentry-tracing-init");const t=Mi("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=$i($n),r=$i(t.startTime);Vo&&it.log("[Measurements] Adding FID"),zi.fid={value:e.value,unit:"millisecond"},zi["mark.fid"]={value:n+r,unit:"second"}}),Ci,bi),n=function(e,t=!1){return Mi("cls",e,Ii,vi,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Vo&&it.log("[Measurements] Adding CLS"),zi.cls={value:e.value,unit:""},Bi=t)}),!0),r=Ti((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Vo&&it.log("[Measurements] Adding LCP"),zi.lcp={value:e.value,unit:"millisecond"},ji=t)}),!0),s=function(e){return Mi("ttfb",e,Ai,wi)}((({metric:e})=>{e.entries[e.entries.length-1]&&(Vo&&it.log("[Measurements] Adding TTFB"),zi.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),s()}}return()=>{}}function qi(){xi("longtask",(({entries:e})=>{for(const t of e){const e=os();if(!e)return;const n=$i($n+t.startTime),r=$i(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}))}function Wi(){xi("event",(({entries:e})=>{for(const t of e){const e=os();if(!e)return;if("click"===t.name){const n=$i($n+t.startTime),r=$i(t.duration),s={description:Xe(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},o=tt(t.target);o&&(s.attributes={"ui.component_name":o}),e.startChild(s)}}}))}function Gi(e,t){if(Fi()&&$n){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find((e=>e.duration===n.value&&void 0!==Vi[e.name])),s=Lr();if(!r||!s)return;const o=Vi[r.name],i=s.getOptions(),a=$i($n+r.startTime),c=$i(n.value),l=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===l)return;const{routeName:u,parentContext:d,activeTransaction:p,user:h,replayId:f}=l,m=void 0!==h?h.email||h.id||h.ip_address:void 0,g=void 0!==p?p.getProfileId():void 0,y=new Rs({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${o}`,name:Xe(r.target),attributes:{release:i.release,environment:i.environment,transaction:u,...void 0!==m&&""!==m?{user:m}:{},...void 0!==g?{profile_id:g}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),_=function(e,t,n){if(!fs(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Yo.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,Ps(r)?!0===r?n:!1===r?0:r*n:(Vo&&it.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,i,t);if(_&&Math.random()<_){const e=y?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=ct(t)),Yn(n,e.map(_o))}([y],s.getDsn()):void 0,t=s&&s.getTransport();t&&e&&t.send(e).then(null,(e=>{Vo&&it.error("Error while sending interaction:",e)}))}},Mi("inp",n,Oi,ki);var n}(e,t);return()=>{n()}}return()=>{}}const Vi={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Yi(e){const t=Fi();if(!t||!Yo.performance.getEntries||!$n)return;Vo&&it.log("[Tracing] Adding & adjusting spans using Performance API");const n=$i($n),r=t.getEntries(),{op:s,start_timestamp:o}=Sr(e);if(r.slice(Ui).forEach((t=>{const r=$i(t.startTime),s=$i(t.duration);if(!("navigation"===e.op&&o&&n+r<o))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Ki(e,t,r,n)})),Ki(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Ki(e,t,"fetch",n,"cache","domainLookupStart"),Ki(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(Pi(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+$i(t.requestStart),endTimestamp:n+$i(t.responseEnd)}),Pi(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+$i(t.responseStart),endTimestamp:n+$i(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,s){const o=s+n,i=o+r;Pi(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})}(e,t,r,s,n);const o=ri(),i=t.startTime<o.firstHiddenTime;"first-paint"===t.name&&i&&(Vo&&it.log("[Measurements] Adding FP"),zi.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&i&&(Vo&&it.log("[Measurements] Adding FCP"),zi.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,s,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=Mn(n),a={};Ji(a,t,"transferSize","http.response_transfer_size"),Ji(a,t,"encodedBodySize","http.response_content_length"),Ji(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop());i.host&&(a["server.address"]=i.host);a["url.same_origin"]=n.includes(Yo.location.origin);const c=o+r,l=c+s;Pi(e,{description:n.replace(Yo.location.origin,""),endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}(e,t,t.name,r,s,n)}})),Ui=Math.max(r.length-1,0),function(e){const t=Yo.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Ni(n.rtt)&&(zi["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Ni(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);Ni(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=Xo();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Vo&&it.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(zi),["fcp","fp","lcp"].forEach((e=>{if(!zi[e]||!o||n>=o)return;const t=zi[e].value,r=n+$i(t),s=Math.abs(1e3*(r-o)),i=s-t;Vo&&it.log(`[Measurements] Normalized ${e} from ${t} to ${s} (${i})`),zi[e].value=s}));const t=zi["mark.fid"];t&&zi.fid&&(Pi(e,{description:"first input delay",endTimestamp:t.value+$i(zi.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete zi["mark.fid"]),"fcp"in zi||delete zi.cls,Object.keys(zi).forEach((e=>{Us(e,zi[e].value,zi[e].unit)})),function(e){ji&&(Vo&&it.log("[Measurements] Adding LCP Data"),ji.element&&e.setTag("lcp.element",Xe(ji.element)),ji.id&&e.setTag("lcp.id",ji.id),ji.url&&e.setTag("lcp.url",ji.url.trim().slice(0,200)),e.setTag("lcp.size",ji.size));Bi&&Bi.sources&&(Vo&&it.log("[Measurements] Adding CLS Data"),Bi.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,Xe(t.node)))))}(e)}ji=void 0,Bi=void 0,zi={}}function Ki(e,t,n,r,s,o){const i=o?t[o]:t[`${n}End`],a=t[`${n}Start`];a&&i&&Pi(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+$i(a),endTimestamp:r+$i(i)})}function Ji(e,t,n,r){const s=t[n];null!=s&&s<2147483647&&(e[r]=s)}function Xi(e,t,n,r,s="auto.http.browser"){if(!fs()||!e.fetchData)return;const o=t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){ps(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const i=Dr(),a=Lr(),{method:c,url:l}=e.fetchData,u=function(e){try{return new URL(e).href}catch(e){return}}(l),d=u?Mn(u).host:void 0,p=o?ms({name:`${c} ${l}`,onlyIfParent:!0,attributes:{url:l,type:"fetch","http.method":c,"http.url":u,"server.address":d,[Is]:s},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,s){const o=s||n.getSpan(),i=ts(),{traceId:a,spanId:c,sampled:l,dsc:u}={...i.getPropagationContext(),...n.getPropagationContext()},d=o?_r(o):Vn(a,c,l),p=zn(u||(o?Ur(o):Br(a,t,n))),h=r.headers||("undefined"!=typeof Request&&Ne(e,Request)?e.headers:void 0);if(h){if("undefined"!=typeof Headers&&Ne(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",d),p&&e.append(Fn,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",d]];return p&&e.push([Fn,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,a,i,n,p)}return p}const Zi=["localhost",/^\/(?!\/)/],Qi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Zi,tracePropagationTargets:Zi};function ea(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i}={traceFetch:Qi.traceFetch,traceXHR:Qi.traceXHR,...e},a="function"==typeof o?o:e=>!0,c=e=>function(e,t){return Ue(e,t||Zi)}(e,r||s),l={};t&&Zt((e=>{const t=Xi(e,a,c,l);if(t){const n=ra(e.fetchData.url),r=n?Mn(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}i&&t&&ta(t)})),n&&gn((e=>{const t=function(e,t,n,r){const s=e.xhr,o=s&&s[mn];if(!fs()||!s||s.__sentry_own_request__||!o)return;const i=t(o.url);if(e.endTimestamp&&i){const e=s.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(ps(t,o.status_code),t.end(),delete r[e]))}const a=Dr(),c=ts(),l=ra(o.url),u=l?Mn(l).host:void 0,d=i?ms({name:`${o.method} ${o.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":o.method,"http.url":l,url:o.url,"server.address":u,[Is]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const p=Lr();if(s.setRequestHeader&&n(o.url)&&p){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...a.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Fn,n)}catch(e){}}(s,d?_r(d):Vn(e,t,n),zn(r||(d?Ur(d):Br(e,p,a))))}return d}(e,a,c,l);i&&t&&ta(t)}))}function ta(e){const{url:t}=Sr(e).data||{};if(!t||"string"!=typeof t)return;const n=xi("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const s of e){if("/"===s){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=s}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!$n)return r;return[...r,["http.request.redirect_start",na(e.redirectStart)],["http.request.fetch_start",na(e.fetchStart)],["http.request.domain_lookup_start",na(e.domainLookupStart)],["http.request.domain_lookup_end",na(e.domainLookupEnd)],["http.request.connect_start",na(e.connectStart)],["http.request.secure_connection_start",na(e.secureConnectionStart)],["http.request.connection_end",na(e.connectEnd)],["http.request.request_start",na(e.requestStart)],["http.request.response_start",na(e.responseStart)],["http.request.response_end",na(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function na(e=0){return(($n||performance.timeOrigin)+e)/1e3}function ra(e){try{return new URL(e,Yo.location.origin).href}catch(e){return}}const sa={...Os,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Yo||!Yo.location)return void(Vo&&it.warn("Could not initialize routing instrumentation due to invalid location"));let r,s=Yo.location.href;t&&(r=e({name:Yo.location.pathname,startTimestamp:$n?$n/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&pn((({to:t,from:n})=>{void 0===n&&s&&-1!==s.indexOf(t)?s=void 0:n!==t&&(s=void 0,r&&(Vo&&it.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:Yo.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Qi};function oa(e){const t=et(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function ia(e){const t=e.attributes&&e.attributes[Ts],n=e.data&&e.data[Ts],r=e.metadata&&e.metadata.source;return t||n||r}const aa={...Os,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Qi};function ca(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=gs();return"pageload"===(n&&Sr(n).op)?n:void 0}function la(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=gs();return"navigation"===(n&&Sr(n).op)?n:void 0}function ua(e){const t=et(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const da=10;function pa(e){const t=e.attributes&&e.attributes[Ts],n=e.data&&e.data[Ts],r=e.metadata&&e.metadata.source;return t||n||r}const ha=Ve;let fa=0;function ma(){return fa>0}function ga(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(gt(e))return e}catch(t){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map((e=>ga(e,t)));return e.apply(this,r)}catch(e){throw fa++,setTimeout((()=>{fa--})),Mr((r=>{r.addEventProcessor((e=>(t.mechanism&&($t(e,void 0),Ft(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),Ir(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}mt(r,e),ft(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const ya="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function _a(e,t){const n=ba(e,t),r={type:t&&t.name,value:wa(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function va(e,t){return{exception:{values:[_a(e,t)]}}}function ba(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Sa.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Sa=/Minified React error #\d+;/i;function wa(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ka(e,t,n,r){const s=xa(e,t,n&&n.syntheticException||void 0,r);return Ft(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Cn(s)}function Ta(e,t,n="info",r,s){const o=Ea(e,t,r&&r.syntheticException||void 0,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Cn(o)}function xa(e,t,n,r,s){let o;if(Ee(t)&&t.error){return va(e,t.error)}if(Ie(t)||xe(t,"DOMException")){const s=t;if("stack"in t)o=va(e,t);else{const t=s.name||(Ie(s)?"DOMError":"DOMException"),i=s.message?`${t}: ${s.message}`:t;o=Ea(e,i,n,r),$t(o,i)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}if(Te(t))return va(e,t);if(Oe(t)||Me(t)){return o=function(e,t,n,r){const s=Lr(),o=s&&s.getOptions().normalizeDepth,i={exception:{values:[{type:Me(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Ia(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Sn(t,o)}};if(n){const t=ba(e,n);t.length&&(i.exception.values[0].stacktrace={frames:t})}return i}(e,t,n,s),Ft(o,{synthetic:!0}),o}return o=Ea(e,t,n,r),$t(o,`${t}`),Ft(o,{synthetic:!0}),o}function Ea(e,t,n,r){const s={};if(r&&n){const r=ba(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(Re(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function Ia(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(yt(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return $e(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:$e(r,t)}return""}(e),r=t?"promise rejection":"exception";if(Ee(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(Me(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function Ca(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:ct(r)}},o=function(e){return[{type:"user_report"},e]}(e);return Yn(s,[o])}class Ra extends no{constructor(e){!function(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Yr}))),version:Yr}),e._metadata=s}(e,"browser",["browser"],ha.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&ha.document&&ha.document.addEventListener("visibilitychange",(()=>{"hidden"===ha.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return ka(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Ta(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(ya&&it.warn("SDK not enabled, will not capture user feedback."));const t=Ca(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(ya&&it.log("No outcomes to send"));if(!this._dsn)return void(ya&&it.log("No dsn provided, will not send outcomes"));ya&&it.log("Sending outcomes:",e);const t=(n=e,Yn((r=this._options.tunnel&&ct(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:Nn(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}let Aa;function Oa(e,t=function(){if(Aa)return Aa;if(Jt(ha.fetch))return Aa=ha.fetch.bind(ha);const e=ha.document;let t=ha.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){ya&&it.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Aa=t.bind(ha)}()){let n=0,r=0;return ho(e,(function(s){const o=s.body.length;n+=o,r++;const i={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,i).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Aa=void 0,n-=o,r--,Rn(e)}}))}function Ma(e){return ho(e,(function(t){return new An(((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{4===s.readyState&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&s.setRequestHeader(t,e.headers[t]);s.send(t.body)}))}))}const La="?";function Da(e,t,n,r){const s={filename:e,function:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const Na=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pa=/\((\S*)(?::(\d+))(?::(\d+))\)/,$a=[30,e=>{const t=Na.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Pa.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Ka(t[1]||La,t[2]);return Da(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Fa=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ja=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ba=[50,e=>{const t=Fa.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=ja.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||La;return[n,e]=Ka(n,e),Da(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Ua=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,za=[40,e=>{const t=Ua.exec(e);return t?Da(t[2],t[1]||La,+t[3],t[4]?+t[4]:void 0):void 0}],Ha=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,qa=[10,e=>{const t=Ha.exec(e);return t?Da(t[2],t[3]||La,+t[1]):void 0}],Wa=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ga=[20,e=>{const t=Wa.exec(e);return t?Da(t[5],t[3]||t[4]||La,+t[1],+t[2]):void 0}],Va=[$a,Ba,za],Ya=Tt(...Va),Ka=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:La,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ja=1024,Xa="Breadcrumbs",Za=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Xa,setupOnce(){},setup(e){t.console&&Mt(function(e){return function(t){if(Lr()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Dn(t.level),message:je(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${je(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Ar(n,{input:t.args,level:t.level})}}(e)),t.dom&&Wt(function(e,t){return function(n){if(Lr()!==e)return;let r,s,o="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>Ja&&(ya&&it.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=Ja),"string"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Xe(t,{keyAttrs:o,maxStringLength:i}),s=tt(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),Ar(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&gn(function(e){return function(t){if(Lr()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[mn];if(!n||!r||!s)return;const{method:o,url:i,status_code:a,body:c}=s;Ar({category:"xhr",data:{method:o,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&Zt(function(e){return function(t){if(Lr()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Ar({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;Ar({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&pn(function(e){return function(t){if(Lr()!==e)return;let n=t.from,r=t.to;const s=Mn(ha.location.href);let o=n?Mn(n):void 0;const i=Mn(r);o&&o.path||(o=s),s.protocol===i.protocol&&s.host===i.host&&(r=i.relative),s.protocol===o.protocol&&s.host===o.host&&(n=o.relative),Ar({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Lr()===e&&Ar({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Pt(t)},{event:t})}}(e))}}},Qa=Js(Xa,Za);const ec="Dedupe",tc=()=>{let e;return{name:ec,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!sc(e,t))return!1;if(!rc(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=oc(t),r=oc(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!sc(e,t))return!1;if(!rc(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return ya&&it.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},nc=Js(ec,tc);function rc(e,t){let n=ic(e),r=ic(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],s=n[e];if(t.filename!==s.filename||t.lineno!==s.lineno||t.colno!==s.colno||t.function!==s.function)return!1}return!0}function sc(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function oc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ic(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const ac="GlobalHandlers",cc=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ac,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){rn((t=>{const{stackParser:n,attachStacktrace:r}=pc();if(Lr()!==e||ma())return;const{msg:s,url:o,line:i,column:a,error:c}=t,l=void 0===c&&Ce(s)?function(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=Ee(e)?e.message:e,i="Error";const a=o.match(s);a&&(i=a[1],o=a[2]);const c={exception:{values:[{type:i,value:o}]}};return uc(c,t,n,r)}(s,o,i,a):uc(xa(n,c||s,void 0,r,!1),o,i,a);l.level="error",Rr(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(e),dc("onerror")),t.onunhandledrejection&&(!function(e){an((t=>{const{stackParser:n,attachStacktrace:r}=pc();if(Lr()!==e||ma())return;const s=function(e){if(Ae(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),o=Ae(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:xa(n,s,void 0,r,!0);o.level="error",Rr(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),dc("onunhandledrejection"))}}},lc=Js(ac,cc);function uc(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ce(t)&&t.length>0?t:Qe();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function dc(e){ya&&it.log(`Global Handler attached: ${e}`)}function pc(){const e=Lr();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hc="HttpContext",fc=()=>({name:hc,setupOnce(){},preprocessEvent(e){if(!ha.navigator&&!ha.location&&!ha.document)return;const t=e.request&&e.request.url||ha.location&&ha.location.href,{referrer:n}=ha.document||{},{userAgent:r}=ha.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),mc=Js(hc,fc),gc="LinkedErrors",yc=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:gc,setupOnce(){},preprocessEvent(e,r,s){const o=s.getOptions();ze(_a,o.stackParser,o.maxValueLength,n,t,e,r)}}},_c=Js(gc,yc),vc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],bc="TryCatch",Sc=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:bc,setupOnce(){t.setTimeout&&ht(ha,"setTimeout",kc),t.setInterval&&ht(ha,"setInterval",kc),t.requestAnimationFrame&&ht(ha,"requestAnimationFrame",Tc),t.XMLHttpRequest&&"XMLHttpRequest"in ha&&ht(XMLHttpRequest.prototype,"send",xc);const e=t.eventTarget;if(e){(Array.isArray(e)?e:vc).forEach(Ec)}}}},wc=Js(bc,Sc);function kc(e){return function(...t){const n=t[0];return t[0]=ga(n,{mechanism:{data:{function:Et(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Tc(e){return function(t){return e.apply(this,[ga(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Et(e)},handled:!1,type:"instrument"}})])}}function xc(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&ht(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Et(t)},handled:!1,type:"instrument"}},r=gt(t);return r&&(n.mechanism.data.handler=Et(r)),ga(t,n)}))})),e.apply(this,t)}}function Ec(e){const t=ha,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ht(n,"addEventListener",(function(t){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=ga(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Et(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,ga(r,{mechanism:{data:{function:"addEventListener",handler:Et(r),target:e},handled:!1,type:"instrument"}}),s])}})),ht(n,"removeEventListener",(function(e){return function(t,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,s,r)}})))}const Ic=[Ao(),Po(),Sc(),Za(),cc(),yc(),tc(),fc()];function Cc(e){return[...Ic]}function Rc(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=Cc()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),ha.SENTRY_RELEASE&&ha.SENTRY_RELEASE.id&&(e.release=ha.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Ya,Array.isArray(n)?Tt(...n):n),integrations:Vs(e),transport:e.transport||(Kt()?Oa:Ma)};var n;!function(e,t){!0===t.debug&&(lr?it.enable():ot((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),Dr().update(t.initialScope);const n=new e(t);po(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}(Ra,t),e.autoSessionTracking&&function(){if(void 0===ha.document)return void(ya&&it.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));Nr({ignoreDuration:!0}),Fr(),pn((({from:e,to:t})=>{void 0!==e&&e!==t&&(Nr({ignoreDuration:!0}),Fr())}))}()}var Ac=Object.freeze({__proto__:null,Breadcrumbs:Qa,Dedupe:nc,GlobalHandlers:lc,HttpContext:mc,LinkedErrors:_c,TryCatch:wc});const Oc=Ve,Mc="sentryReplaySession",Lc="Unable to send Replay",Dc=15e4,Nc=5e3,Pc=2e7,$c=36e5;function Fc(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}var jc;function Bc(e){const t=Fc([e,"optionalAccess",e=>e.host]);return Boolean(Fc([t,"optionalAccess",e=>e.shadowRoot])===e)}function Uc(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function zc(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Hc).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function Hc(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=zc(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(jc||(jc={}));class qc{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=Fc([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Wc({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Gc({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Vc(e){return e.toLowerCase()}function Yc(e){return e.toUpperCase()}const Kc="__rrweb_original__";function Jc(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Vc(t):null}function Xc(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Zc=1;const Qc=new RegExp("[^a-z0-9-_:]");function el(){return Zc++}let tl,nl;const rl=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,sl=/^(?:[a-z+]+:)?\/\//i,ol=/^www\..*/i,il=/^(data:)([^,]*),(.*)/i;function al(e,t){return(e||"").replace(rl,((e,n,r,s,o,i)=>{const a=r||o||i,c=n||s||"";if(!a)return e;if(sl.test(a)||ol.test(a))return`url(${c}${a}${c})`;if(il.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const l=t.split("/"),u=a.split("/");l.pop();for(const e of u)"."!==e&&(".."===e?l.pop():l.push(e));return`url(${c}${l.join("/")}${c})`}))}const cl=/^[^ \t\n\r\u000c]+/,ll=/^[, \t\n\r\u000c]+/;function ul(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function dl(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function pl(){const e=document.createElement("a");return e.href="",e.href}function hl(e,t,n,r,s,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?ul(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const s=e.exec(t.substring(n));return s?(r=s[0],n+=r.length,r):""}const s=[];for(;r(ll),!(n>=t.length);){let o=r(cl);if(","===o.slice(-1))o=ul(e,o.substring(0,o.length-1)),s.push(o);else{let r="";o=ul(e,o);let i=!1;for(;;){const e=t.charAt(n);if(""===e){s.push((o+r).trim());break}if(i)")"===e&&(i=!1);else{if(","===e){n+=1,s.push((o+r).trim());break}"("===e&&(i=!0)}r+=e,n+=1}}}return s.join(", ")}(e,r):"style"===n?al(r,pl()):"object"===t&&"data"===n?ul(e,r):"function"==typeof o?o(n,r,s):r:ul(e,r):r}function fl(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function ml(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ml(e.parentNode,t,n,r+1):-1}function gl(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function yl(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===i)return!1;if("INPUT"===i.tagName){const e=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,c=-1;if(o){if(c=ml(i,gl(r,s)),c<0)return!0;a=ml(i,gl(t,n),c>=0?c:1/0)}else{if(a=ml(i,gl(t,n)),a<0)return!1;c=ml(i,gl(r,s),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!o}catch(e){}return!!o}function _l(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:_,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:jc.Document,childNodes:[],compatMode:e.compatMode}:{type:jc.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:jc.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:b}=t,S=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,s,o),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=Vc(e.tagName);return Qc.test(t)?"div":t}(e);let k={};const T=e.attributes.length;for(let t=0;t<T;t++){const r=e.attributes[t];r.name&&!fl(w,r.name,r.value)&&(k[r.name]=hl(n,w,Vc(r.name),r.value,e,c))}if("link"===w&&i){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=zc(t)),r&&(delete k.rel,delete k.href,k._cssText=al(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=zc(e.sheet);t&&(k._cssText=al(t,pl()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=Jc(t),r=Xc(t,Yc(w),n),s=t.checked;if("submit"!==n&&"button"!==n&&r){const e=yl(t,y,v,_,b,Wc({type:n,tagName:Yc(w),maskInputOptions:a}));k.value=Gc({isMasked:e,element:t,value:r,maskInputFn:l})}s&&(k.checked=s)}"option"===w&&(e.selected&&!a.select?k.selected=!0:delete k.selected);if("canvas"===w&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const s=t.getImageData,o=Kc in s?s[Kc]:s;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(k.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(k.rr_dataURL=t)}if("img"===w&&d){tl||(tl=n.createElement("canvas"),nl=tl.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const s=()=>{t.removeEventListener("load",s);try{tl.width=t.naturalWidth,tl.height=t.naturalHeight,nl.drawImage(t,0,0),k.rr_dataURL=tl.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?k.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?s():t.addEventListener("load",s)}"audio"!==w&&"video"!==w||(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();k={class:k.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||h(k.src)||(e.contentDocument||(k.rr_src=k.src),delete k.src);let x;try{customElements.get(w)&&(x=!0)}catch(e){}return{type:jc.Element,tagName:w,attributes:k,childNodes:[],isSVG:dl(e)||void 0,needBlock:S,rootId:m,isCustom:x}}(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:_,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||Fc([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=zc(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=al(p,pl())}f&&(p="SCRIPT_PLACEHOLDER");const g=yl(e,r,o,s,i,n);h||f||m||!p||!g||(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*"));m&&p&&(c.textarea||g)&&(p=l?l(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=Gc({isMasked:yl(e,r,o,s,i,Wc({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:l})}return{type:jc.Text,textContent:p||"",isStyle:h,rootId:u}}(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case e.CDATA_SECTION_NODE:return{type:jc.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:jc.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function vl(e){return null==e?"":e.toLowerCase()}function bl(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:R=!0}=t;const A=_l(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:v,inlineImages:b,recordCanvas:S,keepIframeSrcFn:I,newlyAddedElement:C});if(!A)return console.warn(e,"not serialized"),null;let O;O=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===jc.Comment)return!0;if(e.type===jc.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(vl(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===vl(e.attributes.name)||"icon"===vl(e.attributes.rel)||"apple-touch-icon"===vl(e.attributes.rel)||"shortcut icon"===vl(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&vl(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(vl(e.attributes.property).match(/^(og|twitter|fb):/)||vl(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===vl(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===vl(e.attributes.name)||"googlebot"===vl(e.attributes.name)||"bingbot"===vl(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===vl(e.attributes.name)||"generator"===vl(e.attributes.name)||"framework"===vl(e.attributes.name)||"publisher"===vl(e.attributes.name)||"progid"===vl(e.attributes.name)||vl(e.attributes.property).match(/^article:/)||vl(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===vl(e.attributes.name)||"yandex-verification"===vl(e.attributes.name)||"csrf-token"===vl(e.attributes.name)||"p:domain_verify"===vl(e.attributes.name)||"verify-v1"===vl(e.attributes.name)||"verification"===vl(e.attributes.name)||"shopify-checkout-api-token"===vl(e.attributes.name)))return!0}}return!1}(A,_)&&(R||A.type!==jc.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?el():-2;const M=Object.assign(A,{id:O});if(r.add(e,M),-2===O)return null;w&&w(e);let L=!p;if(M.type===jc.Element){L=L&&!M.needBlock,delete M.needBlock;const t=e.shadowRoot;t&&Uc(t)&&(M.isShadowHost=!0)}if((M.type===jc.Document||M.type===jc.Element)&&L){_.headWhitespace&&M.type===jc.Element&&"head"===M.tagName&&(R=!1);const t={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:I};for(const n of Array.from(e.childNodes)){const e=bl(n,t);e&&M.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=bl(n,t);r&&(Uc(e.shadowRoot)&&(r.isShadow=!0),M.childNodes.push(r))}}return e.parentNode&&Bc(e.parentNode)&&Uc(e.parentNode)&&(M.isShadow=!0),M.type===jc.Element&&"iframe"===M.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let s,o=!1;try{s=r.document.readyState}catch(e){return}if("complete"!==s){const r=setTimeout((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),o=!0,t()}))}const i="about:blank";if(r.location.href!==i||e.src===i||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&k){const n=bl(t,{doc:t,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:I});n&&k(e,n)}}),T),M.type===jc.Element&&"link"===M.tagName&&"stylesheet"===M.attributes.rel&&function(e,t,n){let r,s=!1;try{r=e.sheet}catch(e){return}if(r)return;const o=setTimeout((()=>{s||(t(),s=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(o),s=!0,t()}))}(e,(()=>{if(x){const t=bl(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:I});t&&x(e,t)}}),E),M}function Sl(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function wl(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const kl="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Tl={map:{},getId:()=>(console.error(kl),-1),getNode:()=>(console.error(kl),null),removeNodeFromMap(){console.error(kl)},has:()=>(console.error(kl),!1),reset(){console.error(kl)}};function xl(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();s||!1!==n.leading||(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(!function(...e){Wl("clearTimeout")(...e)}(r),r=null),s=i,e.apply(c,o)):r||!1===n.trailing||(r=Gl((()=>{s=!1===n.leading?0:Date.now(),r=null,e.apply(c,o)}),a))}}function El(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(e){Gl((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>El(e,t,o||{},!0)}function Il(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Tl=new Proxy(Tl,{get:(e,t,n)=>("map"===t&&console.error(kl),Reflect.get(e,t,n))}));let Cl=Date.now;function Rl(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:Sl([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||Sl([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||Sl([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:Sl([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||Sl([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||Sl([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function Al(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ol(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ml(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function Ll(e,t,n,r,s){if(!e)return!1;const o=Ml(e);if(!o)return!1;const i=gl(t,n);if(!s){const e=r&&o.matches(r);return i(o)&&!e}const a=ml(o,i);let c=-1;return!(a<0)&&(r&&(c=ml(o,gl(null,r))),a>-1&&c<0||a<c)}function Dl(e,t){return-2===t.getId(e)}function Nl(e,t){if(Bc(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Nl(e.parentNode,t))}function Pl(e){return Boolean(e.changedTouches)}function $l(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Fl(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function jl(e){return Boolean(Sl([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(Cl=()=>(new Date).getTime());class Bl{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ul(e){let t=null;return Sl([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function zl(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Ul(n);)n=t;return n}(e);return t.contains(n)}function Hl(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||zl(e))}const ql={};function Wl(e){const t=ql[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(t)}catch(e){}return ql[e]=r.bind(window)}function Gl(...e){return Wl("setTimeout")(...e)}var Vl=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Vl||{}),Yl=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Yl||{}),Kl=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Kl||{}),Jl=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Jl||{});function Xl(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function Zl(e){return"__ln"in e}class Ql{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Xl([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Zl(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Zl(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const eu=(e,t)=>`${e}@${t}`;class tu{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Ql,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},s=s=>{if(!s.parentNode||!Hl(s))return;const o=Bc(s.parentNode)?this.mirror.getId(Ul(s)):this.mirror.getId(s.parentNode),i=r(s);if(-1===o||-1===i)return n.addNode(s);const a=bl(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{$l(e,this.mirror)&&this.iframeManager.addIframe(e),Fl(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),jl(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:o,nextId:i,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)ru(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||s(e);for(const e of this.addedSet)ou(this.droppedSet,e)||ru(this.removes,e,this.mirror)?ou(this.movedSet,e)?s(e):this.droppedSet.add(e):s(e);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),s(e.value)}const i={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(i.texts.length||i.attributes.length||i.removes.length||i.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(i))},this.processMutation=e=>{if(!Dl(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;Ll(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:yl(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,Ml(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=Jc(t),s=t.tagName;r=Xc(t,s,n);const o=Wc({maskInputOptions:this.maskInputOptions,tagName:s,type:n});r=Gc({isMasked:yl(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:t,value:r,maskInputFn:this.maskInputFn})}if(Ll(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let s=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(e.target,s)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!fl(t.tagName,n)&&(s.attributes[n]=hl(this.doc,Vc(t.tagName),Vc(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),o=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||o!==n.style.getPropertyPriority(e)?s.styleDiff[e]=""===o?r:[r,o]:s._unchangedStyles[e]=[r,o]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(s.styleDiff[e]=!1)}break}case"childList":if(Ll(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=Bc(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Ll(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Dl(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(nu(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||Nl(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[eu(n,r)]?nu(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Bc(e.target)||!Uc(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Dl(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[eu(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Ll(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),jl(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function nu(e,t){e.delete(t),t.childNodes.forEach((t=>nu(e,t)))}function ru(e,t,n){return 0!==e.length&&su(e,t,n)}function su(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return!!e.some((e=>e.id===s))||su(e,r,n)}function ou(e,t){return 0!==e.size&&iu(e,t)}function iu(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||iu(e,n))}let au;const cu=e=>{if(!au)return e;return(...t)=>{try{return e(...t)}catch(e){if(au&&!0===au(e))return()=>{};throw e}}};function lu(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}const uu=[];function du(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function pu(e,t){const n=new tu;uu.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=lu([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(cu((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function hu({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const a=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,c=[];let l=null;return Object.keys(Kl).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((i=>{let a=Vc(i);const u=(t=>i=>{const a=du(i);if(Ll(a,r,s,o,!0))return;let c=null,u=t;if("pointerType"in i){switch(i.pointerType){case"mouse":c=Jl.Mouse;break;case"touch":c=Jl.Touch;break;case"pen":c=Jl.Pen}c===Jl.Touch?Kl[t]===Kl.MouseDown?u="TouchStart":Kl[t]===Kl.MouseUp&&(u="TouchEnd"):Jl.Pen}else Pl(i)&&(c=Jl.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===Jl.Touch||u.startsWith("Mouse")&&c===Jl.Mouse)&&(c=null)):Kl[t]===Kl.Click&&(c=l,l=null);const d=Pl(i)?i.changedTouches[0]:i;if(!d)return;const p=n.getId(a),{clientX:h,clientY:f}=d;cu(e)({type:Kl[u],id:p,x:h,y:f,...null!==c&&{pointerType:c}})})(i);if(window.PointerEvent)switch(Kl[i]){case Kl.MouseDown:case Kl.MouseUp:a=a.replace("mouse","pointer");break;case Kl.TouchStart:case Kl.TouchEnd:return}c.push(wl(a,u,t))})),cu((()=>{c.forEach((e=>e()))}))}function fu({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){return wl("scroll",cu(xl(cu((i=>{const a=du(i);if(!a||Ll(a,r,s,o,!0))return;const c=n.getId(a);if(a===t&&t.defaultView){const n=Rl(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})})),i.scroll||100)),t)}const mu=["INPUT","TEXTAREA","SELECT"],gu=new WeakMap;function yu({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let n=du(e);const u=e.isTrusted,g=n&&Yc(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||mu.indexOf(g)<0||Ll(n,r,s,o,!0))return;const _=n;if(_.classList.contains(i)||a&&_.matches(a))return;const v=Jc(n);let b=Xc(_,g,v),S=!1;const w=Wc({maskInputOptions:c,tagName:g,type:v}),k=yl(n,p,f,h,m,w);"radio"!==v&&"checkbox"!==v||(S=n.checked),b=Gc({isMasked:k,element:n,value:b,maskInputFn:l}),y(n,d?{text:b,isChecked:S,userTriggered:u}:{text:b,isChecked:S});const T=n.name;"radio"===v&&T&&S&&t.querySelectorAll(`input[type="radio"][name="${T}"]`).forEach((e=>{if(e!==n){const t=Gc({isMasked:k,element:e,value:Xc(e,g,v),maskInputFn:l});y(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}}))}function y(t,r){const s=gu.get(t);if(!s||s.text!==r.text||s.isChecked!==r.isChecked){gu.set(t,r);const s=n.getId(t);cu(e)({...r,id:s})}}const _=("last"===u.input?["change"]:["input","change"]).map((e=>wl(e,cu(g),t))),v=t.defaultView;if(!v)return()=>{_.forEach((e=>e()))};const b=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),S=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&_.push(...S.map((e=>El(e[0],e[1],{set(){cu(g)({target:this,isTrusted:!1})}},!1,v)))),cu((()=>{_.forEach((e=>e()))}))}function _u(e){return function(e,t){if(wu("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||wu("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||wu("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||wu("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function vu(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function bu({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const s="#document"===n.nodeName?lu([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):lu([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),o=lu([s,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(lu([s,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&s&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return lu([o,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=lu([o,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),cu((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))):()=>{}}function Su(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=pu(e,e.doc),s=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const s="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let i,a=[];const c=xl(cu((t=>{const n=Date.now()-i;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],i=null})),o),l=cu(xl(cu((e=>{const t=du(e),{clientX:n,clientY:s}=Pl(e)?e.changedTouches[0]:e;i||(i=Cl()),a.push({x:n,y:s,id:r.getId(t),timeOffset:Cl()-i}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Yl.Drag:e instanceof MouseEvent?Yl.MouseMove:Yl.TouchMove)})),s,{trailing:!1})),u=[wl("mousemove",l,n),wl("touchmove",l,n),wl("drag",l,n)];return cu((()=>{u.forEach((e=>e()))}))}(e),o=hu(e),i=fu(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return wl("resize",cu(xl(cu((()=>{const t=Al(),s=Ol();n===t&&r===s||(e({width:Number(s),height:Number(t)}),n=t,r=s)})),200)),t)}(e,{win:n}),c=yu(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=cu((i=>xl(cu((o=>{const a=du(o);if(!a||Ll(a,t,n,r,!0))return;const{currentTime:c,volume:l,muted:u,playbackRate:d}=a;e({type:i,id:s.getId(a),currentTime:c,volume:l,muted:u,playbackRate:d})})),o.media||500))),c=[wl("play",a(0),i),wl("pause",a(1),i),wl("seeked",a(2),i),wl("volumechange",a(3),i),wl("ratechange",a(4),i)];return cu((()=>{c.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:cu(((r,s,o)=>{const[i,a]=o,{id:c,styleId:l}=vu(s,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:i,index:a}]}),r.apply(s,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let i,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:cu(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=vu(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:i}]}),r.apply(s,o)}))}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:cu(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=vu(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:i}),r.apply(s,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:cu(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=vu(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:i}),r.apply(s,o)}))}));const c={};ku("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(ku("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),ku("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),ku("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const l={};return Object.entries(c).forEach((([r,s])=>{l[r]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(l[r].insertRule,{apply:cu(((r,s,o)=>{const[i,a]=o,{id:c,styleId:l}=vu(s.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:i,index:[..._u(s),a||0]}]}),r.apply(s,o)}))}),s.prototype.deleteRule=new Proxy(l[r].deleteRule,{apply:cu(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=vu(s.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[..._u(s),i]}]}),r.apply(s,o)}))})})),cu((()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule}))}))}(e,{win:n}),d=bu(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:cu(((s,i,a)=>{const[c,l,u]=a;if(n.has(c))return o.apply(i,[c,l,u]);const{id:d,styleId:p}=vu(lu([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:l,priority:u},index:_u(i.parentRule)}),s.apply(i,a)}))});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:cu(((s,o,a)=>{const[c]=a;if(n.has(c))return i.apply(o,[c]);const{id:l,styleId:u}=vu(lu([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,remove:{property:c},index:_u(o.parentRule)}),s.apply(o,a)}))}),cu((()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return s.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const i=Il(t.fonts,"add",(function(t){return function(n){return Gl(cu((()=>{const t=s.get(n);t&&(e(t),s.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(i),cu((()=>{r.forEach((e=>e()))}))}(e):()=>{},f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=cu((()=>{const e=t.getSelection();if(!e||a&&lu([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const i=e.getRangeAt(t),{startContainer:a,startOffset:l,endContainer:u,endOffset:d}=i;Ll(a,r,s,o,!0)||Ll(u,r,s,o,!0)||c.push({start:n.getId(a),startOffset:l,end:n.getId(u),endOffset:d})}i({ranges:c})}));return c(),wl("selectionchange",c)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?Il(n.customElements,"define",(function(e){return function(n,r,s){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,s])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return cu((()=>{uu.forEach((e=>e.reset())),r.disconnect(),s(),o(),i(),a(),c(),l(),u(),d(),p(),h(),f(),m(),g.forEach((e=>e()))}))}function wu(e){return void 0!==window[e]}function ku(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Tu{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const s=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let i=s.get(t);return i||(i=this.generateIdFn(),s.set(t,i),o.set(i,t)),i}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const s=r.get(t);return s||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function xu(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}class Eu{constructor(){this.crossOriginIframeMirror=new Tu(el),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Iu{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Tu(el),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Tu(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),xu([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Vl.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Vl.IncrementalSnapshot,data:{source:Yl.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Vl.Meta:case Vl.Load:case Vl.DomContentLoaded:return!1;case Vl.Plugin:return t;case Vl.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Vl.IncrementalSnapshot:switch(t.data.source){case Yl.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Yl.Drag:case Yl.TouchMove:case Yl.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Yl.ViewportResize:return!1;case Yl.MediaInteraction:case Yl.MouseInteraction:case Yl.Scroll:case Yl.CanvasMutation:case Yl.Input:return this.replaceIds(t.data,e,["id"]),t;case Yl.StyleSheetRule:case Yl.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Yl.Font:return t;case Yl.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Yl.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),xu([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const s of r)(Array.isArray(t[s])||"number"==typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(n,t[s]):t[s]=e.getId(n,t[s]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===jc.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Cu{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ru{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Uc(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=pu({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(fu({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Gl((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(bu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Il(e.prototype,"attachShadow",(function(e){return function(r){const s=e.call(this,r);return this.shadowRoot&&Hl(this)&&n.addShadowRoot(this.shadowRoot,t),s}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Au{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Ou{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Bl,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:Hc(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Mu{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){Wl("requestAnimationFrame")(...e)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Lu,Du;const Nu=new qc;function Pu(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,maxCanvasSize:S=null,packFn:w,sampling:k={},dataURLOptions:T={},mousemoveWait:x,recordCanvas:E=!1,recordCrossOriginIframes:I=!1,recordAfter:C=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:A=!1,inlineImages:O=!1,plugins:M,keepIframeSrcFn:L=()=>!1,ignoreCSSAttributes:D=new Set([]),errorHandler:N,onMutation:P,getCanvasManager:$}=e;au=N;const F=!I||window.parent===window;let j=!1;if(!F)try{window.parent.document&&(j=!1)}catch(e){j=!0}if(F&&!t)throw new Error("emit function is required");void 0!==x&&void 0===k.mousemove&&(k.mousemove=x),Nu.reset();const B=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let z;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let H=0;const q=e=>{for(const t of M||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!j&&(e=w(e)),e};Lu=(e,s)=>{const o=e;if(o.timestamp=Cl(),!cr([uu,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||o.type===Vl.FullSnapshot||o.type===Vl.IncrementalSnapshot&&o.data.source===Yl.Mutation||uu.forEach((e=>e.unfreeze())),F)cr([t,"optionalCall",e=>e(q(o),s)]);else if(j){const e={type:"rrweb",event:q(o),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(o.type===Vl.FullSnapshot)z=o,H=0;else if(o.type===Vl.IncrementalSnapshot){if(o.data.source===Yl.Mutation&&o.data.isAttachIframe)return;H++;const e=r&&H>=r,t=n&&z&&o.timestamp-z.timestamp>n;(e||t)&&Q(!0)}};const W=e=>{Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.Mutation,...e}})},G=e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.Scroll,...e}}),V=e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.CanvasMutation,...e}}),Y=new Ou({mutationCb:W,adoptedStyleSheetCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.AdoptedStyleSheet,...e}})}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Eu:new Iu({mirror:Nu,mutationCb:W,stylesheetManager:Y,recordCrossOriginIframes:I,wrappedEmit:Lu});for(const e of M||[])e.getMirror&&e.getMirror({nodeMirror:Nu,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const J=new Mu,X=function(e,t){try{return e?e(t):new Au}catch(e){return console.warn("Unable to initialize CanvasManager"),new Au}}($,{mirror:Nu,win:window,mutationCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.CanvasMutation,...e}}),recordCanvas:E,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:S,sampling:k.canvas,dataURLOptions:T,errorHandler:N}),Z="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Cu:new Ru({mutationCb:W,scrollCb:G,bypassOptions:{onMutation:P,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:B,dataURLOptions:T,maskAttributeFn:_,maskTextFn:b,maskInputFn:v,recordCanvas:E,inlineImages:O,sampling:k,slimDOMOptions:U,iframeManager:K,stylesheetManager:Y,canvasManager:X,keepIframeSrcFn:L,processedNodeManager:J},mirror:Nu}),Q=(e=!1)=>{Lu({type:Vl.Meta,data:{href:window.location.href,width:Ol(),height:Al()}},e),Y.reset(),Z.init(),uu.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new qc,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:_=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:x,keepIframeSrcFn:E=()=>!1}=t;return bl(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:v,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:x,keepIframeSrcFn:E,newlyAddedElement:!1})}(document,{mirror:Nu,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:B,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,slimDOM:U,dataURLOptions:T,recordCanvas:E,inlineImages:O,onSerialize:e=>{$l(e,Nu)&&K.addIframe(e),Fl(e,Nu)&&Y.trackLinkElement(e),jl(e)&&Z.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),Z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:L});if(!t)return console.warn("Failed to snapshot the document");Lu({type:Vl.FullSnapshot,data:{node:t,initialOffset:Rl(window)}}),uu.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,Nu.getId(document))};Du=Q;try{const e=[],t=e=>cu(Su)({onMutation:P,mutationCb:W,mousemoveCb:(e,t)=>Lu({type:Vl.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.ViewportResize,...e}}),inputCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.Input,...e}}),mediaInteractionCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.MediaInteraction,...e}}),styleSheetRuleCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.StyleSheetRule,...e}}),styleDeclarationCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.StyleDeclaration,...e}}),canvasMutationCb:V,fontCb:e=>Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.Font,...e}}),selectionCb:e=>{Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.Selection,...e}})},customElementCb:e=>{Lu({type:Vl.IncrementalSnapshot,data:{source:Yl.CustomElement,...e}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:B,inlineStylesheet:f,sampling:k,recordCanvas:E,inlineImages:O,userTriggeredOnInput:R,collectFonts:A,doc:e,maskAttributeFn:_,maskInputFn:v,maskTextFn:b,keepIframeSrcFn:L,blockSelector:o,unblockSelector:i,slimDOMOptions:U,dataURLOptions:T,mirror:Nu,iframeManager:K,stylesheetManager:Y,shadowDomManager:Z,processedNodeManager:J,canvasManager:X,ignoreCSSAttributes:D,plugins:cr([M,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>Lu({type:Vl.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});K.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Q(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(wl("DOMContentLoaded",(()=>{Lu({type:Vl.DomContentLoaded,data:{}}),"DOMContentLoaded"===C&&n()}))),e.push(wl("load",(()=>{Lu({type:Vl.Load,data:{}}),"load"===C&&n()}),window))),()=>{e.forEach((e=>e())),J.destroy(),Du=void 0,au=void 0}}catch(e){console.warn(e)}}Pu.mirror=Nu,Pu.takeFullSnapshot=function(e){if(!Du)throw new Error("please take full snapshot after start recording");Du(e)};function $u(e){return e>9999999999?e:1e3*e}function Fu(e){return e>9999999999?e/1e3:e}function ju(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Vl.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:bn(t,10,1e3)}}),"console"===t.category))))}function Bu(e){return e.closest("button,a")||e}function Uu(e){const t=zu(e);return t&&t instanceof Element?Bu(t):t}function zu(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Hu;function qu(e){return Hu||(Hu=[],ht(Oc,"open",(function(e){return function(...t){if(Hu)try{Hu.forEach((e=>e()))}catch(e){}return e.apply(Oc,t)}}))),Hu.push(e),()=>{const t=Hu?Hu.indexOf(e):-1;t>-1&&Hu.splice(t,1)}}class Wu{constructor(e,t,n=ju){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=qu((()=>{this._lastMutation=Vu()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Gu.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Fu(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Fu(e)}registerScroll(e=Date.now()){this._lastScroll=Fu(e)}registerClick(e){const t=Bu(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Vu();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,s=!n&&!r,{clickCount:o,clickBreadcrumb:i}=e;if(s){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.slowClickDetected",data:{...i.data,url:Oc.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(t,s)}else if(o>1){const e={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.multiClick",data:{...i.data,url:Oc.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Gu=["A","BUTTON","INPUT"];function Vu(){return Date.now()/1e3}function Yu(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===Yl.Mutation&&e.registerMutation(t.timestamp),n===Yl.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Yl.MouseInteraction}(t)){const{type:n,id:r}=t.data,s=Pu.mirror.getNode(r);s instanceof HTMLElement&&n===Kl.Click&&e.registerClick(s)}}catch(e){}}function Ku(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ju;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Ju||(Ju={}));const Xu=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Zu(e){const t={};for(const n in e)if(Xu.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Qu=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Uu(e.event):zu(e.event),n=Xe(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Ku({category:`ui.${e.name}`,...ed(t,n)})}(t);if(!n)return;const r="click"===t.name,s=r?t.event:void 0;var o,i,a;!(r&&e.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(o=e.clickDetector,i=n,a=Uu(t.event),o.handleClick(i,a)),ju(e,n)};function ed(e,t){const n=Pu.mirror.getId(e),r=n&&Pu.mirror.getNode(n),s=r&&Pu.mirror.getMeta(r),o=s&&function(e){return e.type===Ju.Element}(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((e=>e.type===Ju.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Zu(o.attributes)}}:{}}}function td(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(i)||!o)return null;const a=t||r||s,c=1===o.length;if(!a&&c)return null;const l=Xe(i,{maxStringLength:200})||"<unknown>",u=ed(i,l);return Ku({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}(t);n&&ju(e,n)}const nd={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:l}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:sd(o),end:sd(s),name:r,data:{size:l,statusCode:c,decodedBodySize:i,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=sd(s);return{type:n,name:r,start:o,end:o+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:m}=e;if(0===s)return null;return{type:`${t}.${m}`,start:sd(h),end:sd(o),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:p}}}};function rd(e){return nd[e.entryType]?nd[e.entryType](e):null}function sd(e){return(($n||Oc.performance.timeOrigin)+e)/1e3}function od(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(xi(e,n))})),r.push(Ti((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,o=sd(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:s,size:s,nodeId:r?Pu.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const id="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ad(e,t){id&&(it.info(e),t&&ld(e))}function cd(e,t){id&&(it.info(e),t&&setTimeout((()=>{ld(e)}),0))}function ld(e){Ar({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class ud extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class dd{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Pc)throw new ud;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?$u(e):null}}class pd{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){ad("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,s)=>{const o=({data:t})=>{const i=t;if(i.method===e&&i.id===n){if(this._worker.removeEventListener("message",o),!i.success)return id&&it.error("[Replay]",i.response),void s(new Error("Error in compression worker"));r(i.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class hd{constructor(e){this._worker=new pd(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=$u(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Pc?Promise.reject(new ud):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{id&&it.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class fd{constructor(e){this._fallback=new dd,this._compression=new hd(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void ad("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){id&&it.warn("[Replay] Failed to add events when switching buffers.",e)}}}function md({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;ad("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new fd(n)}catch(e){ad("[Replay] Failed to create compression worker")}}(t);if(e)return e}return ad("[Replay] Using simple buffer"),new dd}function gd(){try{return"sessionStorage"in Oc&&!!Oc.sessionStorage}catch(e){return!1}}function yd(e){!function(){if(!gd())return;try{Oc.sessionStorage.removeItem(Mc)}catch(e){}}(),e.session=void 0}function _d(e){return void 0!==e&&Math.random()<e}function vd(e){const t=Date.now();return{id:e.id||Dt(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function bd(e){if(gd())try{Oc.sessionStorage.setItem(Mc,JSON.stringify(e))}catch(e){}}function Sd({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=function(e,t){return _d(e)?"session":!!t&&"buffer"}(e,t),o=vd({sampled:s,previousSessionId:r});return n&&bd(o),o}function wd(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function kd(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return wd(e.started,t,r)||wd(e.lastActivity,n,r)}function Td(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!kd(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function xd({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const o=s.stickySession&&function(e){if(!gd())return null;try{const t=Oc.sessionStorage.getItem(Mc);if(!t)return null;const n=JSON.parse(t);return cd("[Replay] Loading existing session",e),vd(n)}catch(e){return null}}(e);return o?Td(o,{sessionIdleExpire:t,maxReplayDuration:n})?(cd("[Replay] Session in sessionStorage is expired, creating new one..."),Sd(s,{previousSessionId:o.id})):o:(cd("[Replay] Creating new session",e),Sd(s,{previousSessionId:r}))}function Ed(e,t,n){return!!Cd(e,t)&&(Id(e,t,n),!0)}async function Id(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Vl.Custom}(e))return t(e)}catch(e){return id&&it.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof ud?"addEventSizeExceeded":"addEvent";id&&it.error(t),await e.stop({reason:n});const r=Lr();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Cd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=$u(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(ad(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function Rd(e){return!e.type}function Ad(e){return"transaction"===e.type}function Od(e){return"feedback"===e.type}function Md(e){const t=function(){const e=Lr();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!Rd(n)&&!Ad(n))return;const s=r&&r.statusCode;t&&(!s||s<200||s>=300)||(Ad(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function Ld(e){return t=>{e.isEnabled()&&Rd(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){ju(e,Ku({category:"replay.hydrate-error"}))}}(e,t)}}function Dd(e,t=!1){const n=t?Md(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Rd(t)&&!Ad(t)&&!Od(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(Od(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Vl.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return id&&it.log("[Replay] Ignoring error from rrweb internals",t),null;const s=function(e,t){return"buffer"===e.recordingMode&&t.message!==Lc&&!(!t.exception||t.type)&&_d(e.getOptions().errorSampleRate)}(e,t);return(s||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function Nd(e,t){return t.map((({type:t,start:n,end:r,name:s,data:o})=>{const i=e.throttledAddEvent({type:Vl.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:s,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof i?Promise.resolve(null):i}))}function Pd(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(Nd(e,[n]),!1))))}}function $d(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!id||!e.getOptions()._experiments.traceInternals)&&vo(t,Lr())}(e,t.name)||e.addUpdate((()=>(Nd(e,[t]),!0))))}function Fd(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[mn];if(!t||!n||!s)return null;const{method:o,url:i,status_code:a}=s;return void 0===i?null:{type:"resource.xhr",name:i,start:t/1e3,end:n/1e3,data:{method:o,statusCode:a}}}(t);$d(e,n)}}function jd(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Vd(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Bd(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Ud(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Vd(e)];if(!e)return[void 0]}catch(t){return id&&it.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return id&&it.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function zd(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Hd(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:bt({method:o,statusCode:i,request:a,response:c})}}function qd(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Wd(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>Dc,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,Dc);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function Gd(e,t){return Object.keys(e).reduce(((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n}),{})}function Vd(e){return new URLSearchParams(e).toString()}function Yd(e,t){const n=function(e,t=Oc.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Oc.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return Ue(n,t)}async function Kd(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=Yd(i,n.networkDetailAllowUrls)&&!Yd(i,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Zd(e[0],t);if(2===e.length)return Zd(e[1],t);return{}}(n,t):{};if(!e)return Wd(s,r,void 0);const o=Jd(n),[i,a]=Ud(o),c=Wd(s,r,i);if(a)return zd(c,a);return c}(n,t.input,l):qd(l),h=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,o){if(!e&&void 0!==o)return qd(o);const i=s?Xd(s.headers,r):{};if(!s||!t&&void 0!==o)return Wd(i,o,void 0);const[a,c]=await async function(e){const t=function(e){try{return e.clone()}catch(e){id&&it.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return id&&it.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(s),l=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:o}){try{const i=e&&e.length&&void 0===r?jd(e,n):r;return s?Wd(o,i,t?e:void 0):qd(i)}catch(e){return id&&it.warn("[Replay] Failed to serialize response body",e),Wd(o,r,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:o,captureDetails:e,headers:i});if(c)return zd(l,c);return l}(d,n,t.response,u);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:p,response:h}}(e,t,n),s=Hd("resource.fetch",r);$d(n.replay,s)}catch(e){id&&it.error("[Replay] Failed to capture fetch breadcrumb",e)}}function Jd(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Xd(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Zd(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Xd(n,t):Array.isArray(n)?{}:Gd(n,t):{}}async function Qd(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!Yd(c,n.networkDetailAllowUrls)||Yd(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:o,url:c,method:l,statusCode:u,request:qd(d),response:qd(p)}}const h=a[mn],f=h?Gd(h.request_headers,n.networkRequestHeaders):{},m=Gd(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Ud(i):[void 0],[_,v]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return id&&it.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return id&&it.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return id&&it.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],b=Wd(f,d,g),S=Wd(m,p,_);return{startTimestamp:s,endTimestamp:o,url:c,method:l,statusCode:u,request:y?zd(b,y):b,response:v?zd(S,v):S}}(e,t,n),s=Hd("resource.xhr",r);$d(n.replay,s)}catch(e){id&&it.error("[Replay] Failed to capture xhr breadcrumb",e)}}function ep(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const o=jd(s,n.textEncoder),i=r.getResponseHeader("content-length")?Bd(r.getResponseHeader("content-length")):function(e,t,n){try{return jd("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}function tp(e){const t=Lr();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(ep(t,n,e),Qd(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:s}=t,o=jd(r?Jd(r):void 0,n.textEncoder),i=s?Bd(s.headers.get("content-length")):void 0;void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}(t,n,e),Kd(t,n,e))}catch(e){id&&it.warn("Error when enriching network breadcrumb")}}(c,e,t))):(Zt(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:o,url:i}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:i,data:{method:o,statusCode:s?s.status:void 0}}}(t);$d(e,n)}}(e)),gn(Fd(e)))}catch(e){}}let np=null;const rp=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(np===t||!t)return null;if(np=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Ku(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>Nc?(n=!0,`${e.slice(0,Nc)}`):e;if("object"==typeof e)try{const t=bn(e,7);return JSON.stringify(t).length>Nc?(n=!0,`${JSON.stringify(t,null,2).slice(0,Nc)}`):t}catch(e){}return e}));return Ku({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Ku(t)}(t);n&&ju(e,n)};function sp(e){return!(!e||!e.on)}function op(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function ip(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(id&&it.warn("[Replay] Received replay event after session expired."));const s=r||!t;t=!0,e.clickDetector&&Yu(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&s&&e.setInitialState(),!Ed(e,n,s))return!0;if(!s)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;Ed(e,function(e){const t=e.getOptions();return{type:Vl.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,s),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(ad(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&bd(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function ap({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:u}=r,d=Lr(),p=Dr(),h=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&h&&f&&o.sampled))return;const m={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:s/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const s={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,s);const o=await kr(e.getOptions(),r,s,t,e,ts());if(!o)return null;o.platform=o.platform||"javascript";const i=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:c}=i&&i.sdk||{};return o.sdk={...o.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},o}({scope:p,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),void ad("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(e,t,n,r){return Yn(rr(e,nr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,i,f,d.getOptions().tunnel);let _;try{_=await h.send(y)}catch(e){const t=new Error(Lc);try{t.cause=e}catch(e){}throw t}if(!_)return _;if("number"==typeof _.statusCode&&(_.statusCode<200||_.statusCode>=300))throw new cp(_.statusCode);const v=ir({},_);if(or(v,"replay"))throw new lp(v);return _}class cp extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class lp extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function up(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await ap(e),!0}catch(n){if(n instanceof cp||n instanceof lp)throw n;if(Or("Replays",{_retryCount:t.count}),id&&r._experiments&&r._experiments.captureExceptions&&Ir(n),t.count>=3){const e=new Error(`${Lc} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await up(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const dp="__THROTTLED";function pp(e,t,n){const r=new Map;let s=!1;return(...o)=>{const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(i),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=s;return s=!0,e?"__SKIPPED":dp}s=!1;const a=r.get(i)||0;return r.set(i,a+1),e(...o)}}class hp{constructor({options:e,recordingOptions:t}){hp.prototype.__init.call(this),hp.prototype.__init2.call(this),hp.prototype.__init3.call(this),hp.prototype.__init4.call(this),hp.prototype.__init5.call(this),hp.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,s,o;const i=n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){void 0!==s&&clearTimeout(s),void 0!==o&&clearTimeout(o),s=o=void 0}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),i&&void 0===o&&(o=setTimeout(a,i)),r}return l.cancel=c,l.flush=function(){return void 0!==s||void 0!==o?a():r},l}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=pp(((e,t)=>function(e,t,n){return Cd(e,t)?Id(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),s=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;s&&(this.clickDetector=new Wu(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",cd(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");cd("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=xd({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");cd("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=xd({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Pu({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:ip(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{ad("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,yd(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ad("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),ad("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();ad("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&wd(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${Oc.location.pathname}${Oc.location.hash}${Oc.location.search}`,t=`${Oc.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===dp){const e=Ku({category:"replay.throttled"});this.addUpdate((()=>!Ed(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||Dr().getTransaction(),t=(e&&Sr(e).data||{})[Ts];if(e&&t&&["route","custom"].includes(t))return Sr(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=md({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){id&&it.error("[Replay]",e),id&&this._options._experiments&&this._options._experiments.captureExceptions&&Ir(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=xd({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!Td(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Oc.document.addEventListener("visibilitychange",this._handleVisibilityChange),Oc.addEventListener("blur",this._handleWindowBlur),Oc.addEventListener("focus",this._handleWindowFocus),Oc.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=Dr(),n=Lr();t.addScopeListener(rp(e)),Wt(Qu(e)),pn(Pd(e)),tp(e);const r=Dd(e,!sp(n));n&&n.addEventProcessor?n.addEventProcessor(r):oo(r),sp(n)&&(n.on("beforeSendEvent",Ld(e)),n.on("afterSendEvent",Md(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=od(this)}_removeListeners(){try{Oc.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Oc.removeEventListener("blur",this._handleWindowBlur),Oc.removeEventListener("focus",this._handleWindowFocus),Oc.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===Oc.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Ku({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Ku({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{td(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;kd(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):ad("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Vl.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(rd).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Nd(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(Nd(e,[op(Oc.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await up({replayId:e,recordingData:s,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=Lr();t&&t.recordDroppedEvent("send_error","replay")}}else id&&it.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(id&&it.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(r||s)return ad(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const o=this.eventBuffer;if(o&&0===this.session.segmentId&&!o.hasCheckout&&ad("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){id&&it.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&bd(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Ku({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function fp(e,t,n,r){const s=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&s.push(`.${n}`),ot((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),s.join(",")}const mp='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',gp=["content-length","content-type","accept"];let yp=!1;class _p{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:s=!0,useCompression:o=!0,workerUrl:i,_experiments:a={},sessionSampleRate:c,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:w=[],maskAttributes:k=["title","placeholder"],unmask:T=[],block:x=[],unblock:E=[],ignore:I=[],maskFn:C,beforeAddRecordingEvent:R,beforeErrorSampling:A,blockClass:O,blockSelector:M,maskInputOptions:L,maskTextClass:D,maskTextSelector:N,ignoreClass:P}={}){this.name=_p.id;const $=function({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:l}){const u={maskTextSelector:fp(e,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:fp(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:fp(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],o,i),unblockSelector:fp(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:fp(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return o instanceof RegExp&&(u.blockClass=o),a instanceof RegExp&&(u.maskTextClass=a),u}({mask:w,unmask:T,block:x,unblock:E,ignore:I,blockClass:O,blockSelector:M,maskTextClass:D,maskTextSelector:N,ignoreClass:P});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...L||{},password:!0},maskTextFn:C,maskInputFn:C,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return r?s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:k,maskAllText:u,privacyOptions:$,key:e,value:t,el:n}),...$,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,$c),stickySession:s,sessionSampleRate:c,errorSampleRate:l,useCompression:o,workerUrl:i,blockAllMedia:p,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:vp(b),networkResponseHeaders:vp(S),beforeAddRecordingEvent:R,beforeErrorSampling:A,_experiments:a},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof l&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${mp}`:mp),this._isInitialized&&vn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return yp}set _isInitialized(e){yp=e}setupOnce(){vn()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=Lr(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...bt(e)};if(!n)return ot((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&ot((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new hp({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=Lr().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function vp(e){return[...gp,...e.map((e=>e.toLowerCase()))]}var bp;function Sp(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Sp(e.parentNode,t,n,r+1):-1}function wp(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}_p.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(bp||(bp={}));const kp="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Tp={map:{},getId:()=>(console.error(kp),-1),getNode:()=>(console.error(kp),null),removeNodeFromMap(){console.error(kp)},has:()=>(console.error(kp),!1),reset(){console.error(kp)}};function xp(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(e){Op((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>xp(e,t,o||{},!0)}function Ep(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch(e){return()=>{}}}function Ip(e,t,n,r,s){if(!e)return!1;const o=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}(e);if(!o)return!1;const i=Sp(o,wp(t,n));let a=-1;return!(i<0)&&(r&&(a=Sp(o,wp(null,r))),i>-1&&a<0||i<a)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Tp=new Proxy(Tp,{get:(e,t,n)=>("map"===t&&console.error(kp),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const Cp={};function Rp(e){const t=Cp[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(t)}catch(e){}return Cp[e]=r.bind(window)}function Ap(...e){return Rp("requestAnimationFrame")(...e)}function Op(...e){return Rp("setTimeout")(...e)}var Mp=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Mp||{});let Lp;function Dp(e){Lp=e}const Np=e=>{if(!Lp)return e;return(...t)=>{try{return e(...t)}catch(e){if(Lp&&!0===Lp(e))return()=>{};throw e}}};for(var Pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Fp=0;Fp<64;Fp++)$p[Pp.charCodeAt(Fp)]=Fp;const jp=new Map;const Bp=(e,t,n)=>{if(!e||!Hp(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=jp.get(e);return n||(n=new Map,jp.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let s=r.indexOf(e);return-1===s&&(s=r.length,r.push(e)),s};function Up(e,t,n){if(e instanceof Array)return e.map((e=>Up(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,s="";for(t=0;t<r;t+=3)s+=Pp[n[t]>>2],s+=Pp[(3&n[t])<<4|n[t+1]>>4],s+=Pp[(15&n[t+1])<<2|n[t+2]>>6],s+=Pp[63&n[t+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Up(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Up(e.data,t,n),e.width,e.height]}}if(Hp(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:Bp(e,t,n)}}return e}const zp=(e,t,n)=>e.map((e=>Up(e,t,n))),Hp=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function qp(e,t,n,r,s){const o=[];try{const i=Ep(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(o,...i){if(!Ip(this,t,n,r)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(o);if("__context"in this||(this.__context=e),s&&["webgl","webgl2"].includes(e))if(i[0]&&"object"==typeof i[0]){const e=i[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else i.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[o,...i])}}));o.push(i)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((e=>e()))}}function Wp(e,t,n,r,s,o,i,a){const c=[],l=Object.getOwnPropertyNames(e);for(const i of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i))try{if("function"!=typeof e[i])continue;const l=Ep(e,i,(function(e){return function(...c){const l=e.apply(this,c);if(Bp(l,a,this),"tagName"in this.canvas&&!Ip(this.canvas,r,s,o)){const e=zp(c,a,this),r={type:t,property:i,args:e};n(this.canvas,r)}return l}}));c.push(l)}catch(r){const s=xp(e,i,{set(e){n(this.canvas,{type:t,property:i,args:[e],setter:!0})}});c.push(s)}return c}class Gp{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:s,unblockSelector:o,maxCanvasSize:i,recordCanvas:a,dataURLOptions:c,errorHandler:l}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,l&&Dp(l),e.enableManualSnapshot||Np((()=>{a&&"all"===t&&this.initCanvasMutationObserver(n,r,s,o),a&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,s,o,i,{dataURLOptions:c})}))()}initCanvasFPSObserver(e,t,n,r,s,o,i){const a=qp(t,n,r,s,!0),c=this.takeSnapshot(!1,e,t,n,r,s,o,i.dataURLOptions);this.resetObservers=()=>{a(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const s=qp(e,t,n,r,!1),o=function(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[a])continue;const i=Ep(t.CanvasRenderingContext2D.prototype,a,(function(o){return function(...i){return Ip(this.canvas,n,r,s)||Op((()=>{const n=zp(i,t,this);e(this.canvas,{type:Mp["2D"],property:a,args:n})}),0),o.apply(this,i)}}));o.push(i)}catch(n){const r=xp(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:Mp["2D"],property:a,args:[t],setter:!0})}});o.push(r)}return()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r),i=function(e,t,n,r,s){const o=[];return o.push(...Wp(t.WebGLRenderingContext.prototype,Mp.WebGL,e,n,r,s,0,t)),void 0!==t.WebGL2RenderingContext&&o.push(...Wp(t.WebGL2RenderingContext.prototype,Mp.WebGL2,e,n,r,s,0,t)),()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.resetObservers=()=>{s(),o(),i()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,r,s,o,i,a,c){const l=new Map,u=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());u.onmessage=e=>{const t=e.data,{id:n}=t;if(l.set(n,!1),!("base64"in t))return;const{base64:r,type:s,width:o,height:i}=t;this.mutationCb({id:n,type:Mp["2D"],commands:[{property:"clearRect",args:[0,0,o,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:s}]},0,0,o,i]}]})};const d=1e3/t;let p,h=0;const f=t=>{h&&t-h<d||(h=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{Ip(e,r,s,o)||t.push(e)})),t})(c).forEach((t=>{const n=this.mirror.getId(t);if(!l.get(n)&&t.width&&t.height){if(l.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===cr([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{u.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:i},[e])})).catch((e=>{Np((()=>{throw e}))()}))}}))),p=Ap(f)};return p=Ap(f),p}startPendingCanvasMutationFlusher(){Ap((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,Ap(e)};Ap(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),Ap((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const{type:t,...n}=e;return n})),{type:s}=n[0];this.mutationCb({id:t,type:s,commands:r}),this.pendingCanvasMutations.delete(e)}}const Vp={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Yp="ReplayCanvas",Kp=1280,Jp=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Kp):Kp,n?Math.min(n,Kp):Kp]};let s;const o=new Promise((e=>s=e));return{name:Yp,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const r=new Gp({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return s(r),r},...Vp[e||"medium"]||Vp.medium}},async snapshot(e){(await o).snapshot(e)}}},Xp=Js(Yp,Jp),Zp=Ve,Qp="#ffffff",eh="inherit",th="rgba(108, 95, 199, 1)",nh={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Qp,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:th,submitBorder:th,submitOutlineFocus:"#29232f",submitForeground:Qp,submitForegroundHover:Qp,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:eh,inputForeground:eh,inputBorder:"var(--border)",inputOutlineFocus:th,formBorderRadius:"20px",formContentBorderRadius:"6px"},rh=nh,sh={...nh,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},oh="widget",ih="api";async function ah({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:o=!0}={}){const i=Lr(),a=i&&i.getTransport(),c=i&&i.getDsn();if(!i||!a||!c)return;const l={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return Mr((async e=>{e.clearBreadcrumbs(),[ih,oh].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await kr(e.getOptions(),n,r,t,e,ts());return null===s?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}({scope:e,client:i,event:l});if(!t)return;i.emit&&i.emit("beforeSendFeedback",t,{includeReplay:Boolean(o)});const n=zs(t,c,i.getOptions()._metadata,i.getOptions().tunnel);let s;try{s=await a.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(s){if("number"==typeof s.statusCode&&(s.statusCode<200||s.statusCode>=300))throw new Error("Unable to send Feedback");return s}}))}function ch({name:e,email:t,message:n,source:r=ih,url:s=Qe()},o={}){if(!n)throw new Error("Unable to submit feedback with empty message");return ah({feedback:{name:e,email:t,message:n,url:s,source:r}},o)}const lh="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function uh(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function dh(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function ph({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=Zp.document,o=s.createElement("div");o.id=e;const i=o.attachShadow({mode:"open"});return i.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${dh("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${dh(n.dark)}\n  }\n}`:""}\n}`,r}(s,t,{dark:n,light:r})),i.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(s)),{shadow:i,host:o}}catch(e){throw it.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function hh(e,t,n){if(!e)return;e.hideError();try{return await ch({...t,source:oh},n)}catch(t){lh&&it.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function fh(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function mh(e,t,...n){const r=Zp.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)gh(r,e);return r}function gh(e,t){const n=Zp.document;if(null!=t)if(Array.isArray(t))for(const n of t)gh(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function yh({buttonLabel:e,onClick:t}){const n=mh("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>Zp.document.createElementNS("http://www.w3.org/2000/svg",e),t=fh(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),n=fh(e("g"),{clipPath:"url(#clip0_57_80)"}),r=fh(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=fh(e("clipPath"),{id:"clip0_57_80"}),i=fh(e("rect"),{width:"20",height:"20",fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),{get el(){return t}}}().el,e?mh("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function _h(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function vh({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:o,isRequiredLabel:i,cancelButtonLabel:a,submitButtonLabel:c,showName:l,showEmail:u,isNameRequired:d,isEmailRequired:p,defaultName:h,defaultEmail:f,onCancel:m,onSubmit:g}){const{el:y}=function({label:e}){return{el:mh("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:c});const _=mh("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const v=mh("input",{id:"name",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:h}),b=mh("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:p,className:"form__input",placeholder:r,value:f}),S=mh("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:o}),w=mh("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:e=>{m&&m(e)}},a),k=mh("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(g){const t=new FormData(e.target),n={name:_h(t,"name"),email:_h(t,"email"),message:_h(t,"message")};g(n)}}catch(e){}}},[_,l&&mh("label",{htmlFor:"name",className:"form__label"},[mh("span",{className:"form__label__text"},e,d&&mh("span",{className:"form__label__text--required"},` ${i}`)),v]),!l&&v,u&&mh("label",{htmlFor:"email",className:"form__label"},[mh("span",{className:"form__label__text"},n,p&&mh("span",{className:"form__label__text--required"},` ${i}`)),b]),!u&&b,mh("label",{htmlFor:"message",className:"form__label"},[mh("span",{className:"form__label__text"},s,mh("span",{className:"form__label__text--required"},` ${i}`)),S]),mh("div",{className:"btn-group"},[y,w])]);return{get el(){return k},showError:function(e){_.textContent=e,_.classList.remove("form__error-container--hidden"),_.setAttribute("aria-hidden","false")},hideError:function(){_.textContent="",_.classList.add("form__error-container--hidden"),_.setAttribute("aria-hidden","true")}}}function bh({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:o,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:l,onCancel:u,onSubmit:d,...p}){let h=null;function f(){h&&(h.open=!1)}const{el:m,showError:g,hideError:y}=vh({showEmail:r,showName:n,isEmailRequired:o,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:u,...p});return h=mh("dialog",{className:"dialog",open:!0,onClick:function(){f(),l&&l()}},mh("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},mh("h2",{className:"dialog__header"},e,t&&mh("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>Zp.document.createElementNS("http://www.w3.org/2000/svg",e),n=fh(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=fh(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),o=t("style");return o.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(o.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),s.append(o),n.append(s),{get el(){return n}}}({colorScheme:i}).el)),m)),{get el(){return h},showError:g,hideError:y,open:function(){h&&(h.open=!0)},close:f,checkIsOpen:function(){return h&&!0===h.open||!1}}}function Sh({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=mh("div",{className:"success-message",onClick:n},function(){const e=e=>Zp.document.createElementNS("http://www.w3.org/2000/svg",e),t=fh(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),n=fh(e("g"),{clipPath:"url(#clip0_57_156)"}),r=fh(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=fh(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=fh(e("clipPath"),{id:"clip0_57_156"}),a=fh(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}().el,e);return{el:r,remove:n}}function wh({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,o,i=!1;async function a(t){if(!o)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void o.showError(`Please enter in the following required fields: ${r.join(", ")}`);await hh(o,t)?(h(),function(){if(e)try{const t=Sh({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),l()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){it.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){const e=Lr(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{lh&&it.error(e)}))}function l(){s&&s.show()}function u(){s&&s.hide()}function d(){try{if(o)return o.open(),i=!0,n.onFormOpen&&n.onFormOpen(),void c();const t=n.useSentryUser,r=Dr(),s=r&&r.getUser();if(o=bh({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:t&&s&&s[t.name]||"",defaultEmail:t&&s&&s[t.email]||"",onClosed:()=>{l(),i=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),l()},onSubmit:a}),!o.el)throw new Error("Unable to open Feedback dialog");e.appendChild(o.el),u(),n.onFormOpen&&n.onFormOpen(),c()}catch(e){it.error(e)}}function p(){o&&(o.close(),i=!1,n.onFormClose&&n.onFormClose())}function h(){if(o){p();const e=o.el;e&&e.remove(),o=void 0}}function f(){i||d(),u()}return r?r.addEventListener("click",f):t&&(s=yh({buttonLabel:n.buttonLabel,onClick:f}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return o},showActor:l,hideActor:u,removeActor:function(){s&&s.el&&s.el.remove()},openDialog:d,closeDialog:p,removeDialog:h}}const kh=Zp.document;class Th{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:r=!1,showBranding:s=!0,showEmail:o=!0,showName:i=!0,useSentryUser:a={email:"email",name:"username"},themeDark:c,themeLight:l,colorScheme:u="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:f="Report a Bug",emailPlaceholder:m="your.email@example.org",emailLabel:g="Email",messagePlaceholder:y="What's the bug? What did you expect?",messageLabel:_="Description",namePlaceholder:v="Your Name",nameLabel:b="Name",isRequiredLabel:S="(required)",successMessageText:w="Thank you for your report!",onFormClose:k,onFormOpen:T,onSubmitError:x,onSubmitSuccess:E}={}){this.name=Th.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:s,id:t,isEmailRequired:n,isNameRequired:r,showEmail:o,showName:i,useSentryUser:a,colorScheme:u,themeDark:{...sh,...c},themeLight:{...rh,...l},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:f,emailLabel:g,emailPlaceholder:m,messageLabel:_,messagePlaceholder:y,nameLabel:b,namePlaceholder:v,isRequiredLabel:S,successMessageText:w,onFormClose:k,onFormOpen:T,onSubmitError:x,onSubmitSuccess:E}}setupOnce(){if(vn())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){lh&&it.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=uh(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?kh.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return lh&&it.error("[Feedback] Unable to attach to target element"),null;const s=wh({shadow:t,options:n,attachTo:r});return this._widgets.add(s),this._widget||(this._widget=s),s}))}catch(e){return lh&&it.error(e),null}}createWidget(e){try{return this._createWidget(uh(this.options,e||{}))}catch(e){return lh&&it.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){lh&&it.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=kh.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=wh({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(kh)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:s,themeDark:o}=e,{shadow:i,host:a}=ph({id:t,colorScheme:r,themeLight:s,themeDark:o});this._shadow=i,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&kh.body.appendChild(this._host),r}}Th.__initStatic();const xh="CaptureConsole",Eh=(e={})=>{const t=e.levels||rt;return{name:xh,setupOnce(){},setup(e){"console"in Ve&&Mt((({args:n,level:r})=>{Lr()===e&&t.includes(r)&&function(e,t){const n={level:Dn(t),extra:{arguments:e}};Mr((r=>{if(r.addEventProcessor((e=>(e.logger="console",Ft(e,{handled:!1,type:"console"}),e))),"assert"===t&&!1===e[0]){const t=`Assertion failed: ${je(e.slice(1)," ")||"console.assert"}`;return r.setExtra("arguments",e.slice(1)),void Cr(t,n)}const s=e.find((e=>e instanceof Error));if("error"===t&&s)return void Ir(s,n);Cr(je(e," "),n)}))}(n,r)}))}}};Js(xh,Eh);const Ih="Debug",Ch=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Ih,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",((e,n)=>{t.debugger,ot((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}};Js(Ih,Ch);const Rh="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ah="Dedupe",Oh=()=>{let e;return{name:Ah,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Lh(e,t))return!1;if(!Mh(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Dh(t),r=Dh(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Lh(e,t))return!1;if(!Mh(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Rh&&it.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function Mh(e,t){let n=Nh(e),r=Nh(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],s=n[e];if(t.filename!==s.filename||t.lineno!==s.lineno||t.colno!==s.colno||t.function!==s.function)return!1}return!0}function Lh(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Dh(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Nh(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Js(Ah,Oh);const Ph="ExtraErrorData",$h=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:Ph,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!Te(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,o=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const s=e[t];r[t]=Te(s)?s.toString():s}if(t&&void 0!==e.cause&&(r.cause=Te(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=Te(n)?n.toString():n}}return r}catch(e){Rh&&it.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r);if(o){const t={...e.contexts},r=bn(o,n);return Oe(r)&&(ft(r,"__sentry_skip_normalization__",!0),t[s]=r),{...e,contexts:t}}return e}(e,r,t,n)}};Js(Ph,$h);const Fh=Ve,jh="ReportingObserver",Bh=new WeakMap,Uh=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(e){if(Bh.has(Lr()))for(const t of e)Mr((e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let r="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;r=[e.crashId||"",e.reason||""].join(" ").trim()||r}else{r=t.body.message||r}}Cr(`${n}: ${r}`)}))}return{name:jh,setupOnce(){if(!("ReportingObserver"in Yt))return;new Fh.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){Bh.set(e,!0)}}};Js(jh,Uh);const zh="RewriteFrames",Hh=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;const r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),s=/^\//.test(e.filename);if(r||s){const s=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,o=t?function(e,t){e=Tn(e).slice(1),t=Tn(t).slice(1);const n=xn(e.split("/")),r=xn(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let e=0;e<s;e++)if(n[e]!==r[e]){o=e;break}let i=[];for(let e=o;e<n.length;e++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}(t,s):En(s);e.filename=`${n}${o}`}return e});return{name:zh,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>r(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}};Js(zh,Hh);const qh="SessionTiming",Wh=()=>{const e=Date.now();return{name:qh,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}};Js(qh,Wh);const Gh="HttpClient",Vh=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Gh,setupOnce(){},setup(e){!function(e,t){if(!Xt())return;Zt((n=>{if(Lr()!==e)return;const{response:r,args:s}=n,[o,i]=s;r&&function(e,t,n,r){if(Jh(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,r);let s,o,i,a;Zh()&&([{headers:s,cookies:i},{headers:o,cookies:a}]=[{cookieHeader:"Cookie",obj:e},{cookieHeader:"Set-Cookie",obj:n}].map((({cookieHeader:e,obj:t})=>{const n=function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(t.headers);let r;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=Kh(t))}catch(t){Rh&&it.log(`Could not extract cookies from header ${e}`)}return{headers:n,cookies:r}})));Rr(Xh({url:e.url,method:e.method,status:n.status,requestHeaders:s,responseHeaders:o,requestCookies:i,responseCookies:a}))}}(t,o,r,i)}))}(e,t),function(e,t){if(!("XMLHttpRequest"in Ve))return;gn((n=>{if(Lr()!==e)return;const r=n.xhr,s=r[mn];if(!s)return;const{method:o,request_headers:i}=s;try{!function(e,t,n,r){if(Jh(e,t.status,t.responseURL)){let e,s,o;if(Zh()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(s=Kh(e))}catch(e){Rh&&it.log("Could not extract cookies from response headers")}try{o=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n]=r,e}),{})}(t)}catch(e){Rh&&it.log("Could not extract headers from response")}e=r}Rr(Xh({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:o,responseCookies:s}))}}(t,r,o,i)}catch(e){Rh&&it.warn("Error while extracting response event form XHR response",e)}}))}(e,t)}}};function Yh(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Kh(e){return e.split("; ").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}function Jh(e,t,n){return function(e,t){return e.some((e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]))}(e.failedRequestStatusCodes,t)&&(r=e.failedRequestTargets,s=n,r.some((e=>"string"==typeof e?s.includes(e):e.test(s))))&&!vo(n,Lr());var r,s}function Xh(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Yh(e.responseHeaders)}}};return Ft(n,{type:"http.client",handled:!1}),n}function Zh(){const e=Lr();return!!e&&Boolean(e.getOptions().sendDefaultPii)}Js(Gh,Vh);const Qh=Ve,ef="ContextLines",tf=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:ef,setupOnce(){},processEvent:e=>function(e,t){const n=Qh.document,r=Qh.location&&(s=Qh.location.href,s.split(/[\?#]/,1)[0]);var s;if(!n||!r)return e;const o=e.exception&&e.exception.values;if(!o||!o.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const a=["<!DOCTYPE html>","<html>",...i.split("\n"),"</html>"];return o.forEach((e=>{const n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map((e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map((e=>Fe(e,0))),t.context_line=Fe(e[Math.min(r-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map((e=>Fe(e,0)))}(t,e,r),e}(e,a,r,t))))})),e}(e,t)}};function nf(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function rf(e){return nf(e.getAllKeys())}function sf(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=nf(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await Zn(t,e.textEncoder);await function(e,t,n){return e((e=>rf(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),nf(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>rf(e).then((t=>{if(0!==t.length)return nf(e.get(t[0])).then((n=>(e.delete(t[0]),nf(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function s(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function o(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(s(e)))}const i=o(),a=[];for(;r.length;){const e=o(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?s(t):o()])}return[i,a]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}Js(ef,tf);const of=1e6,af=String(0),cf="main";let lf="",uf="",df="",pf=ha.navigator&&ha.navigator.userAgent||"",hf="";const ff=ha.navigator&&ha.navigator.language||ha.navigator&&ha.navigator.languages&&ha.navigator.languages[0]||"";const mf=ha.navigator&&ha.navigator.userAgentData;var gf;function yf(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[af]:{name:cf}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,o="number"==typeof performance.timeOrigin?performance.timeOrigin:$n||0,i=o-($n||o);for(let o=0;o<e.samples.length;o++){const a=e.samples[o];if(void 0===a.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[o]={elapsed_since_start_ns:((a.timestamp+i-s)*of).toFixed(0),stack_id:t,thread_id:af};continue}let c=e.stacks[a.stackId];const l=[];for(;c;){l.push(c.frameId);const t=e.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId]}const u={elapsed_since_start_ns:((a.timestamp+i-s)*of).toFixed(0),stack_id:n,thread_id:af};r.stacks[n]=l,r.samples[o]=u,n++}return r}(e):e}function _f(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&ya&&it.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),o=yf(n),i=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||ur,runtime:{name:"javascript",version:ha.navigator.userAgent},os:{name:lf,version:uf,build_number:pf},device:{locale:ff,model:hf,manufacturer:pf,architecture:df,is_emulator:!1},debug_meta:{images:Sf(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Dt(),trace_id:s,active_thread_id:af,relative_start_ns:"0",relative_end_ns:(1e6*(a-i)).toFixed(0)}]}}function vf(e){return"pageload"===e.op}"object"==typeof(gf=mf)&&null!==gf&&"getHighEntropyValues"in gf&&mf.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(lf=e.platform||"",df=e.architecture||"",hf=e.model||"",uf=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];pf=`${t.brand} ${t.version}`}})).catch((e=>{}));const bf=new WeakMap;function Sf(e){const t=Ve._sentryDebugIds;if(!t)return[];const n=Lr(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let o;const i=bf.get(s);i?o=i:(o=new Map,bf.set(s,o));const a=Object.keys(t).reduce(((e,n)=>{let r;const i=o.get(n);i?r=i:(r=s(n),o.set(n,r));for(let s=r.length-1;s>=0;s--){const o=r[s],i=o&&o.filename;if(o&&i){e[i]=t[n];break}}return e}),{}),c=[];for(const t of e)t&&a[t]&&c.push({type:"sourcemap",code_file:t,debug_id:a[t]});return c}let wf=!1;function kf(e){if(wf)return ya&&it.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return ya&&it.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=Lr(),n=t&&t.getOptions();if(!n)return ya&&it.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(s=r)&&"boolean"!=typeof s||"number"==typeof s&&isNaN(s)?(ya&&it.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),0):!0===s||!1===s||!(s<0||s>1)||(ya&&it.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${s}.`),0)))return ya&&it.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var s;if(!r)return ya&&it.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(ya&&it.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Tf(e,t,n,r){return function(e){return e.samples.length<2?(ya&&it.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(ya&&it.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?_f(e,t,n,r):null}const xf=new Map;function Ef(e){const t=xf.get(e);return t&&xf.delete(e),t}function If(e){let t;vf(e)&&(t=1e3*Pn());const n=function(){const e=ha.Profiler;if("function"!=typeof e)return void(ya&&it.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){ya&&(it.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),it.log("[Profiling] Disabling profiling for current user session.")),wf=!0}}();if(!n)return e;ya&&it.log(`[Profiling] started profiling transaction: ${Sr(e).description}`);const r=Dt();async function s(){return e&&n?n.stop().then((t=>(o&&(ha.clearTimeout(o),o=void 0),ya&&it.log(`[Profiling] stopped profiling of transaction: ${Sr(e).description}`),t?(function(e,t){if(xf.set(e,t),xf.size>30){const e=xf.keys().next().value;xf.delete(e)}}(r,t),null):(ya&&it.log(`[Profiling] profiler returned null profile for: ${Sr(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(ya&&it.log("[Profiling] error while stopping profiler:",e),null))):null}let o=ha.setTimeout((()=>{ya&&it.log("[Profiling] max profile duration elapsed, stopping profiling for:",Sr(e).description),s()}),3e4);const i=e.end.bind(e);return e.end=function(){return e?(s().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),i()}),(()=>{i()})),e):i()},e}const Cf="BrowserProfiling",Rf=()=>({name:Cf,setupOnce(){},setup(e){const t=Dr().getTransaction();t&&vf(t)&&kf(t)&&If(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{kf(e)&&If(e)})),e.on("beforeEnvelope",(e=>{if(!xf.size)return;const t=function(e){const t=[];return Jn(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,s=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){ya&&it.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){ya&&it.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const o=Ef(r);if(!o){ya&&it.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const i=Tf(r,s,o,e);i&&n.push(i)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):it.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),Af=Js(Cf,Rf);let Of={};ha.Sentry&&ha.Sentry.Integrations&&(Of=ha.Sentry.Integrations);const Mf={...Of,...Go,...Ac};var Lf=Object.freeze({__proto__:null,Breadcrumbs:Qa,BrowserClient:Ra,BrowserProfilingIntegration:Af,BrowserTracing:class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Bs(),Vo&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...sa,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Hi(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Gi(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&qi(),this.options._experiments.enableInteractions&&Wi(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:o,startTransactionOnPageLoad:i,markBackgroundTransactions:a,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,f=h||this.options.tracePropagationTargets;Vo&&this._hasSetTracePropagationTargets&&h&&it.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),i,o),a&&Ko(),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),ea({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Vo&&it.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:o}=this.options,i="pageload"===e.op;let a;if(i){const t=i?oa("sentry-trace"):"",n=i?oa("baggage"):void 0,{traceId:r,dsc:s,parentSpanId:o,sampled:c}=Gn(t,n);a={traceId:r,parentSpanId:o,parentSampled:c,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else a={trimEnd:!0,...e};const c="function"==typeof n?n(a):a,l=void 0===c?{...a,sampled:!1}:c;l.metadata=l.name!==a.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,!1===l.sampled&&Vo&&it.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),Vo&&it.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:u}=Yo,d=js(t,l,r,s,!0,{location:u},o,i);return i&&Yo.document&&(Yo.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Yo.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(Yo.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),Yi(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,s="ui.action.click",o=os();if(o&&o.op&&["navigation","pageload"].includes(o.op))return void(Vo&&it.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(Vo&&it.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(Vo&&it.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const i=this._getCurrentHub(),{location:a}=Yo,c={name:this._latestRoute.name,op:s,trimEnd:!0,data:{[Ts]:this._latestRoute.context?ia(this._latestRoute.context):"url"}};e=js(i,c,t,n,!0,{location:a},r)};["click"].forEach((e=>{Yo.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=({entries:e})=>{const t=Lr(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,s=os(),o=Dr(),i=void 0!==o?o.getUser():void 0;e.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],o=e.duration,a=e.startTime,c=Object.keys(this._interactionIdToRouteNameMapping),l=c.length>0?c.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){if(c.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===o&&e.startTime===a)))return}if(!t)return;if(n)n.duration=Math.max(n.duration,o);else if(c.length<10||void 0===l||o>this._interactionIdToRouteNameMapping[l].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(l&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[l],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:o,parentContext:n,user:i,activeTransaction:s,replayId:r,startTime:a})}}}))};xi("event",e),xi("first-input",e)}},Dedupe:nc,Feedback:Th,FunctionToString:$o,GlobalHandlers:lc,HttpContext:mc,Hub:Xr,InboundFilters:Oo,Integrations:Mf,LinkedErrors:_c,ModuleMetadata:Eo,Replay:_p,ReplayCanvas:Xp,SDK_VERSION:Yr,SEMANTIC_ATTRIBUTE_SENTRY_OP:Es,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:Is,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:xs,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:Ts,Scope:Gr,TryCatch:wc,WINDOW:ha,addBreadcrumb:Ar,addEventProcessor:oo,addGlobalEventProcessor:pr,addIntegration:function(e){const t=Lr();t&&t.addIntegration?t.addIntegration(e):lr&&it.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},addTracingExtensions:Bs,breadcrumbsIntegration:Za,browserApiErrorsIntegration:Sc,browserProfilingIntegration:Rf,browserTracingIntegration:(e={})=>{const t=!!Vo&&!(!e.tracePropagationTargets&&!e.tracingOrigins);Bs(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...aa,...e},r=Hi(),s={};n.enableInp&&Gi(s,n.interactionsSampleRate),n.enableLongTask&&qi(),n._experiments.enableInteractions&&Wi();const o={name:void 0,context:void 0};function i(e){const t=es(),{beforeStartSpan:s,idleTimeout:i,finalTimeout:a,heartbeatInterval:c}=n,l="pageload"===e.op;let u;if(l){const t=l?ua("sentry-trace"):"",n=l?ua("baggage"):void 0,{traceId:r,dsc:s,parentSpanId:o,sampled:i}=Gn(t,n);u={traceId:r,parentSpanId:o,parentSampled:i,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else u={trimEnd:!0,...e};const d=s?s(u):u;d.metadata=d.name!==u.name?{...d.metadata,source:"custom"}:d.metadata,o.name=d.name,o.context=d,!1===d.sampled&&Vo&&it.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),Vo&&it.log(`[Tracing] Starting ${d.op} transaction on scope`);const{location:p}=Yo,h=js(t,d,i,a,!0,{location:p},c,l);return l&&Yo.document&&(Yo.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Yo.document.readyState)&&h.sendAutoFinishSignal()})),["interactive","complete"].includes(Yo.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((e=>{r(),Yi(e)})),h}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const r=e.getOptions(),{markBackgroundSpan:a,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=n,h=r&&r.tracePropagationTargets,f=h||n.tracePropagationTargets;let m;Vo&&t&&h&&it.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g=Yo.location&&Yo.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{m&&(Vo&&it.log(`[Tracing] Finishing current transaction with op: ${Sr(m).op}`),m.end()),m=i({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{m&&(Vo&&it.log(`[Tracing] Finishing current transaction with op: ${Sr(m).op}`),m.end()),m=i({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&Yo.location){const t={name:Yo.location.pathname,startTimestamp:$n?$n/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Ts]:"url"}};ca(e,t)}n.instrumentNavigation&&e.emit&&Yo.location&&pn((({to:t,from:n})=>{if(void 0===n&&g&&-1!==g.indexOf(t))g=void 0;else if(n!==t){g=void 0;const t={name:Yo.location.pathname,origin:"auto.navigation.browser",attributes:{[Ts]:"url"}};la(e,t)}})),a&&Ko(),p.enableInteractions&&function(e,t){let n;const r=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:o}=e,i="ui.action.click",a=os();if(a&&a.op&&["navigation","pageload"].includes(a.op))return void(Vo&&it.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(Vo&&it.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const{location:c}=Yo,l={name:t.name,op:i,trimEnd:!0,data:{[Ts]:t.context?pa(t.context):"url"}};n=js(es(),l,r,s,!0,{location:c},o)};["click"].forEach((e=>{Yo.document&&addEventListener(e,r,{once:!1,capture:!0})}))}(n,o),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=Lr(),s=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,o=void 0!==s?s.getReplayId():void 0,i=os(),a=Dr(),c=void 0!==a?a.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const s=e[r],a=n.duration,l=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===a&&e.startTime===l)))return}if(!r)return;if(s)s.duration=Math.max(s.duration,a);else if(u.length<da||void 0===d||a>e[d].duration){const n=t.name,s=t.context;n&&s&&(d&&Object.keys(e).length>=da&&delete e[d],e[r]={routeName:n,duration:a,parentContext:s,user:c,activeTransaction:i,replayId:o,startTime:l})}}}))};xi("event",n),xi("first-input",n)}(s,o),ea({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:n}},captureConsoleIntegration:Eh,captureEvent:Rr,captureException:Ir,captureMessage:Cr,captureSession:Fr,captureUserFeedback:function(e){const t=Lr();t&&t.captureUserFeedback(e)},chromeStackLineParser:$a,close:async function(e){const t=Lr();return t?t.close(e):(lr&&it.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},configureScope:function(e){es().configureScope(e)},contextLinesIntegration:tf,continueTrace:({sentryTrace:e,baggage:t},n)=>{const r=Dr(),{traceparentData:s,dynamicSamplingContext:o,propagationContext:i}=function(e,t){const n=Wn(e),r=Un(t),{traceId:s,parentSpanId:o,parentSampled:i}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||Dt(),parentSpanId:o||Dt().substring(16),spanId:Dt().substring(16),sampled:i,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||Dt(),spanId:Dt().substring(16)}}}(e,t);r.setPropagationContext(i),lr&&s&&it.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:bt({dynamicSamplingContext:o})};return n?ns((()=>n(a))):a},createTransport:ho,createUserFeedbackEnvelope:Ca,debugIntegration:Ch,dedupeIntegration:Oh,defaultIntegrations:Ic,defaultRequestInstrumentationOptions:Qi,defaultStackLineParsers:Va,defaultStackParser:Ya,endSession:Pr,eventFromException:ka,eventFromMessage:Ta,exceptionFromError:_a,extraErrorDataIntegration:$h,extractTraceparentData:is,feedbackIntegration:e=>new Th(e),flush:async function(e){const t=Lr();return t?t.flush(e):(lr&&it.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},forceLoad:function(){},functionToStringIntegration:Po,geckoStackLineParser:Ba,getActiveSpan:gs,getActiveTransaction:os,getClient:Lr,getCurrentHub:es,getCurrentScope:Dr,getDefaultIntegrations:Cc,getHubFromCarrier:rs,getReplay:function(){const e=Lr();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")},getSpanStatusFromHttpCode:us,globalHandlersIntegration:cc,httpClientIntegration:Vh,httpContextIntegration:fc,inboundFiltersIntegration:Ao,init:Rc,instrumentOutgoingRequests:ea,isInitialized:function(){return!!Lr()},lastEventId:function(){return es().lastEventId()},linkedErrorsIntegration:yc,makeBrowserOfflineTransport:function(e){return function(e){return t=>e({...t,createStore:sf})}(go(e))},makeFetchTransport:Oa,makeMain:Qr,makeMultiplexedTransport:function(e,t){return n=>{const r=e(n),s=new Map;function o(t,r){const o=r?`${t}:${r}`:t;let i=s.get(o);if(!i){const a=lt(t);if(!a)return;const c=Ws(a,n.tunnel);i=r?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=yo(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,r)({...n,url:c}):e({...n,url:c}),s.set(o,i)}return[t,i]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return yo(e,n)}}).map((e=>"string"==typeof e?o(e,void 0):o(e.dsn,e.release))).filter((e=>!!e));0===n.length&&n.push(["",r]);return(await Promise.all(n.map((([t,n])=>n.send(function(e,t){return Yn(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[await r.flush(e)];for(const[,n]of s)t.push(await n.flush(e));return t.every((e=>e))}}}},makeXHRTransport:Ma,metrics:Wo,moduleMetadataIntegration:xo,onLoad:function(e){e()},onProfilingStartRouteTransaction:function(e){return e?kf(e)?If(e):e:(ya&&it.log("[Profiling] Transaction is undefined, skipping profiling"),e)},opera10StackLineParser:qa,opera11StackLineParser:Ga,parameterize:function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n},replayCanvasIntegration:Jp,replayIntegration:e=>new _p(e),reportingObserverIntegration:Uh,rewriteFramesIntegration:Hh,sendFeedback:ch,sessionTimingIntegration:Wh,setContext:Or,setCurrentClient:po,setExtra:function(e,t){es().setExtra(e,t)},setExtras:function(e){es().setExtras(e)},setHttpStatus:ps,setMeasurement:Us,setTag:function(e,t){es().setTag(e,t)},setTags:function(e){es().setTags(e)},setUser:function(e){es().setUser(e)},showReportDialog:(e={},t=es())=>{if(!ha.document)return void(ya&&it.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s)return void(ya&&it.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const o=ha.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=function(e,t){const n=dt(e);if(!n)return"";const r=`${Hs(n)}embed/error-page/`;let s=`dsn=${ct(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(s+=`&name=${encodeURIComponent(e.name)}`),e.email&&(s+=`&email=${encodeURIComponent(e.email)}`)}else s+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${s}`}(s,e),e.onLoad&&(o.onload=e.onLoad);const{onClose:i}=e;if(i){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{i()}finally{ha.removeEventListener("message",e)}};ha.addEventListener("message",e)}const a=ha.document.head||ha.document.body;a?a.appendChild(o):ya&&it.error("Not injecting report dialog. No injection point found in HTML")},spanStatusfromHttpCode:ds,startBrowserTracingNavigationSpan:la,startBrowserTracingPageLoadSpan:ca,startInactiveSpan:ms,startSession:Nr,startSpan:function(e,t){const n=_s(e);return ns((()=>Mr(e.scope,(r=>{const s=es(),o=r.getSpan(),i=e.onlyIfParent&&!o?void 0:ys(s,{parentSpan:o,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return hs((()=>t(i)),(()=>{if(i){const{status:e}=Sr(i);e&&"ok"!==e||i.setStatus("internal_error")}}),(()=>i&&i.end()))}))))},startSpanManual:function(e,t){const n=_s(e);return ns((()=>Mr(e.scope,(r=>{const s=es(),o=r.getSpan(),i=e.onlyIfParent&&!o?void 0:ys(s,{parentSpan:o,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function a(){i&&i.end()}return hs((()=>t(i,a)),(()=>{if(i&&i.isRecording()){const{status:e}=Sr(i);e&&"ok"!==e||i.setStatus("internal_error")}}))}))))},startTransaction:function(e,t){return es().startTransaction({...e},t)},trace:function(e,t,n=()=>{},r=()=>{}){const s=es(),o=Dr(),i=o.getSpan(),a=_s(e),c=ys(s,{parentSpan:i,spanContext:a,forceTransaction:!1,scope:o});return o.setSpan(c),hs((()=>t(c)),(e=>{c&&c.setStatus("internal_error"),n(e,c)}),(()=>{c&&c.end(),o.setSpan(i),r()}))},winjsStackLineParser:za,withActiveSpan:function(e,t){return Mr((n=>(n.setSpan(e),t(n))))},withIsolationScope:function(e){return ns((()=>e(ts())))},withScope:Mr,wrap:function(e){return ga(e)()}});const Df="Unidentified service name supplied to getServiceType",Nf=(e,t)=>((e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(U).includes(t))throw new Error(Df);if(!e.isLoggedIn)return z;switch(t){case U.TRANSLATOR:return e.translatorServiceType;case U.WRITE:return e.writeServiceType;case U.API:return e.apiServiceType;case U.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(Df)})(e,t)===H,Pf=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((t=>t.test(e))),$f={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.42.0",environment:ue(),tracesSampleRate:pe()?.1:1,sampleRate:pe()?.1:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return Pf(t)?null:(de()&&console.error(e),e)}};const Ff=e=>{chrome.storage.sync.get(["installationId","session",he.isLoggedIn,he.translatorServiceType,he.writeServiceType],(function(t){e.setTag("internal_session_id",t?.session?.id),e.setTag("is_translator_pro",Nf(t,U.TRANSLATOR)),e.setTag("is_write_pro",Nf(t,U.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>(t?.session?.newValue&&e.setTag("internal_session_id",t.session.newValue.id),t?.installationId&&e.setUser({id:t.installationId}),t?.browser_instance_id&&e.setTag("browser_instance_id",fe.browserInstanceId.newValue),!0!==t.isLoggedIn?.newValue&&!1!==t.isLoggedIn?.newValue||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.sync.get([he.isLoggedIn],e.setTag("is_translator_pro",Nf({...fe,translatorServiceType:t.translatorServiceType.newValue},U.TRANSLATOR))),t.writeServiceType&&chrome.storage.sync.get([he.isLoggedIn],e.setTag("is_write_pro",Nf({...fe,writeServiceType:t.writeServiceType.newValue},U.WRITE))),!0)))};(de()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";Pf(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";Pf(t)&&e.preventDefault()}))),Rc({...$f}),Ff(Lf),Lf).setContext("appContext",{location:"firefoxFirstRun"}),new class extends F{constructor(e){super(),$(this,e,we,Se,o,{})}}({target:document.body})}();
//# sourceMappingURL=firefox-first-run.js.map
