const r={};let N=!1;function R(){N=!0,chrome.runtime.onMessage.addListener((t,e,n)=>{if(t.isSendMessageToBackgroundMessage&&r[t.type]){const s=r[t.type].map(a=>a(...t.args)).pop();return s.then?(s.then(a=>{n(a)}),!0):n(s)}})}const o={};let M=!1;function d(){M=!0,chrome.runtime.onMessageExternal.addListener((t,e,n)=>{var s,a;if((s=e==null?void 0:e.url)!=null&&s.startsWith("https://esuit.dev")&&o[t.type]){const c=o[t.type].map(i=>i(t.args,e)).pop();if(t.callbackFnName&&(a=e.tab)!=null&&a.id){const i=e.tab.id;c&&c.then?c.then(p=>{chrome.scripting.executeScript({target:{tabId:i},world:"MAIN",args:[p??!1,t.callbackFnName],func:(T,u)=>{try{window[u](T)}catch(l){console.error(l)}}})}):chrome.scripting.executeScript({target:{tabId:i},world:"MAIN",args:[c??!1,t.callbackFnName],func:(p,T)=>{try{window[T](p)}catch(u){console.error(u)}}})}return!0}})}async function S(t,...e){if(A()){if(r[t])return r[t].map(n=>n(...e)).pop();throw new Error(`no handler for ${t}`)}return await chrome.runtime.sendMessage({isSendMessageToBackgroundMessage:!0,type:t,args:e})}function P(t,e){return!N&&R(),r[t]=r[t]||[],r[t].push(e),()=>{const n=r.indexOf(e);r.splice(n,1)}}function w(t,e){return!M&&d(),o[t]=o[t]||[],o[t].push(e),()=>{const n=o.indexOf(e);o.splice(n,1)}}function A(){return!!~location.pathname.indexOf("service-worker-loader.js")}var h=(t=>(t[t.FREE=0]="FREE",t[t.BASIC=1]="BASIC",t[t.PREMIUM=2]="PREMIUM",t))(h||{}),I=(t=>(t[t.SUBSCRIPTION=0]="SUBSCRIPTION",t[t.ONETIME_PAYMENT=1]="ONETIME_PAYMENT",t))(I||{}),m=(t=>(t[t.ONE_MONTH=1]="ONE_MONTH",t[t.THREE_MONTH=3]="THREE_MONTH",t[t.SIX_MONTH=6]="SIX_MONTH",t[t.A_YEAR=12]="A_YEAR",t))(m||{}),f=(t=>(t[t.STRIPE=0]="STRIPE",t[t.PAYPAL=1]="PAYPAL",t))(f||{}),O=(t=>(t[t.FACEBOOK=0]="FACEBOOK",t[t.INSTAGRAM=1]="INSTAGRAM",t))(O||{}),_=(t=>(t.SUBSCRIPTION="paypal_subscription",t.PAYMENT="paypal_payment",t))(_||{}),g=(t=>(t.RETURN_PAGE="RETURN_PAGE",t.RETURN_EXT="RETURN_EXT",t.RETURN_EXT_LOCAL="RETURN_EXT_LOCAL",t))(g||{});const b=["https://www.facebook.com/*","https://web.facebook.com/*","https://*.esuit.dev/*"],U="ESUIT | Comments Exporter for Facebookâ„¢",k="export-comments-for-facebook";export{g as M,h as T,U as e,b as h,S as k,P as m,k as p,w};
