(()=>{"use strict";const e=new class{configure(e){this.enabled="development"===e.config.environment||e.config.enableLog||e.config.urls.page.indexOf("pfdebug=1")>=0}log(...e){this.enabled&&console.log(...e)}error(...e){this.enabled&&console.error(...e)}time(e){this.enabled&&console.time(e)}timeEnd(e){this.enabled&&console.timeEnd(e)}constructor(){var e,t;t=void 0,(e="enabled")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.enabled=!0}};class t{postMessage(e,t,n){chrome.runtime.sendMessage({destination:e,type:t,payload:n})}listen(e,t,n){if(this.setupDone)return;const o=chrome.runtime.connect({name:e});this.setupPort(o,t,n),this.setupDone=!0}setupPort(e,t,n){e.onMessage.addListener((e=>{try{if(!e)return;const n=e.type;if(!n)return;const o=t[n];if(!o)return;o(e.payload)}catch(e){if(!n)throw e;n(e)}})),e.onDisconnect.addListener((()=>{setTimeout((()=>{const o=chrome.runtime.connect({name:e.name});this.setupPort(o,t,n)}))}))}constructor(){var e,t;t=void 0,(e="setupDone")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.setupDone=!1}}var n=function(e){return e.Letter="Letter",e.A4="A4",e}({}),o=function(e){return e.Full="100",e.ThreeQuarters="75",e.Half="50",e.Quarter="25",e.None="0",e}({}),i=function(e){return e.ExtraLarge="130",e.Larger="120",e.Large="110",e.Normal="100",e.Small="90",e.Smaller="80",e.ExtraSmall="70",e}({});function r(e,t){return e.nodeType===Node.ELEMENT_NODE&&(e.classList?e.classList.contains(t):(e.getAttribute("class")||"").split(/\s/).indexOf(t)>=0)}function s(e,t){e.nodeType===Node.ELEMENT_NODE&&(r(e,t)||(e.classList?e.classList.add(t):e.className=(e.className||"")+" "+t))}function a(e,t){if(e.nodeType===Node.ELEMENT_NODE&&r(e,t))if(e.classList)e.classList.remove(t);else{const n=(e.getAttribute("class")||"").split(" "),o=n.indexOf(t);o>=0&&n.splice(o,1),e.setAttribute("class",n.join(" "))}}function c(e,t){var n;const o=e.getElementById(t);null==o||null===(n=o.parentElement)||void 0===n||n.removeChild(o)}function l(){const e=window.top||window;try{return(null==e?void 0:e.location.href)||window.location.href}catch(e){return window.location.href}}function d(e,t,n=!1){if(!e)return e;if(e.startsWith("javascript:")||e.startsWith("data:"))return e;if(e.startsWith("#"))return e;if(/^https?:\/\//i.test(e))return e;if(null!==e.match(/^[a-z]{1,2}_[a-z0-9]+(?::[a-z]+)?/g)||e.match(/^\d+$/)||e.match(/^\d+&sum=[\da-zA-Z0-9_-]+\s+\d+w$/))return e;if(e.startsWith("//"))return t.protocol+e;{const o=t.protocol+"//"+t.host;return e.startsWith("/")||(e="/"+e),n&&/\.[a-zA-Z0-9]+$/.test(t.pathname)?o+t.pathname.split("/").slice(0,-1).join("/")+e:o+e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{get isReady(){return this.isDomReady}set isReady(e){this.isDomReady=e}domReady(e){this.readyFunc=e,"complete"!==document.readyState?(this.raceTimeoutId=window.setTimeout((()=>{this.detach(),this.ready()}),1500),document.addEventListener("DOMContentLoaded",this.completed),window.addEventListener("load",this.completed)):this.ready()}ready(){if(!this.isDomReady){if(!document.body)return void setTimeout((()=>this.ready()),13);this.isDomReady=!0,this.readyFunc()}}detach(){document.removeEventListener("DOMContentLoaded",this.completed),window.removeEventListener("load",this.completed),this.raceTimeoutId&&clearTimeout(this.raceTimeoutId)}constructor(){p(this,"isDomReady",void 0),p(this,"raceTimeoutId",void 0),p(this,"readyFunc",void 0),p(this,"completed",(e=>{"load"!==e.type&&"complete"!==document.readyState||(this.detach(),this.ready())})),this.isDomReady=!1,this.raceTimeoutId=null,this.readyFunc=()=>{}}}function u(){let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(n=>{let o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(t+o)%16|0,t=Math.floor(t/16)),("x"===n?o:3&o|8).toString(16)}))}function m(e){let t=0;return e.getAttribute("data-pf_rect_width")&&(t=parseInt(e.getAttribute("data-pf_rect_width")||"0",10)),(null===t||0===t||"number"!=typeof t||isNaN(t))&&(t=e.getBoundingClientRect().width),t}function f(e){let t=null;return e.getAttribute("data-pf_rect_height")&&(t=parseInt(e.getAttribute("data-pf_rect_height")||"0",10)),(null===t||0===t||"number"!=typeof t||isNaN(t))&&(t=e.getBoundingClientRect().height),t}class g{run(){const e=Array.from(document.body.children);for(;e.length>0;){const t=e.shift();if(t&&!r(t,"comment-list")&&t.nodeType===Node.ELEMENT_NODE){try{const e=t.nodeName.toLowerCase();switch(this.persistComputedStylesAndRect(t),t.shadowRoot&&(s(t,"pf-shadow-root"),t.dataset.pfShadowRoot=u()),"none"===t.getAttribute("data-pf_style_display")||"hidden"===t.getAttribute("data-pf_style_visibility")?s(t,"hidden-originally"):r(t,"hidden-originally")&&a(t,"hidden-originally"),e){case"a":this.processLink(t);break;case"input":case"textarea":this.processFormElement(t);break;case"select":this.processSelect(t);break;case"img":case"svg":this.processImage(t,e);break;default:this.processBackgroundImage(t)}}catch(e){}e.push(...Array.from(t.children))}}}persistComputedStylesAndRect(e){const t=(e,t,n,o)=>{for(let i=0,r=n.length;i<r;++i){const r=n[i],s=["pf",o,r].join("_");e.dataset[s]=String(t[r])}},n=e.parentElement;if(!n)return;if("none"===n.getAttribute("data-pf_style_display")||"hidden"===n.getAttribute("data-pf_style_visibility"))return e.dataset.pf_style_display="none",void(e.dataset.pf_style_visibility="hidden");const o=window.getComputedStyle(e);o&&t(e,o,["display","visibility"],"style");const i=e.getBoundingClientRect&&e.getBoundingClientRect(),r=e.nodeName.toUpperCase();"IMG"!==r&&"SVG"!==r&&"IFRAME"!==r||i&&t(e,i,["width","height"],"rect")}processLink(e){const t=e.getAttribute("href");t&&!["#","http","javascript","mailto"].some((e=>t.startsWith(e)))&&e.setAttribute("href",d(t,window.location))}processFormElement(e){["radio","checkbox"].includes(e.type)?e.checked&&e.setAttribute("checked","checked"):e.setAttribute("value",e.value)}processSelect(e){e.options.length&&e.selectedIndex>=0&&e.options[e.selectedIndex].setAttribute("selected","selected")}processImage(e,t){e.getAttribute("src")&&e.setAttribute("src",e.getAttribute("src"));const n=e.getAttribute("srcset")||e.getAttribute("data-srcset");if(n){const t=n.split(/,\s/).map((e=>d(e,window.location)));e.setAttribute("pf-data-srcset",t.join(", "))}if("img"===t&&!r(e,"hidden-originally")){const t=f(e);m(e)*t>6e4&&s(e,"pf-large-image")}}processBackgroundImage(e){if("on"!==this.userSettings.bgImageUrlSupport)return;let t=window.getComputedStyle(e).backgroundImage;if("none"!==t&&(t=t.replace(/^url\("(.+)"\)/,"$1"),e.setAttribute("data-pf-style-background-image",t),!r(e,"hidden-originally"))){const t=f(e);m(e)*t>6e4&&s(e,"pf-large-image")}}constructor(e){var t,n;n=void 0,(t="userSettings")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.userSettings=e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w{selectors(){if(!this.optionsElement)return{};const e=this.optionsElement.getAttribute("data-selectors")||this.optionsElement.getAttribute("data-content"),t=this.parseAttribute(e||"");return{contentSelectors:t.contentSelectors,titleSelector:t.titleSelector,primaryImageSelector:t.primaryImageSelector,authorSelector:t.authorSelector,dateSelector:t.dateSelector,removeSelectors:t.removeSelectors}}contentFeatures(){var e,t;const n={primaryImage:"all",fetchOriginalPage:"default"};if(!this.optionsElement)return n;const o=this.optionsElement.getAttribute("data-content-features"),i=this.parseAttribute(o||"");return r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){y(e,t,n[t])}))}return e}({},n),s=null!=(s={primaryImage:(null===(e=i.primaryImage)||void 0===e?void 0:e.value)||n.primaryImage,fetchOriginalPage:(null===(t=i.fetchOriginalPage)||void 0===t?void 0:t.value)||n.fetchOriginalPage,keepStyle:i.keepStyle,bgImageUrlSupport:i.bgImageUrlSupport})?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(s)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))})),r;var r,s}fallbackStrategy(){var e;return this.optionsElement&&(null===(e=this.optionsElement.getAttribute("data-fallback-strategy"))||void 0===e?void 0:e.trim())||"algo"}parseAttribute(e){if(!e)return{};const t={},n=e.trim().split(";");for(let e=0,o=n.length;e<o;++e){const o=n[e].trim();if(o){const e=o.indexOf("="),n=o.slice(0,e).trim(),i=o.slice(e+1).trim();if(n&&i)if(i.startsWith("meta")){const e=i.match(/meta\[(\w+)=['"]([^'"]+)['"]\]/i);e&&(t[n]={type:"meta",attributeName:e[1],attributeValue:e[2],value:i})}else t[n]={type:"selector",value:i}}}return t}constructor(){y(this,"optionsElement",null),this.optionsElement=document.querySelector("printfriendly-options")}}class b{get(){var e;const t=document.location,n=document.body,o=this.replaceShadowRootElements(n);return{dir:n.getAttribute("dir")||(null===(e=document.querySelector("html"))||void 0===e?void 0:e.getAttribute("dir"))||getComputedStyle(n).getPropertyValue("direction")||"ltr",url:t.href,bodyClassList:Array.from(n.classList||n.className.split(" ")),emailText:this.getEmailText(),screen:this.getScreenData(),metas:this.getMetaTags(),csStyleSheetHrefs:this.getStyleSheetHrefs(),location:{href:t.href,host:t.host,pathname:t.pathname,protocol:t.protocol},hasPrintOnly:!!document.querySelector("#print-only, .print-only"),title:document.title,body:o.innerHTML.replace(/<\s*?embed[^>]*?>(.*?<\s*?\/\s*?embed\s*?>)?/g,""),doc:document,language:this.getLanguage(),canvasDataUrls:this.getCanvasDataUrls(),favicon:this.getFavicon(),applicationLd:this.getApplicationLd()}}getEmailText(){const e=document.getElementsByClassName("pf-email");return e.length&&e[0].textContent||""}getScreenData(){let e;try{const t=window.top||window;e=t.document?t:window}catch(t){e=window}var t,n,o,i;return{x:null!==(t=e.screenX)&&void 0!==t?t:e.screenLeft,y:null!==(n=e.screenY)&&void 0!==n?n:e.screenTop,width:null!==(o=e.outerWidth)&&void 0!==o?o:e.document.documentElement.clientWidth,height:(null!==(i=e.outerHeight)&&void 0!==i?i:e.document.documentElement.clientHeight)-22}}getMetaTags(){const e=document.getElementsByTagName("meta"),t=[];for(let n=0,o=e.length;n<o;++n)t.push({name:e[n].getAttribute("name"),content:e[n].getAttribute("content"),property:e[n].getAttribute("property"),itemprop:e[n].getAttribute("itemprop")});return t}getStyleSheetHrefs(){const e=[];for(let t=0,n=document.styleSheets.length;t<n;++t)e.push(document.styleSheets[t].href||"");return e}replaceShadowRootElements(e){var t;if(document.body.querySelectorAll(".pf-shadow-root").length<10)return e.cloneNode(!0);const n=e.querySelector("gallery-slideshow"),o=null===(t=e.querySelector("cp-article"))||void 0===t?void 0:t.shadowRoot;return o&&!n?this.msnTransformerShadowDom(o,e):this.generalTransformerShadowDom(e)}generalTransformerShadowDom(e){if(e.nodeType===Node.ELEMENT_NODE){const t=e,n=t.shadowRoot,o=n||t.tagName.toLowerCase().includes("-")?document.createElement("div"):e.cloneNode(!1);if(n)for(const e of n.childNodes)o.appendChild(this.generalTransformerShadowDom(e));for(const e of t.childNodes){const t=this.generalTransformerShadowDom(e);t&&o.appendChild(t)}return o}return e.cloneNode(!0)}msnTransformerShadowDom(e,t){const n=document.createElement("div"),o=(e,n)=>{for(const i of e.childNodes){const e=i;if(i.nodeType===Node.ELEMENT_NODE){let i=e.cloneNode(!1);if(i.tagName&&"slot"===i.tagName.toLowerCase()){const e=i.getAttribute("name"),n=t.querySelector(`[slot="${e}"]`);for(const e of(null==n?void 0:n.childNodes)||[]){const t=e;if(t.shadowRoot){const e=document.createElement("div");for(const n of t.shadowRoot.childNodes){const t=n;e.appendChild(t.cloneNode(!0))}i=e}}}o(e,i),n.appendChild(i)}else i.nodeType===Node.TEXT_NODE&&n.appendChild(document.createTextNode(i.nodeValue||""))}};return o(e,n),n}getLanguage(){const e=document.getElementsByTagName("html")[0].getAttribute("lang");if(e)return e;const t=document.querySelector("meta[http-equiv=Content-Language]");return t?t.getAttribute("content"):null}getCanvasDataUrls(){const e=[],t=document.getElementsByTagName("canvas");for(let n=0,o=t.length;n<o;++n)try{const o=t[n],i=o.toDataURL("image/png");o.setAttribute("pf-dataurl-index",e.length.toString()),e.push(i)}catch(e){}return e}getFavicon(){let e="";const t=["shortcut icon","icon","apple-touch-icon","apple-touch-icon-precomposed"].flatMap((e=>Array.from(document.querySelectorAll(`link[rel="${e}"]`)))),n=t.find((e=>{const t=e.getAttribute("href");return t&&t.toLowerCase().match(/\.svg($|\?)/)}));if(null==n?void 0:n.getAttribute("href"))e=n.getAttribute("href");else{const n=t.find((e=>e.getAttribute("href")));(null==n?void 0:n.getAttribute("href"))&&(e=n.getAttribute("href"))}if(e&&!e.match(/^(https?:\/\/|data:image)/)){const t=new URL(document.location.href);e=e.startsWith("//")?t.protocol+e:e.startsWith("/")?t.origin+e:t.origin+"/"+e}return e||(e="https://cdn.printfriendly.com/icons/globe.svg"),e}getApplicationLd(){const t=document.querySelector('script[type="application/ld+json"]');if(t)try{var n;const e=null===(n=t.textContent)||void 0===n?void 0:n.replace(/^\s*\/*\s<!\[CDATA\[|\]\]>\s*$/g,"").replace(/[/\s]*$/,"");return e?JSON.parse(e):void 0}catch(t){return void e.error(t)}}}const v={platform:"unknown",enableLog:!1,environment:"development",extensionPageSize:n.Letter,extensionTextSize:i.Normal,extensionImgSize:o.Full,extensionScreenshotBanner:!0,extensionIsScreenshotImg:!1,extensionPath:"",maxImageWidth:750,urls:{email:"",page:""},enablePrintOnly:!1,hosts:{pf:"https://www.printfriendly.com",email:"https://www.printfriendly.com"},domains:{page:window.location.host.split(":")[0].split("www.").pop()||""}},S={dir:"ltr",url:"",bodyClassList:[],emailText:"",screen:{x:0,y:0,width:0,height:0},metas:[],csStyleSheetHrefs:[],location:{href:"",host:"",pathname:"",protocol:""},hasPrintOnly:!1,title:"",body:"",doc:document,language:null,canvasDataUrls:[],favicon:"",applicationLd:null},x={keepStyle:!1,showHiddenContent:!1,bgImageUrlSupport:"default",fallbackStrategy:"default",imagesSize:"full-size",imageDisplayStyle:"block"},O={startTime:0,config:v,userSettings:x,page:S};function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){E(e,t,n[t])}))}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}class T{setPfOptions(t){if(!this.initialized)try{this.initialized=!0,this.config=this.mergeOptionsAndWindowConfig(t),this.config.urls={email:this.config.hosts.email+"/email/new",page:l()},window.print=()=>this.start()}catch(t){e.error(t)}}start(){if(!this.initialized)return;const t=e=>{Object.assign(this.userSettings,e)};t(this.optionsParser.selectors()),this.userSettings.fallbackStrategy=this.optionsParser.fallbackStrategy(),this.userSettings.showHiddenContent=1===parseInt(window.pfShowHiddenContent||"0"),t(this.optionsParser.contentFeatures()),this.htmlPreProcessor=new g(this.userSettings),this.domManager.domReady((()=>{try{var t;this.startTime=Date.now(),this.config.extensionIsScreenshotImg||null===(t=this.htmlPreProcessor)||void 0===t||t.run();const n=this.pageDataCollector.get();this.pfData={startTime:this.startTime||0,config:this.config,userSettings:this.userSettings,page:A(P({},n),{enablePrintOnly:this.checkPrintOnly()})},e.configure(this.pfData),this.sanitizeLocation(),document.body.appendChild(this.createMaskElement()),this.resetStyles(),function(e){const t=e.getElementsByTagName("head")[0];let n=e.querySelector("meta[name=viewport]");n||(n=e.createElement("meta"),n.name="viewport"),n.content="width=device-width, initial-scale=1",t.appendChild(n)}(document);const o=function(){const e=document.createElement("iframe");return e.style.border="none",e.setAttribute("allowtransparency","true"),e}();o.id="pf-core",o.name="pf-core",o.className="pf-core",o.src=`${this.config.extensionPath}/pages/core.html`,o.onload=()=>{this.messageBus.postMessage("core","PfLoadCore",{pfData:this.pfData})},document.body.appendChild(o),document.head.appendChild(this.createCoreStyles())}catch(t){e.error(t)}}))}closePreview(){this.domManager.isReady=!1,this.unsanitizeLocation(),c(document,"pf-core"),c(document,"pf-mask"),c(document,"gaiframe"),function(e=document){const t=e.getElementsByName("pf-style");for(let e=t.length-1;e>=0;--e){var n;const o=t[e];null===(n=o.parentNode)||void 0===n||n.removeChild(o)}}()}mergeOptionsAndWindowConfig(e){const t={pfEnableLog:window.pfEnableLog||!1,extensionTextSize:window.extensionTextSize||i.Normal,extensionImgSize:window.extensionImgSize||o.Full,extensionPath:window.extensionPath||"",extensionScreenshotBanner:window.extensionScreenshotBanner||!0,extensionIsScreenshotImg:window.extensionIsScreenshotImg||!1};return e&&(this.config.environment=e.environment||"development",e.hosts&&(this.config.hosts=P({},this.config.hosts,e.hosts)),e.enablePrintOnly&&(this.config.enablePrintOnly=e.enablePrintOnly)),A(P({},this.config),{enableLog:"development"===this.config.environment||t.pfEnableLog,extensionTextSize:t.extensionTextSize,extensionImgSize:t.extensionImgSize,extensionPath:t.extensionPath,extensionScreenshotBanner:t.extensionScreenshotBanner,extensionIsScreenshotImg:t.extensionIsScreenshotImg})}checkPrintOnly(){return!!document.querySelector('.at-svc-printfriendly, a[href*="printfriendly.com"], script[src*="//cdn.printfriendly.com"], script[src*="//pf-cdn.printfriendly.com"], img[src*="//cdn.printfriendly.com"]')||this.config.enablePrintOnly}sanitizeLocation(){var e;const t=function(e){const t=(e=e.split("?")[0]).split("/");for(let e=t.length;e-- >0;)t[e].indexOf("@")>0&&t.splice(e,1);return t.join("/")}(document.location.href.split("?")[0]);["msn.com"].some((e=>document.location.href.includes(e)))||t!==location.href&&(null===(e=history)||void 0===e?void 0:e.pushState)&&history.pushState({pf:"sanitized"},document.title,t)}unsanitizeLocation(){var e,t;"sanitized"===(null===(t=history)||void 0===t||null===(e=t.state)||void 0===e?void 0:e.pf)&&history.back()}createMaskElement(){const e=document.createElement("div");return e.innerHTML='\n      <div id="pf-mask" style="\n        z-index: 2147483627 !important;\n        position: fixed !important;\n        top: 0pt !important;\n        left: 0pt !important;\n        background-color: rgb(0, 0, 0) !important;\n        opacity: 0.8 !important;\n        height: 100% !important;\n        width: 100% !important;">\n      </div>',e}resetStyles(){!function(e,t){const n=t.getElementsByTagName("head")[0],o=t.createElement("style");o.setAttribute("name","pf-style"),o.sheet?o.sheet.insertRule(e):o.appendChild(t.createTextNode(e)),n.appendChild(o)}("\n      body, body * { z-index: 0 !important; }\n      html, body {\n        overflow: hidden !important;\n        height: 100% !important;\n        margin: 0 !important;\n        position: static !important;\n        padding: 0px !important;\n      }\n    ",document)}createCoreStyles(){const e=document.createElement("style");return e.innerHTML="\n      iframe#pf-core.pf-core {\n        display: block !important;\n        position: fixed !important;\n        width: 100% !important;\n        max-width: 1200px !important;\n        height: 100vh !important;\n        margin: auto !important;\n        top: 0 !important;\n        left: 0 !important;\n        right: 0 !important;\n        bottom: 0 !important;\n        z-index: 2147483628 !important;\n      }\n\n      @media (min-width: 576px) {\n        iframe#pf-core.pf-core {\n          max-width: 728px !important;\n        }\n      }\n      @media (min-width: 768px) {\n        iframe#pf-core.pf-core {\n          max-width: 812px !important;\n          height: 90vh !important;\n          border-radius: 0.5rem !important;\n        }\n      }\n      @media (min-width: 992px) {\n        iframe#pf-core.pf-core {\n          max-width: 890px !important;\n          height: 90vh !important;\n          border-radius: 0.5rem !important;\n        }\n      }\n      @media (min-width: 1200px) {\n        iframe#pf-core.pf-core {\n          max-width: 1020px !important;\n          height: 90vh !important;\n          border-radius: 0.5rem !important;\n        }\n      }\n    ",e}constructor(e){E(this,"domManager",void 0),E(this,"optionsParser",void 0),E(this,"pageDataCollector",void 0),E(this,"htmlPreProcessor",void 0),E(this,"messageBus",void 0),E(this,"userSettings",void 0),E(this,"config",void 0),E(this,"pfData",void 0),E(this,"startTime",void 0),E(this,"initialized",void 0),this.config=P({},v),this.messageBus=e,this.domManager=new h,this.optionsParser=new w,this.pageDataCollector=new b,this.userSettings=P({},x),this.pfData=P({},O),this.initialized=!1,this.htmlPreProcessor=null,this.startTime=0}}function L(e,t,n,o,i,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,i)}const N=document.getElementById("printfriendly-data");if(N){const e=JSON.parse(N.getAttribute("data")||"{}");window.pfOptions=e.pfOptions,window.pfShowHiddenContent=e.pfShowHiddenContent}if(window.wrappedJSObject&&window.wrappedJSObject.extensionPath){const e=window.wrappedJSObject;window.extensionPath=e.extensionPath,window.extensionTextSize=e.extensionTextSize,window.extensionImgSize=e.extensionImgSize,window.extensionScreenshotBanner=e.extensionScreenshotBanner,window.extensionIsScreenshotImg=e.extensionIsScreenshotImg,window.pfOptions=e.pfOptions,window.pfEnableLog=e.pfEnableLog,window.pfShowHiddenContent=e.pfShowHiddenContent}const I=window.pfMod||function(){const n=new t,o=new T(n),i=function(){var e,t=(e=function*(e){try{const t=yield fetch(e.url),o=yield t.blob(),i=yield new Promise((e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(o)}));n.postMessage("core","PfImageToBase64Hook",{id:e.id,state:"success",data:i})}catch(t){n.postMessage("core","PfImageToBase64Hook",{id:e.id,state:"error",data:e.url})}},function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function s(e){L(r,o,i,s,a,"next",e)}function a(e){L(r,o,i,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.listen("",{PfClosePreview:()=>o.closePreview(),PfScrollTop:()=>window.scrollTo(0,0),PfImageToBase64:i},(t=>e.error(t))),o}();window.pfMod=I,I.setPfOptions(window.pfOptions||{environment:"development",enablePrintOnly:!1,hosts:{pf:"https://www.printfriendly.com",email:"https://www.printfriendly.com"}}),I.start()})();