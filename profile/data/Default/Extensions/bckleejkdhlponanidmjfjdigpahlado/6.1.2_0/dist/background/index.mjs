(function(){try{var L=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z=new Error().stack;z&&(L._sentryDebugIds=L._sentryDebugIds||{},L._sentryDebugIds[z]="21fee8f8-68ca-40c8-9bc3-fd304ce1511e",L._sentryDebugIdIdentifier="sentry-dbid-21fee8f8-68ca-40c8-9bc3-fd304ce1511e")}catch{}})();(function(){"use strict";var L=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};L.SENTRY_RELEASE={id:"InsFo@6.1.2"};var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Y={exports:{}};const fe=e=>typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?()=>{const r=crypto.getRandomValues(new Uint8Array(1))[0];return(r>=e?r%e:r).toString(e)}:()=>Math.floor(Math.random()*e).toString(e),te=(e=7,r=!1)=>Array.from({length:e},fe(r?16:36)).join("");Y.exports=te,Y.exports.default=te;var xe=Y.exports;const G=Z(xe);var pe=()=>`uid::${G(7)}`,be=(e,r=["endpointName","fingerprint"])=>typeof e=="object"&&e!==null&&r.every(s=>s in e),he=e=>{try{const r=JSON.parse(e);return be(r)?r:null}catch{return null}},we=()=>{let e=[];return{add:(...r)=>{e=[...e,...r]},remove:r=>{e=typeof r=="string"?e.filter(s=>s.message.transactionId!==r):e.filter(s=>!r.includes(s))},entries:()=>e}},V=class{static toBackground(e,r){return e.postMessage(r)}static toExtensionContext(e,r){return e.postMessage(r)}},ye=Object.defineProperty,ve=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,ae=(e,r,s)=>r in e?ye(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,O=(e,r)=>{for(var s in r||(r={}))Ee.call(r,s)&&ae(e,s,r[s]);if(ie)for(var s of ie(r))Te.call(r,s)&&ae(e,s,r[s]);return e},Q=(e,r)=>ve(e,ke(r)),Ce=/^((?:background$)|devtools|popup|options|content-script|window)(?:@(\d+)(?:\.(\d+))?)?$/,ee=e=>{const[,r,s,d]=e.match(Ce)||[];return{context:r,tabId:+s,frameId:d?+d:void 0}},J=({context:e,tabId:r,frameId:s})=>["background","popup","options"].includes(e)?e:`${e}@${r}${s?`.${s}`:""}`;const _e=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],re=Symbol(".toJSON was called"),Ie=e=>{e[re]=!0;const r=e.toJSON();return delete e[re],r},oe=({from:e,seen:r,to_:s,forceEnumerable:d,maxDepth:u,depth:i})=>{const a=s||(Array.isArray(e)?[]:{});if(r.push(e),i>=u)return a;if(typeof e.toJSON=="function"&&e[re]!==!0)return Ie(e);for(const[o,x]of Object.entries(e)){if(typeof Buffer=="function"&&Buffer.isBuffer(x)){a[o]="[object Buffer]";continue}if(x!==null&&typeof x=="object"&&typeof x.pipe=="function"){a[o]="[object Stream]";continue}if(typeof x!="function"){if(!x||typeof x!="object"){a[o]=x;continue}if(!r.includes(e[o])){i++,a[o]=oe({from:e[o],seen:[...r],forceEnumerable:d,maxDepth:u,depth:i});continue}a[o]="[Circular]"}}for(const{property:o,enumerable:x}of _e)typeof e[o]=="string"&&Object.defineProperty(a,o,{value:e[o],enumerable:!0,configurable:!0,writable:!0});return a};function Se(e,r={}){const{maxDepth:s=Number.POSITIVE_INFINITY}=r;return typeof e=="object"&&e!==null?oe({from:e,seen:[],forceEnumerable:!0,maxDepth:s,depth:0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}let ge=()=>({events:{},emit(e,...r){(this.events[e]||[]).forEach(s=>s(...r))},on(e,r){return(this.events[e]=this.events[e]||[]).push(r),()=>this.events[e]=(this.events[e]||[]).filter(s=>s!==r)}});var Pe=(e,r,s)=>{const d=G(),u=new Map,i=new Map,a=o=>{if(o.destination.context===e&&!o.destination.frameId&&!o.destination.tabId){s==null||s(o);const{transactionId:x,messageID:k,messageType:b}=o,I=()=>{const v=u.get(x);if(v){const{err:w,data:C}=o;if(w){const _=w,D=self[_.name],j=new(typeof D=="function"?D:Error)(_.message);for(const R in _)j[R]=_[R];v.reject(j)}else v.resolve(C);u.delete(x)}},M=async()=>{let v,w,C=!1;try{const _=i.get(k);if(typeof _=="function")v=await _({sender:o.origin,id:k,data:o.data,timestamp:o.timestamp});else throw C=!0,new Error(`[webext-bridge] No handler registered in '${e}' to accept messages with id '${k}'`)}catch(_){w=_}finally{if(w&&(o.err=Se(w)),a(Q(O({},o),{messageType:"reply",data:v,origin:{context:e,tabId:null},destination:o.origin,hops:[]})),w&&!C)throw v}};switch(b){case"reply":return I();case"message":return M()}}return o.hops.push(`${e}::${d}`),r(o)};return{handleMessage:a,endTransaction:o=>{const x=u.get(o);x==null||x.reject("Transaction was ended before it could complete"),u.delete(o)},sendMessage:(o,x,k="background")=>{const b=typeof k=="string"?ee(k):k,I="Bridge#sendMessage ->";if(!b.context)throw new TypeError(`${I} Destination must be any one of known destinations`);return new Promise((M,v)=>{const w={messageID:o,data:x,destination:b,messageType:"message",transactionId:G(),origin:{context:e,tabId:null},hops:[],timestamp:Date.now()};u.set(w.transactionId,{resolve:M,reject:v});try{a(w)}catch(C){u.delete(w.transactionId),v(C)}})},onMessage:(o,x)=>(i.set(o,x),()=>i.delete(o))}},U=class{constructor(e,r){this.endpointRuntime=e,this.streamInfo=r,this.emitter=ge(),this.isClosed=!1,this.handleStreamClose=()=>{this.isClosed||(this.isClosed=!0,this.emitter.emit("closed",!0),this.emitter.events={})},U.initDone||(e.onMessage("__crx_bridge_stream_transfer__",s=>{const{streamId:d,streamTransfer:u,action:i}=s.data,a=U.openStreams.get(d);a&&!a.isClosed&&(i==="transfer"&&a.emitter.emit("message",u),i==="close"&&(U.openStreams.delete(d),a.handleStreamClose()))}),U.initDone=!0),U.openStreams.set(this.streamInfo.streamId,this)}get info(){return this.streamInfo}send(e){if(this.isClosed)throw new Error("Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status");this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:e,action:"transfer"},this.streamInfo.endpoint)}close(e){e&&this.send(e),this.handleStreamClose(),this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:null,action:"close"},this.streamInfo.endpoint)}onMessage(e){return this.getDisposable("message",e)}onClose(e){return this.getDisposable("closed",e)}getDisposable(e,r){const s=this.emitter.on(e,r);return Object.assign(s,{dispose:s,close:s})}},H=U;H.initDone=!1,H.openStreams=new Map;var Me=e=>{const r=new Map,s=new Map,d=ge();e.onMessage("__crx_bridge_stream_open__",a=>new Promise(o=>{const{sender:x,data:k}=a,{channel:b}=k;let I=!1,M=()=>{};const v=()=>{const w=s.get(b);typeof w=="function"?(w(new H(e,Q(O({},k),{endpoint:x}))),I&&M(),o(!0)):I||(I=!0,M=d.on("did-change-stream-callbacks",v))};v()}));async function u(a,o){if(r.has(a))throw new Error("webext-bridge: A Stream is already open at this channel");const x=typeof o=="string"?ee(o):o,k={streamId:G(),channel:a,endpoint:x},b=new H(e,k);return b.onClose(()=>r.delete(a)),await e.sendMessage("__crx_bridge_stream_open__",k,x),r.set(a,b),b}function i(a,o){if(s.has(a))throw new Error("webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication");s.set(a,o),d.emit("did-change-stream-callbacks")}return{openStream:u,onOpenStreamChannel:i}},me={exports:{}};(function(e,r){(function(s,d){d(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:z,function(s){if(typeof globalThis!="object"||typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const d="The message port closed before a response was received.",u="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",i=a=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(o).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class x extends WeakMap{constructor(t,c=void 0){super(c),this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const k=n=>n&&typeof n=="object"&&typeof n.then=="function",b=(n,t)=>(...c)=>{a.runtime.lastError?n.reject(new Error(a.runtime.lastError.message)):t.singleCallbackArg||c.length<=1&&t.singleCallbackArg!==!1?n.resolve(c[0]):n.resolve(c)},I=n=>n==1?"argument":"arguments",M=(n,t)=>function(f,...p){if(p.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${I(t.minArgs)} for ${n}(), got ${p.length}`);if(p.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${I(t.maxArgs)} for ${n}(), got ${p.length}`);return new Promise((A,h)=>{if(t.fallbackToNoCallback)try{f[n](...p,b({resolve:A,reject:h},t))}catch(g){console.warn(`${n} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,g),f[n](...p),t.fallbackToNoCallback=!1,t.noCallback=!0,A()}else t.noCallback?(f[n](...p),A()):f[n](...p,b({resolve:A,reject:h},t))})},v=(n,t,c)=>new Proxy(t,{apply(f,p,A){return c.call(p,n,...A)}});let w=Function.call.bind(Object.prototype.hasOwnProperty);const C=(n,t={},c={})=>{let f=Object.create(null),p={has(h,g){return g in n||g in f},get(h,g,E){if(g in f)return f[g];if(!(g in n))return;let y=n[g];if(typeof y=="function")if(typeof t[g]=="function")y=v(n,n[g],t[g]);else if(w(c,g)){let T=M(g,c[g]);y=v(n,n[g],T)}else y=y.bind(n);else if(typeof y=="object"&&y!==null&&(w(t,g)||w(c,g)))y=C(y,t[g],c[g]);else if(w(c,"*"))y=C(y,t[g],c["*"]);else return Object.defineProperty(f,g,{configurable:!0,enumerable:!0,get(){return n[g]},set(T){n[g]=T}}),y;return f[g]=y,y},set(h,g,E,y){return g in f?f[g]=E:n[g]=E,!0},defineProperty(h,g,E){return Reflect.defineProperty(f,g,E)},deleteProperty(h,g){return Reflect.deleteProperty(f,g)}},A=Object.create(n);return new Proxy(A,p)},_=n=>({addListener(t,c,...f){t.addListener(n.get(c),...f)},hasListener(t,c){return t.hasListener(n.get(c))},removeListener(t,c){t.removeListener(n.get(c))}}),D=new x(n=>typeof n!="function"?n:function(c){const f=C(c,{},{getContent:{minArgs:0,maxArgs:0}});n(f)});let j=!1;const R=new x(n=>typeof n!="function"?n:function(c,f,p){let A=!1,h,g=new Promise($=>{h=function(N){j||(console.warn(u,new Error().stack),j=!0),A=!0,$(N)}}),E;try{E=n(c,f,h)}catch($){E=Promise.reject($)}const y=E!==!0&&k(E);if(E!==!0&&!y&&!A)return!1;const T=$=>{$.then(N=>{p(N)},N=>{let ne;N&&(N instanceof Error||typeof N.message=="string")?ne=N.message:ne="An unexpected error occurred",p({__mozWebExtensionPolyfillReject__:!0,message:ne})}).catch(N=>{console.error("Failed to send onMessage rejected reply",N)})};return T(y?E:g),!0}),se=({reject:n,resolve:t},c)=>{a.runtime.lastError?a.runtime.lastError.message===d?t():n(new Error(a.runtime.lastError.message)):c&&c.__mozWebExtensionPolyfillReject__?n(new Error(c.message)):t(c)},W=(n,t,c,...f)=>{if(f.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${I(t.minArgs)} for ${n}(), got ${f.length}`);if(f.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${I(t.maxArgs)} for ${n}(), got ${f.length}`);return new Promise((p,A)=>{const h=se.bind(null,{resolve:p,reject:A});f.push(h),c.sendMessage(...f)})},m={devtools:{network:{onRequestFinished:_(D)}},runtime:{onMessage:_(R),onMessageExternal:_(R),sendMessage:W.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:W.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},l={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":l},services:{"*":l},websites:{"*":l}},C(a,m,o)};s.exports=i(chrome)}else s.exports=globalThis.browser})})(me);var Ne=me.exports;const $e=Z(Ne);var q=we(),S=new Map,B=new Map,X=new Map,le=(e,r)=>(B.set(e,(B.get(e)||new Set).add(r)),()=>{const s=B.get(e);s!=null&&s.delete(r)&&(s==null?void 0:s.size)===0&&B.delete(e)}),ce=(e,r)=>{X.set(e,(X.get(e)||new Set).add(r))},F=e=>({withFingerprint:r=>{const s=u=>({and:()=>u}),d={aboutIncomingMessage:u=>{const i=S.get(e);return V.toExtensionContext(i.port,{status:"incoming",message:u}),s(d)},aboutSuccessfulDelivery:u=>{const i=S.get(e);return V.toExtensionContext(i.port,{status:"delivered",receipt:u}),s(d)},aboutMessageUndeliverability:(u,i)=>{const a=S.get(e);return(a==null?void 0:a.fingerprint)===r&&V.toExtensionContext(a.port,{status:"undeliverable",resolvedDestination:u,message:i}),s(d)},whenDeliverableTo:u=>{const i=()=>{const a=S.get(e);if((a==null?void 0:a.fingerprint)===r&&S.has(u))return V.toExtensionContext(a.port,{status:"deliverable",deliverableTo:u}),!0};if(!i()){const a=le(u,i);ce(r,a)}return s(d)},aboutSessionEnded:u=>{const i=S.get(e);return(i==null?void 0:i.fingerprint)===r&&V.toExtensionContext(i.port,{status:"terminated",fingerprint:u}),s(d)}};return d}}),Oe=pe(),K=Pe("background",e=>{var r;if(e.origin.context==="background"&&["content-script","devtools "].includes(e.destination.context)&&!e.destination.tabId)throw new TypeError("When sending messages from background page, use @tabId syntax to target specific tab");const s=J(O(O({},e.origin),e.origin.context==="window"&&{context:"content-script"})),d=J(Q(O(O({},e.destination),e.destination.context==="window"&&{context:"content-script"}),{tabId:e.destination.tabId||e.origin.tabId}));e.destination.tabId=null,e.destination.frameId=null;const u=()=>S.get(d),i=()=>S.get(s),a=()=>{var o;F(d).withFingerprint(u().fingerprint).aboutIncomingMessage(e);const x={message:e,to:u().fingerprint,from:{endpointId:s,fingerprint:(o=i())==null?void 0:o.fingerprint}};e.messageType==="message"&&q.add(x),e.messageType==="reply"&&q.remove(e.messageID),i()&&F(s).withFingerprint(i().fingerprint).aboutSuccessfulDelivery(x)};(r=u())!=null&&r.port?a():e.messageType==="message"&&(e.origin.context==="background"?le(d,a):i()&&F(s).withFingerprint(i().fingerprint).aboutMessageUndeliverability(d,e).and().whenDeliverableTo(d))},e=>{const r=J(O(O({},e.origin),e.origin.context==="window"&&{context:"content-script"})),s=S.get(r),d={message:e,to:Oe,from:{endpointId:r,fingerprint:s.fingerprint}};F(r).withFingerprint(s.fingerprint).aboutSuccessfulDelivery(d)});$e.runtime.onConnect.addListener(e=>{var r;const s=he(e.name);if(!s)return;s.endpointName||(s.endpointName=J({context:"content-script",tabId:e.sender.tab.id,frameId:e.sender.frameId}));const{tabId:d,frameId:u}=ee(s.endpointName);S.set(s.endpointName,{fingerprint:s.fingerprint,port:e}),(r=B.get(s.endpointName))==null||r.forEach(i=>i()),B.delete(s.endpointName),ce(s.fingerprint,()=>{const i=q.entries().filter(a=>a.to===s.fingerprint);q.remove(i),i.forEach(a=>{a.from.endpointId==="background"?K.endTransaction(a.message.transactionId):F(a.from.endpointId).withFingerprint(a.from.fingerprint).aboutSessionEnded(s.fingerprint)})}),e.onDisconnect.addListener(()=>{var i,a;((i=S.get(s.endpointName))==null?void 0:i.fingerprint)===s.fingerprint&&S.delete(s.endpointName),(a=X.get(s.fingerprint))==null||a.forEach(o=>o()),X.delete(s.fingerprint)}),e.onMessage.addListener(i=>{var a,o;if(i.type==="sync"){const x=[...S.values()].map(b=>b.fingerprint),k=i.pendingResponses.filter(b=>x.includes(b.to));q.add(...k),i.pendingResponses.filter(b=>!x.includes(b.to)).forEach(b=>F(s.endpointName).withFingerprint(s.fingerprint).aboutSessionEnded(b.to)),i.pendingDeliveries.forEach(b=>F(s.endpointName).withFingerprint(s.fingerprint).whenDeliverableTo(b));return}i.type==="deliver"&&((o=(a=i.message)==null?void 0:a.origin)!=null&&o.context)&&(i.message.origin.tabId=d,i.message.origin.frameId=u,K.handleMessage(i.message))})});var{sendMessage:Ue,onMessage:Ae}=K;Me(K);const Re={InsTF:{id:"deppcpikimfefmjmdpalknbdfmhdlein"}};var de={exports:{}};(function(e,r){(function(s,d){d(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:z,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const d="The message port closed before a response was received.",u=i=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(l,n=void 0){super(n),this.createItem=l}get(l){return this.has(l)||this.set(l,this.createItem(l)),super.get(l)}}const x=m=>m&&typeof m=="object"&&typeof m.then=="function",k=(m,l)=>(...n)=>{i.runtime.lastError?m.reject(new Error(i.runtime.lastError.message)):l.singleCallbackArg||n.length<=1&&l.singleCallbackArg!==!1?m.resolve(n[0]):m.resolve(n)},b=m=>m==1?"argument":"arguments",I=(m,l)=>function(t,...c){if(c.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${b(l.minArgs)} for ${m}(), got ${c.length}`);if(c.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${b(l.maxArgs)} for ${m}(), got ${c.length}`);return new Promise((f,p)=>{if(l.fallbackToNoCallback)try{t[m](...c,k({resolve:f,reject:p},l))}catch(A){console.warn(`${m} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,A),t[m](...c),l.fallbackToNoCallback=!1,l.noCallback=!0,f()}else l.noCallback?(t[m](...c),f()):t[m](...c,k({resolve:f,reject:p},l))})},M=(m,l,n)=>new Proxy(l,{apply(t,c,f){return n.call(c,m,...f)}});let v=Function.call.bind(Object.prototype.hasOwnProperty);const w=(m,l={},n={})=>{let t=Object.create(null),c={has(p,A){return A in m||A in t},get(p,A,h){if(A in t)return t[A];if(!(A in m))return;let g=m[A];if(typeof g=="function")if(typeof l[A]=="function")g=M(m,m[A],l[A]);else if(v(n,A)){let E=I(A,n[A]);g=M(m,m[A],E)}else g=g.bind(m);else if(typeof g=="object"&&g!==null&&(v(l,A)||v(n,A)))g=w(g,l[A],n[A]);else if(v(n,"*"))g=w(g,l[A],n["*"]);else return Object.defineProperty(t,A,{configurable:!0,enumerable:!0,get(){return m[A]},set(E){m[A]=E}}),g;return t[A]=g,g},set(p,A,h,g){return A in t?t[A]=h:m[A]=h,!0},defineProperty(p,A,h){return Reflect.defineProperty(t,A,h)},deleteProperty(p,A){return Reflect.deleteProperty(t,A)}},f=Object.create(m);return new Proxy(f,c)},C=m=>({addListener(l,n,...t){l.addListener(m.get(n),...t)},hasListener(l,n){return l.hasListener(m.get(n))},removeListener(l,n){l.removeListener(m.get(n))}}),_=new o(m=>typeof m!="function"?m:function(n){const t=w(n,{},{getContent:{minArgs:0,maxArgs:0}});m(t)}),D=new o(m=>typeof m!="function"?m:function(n,t,c){let f=!1,p,A=new Promise(y=>{p=function(T){f=!0,y(T)}}),h;try{h=m(n,t,p)}catch(y){h=Promise.reject(y)}const g=h!==!0&&x(h);if(h!==!0&&!g&&!f)return!1;const E=y=>{y.then(T=>{c(T)},T=>{let $;T&&(T instanceof Error||typeof T.message=="string")?$=T.message:$="An unexpected error occurred",c({__mozWebExtensionPolyfillReject__:!0,message:$})}).catch(T=>{console.error("Failed to send onMessage rejected reply",T)})};return E(g?h:A),!0}),j=({reject:m,resolve:l},n)=>{i.runtime.lastError?i.runtime.lastError.message===d?l():m(new Error(i.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?m(new Error(n.message)):l(n)},R=(m,l,n,...t)=>{if(t.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${b(l.minArgs)} for ${m}(), got ${t.length}`);if(t.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${b(l.maxArgs)} for ${m}(), got ${t.length}`);return new Promise((c,f)=>{const p=j.bind(null,{resolve:c,reject:f});t.push(p),n.sendMessage(...t)})},se={devtools:{network:{onRequestFinished:C(_)}},runtime:{onMessage:C(D),onMessageExternal:C(D),sendMessage:R.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:R.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},W={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":W},services:{"*":W},websites:{"*":W}},w(i,se,a)};s.exports=u(chrome)}})})(de);var Fe=de.exports;const P=Z(Fe),De={follower:"https://www.instagram.com/",following:"https://www.instagram.com/",comment:"https://www.instagram.com/p/",liker:"https://www.instagram.com/p/",hashtag:"https://www.instagram.com/explore/search/keyword/?q=%23",location:"https://www.instagram.com/explore/locations/",import:"https://www.instagram.com/"};function je(e,r,s,d){P.runtime.id;const u=`ext=${"InsFo".replace("Ins","")}&uuid=${s}`;return`${De[r]}${e}/?${u}`}async function Le(){let r=(await P.storage.sync.get("MIXPANEL_USER_ID")).MIXPANEL_USER_ID;return r||(r=globalThis.crypto.randomUUID(),await P.storage.sync.set({MIXPANEL_USER_ID:r})),r}navigator.userAgent.includes("Firefox");const ue="https://www.listmore.info";P.runtime.onInstalled.addListener(async e=>{const s=`?ext_name=InsFo&ext_version=6.1.2&distinct_id=${await Le()}`;e.reason,e.reason==="install"&&P.tabs.create({url:`${ue}/welcome${s}`}),P.runtime.setUninstallURL(`${ue}/uninstall${s}`)}),Ae("launch-web-auth-flow",async({data:e})=>({redirectedTo:await P.identity.launchWebAuthFlow({url:e.url,interactive:!0})})),Ae("fetch",async({data:e})=>{try{const{url:r}=e;return{data:await(await fetch(r)).json()}}catch(r){return{data:{error:r}}}}),P.runtime.onMessageExternal.addListener(async(e,r,s)=>{if(r.id!==Re.InsTF.id)return;let d;async function u(i){const{historyUUIDs:a}=await P.storage.local.get("historyUUIDs");await P.storage.local.set({[i.uuid]:i,historyUUIDs:[...a||[],i.uuid]});const o=je(i.target,"follower",i.uuid);P.tabs.create({url:o}),s({success:!0})}if(e.taskList){const i=e.taskList.map(o=>({id:o.args.id})),a=e.taskList[0].cmd;d={uuid:globalThis.crypto.randomUUID(),target:"InsTF",loopType:"",actionType:a,logs:[{storedIds:[],edges:i,endCursor:""}],updatedAt:new Date().toISOString(),current:0,total:i.length,isCompleted:!1},u(d)}e.cmd==="batchAction"&&e.task&&(d={uuid:globalThis.crypto.randomUUID(),target:e.task.target,loopType:"",actionType:e.task.actionType,logs:[{storedIds:[],edges:e.task.logs[0].edges,endCursor:""}],updatedAt:new Date().toISOString(),current:0,total:e.task.logs[0].edges.length,isCompleted:!1},u(d)),e.cmd==="batchActionFromInsTF"&&e.task&&u(e.task)})})();
//# sourceMappingURL=index.mjs.map
