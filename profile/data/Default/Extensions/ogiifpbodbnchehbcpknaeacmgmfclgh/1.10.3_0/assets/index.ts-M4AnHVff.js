import{h as s,p as c,e as N}from"./const-iCDGZOtf.js";var R=(e=>(e[e.FREE=0]="FREE",e[e.BASIC=1]="BASIC",e[e.PREMIUM=2]="PREMIUM",e))(R||{});R.FREE;var T=(e=>(e[e.FREE=0]="FREE",e[e.BASIC=1]="BASIC",e[e.PREMIUM=2]="PREMIUM",e))(T||{}),p=(e=>(e[e.SUBSCRIPTION=0]="SUBSCRIPTION",e[e.ONETIME_PAYMENT=1]="ONETIME_PAYMENT",e))(p||{}),I=(e=>(e[e.ONE_MONTH=1]="ONE_MONTH",e[e.THREE_MONTH=3]="THREE_MONTH",e[e.SIX_MONTH=6]="SIX_MONTH",e[e.A_YEAR=12]="A_YEAR",e))(I||{}),l=(e=>(e[e.STRIPE=0]="STRIPE",e[e.PAYPAL=1]="PAYPAL",e))(l||{}),A=(e=>(e[e.FACEBOOK=0]="FACEBOOK",e[e.INSTAGRAM=1]="INSTAGRAM",e))(A||{}),M=(e=>(e.SUBSCRIPTION="paypal_subscription",e.PAYMENT="paypal_payment",e))(M||{}),_=(e=>(e.RETURN_PAGE="RETURN_PAGE",e.RETURN_EXT="RETURN_EXT",e.RETURN_EXT_LOCAL="RETURN_EXT_LOCAL",e))(_||{});function O(e,d){(async()=>{let r=0,o=(await chrome.declarativeNetRequest.getDynamicRules()).map(n=>n.id);const a=e.map((n,t)=>(r=t+1,{id:r,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"Content-Security-Policy",operation:"remove"},{header:"Content-Security-Policy-Report-Only",operation:"remove"}]},condition:{regexFilter:n,resourceTypes:["main_frame","xmlhttprequest"]}}));await chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:o,addRules:a})})()}function h(e){const{hostMatch:d,extensionId:r,extensionName:o}=e;chrome.tabs.onUpdated.addListener(async(a,n,t)=>{if(t&&t.url&&t&&t.url&&n&&n.status==="loading"){const u=new URL(t.url).hostname;if(d.find(i=>!!~i.indexOf(u))){const i=chrome.runtime.getManifest();chrome.scripting.executeScript({injectImmediately:!0,world:"MAIN",target:{tabId:a,allFrames:!0},func:m=>{window[m.slug]=m},args:[{id:chrome.runtime.id,slug:r,extensionName:o,version:i.version,icons:i.icons,extensionFolderUri:chrome.runtime.getURL("/"),isProdMode:"update_url"in chrome.runtime.getManifest()}]})}}})}O(s);h({hostMatch:s,extensionId:c,extensionName:N});chrome.scripting.registerContentScripts([{id:`inject-${c}`,js:["injects/proxy.js"],matches:s,runAt:"document_start",world:"MAIN"}]);chrome.scripting.registerContentScripts([{id:`inject-${c}-module`,js:["injects/vendors.js","injects/index.js"],matches:s,runAt:"document_end",world:"MAIN"}]);
